{"version":3,"sources":["cheetahGrid.es5.min/cheetahGrid.es5.min.js","cheetahGrid.es5.min/webpack/universalModuleDefinition","cheetahGrid.es5.min/webpack/bootstrap","cheetahGrid.es5.min/./internal/utils.js","cheetahGrid.es5.min/./internal/symbolManager.js","cheetahGrid.es5.min/./internal/com.js","cheetahGrid.es5.min/./columns/style/Style.js","cheetahGrid.es5.min/./core/DrawGrid.js","cheetahGrid.es5.min/./internal/EventHandler.js","cheetahGrid.es5.min/./internal/canvases.js","cheetahGrid.es5.min/./columns/type/Column.js","cheetahGrid.es5.min/./columns/type/BaseColumn.js","cheetahGrid.es5.min/./element/Inline.js","cheetahGrid.es5.min/./core/EventTarget.js","cheetahGrid.es5.min/node_modules/css-loader/lib/css-base.js","cheetahGrid.es5.min/node_modules/style-loader/lib/addStyles.js","cheetahGrid.es5.min/./columns/action/Editor.js","cheetahGrid.es5.min/./header/style.js","cheetahGrid.es5.min/./internal/calc.js","cheetahGrid.es5.min/./columns/action/BaseAction.js","cheetahGrid.es5.min/./columns/action/internal/dom.js","cheetahGrid.es5.min/./columns/style/StdBaseStyle.js","cheetahGrid.es5.min/./columns/style/BaseStyle.js","cheetahGrid.es5.min/./columns/type/columnUtils.js","cheetahGrid.es5.min/./internal/icons.js","cheetahGrid.es5.min/./themes.js","cheetahGrid.es5.min/./internal/path2DManager.js","cheetahGrid.es5.min/./internal/Rect.js","cheetahGrid.es5.min/./internal/style.js","cheetahGrid.es5.min/./tools/canvashelper.js","cheetahGrid.es5.min/./columns.js","cheetahGrid.es5.min/./columns/action/Action.js","cheetahGrid.es5.min/./columns/action/actionBind.js","cheetahGrid.es5.min/./internal/animate.js","cheetahGrid.es5.min/./columns/action/BaseInputEditor.js","cheetahGrid.es5.min/./internal/menu-items.js","cheetahGrid.es5.min/./columns/style.js","cheetahGrid.es5.min/./columns/style/NumberStyle.js","cheetahGrid.es5.min/./columns/style/CheckStyle.js","cheetahGrid.es5.min/./columns/style/ButtonStyle.js","cheetahGrid.es5.min/./columns/style/ImageStyle.js","cheetahGrid.es5.min/./columns/style/IconStyle.js","cheetahGrid.es5.min/./columns/style/PercentCompleteBarStyle.js","cheetahGrid.es5.min/./internal/imgs.js","cheetahGrid.es5.min/./themes/MATERIAL_DESIGN.js","cheetahGrid.es5.min/./plugins/themes.js","cheetahGrid.es5.min/./data.js","cheetahGrid.es5.min/./data/DataSource.js","cheetahGrid.es5.min/./internal/sort.js","cheetahGrid.es5.min/./GridCanvasHelper.js","cheetahGrid.es5.min/./internal/fonts.js","cheetahGrid.es5.min/./element/InlineImage.js","cheetahGrid.es5.min/./icons.js","cheetahGrid.es5.min/./plugins/icons.js","cheetahGrid.es5.min/./internal/color.js","cheetahGrid.es5.min/./header/style/BaseStyle.js","cheetahGrid.es5.min/./header/type/BaseHeader.js","cheetahGrid.es5.min/./main.js","cheetahGrid.es5.min/./core.js","cheetahGrid.es5.min/./internal/Scrollable.js","cheetahGrid.es5.min/./internal/style.css*","cheetahGrid.es5.min/./internal/style.css","cheetahGrid.es5.min/node_modules/style-loader/lib/urls.js","cheetahGrid.es5.min/./internal/NumberMap.js","cheetahGrid.es5.min/./internal/hiDPI.js","cheetahGrid.es5.min/./tools.js","cheetahGrid.es5.min/./columns/action.js","cheetahGrid.es5.min/./columns/action/CheckEditor.js","cheetahGrid.es5.min/./columns/action/ButtonAction.js","cheetahGrid.es5.min/./columns/action/SmallDialogInputEditor.js","cheetahGrid.es5.min/./columns/action/internal/SmallDialogInputElement.js","cheetahGrid.es5.min/./columns/action/internal/SmallDialogInputElement.css*","cheetahGrid.es5.min/./columns/action/internal/SmallDialogInputElement.css","cheetahGrid.es5.min/./columns/action/InlineInputEditor.js","cheetahGrid.es5.min/./columns/action/internal/InlineInputElement.js","cheetahGrid.es5.min/./columns/action/internal/InlineInputElement.css*","cheetahGrid.es5.min/./columns/action/internal/InlineInputElement.css","cheetahGrid.es5.min/./columns/action/InlineMenuEditor.js","cheetahGrid.es5.min/./columns/action/internal/InlineMenuElement.js","cheetahGrid.es5.min/./columns/action/internal/InlineMenuElement.css*","cheetahGrid.es5.min/./columns/action/internal/InlineMenuElement.css","cheetahGrid.es5.min/./columns/type.js","cheetahGrid.es5.min/./columns/type/NumberColumn.js","cheetahGrid.es5.min/./columns/type/CheckColumn.js","cheetahGrid.es5.min/./columns/type/ButtonColumn.js","cheetahGrid.es5.min/./columns/type/ImageColumn.js","cheetahGrid.es5.min/./internal/LRUCache.js","cheetahGrid.es5.min/./columns/type/PercentCompleteBarColumn.js","cheetahGrid.es5.min/./columns/type/IconColumn.js","cheetahGrid.es5.min/./columns/type/BranchGraphColumn.js","cheetahGrid.es5.min/./columns/style/BranchGraphStyle.js","cheetahGrid.es5.min/./columns/type/MenuColumn.js","cheetahGrid.es5.min/./themes/theme.js","cheetahGrid.es5.min/./themes/BASIC.js","cheetahGrid.es5.min/./data/CachedDataSource.js","cheetahGrid.es5.min/./ListGrid.js","cheetahGrid.es5.min/./element/inlines.js","cheetahGrid.es5.min/./element/InlineIcon.js","cheetahGrid.es5.min/./internal/legacy/fontwatch/FontWatchRunner.js","cheetahGrid.es5.min/./internal/legacy/fontwatch/FontRuler.js","cheetahGrid.es5.min/./element/InlineSvg.js","cheetahGrid.es5.min/./element/InlineDrawer.js","cheetahGrid.es5.min/./element/InlinePath2D.js","cheetahGrid.es5.min/./internal/legacy/canvas/Path2D.js","cheetahGrid.es5.min/./internal/legacy/canvas/PathCommandsParser.js","cheetahGrid.es5.min/./internal/legacy/canvas/PathCommands.js","cheetahGrid.es5.min/node_modules/material-design-icons/navigation/svg/production/ic_arrow_upward_48px.svg","cheetahGrid.es5.min/node_modules/material-design-icons/navigation/svg/production/ic_arrow_downward_48px.svg","cheetahGrid.es5.min/node_modules/material-design-icons/image/svg/production/ic_edit_48px.svg","cheetahGrid.es5.min/node_modules/material-design-icons/content/svg/production/ic_add_48px.svg","cheetahGrid.es5.min/node_modules/material-design-icons/toggle/svg/production/ic_star_24px.svg","cheetahGrid.es5.min/node_modules/material-design-icons/toggle/svg/production/ic_star_border_24px.svg","cheetahGrid.es5.min/node_modules/material-design-icons/toggle/svg/production/ic_star_half_24px.svg","cheetahGrid.es5.min/./header/type.js","cheetahGrid.es5.min/./header/type/Header.js","cheetahGrid.es5.min/./header/style/Style.js","cheetahGrid.es5.min/./header/type/SortHeader.js","cheetahGrid.es5.min/./register.js"],"names":["root","factory","window","modules","installedModules","__webpack_require__","moduleId","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","getDefault","getModuleExports","isDef","data","applyChainSafe","obj","fn","_len2","arguments","length","names","Array","_key2","arrayFind","arrayFindIndex","array","find","arr","predicate","index","findIndex","undefined","ua","navigator","userAgent","toLowerCase","IE","match","Chrome","indexOf","Firefox","browser","heightLimit","extend","result","_len","args","_key","forEach","source","_loop","key","set","val","isDescendantElement","target","parentElement","getChainSafe","_len3","_key3","getOrApply","_len4","_key4","getIgnoreCase","u","k","isPromise","then","setReadonly","each","isObject","str","endsWith","searchString","position","subjectString","toString","isFinite","Math","floor","lastIndex","lastIndexOf","event","getMouseButtons","e","buttons","which","button","getKeyCode","keyCode","isTouchEvent","changedTouches","cancel","preventDefault","stopPropagation","style","toBoxArray","__webpack_provided_Array_dot_isArray","emptyFn","nextId","Symbol","id","mem","PROTECTED_SYMBOL","this","CHECK_COLUMN_STATE_ID","BUTTON_COLUMN_STATE_ID","COLUMN_FADEIN_STATE_ID","BRANCH_GRAPH_COLUMN_STATE_ID","SMALL_DIALOG_INPUT_EDITOR_STATE_ID","INLINE_INPUT_EDITOR_STATE_ID","INLINE_MENU_EDITOR_STATE_ID","Array_isArray","isArray","StdBaseStyle","defaultStyle","Style","_StdBaseStyle","constructor","_classCallCheck","_this","_possibleConstructorReturn","__proto__","getPrototypeOf","_color","color","_font","font","_padding","padding","_inherits","_createClass","doChangeStyle","createRootElement","element","document","createElement","classList","add","_vibrate","vibrate","_getTargetRowAt","grid","absoluteY","internal","getTargetRowAtInternal","candRow","min","ceil","_","defaultRowHeight","rowCount","bottom","_getRowsHeight","startRow","startBottom","top","_getRowHeight","row","findAfter","findBefore","_getTargetColAt","absoluteX","left","colCount","col","right","_getColWidth","_getTargetFrozenRowAt","frozenRowCount","scroll","_getTargetFrozenColAt","frozenColCount","_getFrozenRowsRect","height","Rect","canvas","width","_getFrozenColsRect","_drawCell","ctx","absoluteLeft","absoluteTop","visibleRect","skipAbsoluteTop","skipAbsoluteLeft","rect","drawRect","bounds","max","save","dcContext","DrawCellContext","drawCells","_isCellDrawing","selection","onDrawCell","context","_putCellDrawing","pCol","_delayMode","keys","_removeCellDrawing","terminate","restore","_drawRow","initFrozenCol","initCol","drawRight","drawOuter","outerLeft","beginPath","fillStyle","underlayBackgroundColor","fill","count","_invalidateRect","_getVisibleRect","_getInitContext","initRow","_getColsWidth","drawBottom","initFrozenRow","outerTop","_toPxWidth","round","calc","toPx","calcWidthContext","_getDefaultColPxWidth","defaultColWidth","_adjustColWidth","orgWidth","limit","colWidthsLimit","colWidthsMap","_setColWidth","put","startCol","endCol","w","getRowHeightInternal","rowHeightsMap","endRow","getRowsHeightInternal","h","_moveFocusCell","shiftKey","offset","getOffsetInvalidateCells","extendRange","range","start","end","beforeRange","beforeRect","getCellsRect","_setFocusCell","makeVisibleCell","focusCell","afterRange","afterRect","intersection","invalidateRect","_getMouseAbstractPoint","clientX","pageX","scrollX","clientY","pageY","scrollY","getBoundingClientRect","x","y","_bindEvents","getCellEventArgsSet","abstractPos","cell","getCellAt","eventArgs","canResizeColumn","handler","on","eventArgsSet","results","fireListeners","EVENT_TYPE","MOUSEDOWN_CELL","v","resizeCol","_getResizeColAt","columnResizer","cellSelector","doubleTapBefore","longTouchId","clearTimeout","DBLTAP_CELL","setTimeout","select","isMouseover","mouseEnterCell","mouseOverCell","onMouseenterCell","MOUSEENTER_CELL","onMouseleaveCell","beforeMouseCell","MOUSELEAVE_CELL","onMouseoverCell","MOUSEOVER_CELL","onMouseoutCell","MOUSEOUT_CELL","scrollElement","scrollable","getElement","MOUSEMOVE_CELL","moving","cursor","lastMoving","hasListeners","CLICK_CELL","DBLCLICK_CELL","focusControl","listen","KEYDOWN","SELECTED_CELL","selected","onScroll","lastLeft","lastTop","moveX","scrollLeft","moveY","scrollTop","abs","drawImage","redrawRect","copy","frozenRect","_onScroll","SCROLL","onKeyDownMove","_focus","_sel","KEY_LEFT","getMoveLeftColByKeyDownInternal","cancelEvent","KEY_UP","getMoveUpRowByKeyDownInternal","KEY_RIGHT","getMoveRightColByKeyDownInternal","KEY_DOWN","getMoveDownRowByKeyDownInternal","KEY_HOME","ctrlKey","KEY_END","_onKeyDownMove","copyValue","copyCellValue","getCopyCellValue","Promise","strCellValue","onCopy","onInput","_grid$_$selection$sel","INPUT_CELL","bindEventsInternal","abstractX","abstractY","inPoint","cellRect","getCellRect","_toRelativeRect","absoluteRect","offsetLeft","offsetTop","setSafeInputValue","input","type","_webpack_require__","_webpack_require__$ev","EventTarget","Scrollable","EventHandler","NumberMap","hiDPI","KEY_ALPHA_C","MOUSEUP_CELL","EDITABLEINPUT_CELL","MODIFY_STATUS_EDITABLEINPUT_CELL","RESIZE_COLUMN","BaseMouseDownMover","_grid","_handler","_events","_started","_moved","last","_mouseEndPoint","pt","_this2","touchmove","body","_mouseMove","passive","touchend","_mouseUp","touchcancel","mousemove","mouseup","_moveInternal","_this3","off","_upInternal","dispose","CellSelector","_BaseMouseDownMover","apply","_getTargetCell","_bindMoveAndUp","_cell","_this5","makeVisibleCol","makeVisibleRow","ColumnResizer","_BaseMouseDownMover2","_this6","_targetCol","_x","_preX","_invalidateAbsoluteLeft","pre","getColWidth","afterSize","updateScroll","FocusControl","_EventTarget","_this7","_scrollable","_input","readOnly","appendChild","_isComposition","focus","remove","metaKey","clipboardData","setData","_this8","calcTop","getScrollBarSize","toFixed","el","composition","contains","atts","attributes","removeNames","att","_inputStatus","nodeName","push","removeName","removeAttribute","setAttribute","_get","editMode","Selection","_EventTarget2","_this9","_start","_end","_this10","_wrapFireSelectedEvent","keepSelect","_this11","_setSelectCell","callback","_isWraped","before","inCell","_this12","_cell$col","_cell$row","drawing","_col","_row","_mode","_ctx","_rect","_drawRect","_drawing","_selection","sel","getCellRelativeRect","_toRelativeDrawRect","getContext","toCurrentContext","bind","isFrozenCell","fRect","onTerminate","_onTerminate","DrawGrid","_EventTarget3","_ref","_ref$rowCount","_ref$colCount","_ref$frozenColCount","_ref$frozenRowCount","_ref$defaultRowHeight","_ref$defaultColWidth","_this13","initDocument","transform","alpha","full","em","measureText","updateSize","_$selection$select","cfg","config","offsetWidth","offsetHeight","setFocusRect","setScrollSize","eachAll","getScrollHeightInternal","_getScrollHeight","_setRowHeight","maxwidth","minwidth","isFrozenStartCell","isFrozenEndCell","isFrozenRow","isFrozenCol","frozen","getRowAt","getColAt","frozenColsWidth","frozenRowsHeight","_getScrollableVisibleRect","resetInputStatus","_$selection$select2","selCol","selRow","storeInputStatus","setDefaultInputStatus","invalidateGridRect","cellsRect","invalidateTarget","disposable","Error","disposables","removeChild","_ref2","_ref3","_ref4","_ref5","strokeStyle","textAlign","textBaseline","lineWidth","_listeners","listener","_len5","options","_key5","addEventListener","list","_obj$target","removeEventListener","_obj$target2","_obj$target3","_len6","_key6","_obj$listener","_obj$target4","clear","calcStartPosition","_ref7","_ref7$offset","_ref7$padding","_ref7$padding$left","paddingLeft","_ref7$padding$right","paddingRight","calcBasePosition","_ref6","_ref6$offset","_ref6$padding","_ref6$padding$left","_ref6$padding$right","BaseColumn","utils","Column","_BaseColumn","helper","_ref8","drawCellBase","getIcon","bgColor","testFontLoad","loadIcons","icons","text","getFadinState","_generateFadinPointAction","drawInternal","point","state","stateKey","opacity","cellState","globalAlpha","styleContents","_webpack_require__4","animate","BaseStyle","fadinMgr","activeFadeins","f","margeAnimate","option","_fadeinWhenCallbackInPromise","fadeinWhenCallbackInPromise","cellValue","info","_this15","getRecord","getGridCanvasHelper","Date","now","getDrawRect","time","currentContext","convertInternal","of","StyleClass","column","configure","isFadeinWhenCallbackInPromise","util","Inline","content","_content","_ref9","_ref10","canvashelper","offsetRight","fillTextRect","_webpack_require__7","listeners","listenerData","_this16","splice","_this17","unlisten","_this18","_len7","_key7","map","filter","useSourceMap","item","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","JSON","stringify","sourceURLs","sources","sourceRoot","concat","join","cssWithMappingToString","mediaQuery","alreadyImportedModules","memo","stylesInDom","isOldIE","all","atob","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","domStyle","refs","j","parts","addStyle","listToStyles","newStyles","base","part","css","media","insertStyleElement","insertInto","lastStyleElementInsertedAtTop","insertAt","nextSibling","insertBefore","firstChild","_typeof","removeStyleElement","parentNode","idx","createStyleElement","attrs","addAttrs","update","styleIndex","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","link","rel","createLinkElement","autoFixUrls","convertToAbsoluteUrls","blob","oldSrc","href","styleSheet","cssText","createTextNode","newObj","DEBUG","newList","mayRemove","textStore","replaceText","replacement","Boolean","cssNode","childNodes","BaseAction","Editor","_BaseAction","_this19","_readOnly","columnStyle","DEFAULT","parse","calcStr","replacer","num","unit","script","replace","eval","_eval","test","substr","trim","_disabled","disabled","tagName","_element$classList","_ref11","html","textContent","innerHTML","isNode","arg","nodeType","toNode","dom","slice","toNodeList","jQuery","a","isFocusable","tabIndex","empty","appendHtml","inner","node","disableFocus","dataset","disableBeforeTabIndex","children","enableFocus","findPrevSiblingFocusable","previousSibling","findNextSiblingFocusable","_BaseStyle","_this20","_textAlign","_textBaseline","CHANGE_STYLE","_EventTarget4","_this21","_bgColor","icon","_this22","loadIcon","iconList","toNormarizeArray","ICON_PROP_KEYS","doms","props","getIconProps","className","tagProps","beforeStyle","defaultView","getComputedStyle","getPropertyValue","quoted","split","quote","clientWidth","isLiga","toSimpleArray","iconProps","workData","prop","toPropArray","_loop2","normarize","iconPropKeys","_webpack_require__11","theme","plugins","builtin","BASIC","create","MATERIAL_DESIGN","defTheme","themes","default","defaultTheme","t","choices","getPath2D","Path2D","upsideDown","ud","_module$x","offsetX","_module$y","offsetY","xrate","yrate","translate","scale","path2d","_left","_top","_width","_height","_right","_bottom","x0","x1","y0","y1","another","rect1","rect2","SCROLLBAR_SIZE","dummy","parseInt","getScrollBarWidth","roundRect","radius","arc","PI","closePath","fillRoundRect","strokeRoundRect","stroke","measureCheckbox","_webpack_require__12","drawCheckbox","check","_ref15","_ref15$uncheckBgColor","uncheckBgColor","_ref15$checkBgColor","checkBgColor","_ref15$borderColor","borderColor","_ref15$boxSize","boxSize","checkPoint","leftWidth","rightWidth","leftLeftPos","leftTopPos","moveTo","lineTo","_ref13","_ref13$offset","clip","pos","fillText","drawButton","_option$backgroundCol","backgroundColor","_option$bgColor","_option$radius","_option$shadow","shadow","_shadow$color","_shadow$blur","blur","_shadow$offsetX","_shadow$offsetY","_shadow$offset","_shadow$offset$x","ox","_shadow$offset$y","oy","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","drawInlineImageRect","image","srcLeft","srcTop","srcWidth","srcHeight","destWidth","destHeight","_ref14","_ref14$offset","strokeColorsRect","borderColors","strokeRect","positions","preColor","pos1","pos2","strokeRectLines","action","_webpack_require__13","bindCellClickAction","bindCellKeyAction","Action","_BaseAction2","_this23","_action","_this24","getState","record","getRowRecord","_toConsumableArray","mouseOver","mouseActiveCell","invalidateCell","mouseOut","_webpack_require__14","_webpack_require__15$","KEY_ENTER","_ref16","isTarget","_ref17","_ref17$acceptKeys","acceptKeys","cubicBezier","x2","y2","x3","y3","step","b","EASINGS","linear","easeIn","easeOut","easeInOut","raf","requestAnimationFrame","duration","easing","startedAt","canceledFlg","createAnim","resolve","reject","anim","_webpack_require__16$","BaseInputEditor","_Editor","inputValue","_this26","open","onOpenCellInternal","onInputCellInternal","onChangeSelectCellInternal","onGridScrollInternal","onSetInputAttrsInternal","normalize","caption","NumberStyle","CheckStyle","ButtonStyle","ImageStyle","IconStyle","PercentCompleteBarStyle","adj","_style$textAlign","_Style","_style$textAlign2","_StdBaseStyle2","_this28","_uncheckBgColor","_checkBgColor","_borderColor","_style$textAlign3","_Style2","_this29","buttonBgColor","_buttonBgColor","_style$textAlign4","_StdBaseStyle3","_this30","_imageSizing","imageSizing","_margin","margin","_style$textAlign5","_Style3","DEFAULT_BAR_COLOR","_Style4","_this32","_barColor","barColor","_barBgColor","barBgColor","_barHeight","barHeight","LRUCache","allCache","loadImage","src","console","error","img","Image","onload","onerror","url","warn","search","isDataUrl","getCacheOrLoad","cacheName","cacheSize","getCacheOrLoad0","cache","defaultBgColor","frozenRowsBgColor","frozenRowsColor","hiliteBorderColor","selectionBgColor","frozenRowsBorderColor","checkbox","DataSource","CachedDataSource","getValue","setPromiseBack","_getIndex","dataSource","_sortedIndexMap","mapIndex","_webpack_require__18","sort","UPDATE_LENGTH","UPDATED_LENGTH","UPDATED_ORDER","_EventTarget5","_ref18","_ref18$length","_this33","_length","getOriginal","field","getOriginalField","hasOriginalField","setOriginalField","order","_this34","sortedIndexMap","orderFn","v1","v2","sortPromise","_this35","recordPromiseCallBackInternal","_this36","getField","ss","fieldPromiseCallBackInternal","setField","EMPTY","wait","setArrayField","plist","_loop4","compare","old","createArray","r1","r2","sortArray","_loop3","createArrayPromise","dummyPromise","catch","getColor","getThemeColor","_len8","_key8","_inlineRect","inline","_ref19","inlines","drawInline","canDraw","draw","onReady","inlineWidths","reduce","inlineWidth","drawInlines","buildInlines","colorToRGB","_webpack_require__22","fonts","Theme","_len9","_key9","_checkbox","_button","GridCanvasHelper","_theme","calcWidth","getRect","calcHeight","calculator","createCalculator","box","clipLeft","clipWidth","clipTop","clipHeight","_this37","_ref21","_ref21$offset","_ref21$textAlign","_ref21$textBaseline","drawWithClip","toBoxPixelArray","_this38","_ref22$fillColor","fillColor","_this39","getSelectState","fillCell","_this40","_ref23","_ref23$borderColor","_ref23$lineWidth","drawBorderWithClip","startOffset","_this41","border","_this42","_ref20","_ref20$animElapsedTim","animElapsedTime","_ref20$uncheckBgColor","_ref20$checkBgColor","_ref20$borderColor","_ref20$textAlign","_ref20$textBaseline","boxWidth","uncheckBgRGB","checkBgRGB","checkRGB","colorName","diff","uncheckRGB","_this43","_ref24","_ref24$bgColor","_ref24$offset","_ref24$color","_ref24$textAlign","_ref24$textBaseline","load","loads","legacy","testStr","ready","InlineImage","_Inline","_ref25","imageLeft","imageTop","imageWidth","imageHeight","_this44","_src","_imageLeft","_imageTop","_imageWidth","_imageHeight","_onloaded","_loaded","_loadImage","_this45","_inlineImg","_ref26","_ref27","builtins","arrow_upward","arrow_downward","edit","star","star_border","star_half","hexToNum","hex","createRGB","g","testRGB","_ref30","rateToByte","colorToRGB0","_ref28","_ref29","g1","g2","b1","b2","ret","rgb","rgbMap","styleColor","styleColorToRGB","_EventTarget6","_ref31","_ref31$textAlign","_ref31$textBaseline","_this46","BaseHeader","headerCell","_headerCell","core","tools","columns","ListGrid","register","_internal","symbolManager","path2DManager","_update","domHeight","MAX_SCROLL","sbSize","vScrollRange","rScrollRange","_p","_endPointElement","relativeTop","hmr","locals","location","baseUrl","protocol","host","currentDir","pathname","fullMatch","origUrl","newUrl","unquotedOrigUrl","$1","_keys","_vals","_sorted","_this47","keyFrom","keyTo","ary","elm","low","high","indexFirst","ratio","setRatio","devicePixelRatio","getAttribute","_len10","_key10","wh","_len11","_key11","_len12","_key12","CheckEditor","ButtonAction","SmallDialogInputEditor","InlineInputEditor","InlineMenuEditor","ImmutableCheckEditor","_CheckEditor","ImmutableInputEditor","_SmallDialogInputEdit","ACTIONS","CHECK","INPUT","columnAction","toUpperCase","toggleValue","_webpack_require__27","_webpack_require__28","_Editor2","_this51","blockKey","doChangeValue","onChange","elapsed","selrange","_Action","SmallDialogInputElement","globalElement","bindGridCount","attachInput","editor","addDisposable","attach","detachInput","detach","_BaseInputEditor","_this53","_helperText","helperText","_inputValidator","inputValidator","_validator","validator","_classList","_type","_inputDialogManager","_this54","doGetCellValue","setInputAttrs","_webpack_require__34$","CLASSNAME","INPUT_CLASSNAME","HIDDEN_CLASSNAME","SHOWN_CLASSNAME","tryWithOffEvents","selectionStart","selectionEnd","createTextRange","collapse","moveEnd","moveStart","_dialog","readonly","createDialogElement","_bindDialogEvents","_beforePropEditor","dialog","_dialog$classList2","unbindProps","errorMessage","_grid$getAttachCellAr","getAttachCellArea","activeData","_onInputValue","_dialog$classList","bindProps","_activeData","gridFocus","_isActive","_beforeValue","_validate","_activeData2","_this55","stopPropagationOnly","onKeyupAndPress","_doChangeValue","_onInputValueChange","after","_activeData3","inputOnly","_activeData4","message","InlineInputElement","_BaseInputEditor2","_this56","_this57","_webpack_require__38$","_input$classList","_bindInputEvents","_input$classList2","_grid$getAttachCellAr2","_activeData5","_activeData6","_this58","_webpack_require__42$","InlineMenuElement","detachMenu","_Editor3","_this59","_options","_this60","attachMenu","_webpack_require__44","_webpack_require__44$","_webpack_require__45","ITEM_CLASSNAME","EMPTY_ITEM_CLASSNAME","findItemParents","attachElement","menu","openMenu","emptyItemEl","valueItemEl","_ref32","_item$classList","valueindex","span","optionToLi","_menu$classList","focusEl","focusIndex","_grid$getAttachCellAr3","allHeight","menuClientRect","scaleDiff","orgMenuTop","menuTop","menuBottom","winBottom","innerHeight","_menu","_bindMenuEvents","_menu$classList2","_activeData7","closeMenu","_activeData8","_this61","items","querySelectorAll","NumberColumn","CheckColumn","ButtonColumn","ImageColumn","PercentCompleteBarColumn","IconColumn","BranchGraphColumn","MenuColumn","TYPES","NUMBER","BUTTON","IMAGE","columnType","defaultFotmat","_Column","_this62","_format","format","Intl","NumberFormat","fmt","clone","isNaN","_BaseColumn2","toBoolean","_ref33","opt","_Column2","_this64","_caption","_ref34","active","MAX_LRU_CACHE_SIZE","_BaseColumn3","_ref35","_calcKeepAspectRatioS","maxWidth","maxHeight","newWidth","newHeight","calcKeepAspectRatioSize","_list","_map","_cacheSize","remKey","shift","_webpack_require__50","_Column3","_this66","_min","_max","_formatter","formatter","svalue","rate","barMaxWidth","MARGIN","barTop","barLeft","barSize","_Column4","_this67","_tagName","_className","_name","_iconWidth","iconWidth","Infinity","repeatArray","BranchGraphStyle","BranchLine","fromIndex","_ref36","toIndex","colorIndex","BranchPoint","_ref37","_ref37$commit","commit","_ref37$lines","lines","tag","froms","tos","mergeLines","joinLine","timeline","branchIndex","reverse","calcCommand","command","timelineData","cmd","from","branch","to","_ref38","branches","fromTargetIndex","findBranchRootIndex","branchTargetFromIndex","branchPoint","targetLine","merge","_ref39","_ref41","fromTargetLine","pop","commitMerge","_ref40","commitTag","calcBranchesInfo","allData","promise","_loop5","dataIndex","getAllColumnData","_this68","_cache","_ref44","_ref45","_ref46","upLineIndexKey","downLineIndexKey","branchColors","branchLineWidth","circleSize","mergeStyle","branchXPoints","tl","textWidth","calcBranchXPoints","line","upLineIndex","downLineIndex","pointIndex","_ref42","_ref43","lineCap","upX","upRect","upY","bezierCurveTo","downX","downRect","downY","renderMerge","DEFAULT_BRANCH_COLORS","_BaseStyle2","_this69","_style$textAlign6","_branchColors","_circleSize","_branchLineWidth","_mergeStyle","_BaseColumn5","_this70","_ref47","_convertInternal","basePadding","textPadding","iconPadding","path","getProp","superObj","defNames","createTheme","superTheme","extends","cacheLinearGradient","_grid$getCellRelative","colorStops","stop","stopsKey","grad","createLinearGradient","addColorStop","getLinearGradient","0","1","_setFieldCache","_ref48","_fCache","_DataSource","_this71","_rCache","_getHeaderCellRange","headerMap","getHeaderCellRange","_getCellValue","getCell","_getField","_getCellIcon","_getCellIcon0","retIcon","_hasField","_getRowRecordIndex","hasField","_headerBorderWithState","borderWithState","selId","_refreshHeader","headerEvents","HeaderMap","header","headerObjects","_grid$_$headerEvents","ids","headerType","bindGridEvent","HeaderBaseStyle","invalidate","_grid$_$headerEvents2","_grid$_$headerEvents3","_refreshRowCount","setColWidth","minWidth","setMinColWidth","setMaxColWidth","isArrayHeaderRowHeight","headerRowHeight","setRowHeight","_tryWithUpdateDataSource","dataSourceEventIds","_setRecords","records","ofArray","_setDataSource","adjustListGridOption","_webpack_require__57","_webpack_require__59","headerId","_columns","_headerCells","_headerObjects","_addHeaders","_setupHeaderType","isCellInRange","roots","_this72","rowCells","_newRow","hd","headerStyle","define","_this73","getHeaderCellRangeById","newRow","prev","SET_VALUE","_DrawGrid","_this74","sortState","gridCanvasHelper","_getHeaderCellRange3","_getHeaderCellRange2","getRowHeight","setRect","_updateRect","_ref49","fillOpt","fillCellWithState","_onDrawValue","valueCallback","changeValueCallback","clearCache","res","_setCellValue","_this75","_getHeaderCellRange4","_ref51","_ref52","_ref53","_ref54","columnIndex","_selection$range","_selection$range$star","_selection$range$end","newCol","getColumnIndexByField","_set","InlineIcon","InlineSvg","InlineDrawer","InlinePath2D","iconOf","svg","regedIcons","regedIcon","_ref56","drawWidth","drawHeight","_ref55","_ref55$offset","drawRegisteredIcon","_this76","il","_Inline2","_this77","_icon","_ref57","_ref58","FontRuler","LastResortFonts","SERIF","SANS_SERIF","watchRunners","FontWatchRunner","activeCallbacks","inactiveCallbacks","status","lastResortWidths_","fontRulerA_","fontRulerB_","lastResortRulerA","lastResortRulerB","getWidth","started_","check_","activeCallback","inactiveCallback","_this78","widthA","widthB","isFallbackFont_","isLastResortFont_","finish_","widthMatches_","lastResortFont","HAS_WEBKIT_FALLBACK_BUG","exec","hasWebKitFallbackBug","widthsMatchLastResortWidths_","callbacks","_this79","cb","display","white-space","font-variant","font-size","font-style","font-weight","line-height","computeStyle","el_","buildSvgDataUrl","XMLSerializer","serializeToString","getSvgElement","DOMParser","parseFromString","_InlineImage","_ref59","svgElem","elmWidth","elmHeight","_Inline3","_ref60","_this81","_draw","_ref61","_ref62","_ref63","_this82","_path","_ref64","_ref65","parser","_this83","_ops","_len13","_key13","op","CanvasRenderingContext2D","originalFill","_this84","_len14","_key14","PathCommands","builder","argsProvider","next","canvasOperations","PathCommandsParser","_this85","_commands","_len15","_key15","_len16","_key16","_this86","ops","tokens","pathTokens","subsequentCommand","fst","log","mag","sqrt","pow","angle","sign","acos","dot","ellipseFromEllipticalArc","rx","ry","phi","fA","fS","xPrime","cost","cos","sint","sin","rotClockwise","xPrime2","pointMul","rx2","ry2","lambda","factor","cPrime","sum","rotCounterClockwise","meanVec","x1UnitVector","x2UnitVector","theta","rotate","_this87","lMx","lMy","lx","ly","reflected","lastCommand","makeReflected","M","px","py","L","H","V","Z","z","C","cp1x","cp1y","cp2x","cp2y","S","cpx","cpy","_makeReflected","Q","quadraticCurveTo","q","T","_makeReflected2","A","xAxisRotation","largeArcFlag","sweepFlag","Header","SortHeader","_BaseHeader","_ref66","_BaseStyle3","_this89","_webpack_require__66$","_BaseHeader2","_this90","_sort","_range","_ref67","_style$textBaseline","arrowSize","newState","_this91","_executeSort","themePlugins","iconPlugins","values","registers","amd","global"],"mappings":"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","file":"cheetahGrid.es5.min.js","sourcesContent":["(function(){\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cheetahGrid\"] = factory();\n\telse\n\t\troot[\"cheetahGrid\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 54);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\n{\n\tlet arrayFind;\n\tlet arrayFindIndex;\n\tconst array = {\n\t\tget find() {\n\t\t\tif (arrayFind) {\n\t\t\t\treturn arrayFind;\n\t\t\t}\n\t\t\tif (Array.prototype.find) {\n\t\t\t\tarrayFind = (arr, predicate) => Array.prototype.find.call(arr, predicate);\n\t\t\t} else {\n\t\t\t\tarrayFind = (arr, predicate) => {\n\t\t\t\t\tconst index = array.findIndex(arr, predicate);\n\t\t\t\t\treturn index >= 0 ? arr[index] : undefined;\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn arrayFind;\n\t\t},\n\t\tget findIndex() {\n\t\t\tif (arrayFindIndex) {\n\t\t\t\treturn arrayFindIndex;\n\t\t\t}\n\t\t\tif (Array.prototype.findIndex) {\n\t\t\t\tarrayFindIndex = (arr, predicate) => Array.prototype.findIndex.call(arr, predicate);\n\t\t\t} else {\n\t\t\t\tarrayFindIndex = (arr, predicate) => {\n\t\t\t\t\tconst length = arr.length;\n\t\t\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\t\t\tconst value = arr[i];\n\t\t\t\t\t\tif (predicate(value, i, arr)) {\n\t\t\t\t\t\t\treturn i;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn -1;\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn arrayFindIndex;\n\t\t}\n\t};\n\n\tfunction isDef(data) {\n\t\treturn data !== null && typeof data !== 'undefined';\n\t}\n\tconst ua = window.navigator.userAgent.toLowerCase();\n\tconst IE = ua.match(/(msie)/) || ua.match(/trident/);\n\tconst Chrome = ua.indexOf('chrome') > -1 && ua.indexOf('edge') === -1;\n\tconst Firefox = ua.indexOf('firefox') > -1;\n\n\tfunction setReadonly(obj, name, value) {\n\t\tObject.defineProperty(obj, name, {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue\n\t\t});\n\t}\n\n\tfunction each(obj, fn) {\n\t\tfor (const key in obj) {\n\t\t\tfn(obj[key], key, obj);\n\t\t}\n\t}\n\n\tfunction isObject(obj) {\n\t\treturn obj === Object(obj);\n\t}\n\n\tfunction extend(...args) {\n\t\tconst result = {};\n\t\targs.forEach(source => {\n\t\t\tfor (const key in source) {\n\t\t\t\tObject.defineProperty(result, key, {\n\t\t\t\t\tget() {\n\t\t\t\t\t\treturn source[key];\n\t\t\t\t\t},\n\t\t\t\t\tset(val) {\n\t\t\t\t\t\tsource[key] = val;\n\t\t\t\t\t},\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\tenumerable: true\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\treturn result;\n\t}\n\tfunction isDescendantElement(root, target) {\n\t\twhile (target.parentElement) {\n\t\t\tconst p = target.parentElement;\n\t\t\tif (root === p) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\ttarget = p;\n\t\t}\n\t\treturn false;\n\t}\n\tfunction applyChainSafe(obj, fn, ...names) {\n\t\tlet value = obj;\n\t\tfor (let i = 0; i < names.length && isDef(value); i++) {\n\t\t\tvalue = fn(value, names[i]);\n\t\t}\n\t\treturn value;\n\t}\n\tfunction getChainSafe(obj, ...names) {\n\t\treturn applyChainSafe(obj, (val, name) => val[name], ...names);\n\t}\n\tfunction getOrApply(value, ...args) {\n\t\tif (typeof value === 'function') {\n\t\t\treturn value(...args);\n\t\t} else {\n\t\t\treturn value;\n\t\t}\n\t}\n\tfunction endsWith(str, searchString, position) {\n\t\tconst subjectString = str.toString();\n\t\tif (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {\n\t\t\tposition = subjectString.length;\n\t\t}\n\t\tposition -= searchString.length;\n\t\tconst lastIndex = subjectString.lastIndexOf(searchString, position);\n\t\treturn lastIndex !== -1 && lastIndex === position;\n\t}\n\tconst isPromise = data => data && typeof data.then === 'function';\n\tfunction getMouseButtons(e) {\n\t\tif (isDef(e.buttons)) {\n\t\t\treturn e.buttons;\n\t\t}\n\t\t/*for legacy*/\n\t\tif (isDef(e.which)) {\n\t\t\tif (e.which === 3) {\n\t\t\t\t//right?\n\t\t\t\treturn 4;\n\t\t\t}\n\t\t\tif (e.which === 2) {\n\t\t\t\t//middle?\n\t\t\t\treturn 4;\n\t\t\t}\n\t\t\treturn e.which; //left or no\n\t\t}\n\n\t\tif (e.button === 0 || e.button === 1) {\n\t\t\treturn 1; //candidate left\n\t\t}\n\t\tif (e.button === 2) {\n\t\t\treturn 2; // right\n\t\t}\n\t\treturn 0; //no or middle?\n\t}\n\tfunction getKeyCode(e) {\n\t\treturn e.keyCode || e.which;\n\t}\n\tfunction isTouchEvent(e) {\n\t\treturn !!e.changedTouches;\n\t}\n\tfunction getIgnoreCase(obj, name) {\n\t\tif (obj[name]) {\n\t\t\treturn obj[name];\n\t\t}\n\t\tconst l = name.toLowerCase();\n\t\tif (obj[l]) {\n\t\t\treturn obj[l];\n\t\t}\n\t\tconst u = name.toLowerCase();\n\t\tif (obj[u]) {\n\t\t\treturn obj[u];\n\t\t}\n\t\tfor (const k in obj) {\n\t\t\tif (k.toLowerCase() === l) {\n\t\t\t\treturn obj[k];\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\tfunction cancel(e) {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t}\n\n\tfunction toBoxArray(obj) {\n\t\tif (!__webpack_provided_Array_dot_isArray(obj)) {\n\t\t\treturn [obj /*top*/, obj /*right*/, obj /*bottom*/, obj /*left*/];\n\t\t}\n\t\tif (obj.length === 3) {\n\t\t\treturn [obj[0] /*top*/, obj[1] /*right*/, obj[2] /*bottom*/, obj[1] /*left*/];\n\t\t}\n\t\tif (obj.length === 2) {\n\t\t\treturn [obj[0] /*top*/, obj[1] /*right*/, obj[0] /*bottom*/, obj[1] /*left*/];\n\t\t}\n\t\tif (obj.length === 1) {\n\t\t\treturn [obj[0] /*top*/, obj[0] /*right*/, obj[0] /*bottom*/, obj[0] /*left*/];\n\t\t}\n\t\treturn obj;\n\t}\n\n\t// Chrome 33554431\n\t// FireFox 17895588\n\t// IE 10737433\n\tmodule.exports = {\n\t\tisDef,\n\t\tbrowser: {\n\t\t\tIE,\n\t\t\tChrome,\n\t\t\tFirefox,\n\t\t\theightLimit: Chrome ? 33554431 : Firefox ? 17895588 : 10737433 // default IE limit\n\t\t},\n\t\textend,\n\t\tisDescendantElement,\n\t\tgetChainSafe,\n\t\tapplyChainSafe,\n\t\tgetOrApply,\n\t\tgetIgnoreCase,\n\t\tisPromise,\n\t\tarray,\n\t\tobj: {\n\t\t\tsetReadonly,\n\t\t\teach,\n\t\t\tisObject\n\t\t},\n\t\tstr: {\n\t\t\tendsWith\n\t\t},\n\t\tevent: {\n\t\t\tgetMouseButtons,\n\t\t\tgetKeyCode,\n\t\t\tisTouchEvent,\n\t\t\tcancel\n\t\t},\n\t\tstyle: {\n\t\t\ttoBoxArray\n\t\t},\n\t\temptyFn() {}\n\t};\n}\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst Symbol = window.Symbol ? window.Symbol : (() => {\n\t\tlet nextId = 1;\n\t\treturn name => {\n\t\t\tconst id = nextId++;\n\t\t\tif (name) {\n\t\t\t\treturn ` $$$ ${name} - ${id} $$$ `;\n\t\t\t} else {\n\t\t\t\treturn ` $$$ ${id} $$$ `;\n\t\t\t}\n\t\t};\n\t})();\n\tconst mem = {};\n\n\tmodule.exports = {\n\t\tget(name) {\n\t\t\tif (name) {\n\t\t\t\treturn mem[name] ? mem[name] : mem[name] = Symbol(name);\n\t\t\t} else {\n\t\t\t\treturn Symbol();\n\t\t\t}\n\t\t},\n\t\tget PROTECTED_SYMBOL() {\n\t\t\treturn this.get('protected');\n\t\t},\n\t\tget CHECK_COLUMN_STATE_ID() {\n\t\t\treturn this.get('chkcol.stateID');\n\t\t},\n\t\tget BUTTON_COLUMN_STATE_ID() {\n\t\t\treturn this.get('btncol.stateID');\n\t\t},\n\t\tget COLUMN_FADEIN_STATE_ID() {\n\t\t\treturn this.get('col.fadein_stateID');\n\t\t},\n\t\tget BRANCH_GRAPH_COLUMN_STATE_ID() {\n\t\t\treturn this.get('branch_graph_col.stateID');\n\t\t},\n\t\tget SMALL_DIALOG_INPUT_EDITOR_STATE_ID() {\n\t\t\treturn this.get('small_dialog_input_editor.stateID');\n\t\t},\n\t\tget INLINE_INPUT_EDITOR_STATE_ID() {\n\t\t\treturn this.get('inline_input_editor.stateID');\n\t\t},\n\t\tget INLINE_MENU_EDITOR_STATE_ID() {\n\t\t\treturn this.get('inline_menu_editor.stateID');\n\t\t}\n\t};\n}\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = {\n\t'Array_isArray': window.Array.isArray\n};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst StdBaseStyle = __webpack_require__(18);\n\tlet defaultStyle;\n\tclass Style extends StdBaseStyle {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : defaultStyle = new Style();\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(style);\n\t\t\tthis._color = style.color;\n\t\t\tthis._font = style.font;\n\t\t\tthis._padding = style.padding;\n\t\t}\n\t\tget color() {\n\t\t\treturn this._color;\n\t\t}\n\t\tset color(color) {\n\t\t\tthis._color = color;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget font() {\n\t\t\treturn this._font;\n\t\t}\n\t\tset font(font) {\n\t\t\tthis._font = font;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget padding() {\n\t\t\treturn this._padding;\n\t\t}\n\t\tset padding(padding) {\n\t\t\tthis._padding = padding;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tclone() {\n\t\t\treturn new Style(this);\n\t\t}\n\t}\n\tmodule.exports = Style;\n}\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst {\n\t\tisDef,\n\t\tbrowser,\n\t\tisDescendantElement,\n\t\tarray,\n\t\tisPromise,\n\t\tevent: {\n\t\t\tisTouchEvent,\n\t\t\tgetMouseButtons,\n\t\t\tgetKeyCode,\n\t\t\tcancel: cancelEvent\n\t\t}\n\t} = __webpack_require__(0);\n\n\tconst EventTarget = __webpack_require__(10);\n\tconst Rect = __webpack_require__(24);\n\tconst Scrollable = __webpack_require__(56);\n\tconst EventHandler = __webpack_require__(5);\n\tconst NumberMap = __webpack_require__(60);\n\tconst style = __webpack_require__(25);\n\tconst calc = __webpack_require__(15);\n\tconst hiDPI = __webpack_require__(61);\n\t//protected symbol\n\tconst { PROTECTED_SYMBOL: _ } = __webpack_require__(1);\n\n\tfunction createRootElement() {\n\t\tconst element = document.createElement('div');\n\t\telement.classList.add('cheetah-grid');\n\t\treturn element;\n\t}\n\n\tconst KEY_END = 35;\n\tconst KEY_HOME = 36;\n\tconst KEY_LEFT = 37;\n\tconst KEY_UP = 38;\n\tconst KEY_RIGHT = 39;\n\tconst KEY_DOWN = 40;\n\tconst KEY_ALPHA_C = 67;\n\n\tconst EVENT_TYPE = {\n\t\tCLICK_CELL: 'click_cell',\n\t\tDBLCLICK_CELL: 'dblclick_cell',\n\t\tDBLTAP_CELL: 'dbltap_cell',\n\t\tMOUSEDOWN_CELL: 'mousedown_cell',\n\t\tMOUSEUP_CELL: 'mouseup_cell',\n\t\tSELECTED_CELL: 'selected_cell',\n\t\tKEYDOWN: 'keydown',\n\t\tMOUSEMOVE_CELL: 'mousemove_cell',\n\t\tMOUSEENTER_CELL: 'mouseenter_cell',\n\t\tMOUSELEAVE_CELL: 'mouseleave_cell',\n\t\tMOUSEOVER_CELL: 'mouseover_cell',\n\t\tMOUSEOUT_CELL: 'mouseout_cell',\n\t\tINPUT_CELL: 'input_cell',\n\t\tEDITABLEINPUT_CELL: 'editableinput_cell',\n\t\tMODIFY_STATUS_EDITABLEINPUT_CELL: 'modify_status_editableinput_cell',\n\t\tRESIZE_COLUMN: 'resize_column',\n\t\tSCROLL: 'scroll'\n\t};\n\n\t//private methods\n\tfunction _vibrate(e) {\n\t\tif (navigator.vibrate && isTouchEvent(e)) {\n\t\t\tnavigator.vibrate(50);\n\t\t}\n\t}\n\tfunction _getTargetRowAt(grid, absoluteY) {\n\t\tconst internal = grid.getTargetRowAtInternal(absoluteY);\n\t\tif (isDef(internal)) {\n\t\t\treturn internal;\n\t\t}\n\t\tconst findBefore = (startRow, startBottom) => {\n\t\t\tlet bottom = startBottom;\n\t\t\tfor (let row = startRow; row >= 0; row--) {\n\t\t\t\tconst height = _getRowHeight(grid, row);\n\t\t\t\tconst top = bottom - height;\n\t\t\t\tif (top <= absoluteY && absoluteY < bottom) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttop,\n\t\t\t\t\t\trow\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tbottom = top;\n\t\t\t}\n\t\t\treturn null;\n\t\t};\n\t\tconst findAfter = (startRow, startBottom) => {\n\t\t\tlet top = startBottom - _getRowHeight(grid, startRow);\n\t\t\tconst rowCount = grid[_].rowCount;\n\t\t\tfor (let row = startRow; row < rowCount; row++) {\n\t\t\t\tconst height = _getRowHeight(grid, row);\n\t\t\t\tconst bottom = top + height;\n\t\t\t\tif (top <= absoluteY && absoluteY < bottom) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttop,\n\t\t\t\t\t\trow\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\ttop = bottom;\n\t\t\t}\n\t\t\treturn null;\n\t\t};\n\t\tconst candRow = Math.min(Math.ceil(absoluteY / grid[_].defaultRowHeight), grid.rowCount - 1);\n\t\tconst bottom = _getRowsHeight(grid, 0, candRow);\n\t\tif (absoluteY >= bottom) {\n\t\t\treturn findAfter(candRow, bottom);\n\t\t} else {\n\t\t\treturn findBefore(candRow, bottom);\n\t\t}\n\t}\n\tfunction _getTargetColAt(grid, absoluteX) {\n\t\tlet left = 0;\n\t\tconst colCount = grid[_].colCount;\n\t\tfor (let col = 0; col < colCount; col++) {\n\t\t\tconst width = _getColWidth(grid, col);\n\t\t\tconst right = left + width;\n\t\t\tif (right > absoluteX) {\n\t\t\t\treturn {\n\t\t\t\t\tleft,\n\t\t\t\t\tcol\n\t\t\t\t};\n\t\t\t}\n\t\t\tleft = right;\n\t\t}\n\t\treturn null;\n\t}\n\tfunction _getTargetFrozenRowAt(grid, absoluteY) {\n\t\tif (!grid[_].frozenRowCount) {\n\t\t\treturn null;\n\t\t}\n\t\tlet top = grid[_].scroll.top;\n\t\tconst rowCount = grid[_].frozenRowCount;\n\t\tfor (let row = 0; row < rowCount; row++) {\n\t\t\tconst height = _getRowHeight(grid, row);\n\t\t\tconst bottom = top + height;\n\t\t\tif (bottom > absoluteY) {\n\t\t\t\treturn {\n\t\t\t\t\ttop,\n\t\t\t\t\trow\n\t\t\t\t};\n\t\t\t}\n\t\t\ttop = bottom;\n\t\t}\n\t\treturn null;\n\t}\n\tfunction _getTargetFrozenColAt(grid, absoluteX) {\n\t\tif (!grid[_].frozenColCount) {\n\t\t\treturn null;\n\t\t}\n\t\tlet left = grid[_].scroll.left;\n\t\tconst colCount = grid[_].frozenColCount;\n\t\tfor (let col = 0; col < colCount; col++) {\n\t\t\tconst width = _getColWidth(grid, col);\n\t\t\tconst right = left + width;\n\t\t\tif (right > absoluteX) {\n\t\t\t\treturn {\n\t\t\t\t\tleft,\n\t\t\t\t\tcol\n\t\t\t\t};\n\t\t\t}\n\t\t\tleft = right;\n\t\t}\n\t\treturn null;\n\t}\n\tfunction _getFrozenRowsRect(grid) {\n\t\tif (!grid[_].frozenRowCount) {\n\t\t\treturn null;\n\t\t}\n\t\tconst top = grid[_].scroll.top;\n\t\tlet height = 0;\n\t\tconst rowCount = grid[_].frozenRowCount;\n\t\tfor (let row = 0; row < rowCount; row++) {\n\t\t\theight += _getRowHeight(grid, row);\n\t\t}\n\t\treturn new Rect(grid[_].scroll.left, top, grid[_].canvas.width, height);\n\t}\n\tfunction _getFrozenColsRect(grid) {\n\t\tif (!grid[_].frozenColCount) {\n\t\t\treturn null;\n\t\t}\n\t\tconst left = grid[_].scroll.left;\n\t\tlet width = 0;\n\t\tconst colCount = grid[_].frozenColCount;\n\t\tfor (let col = 0; col < colCount; col++) {\n\t\t\twidth += _getColWidth(grid, col);\n\t\t}\n\t\treturn new Rect(left, grid[_].scroll.top, width, grid[_].canvas.height);\n\t}\n\tfunction _isCellDrawing(grid, col, row) {\n\t\tif (!grid[_].drawCells[row]) {\n\t\t\treturn false;\n\t\t}\n\t\treturn !!grid[_].drawCells[row][col];\n\t}\n\tfunction _putCellDrawing(grid, col, row, context) {\n\t\tif (!grid[_].drawCells[row]) {\n\t\t\tgrid[_].drawCells[row] = {};\n\t\t}\n\t\tgrid[_].drawCells[row][col] = context;\n\t}\n\tfunction _removeCellDrawing(grid, col, row) {\n\t\tif (!grid[_].drawCells[row]) {\n\t\t\treturn;\n\t\t}\n\t\tdelete grid[_].drawCells[row][col];\n\t\tif (Object.keys(grid[_].drawCells[row]).length === 0) {\n\t\t\tdelete grid[_].drawCells[row];\n\t\t}\n\t}\n\tfunction _drawCell(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, skipAbsoluteLeft) {\n\t\tconst rect = new Rect(absoluteLeft - visibleRect.left, absoluteTop - visibleRect.top, width, height);\n\n\t\tconst drawRect = Rect.bounds(Math.max(absoluteLeft, skipAbsoluteLeft) - visibleRect.left, Math.max(absoluteTop, skipAbsoluteTop) - visibleRect.top, rect.right, rect.bottom);\n\n\t\tif (drawRect.height > 0 && drawRect.width > 0) {\n\t\t\tctx.save();\n\t\t\tconst dcContext = new DrawCellContext(col, row, ctx, rect, drawRect, _isCellDrawing(grid, col, row), grid[_].selection);\n\t\t\tconst p = grid.onDrawCell(col, row, dcContext);\n\t\t\tif (isPromise(p)) {\n\t\t\t\t//\n\t\t\t\t_putCellDrawing(grid, col, row, dcContext);\n\n\t\t\t\tconst pCol = col;\n\t\t\t\tdcContext._delayMode(grid, () => {\n\t\t\t\t\t_removeCellDrawing(grid, pCol, row);\n\t\t\t\t});\n\t\t\t\tp.then(() => {\n\t\t\t\t\tdcContext.terminate();\n\t\t\t\t});\n\t\t\t}\n\t\t\tctx.restore();\n\t\t}\n\t}\n\n\tfunction _drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, skipAbsoluteTop) {\n\t\tconst colCount = grid[_].colCount;\n\t\tconst drawOuter = (col, absoluteLeft) => {\n\t\t\t//\n\t\t\tif (col >= colCount - 1 && grid[_].canvas.width > absoluteLeft - visibleRect.left) {\n\t\t\t\tconst outerLeft = absoluteLeft - visibleRect.left;\n\t\t\t\tctx.save();\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.fillStyle = grid.underlayBackgroundColor || '#F6F6F6';\n\t\t\t\tctx.rect(outerLeft, absoluteTop - visibleRect.top, grid[_].canvas.width - outerLeft, height);\n\t\t\t\tctx.fill();\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t};\n\n\t\tlet skipAbsoluteLeft = 0;\n\t\tif (initFrozenCol) {\n\t\t\tlet absoluteLeft = initFrozenCol.left;\n\t\t\tconst count = grid[_].frozenColCount;\n\t\t\tfor (let col = initFrozenCol.col; col < count; col++) {\n\t\t\t\tconst width = _getColWidth(grid, col);\n\n\t\t\t\t_drawCell(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, 0);\n\n\t\t\t\tabsoluteLeft += width;\n\t\t\t\tif (drawRight <= absoluteLeft) {\n\t\t\t\t\t//\n\t\t\t\t\tdrawOuter(col, absoluteLeft);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tskipAbsoluteLeft = absoluteLeft;\n\t\t}\n\n\t\tlet absoluteLeft = initCol.left;\n\t\tfor (let col = initCol.col; col < colCount; col++) {\n\t\t\tconst width = _getColWidth(grid, col);\n\t\t\t_drawCell(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, skipAbsoluteLeft);\n\n\t\t\tabsoluteLeft += width;\n\t\t\tif (drawRight <= absoluteLeft) {\n\t\t\t\t//\n\t\t\t\tdrawOuter(col, absoluteLeft);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tdrawOuter(colCount - 1, absoluteLeft);\n\t}\n\tfunction _invalidateRect(grid, drawRect) {\n\t\tconst visibleRect = _getVisibleRect(grid);\n\t\tconst rowCount = grid[_].rowCount;\n\t\tconst ctx = grid._getInitContext();\n\n\t\tconst initRow = _getTargetRowAt(grid, Math.max(visibleRect.top, drawRect.top)) || {\n\t\t\ttop: _getRowsHeight(grid, 0, rowCount - 1),\n\t\t\trow: rowCount\n\t\t};\n\t\tconst initCol = _getTargetColAt(grid, Math.max(visibleRect.left, drawRect.left)) || {\n\t\t\tleft: _getColsWidth(grid, 0, grid[_].colCount - 1),\n\t\t\tcol: grid[_].colCount\n\t\t};\n\t\tconst drawBottom = Math.min(visibleRect.bottom, drawRect.bottom);\n\t\tconst drawRight = Math.min(visibleRect.right, drawRect.right);\n\n\t\tconst initFrozenRow = _getTargetFrozenRowAt(grid, Math.max(visibleRect.top, drawRect.top));\n\t\tconst initFrozenCol = _getTargetFrozenColAt(grid, Math.max(visibleRect.left, drawRect.left));\n\n\t\tconst drawOuter = (row, absoluteTop) => {\n\t\t\t//\n\t\t\tif (row >= rowCount - 1 && grid[_].canvas.height > absoluteTop - visibleRect.top) {\n\t\t\t\tconst outerTop = absoluteTop - visibleRect.top;\n\t\t\t\tctx.save();\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.fillStyle = grid.underlayBackgroundColor || '#F6F6F6';\n\t\t\t\tctx.rect(0, outerTop, grid[_].canvas.width, grid[_].canvas.height - outerTop);\n\t\t\t\tctx.fill();\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t};\n\n\t\tlet skipAbsoluteTop = 0;\n\t\tif (initFrozenRow) {\n\t\t\tlet absoluteTop = initFrozenRow.top;\n\t\t\tconst count = grid[_].frozenRowCount;\n\t\t\tfor (let row = initFrozenRow.row; row < count; row++) {\n\t\t\t\tconst height = _getRowHeight(grid, row);\n\t\t\t\t_drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, 0);\n\t\t\t\tabsoluteTop += height;\n\t\t\t\tif (drawBottom <= absoluteTop) {\n\t\t\t\t\t//\n\t\t\t\t\tdrawOuter(row, absoluteTop);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tskipAbsoluteTop = absoluteTop;\n\t\t}\n\n\t\tlet absoluteTop = initRow.top;\n\t\tfor (let row = initRow.row; row < rowCount; row++) {\n\t\t\tconst height = _getRowHeight(grid, row);\n\n\t\t\t//\n\t\t\t_drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, skipAbsoluteTop);\n\n\t\t\tabsoluteTop += height;\n\t\t\tif (drawBottom <= absoluteTop) {\n\t\t\t\t//\n\t\t\t\tdrawOuter(row, absoluteTop);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tdrawOuter(rowCount - 1, absoluteTop);\n\t}\n\n\tfunction _toPxWidth(grid, width) {\n\t\treturn Math.round(calc.toPx(width, grid[_].calcWidthContext));\n\t}\n\n\tfunction _getDefaultColPxWidth(grid) {\n\t\treturn _toPxWidth(grid, grid.defaultColWidth);\n\t}\n\n\tfunction _adjustColWidth(grid, col, orgWidth) {\n\t\tconst limit = grid[_].colWidthsLimit[col];\n\t\tif (!limit) {\n\t\t\treturn orgWidth;\n\t\t}\n\n\t\tif (limit.min) {\n\t\t\tconst min = _toPxWidth(grid, limit.min);\n\t\t\tif (min > orgWidth) {\n\t\t\t\treturn min;\n\t\t\t}\n\t\t}\n\t\tif (limit.max) {\n\t\t\tconst max = _toPxWidth(grid, limit.max);\n\t\t\tif (max < orgWidth) {\n\t\t\t\treturn max;\n\t\t\t}\n\t\t}\n\t\treturn orgWidth;\n\t}\n\n\tfunction _getColWidth(grid, col) {\n\t\tconst width = grid[_].colWidthsMap.get(col);\n\t\tif (width) {\n\t\t\treturn _adjustColWidth(grid, col, _toPxWidth(grid, width));\n\t\t}\n\t\treturn _getDefaultColPxWidth(grid);\n\t}\n\tfunction _setColWidth(grid, col, width) {\n\t\tgrid[_].colWidthsMap.put(col, width);\n\t}\n\tfunction _getColsWidth(grid, startCol, endCol) {\n\t\tconst colCount = endCol - startCol + 1;\n\t\tlet w = _getDefaultColPxWidth(grid) * colCount;\n\t\tgrid[_].colWidthsMap.each(startCol, endCol, (width, col) => {\n\t\t\tw += _adjustColWidth(grid, col, _toPxWidth(grid, width)) - _getDefaultColPxWidth(grid);\n\t\t});\n\t\treturn w;\n\t}\n\n\tfunction _getRowHeight(grid, row) {\n\t\tconst internal = grid.getRowHeightInternal(row);\n\t\tif (isDef(internal)) {\n\t\t\treturn internal;\n\t\t}\n\t\tconst height = grid[_].rowHeightsMap.get(row);\n\t\tif (height) {\n\t\t\treturn height;\n\t\t}\n\t\treturn grid[_].defaultRowHeight;\n\t}\n\tfunction _setRowHeight(grid, row, height) {\n\t\tgrid[_].rowHeightsMap.put(row, height);\n\t}\n\tfunction _getRowsHeight(grid, startRow, endRow) {\n\t\tconst internal = grid.getRowsHeightInternal(startRow, endRow);\n\t\tif (isDef(internal)) {\n\t\t\treturn internal;\n\t\t}\n\t\tconst rowCount = endRow - startRow + 1;\n\t\tlet h = grid[_].defaultRowHeight * rowCount;\n\t\tgrid[_].rowHeightsMap.each(startRow, endRow, height => {\n\t\t\th += height - grid[_].defaultRowHeight;\n\t\t});\n\t\treturn h;\n\t}\n\n\tfunction _getScrollWidth(grid) {\n\t\tlet w = _getDefaultColPxWidth(grid) * grid[_].colCount;\n\t\tgrid[_].colWidthsMap.eachAll((width, col) => {\n\t\t\tw += _adjustColWidth(grid, col, _toPxWidth(grid, width)) - _getDefaultColPxWidth(grid);\n\t\t});\n\t\treturn w;\n\t}\n\tfunction _getScrollHeight(grid, row) {\n\t\tconst internal = grid.getScrollHeightInternal(row);\n\t\tif (isDef(internal)) {\n\t\t\treturn internal;\n\t\t}\n\t\tlet h = grid[_].defaultRowHeight * grid[_].rowCount;\n\t\tgrid[_].rowHeightsMap.eachAll(height => {\n\t\t\th += height - grid[_].defaultRowHeight;\n\t\t});\n\t\treturn h;\n\t}\n\tfunction _onScroll(grid, e) {\n\t\tconst lastLeft = grid[_].scroll.left;\n\t\tconst lastTop = grid[_].scroll.top;\n\t\tconst moveX = grid[_].scrollable.scrollLeft - lastLeft;\n\t\tconst moveY = grid[_].scrollable.scrollTop - lastTop;\n\n\t\t//\n\t\tgrid[_].scroll = {\n\t\t\tleft: grid[_].scrollable.scrollLeft,\n\t\t\ttop: grid[_].scrollable.scrollTop\n\t\t};\n\t\tconst visibleRect = _getVisibleRect(grid);\n\t\tif (Math.abs(moveX) >= visibleRect.width || Math.abs(moveY) >= visibleRect.height) {\n\t\t\t//\n\t\t\t_invalidateRect(grid, visibleRect);\n\t\t} else {\n\t\t\t//\n\t\t\tgrid[_].context.drawImage(grid[_].canvas, -moveX, -moveY);\n\n\t\t\tif (moveX !== 0) {\n\t\t\t\t//\n\t\t\t\tconst redrawRect = visibleRect.copy();\n\t\t\t\tif (moveX < 0) {\n\t\t\t\t\tredrawRect.width = -moveX;\n\t\t\t\t\tif (grid[_].frozenColCount > 0) {\n\t\t\t\t\t\t//\n\t\t\t\t\t\tconst frozenRect = _getFrozenColsRect(grid);\n\t\t\t\t\t\tredrawRect.width += frozenRect.width;\n\t\t\t\t\t}\n\t\t\t\t} else if (moveX > 0) {\n\t\t\t\t\tredrawRect.left = redrawRect.right - moveX;\n\t\t\t\t}\n\n\t\t\t\t//\n\t\t\t\t_invalidateRect(grid, redrawRect);\n\n\t\t\t\tif (moveX > 0) {\n\t\t\t\t\tif (grid[_].frozenColCount > 0) {\n\t\t\t\t\t\t//\n\t\t\t\t\t\t_invalidateRect(grid, _getFrozenColsRect(grid));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (moveY !== 0) {\n\t\t\t\t//\n\t\t\t\tconst redrawRect = visibleRect.copy();\n\t\t\t\tif (moveY < 0) {\n\t\t\t\t\tredrawRect.height = -moveY;\n\t\t\t\t\tif (grid[_].frozenRowCount > 0) {\n\t\t\t\t\t\t//\n\t\t\t\t\t\tconst frozenRect = _getFrozenRowsRect(grid);\n\t\t\t\t\t\tredrawRect.height += frozenRect.height;\n\t\t\t\t\t}\n\t\t\t\t} else if (moveY > 0) {\n\t\t\t\t\tredrawRect.top = redrawRect.bottom - moveY;\n\t\t\t\t}\n\n\t\t\t\t//\n\t\t\t\t_invalidateRect(grid, redrawRect);\n\n\t\t\t\tif (moveY > 0) {\n\t\t\t\t\tif (grid[_].frozenRowCount > 0) {\n\t\t\t\t\t\t//\n\t\t\t\t\t\t_invalidateRect(grid, _getFrozenRowsRect(grid));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction _onKeyDownMove(grid, e) {\n\t\tconst shiftKey = e.shiftKey;\n\t\tconst keyCode = getKeyCode(e);\n\t\tconst focusCell = shiftKey ? grid.selection._focus : grid.selection._sel;\n\t\tif (keyCode === KEY_LEFT) {\n\t\t\tconst col = grid.getMoveLeftColByKeyDownInternal(focusCell);\n\t\t\tif (col < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_moveFocusCell(grid, col, focusCell.row, shiftKey);\n\t\t\tcancelEvent(e);\n\t\t} else if (keyCode === KEY_UP) {\n\t\t\tconst row = grid.getMoveUpRowByKeyDownInternal(focusCell);\n\t\t\tif (row < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_moveFocusCell(grid, focusCell.col, row, shiftKey);\n\t\t\tcancelEvent(e);\n\t\t} else if (keyCode === KEY_RIGHT) {\n\t\t\tconst col = grid.getMoveRightColByKeyDownInternal(focusCell);\n\t\t\tif (grid.colCount <= col) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_moveFocusCell(grid, col, focusCell.row, shiftKey);\n\t\t\tcancelEvent(e);\n\t\t} else if (keyCode === KEY_DOWN) {\n\t\t\tconst row = grid.getMoveDownRowByKeyDownInternal(focusCell);\n\t\t\tif (grid.rowCount <= row) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_moveFocusCell(grid, focusCell.col, row, shiftKey);\n\t\t\tcancelEvent(e);\n\t\t} else if (keyCode === KEY_HOME) {\n\t\t\tconst row = e.ctrlKey ? 0 : focusCell.row;\n\t\t\t_moveFocusCell(grid, 0, row, e.shiftKey);\n\t\t\tcancelEvent(e);\n\t\t} else if (keyCode === KEY_END) {\n\t\t\tconst row = e.ctrlKey ? grid.rowCount - 1 : focusCell.row;\n\t\t\t_moveFocusCell(grid, grid.colCount - 1, row, shiftKey);\n\t\t\tcancelEvent(e);\n\t\t}\n\t}\n\tfunction _moveFocusCell(grid, col, row, shiftKey) {\n\t\tconst offset = grid.getOffsetInvalidateCells();\n\n\t\tfunction extendRange(range) {\n\t\t\tif (offset > 0) {\n\t\t\t\trange.start.col -= offset;\n\t\t\t\trange.start.row -= offset;\n\t\t\t\trange.end.col += offset;\n\t\t\t\trange.end.row += offset;\n\t\t\t}\n\t\t\treturn range;\n\t\t}\n\n\t\tconst beforeRange = extendRange(grid.selection.range);\n\t\tconst beforeRect = grid.getCellsRect(beforeRange.start.col, beforeRange.start.row, beforeRange.end.col, beforeRange.end.row);\n\n\t\tgrid.selection._setFocusCell(col, row, shiftKey);\n\t\tgrid.makeVisibleCell(col, row);\n\t\tgrid.focusCell(col, row);\n\n\t\tconst afterRange = extendRange(grid.selection.range);\n\t\tconst afterRect = grid.getCellsRect(afterRange.start.col, afterRange.start.row, afterRange.end.col, afterRange.end.row);\n\n\t\tif (afterRect.intersection(beforeRect)) {\n\t\t\tconst invalidateRect = Rect.max(afterRect, beforeRect);\n\t\t\t_invalidateRect(grid, invalidateRect);\n\t\t} else {\n\t\t\t_invalidateRect(grid, beforeRect);\n\t\t\t_invalidateRect(grid, afterRect);\n\t\t}\n\t}\n\tfunction _getMouseAbstractPoint(grid, e) {\n\t\tif (isTouchEvent(e)) {\n\t\t\te = e.changedTouches[0];\n\t\t}\n\t\tconst clientX = e.clientX || e.pageX + window.scrollX;\n\t\tconst clientY = e.clientY || e.pageY + window.scrollY;\n\t\tconst rect = grid[_].canvas.getBoundingClientRect();\n\t\tif (rect.right <= clientX) {\n\t\t\treturn null;\n\t\t}\n\t\tif (rect.bottom <= clientY) {\n\t\t\treturn null;\n\t\t}\n\t\tconst x = clientX - rect.left + grid[_].scroll.left;\n\t\tconst y = clientY - rect.top + grid[_].scroll.top;\n\t\treturn { x, y };\n\t}\n\n\tfunction _bindEvents(grid) {\n\t\tconst getCellEventArgsSet = e => {\n\t\t\tconst abstractPos = _getMouseAbstractPoint(grid, e);\n\t\t\tif (!abstractPos) {\n\t\t\t\treturn {};\n\t\t\t}\n\t\t\tconst cell = grid.getCellAt(abstractPos.x, abstractPos.y);\n\t\t\tif (cell.col < 0 || cell.row < 0) {\n\t\t\t\treturn {\n\t\t\t\t\tabstractPos,\n\t\t\t\t\tcell\n\t\t\t\t};\n\t\t\t}\n\t\t\tconst eventArgs = {\n\t\t\t\tcol: cell.col,\n\t\t\t\trow: cell.row,\n\t\t\t\tevent: e\n\t\t\t};\n\t\t\treturn {\n\t\t\t\tabstractPos,\n\t\t\t\tcell,\n\t\t\t\teventArgs\n\t\t\t};\n\t\t};\n\t\tconst canResizeColumn = col => {\n\t\t\tconst limit = grid[_].colWidthsLimit[col];\n\t\t\tif (!limit || !limit.min || !limit.max) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn limit.max !== limit.min;\n\t\t};\n\t\tgrid[_].handler.on(grid[_].element, 'mousedown', e => {\n\t\t\tconst eventArgsSet = getCellEventArgsSet(e);\n\t\t\tconst { abstractPos, eventArgs } = eventArgsSet;\n\t\t\tif (!abstractPos) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (eventArgs) {\n\t\t\t\tconst results = grid.fireListeners(EVENT_TYPE.MOUSEDOWN_CELL, eventArgs);\n\t\t\t\tif (array.findIndex(results, v => !v) >= 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (getMouseButtons(e) !== 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y);\n\t\t\tif (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n\t\t\t\t//\n\t\t\t\tgrid[_].columnResizer.start(resizeCol, e);\n\t\t\t} else {\n\t\t\t\t//\n\t\t\t\tgrid[_].cellSelector.start(e);\n\t\t\t}\n\t\t});\n\t\tlet doubleTapBefore = false;\n\t\tlet longTouchId = null;\n\t\tgrid[_].handler.on(grid[_].element, 'touchstart', e => {\n\n\t\t\tif (!doubleTapBefore) {\n\t\t\t\tdoubleTapBefore = true;\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tdoubleTapBefore = false;\n\t\t\t\t}, 350);\n\t\t\t} else {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tconst { eventArgs } = getCellEventArgsSet(e);\n\t\t\t\tif (eventArgs) {\n\t\t\t\t\tconst cell = {\n\t\t\t\t\t\tcol: eventArgs.col,\n\t\t\t\t\t\trow: eventArgs.row\n\t\t\t\t\t};\n\t\t\t\t\tgrid.fireListeners(EVENT_TYPE.DBLTAP_CELL, cell);\n\t\t\t\t}\n\n\t\t\t\tdoubleTapBefore = false;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlongTouchId = setTimeout(() => {\n\t\t\t\t//\n\t\t\t\tlongTouchId = null;\n\t\t\t\tconst abstractPos = _getMouseAbstractPoint(grid, e);\n\t\t\t\tif (!abstractPos) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y, 15);\n\t\t\t\tif (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n\t\t\t\t\t//\n\t\t\t\t\tgrid[_].columnResizer.start(resizeCol, e);\n\t\t\t\t} else {\n\t\t\t\t\t//\n\t\t\t\t\tgrid[_].cellSelector.start(e);\n\t\t\t\t}\n\t\t\t}, 500);\n\t\t});\n\n\t\tfunction cancel(e) {\n\t\t\tif (longTouchId) {\n\t\t\t\tclearTimeout(longTouchId);\n\t\t\t\tlongTouchId = null;\n\t\t\t}\n\t\t}\n\t\tgrid[_].handler.on(grid[_].element, 'touchcancel', cancel);\n\t\tgrid[_].handler.on(grid[_].element, 'touchmove', cancel);\n\t\tgrid[_].handler.on(grid[_].element, 'touchend', e => {\n\t\t\tif (longTouchId) {\n\t\t\t\tclearTimeout(longTouchId);\n\t\t\t\tgrid[_].cellSelector.select(e);\n\t\t\t\tlongTouchId = null;\n\t\t\t}\n\t\t});\n\n\t\tlet isMouseover = false;\n\t\tlet mouseEnterCell = null;\n\t\tlet mouseOverCell = null;\n\t\tfunction onMouseenterCell(cell) {\n\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSEENTER_CELL, cell);\n\t\t\tmouseEnterCell = cell;\n\t\t}\n\t\tfunction onMouseleaveCell() {\n\t\t\tconst beforeMouseCell = mouseEnterCell;\n\t\t\tmouseEnterCell = null;\n\t\t\tif (beforeMouseCell) {\n\t\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSELEAVE_CELL, {\n\t\t\t\t\tcol: beforeMouseCell.col,\n\t\t\t\t\trow: beforeMouseCell.row\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tfunction onMouseoverCell(cell) {\n\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSEOVER_CELL, cell);\n\t\t\tmouseOverCell = cell;\n\t\t}\n\t\tfunction onMouseoutCell() {\n\t\t\tconst beforeMouseCell = mouseOverCell;\n\t\t\tmouseOverCell = null;\n\t\t\tif (beforeMouseCell) {\n\t\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSEOUT_CELL, {\n\t\t\t\t\tcol: beforeMouseCell.col,\n\t\t\t\t\trow: beforeMouseCell.row\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tconst scrollElement = grid[_].scrollable.getElement();\n\t\tgrid[_].handler.on(scrollElement, 'mouseover', e => {\n\t\t\tisMouseover = true;\n\t\t});\n\t\tgrid[_].handler.on(scrollElement, 'mouseout', e => {\n\t\t\tisMouseover = false;\n\t\t\tonMouseoutCell();\n\t\t});\n\n\t\tgrid[_].handler.on(grid[_].element, 'mouseleave', e => {\n\t\t\tonMouseleaveCell();\n\t\t});\n\n\t\tgrid[_].handler.on(grid[_].element, 'mousemove', e => {\n\t\t\tconst eventArgsSet = getCellEventArgsSet(e);\n\t\t\tconst { abstractPos, eventArgs } = eventArgsSet;\n\t\t\tif (eventArgs) {\n\t\t\t\tconst beforeMouseCell = mouseEnterCell;\n\t\t\t\tif (beforeMouseCell) {\n\t\t\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSEMOVE_CELL, eventArgs);\n\t\t\t\t\tif (beforeMouseCell.col !== eventArgs.col || beforeMouseCell.row !== eventArgs.row) {\n\t\t\t\t\t\tonMouseoutCell();\n\t\t\t\t\t\tonMouseleaveCell();\n\t\t\t\t\t\tconst cell = {\n\t\t\t\t\t\t\tcol: eventArgs.col,\n\t\t\t\t\t\t\trow: eventArgs.row\n\t\t\t\t\t\t};\n\t\t\t\t\t\tonMouseenterCell(cell);\n\t\t\t\t\t\tif (isMouseover) {\n\t\t\t\t\t\t\tonMouseoverCell(cell);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (isMouseover && !mouseOverCell) {\n\t\t\t\t\t\tonMouseoverCell({\n\t\t\t\t\t\t\tcol: eventArgs.col,\n\t\t\t\t\t\t\trow: eventArgs.row\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst cell = {\n\t\t\t\t\t\tcol: eventArgs.col,\n\t\t\t\t\t\trow: eventArgs.row\n\t\t\t\t\t};\n\t\t\t\t\tonMouseenterCell(cell);\n\t\t\t\t\tif (isMouseover) {\n\t\t\t\t\t\tonMouseoverCell(cell);\n\t\t\t\t\t}\n\t\t\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSEMOVE_CELL, eventArgs);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tonMouseoutCell();\n\t\t\t\tonMouseleaveCell();\n\t\t\t}\n\t\t\tif (grid[_].columnResizer.moving(e) || grid[_].cellSelector.moving(e)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst style = grid[_].element.style;\n\t\t\tif (!abstractPos) {\n\t\t\t\tif (style.cursor === 'col-resize') {\n\t\t\t\t\tstyle.cursor = '';\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y);\n\t\t\tif (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n\t\t\t\tstyle.cursor = 'col-resize';\n\t\t\t} else {\n\t\t\t\tif (style.cursor === 'col-resize') {\n\t\t\t\t\tstyle.cursor = '';\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tgrid[_].handler.on(grid[_].element, 'click', e => {\n\t\t\tif (grid[_].columnResizer.lastMoving(e) || grid[_].cellSelector.lastMoving(e)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!grid.hasListeners(EVENT_TYPE.CLICK_CELL)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst { eventArgs } = getCellEventArgsSet(e);\n\t\t\tif (!eventArgs) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tgrid.fireListeners(EVENT_TYPE.CLICK_CELL, eventArgs);\n\t\t});\n\t\tgrid[_].handler.on(grid[_].element, 'dblclick', e => {\n\t\t\tif (!grid.hasListeners(EVENT_TYPE.DBLCLICK_CELL)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst { eventArgs } = getCellEventArgsSet(e);\n\t\t\tif (!eventArgs) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tgrid.fireListeners(EVENT_TYPE.DBLCLICK_CELL, eventArgs);\n\t\t});\n\t\tgrid[_].focusControl.listen('keydown', (keyCode, e) => {\n\t\t\tgrid.fireListeners(EVENT_TYPE.KEYDOWN, keyCode, e);\n\t\t});\n\t\tgrid[_].selection.listen(EVENT_TYPE.SELECTED_CELL, data => {\n\t\t\tgrid.fireListeners(EVENT_TYPE.SELECTED_CELL, {\n\t\t\t\tcol: data.col,\n\t\t\t\trow: data.row\n\t\t\t}, data.selected);\n\t\t});\n\n\t\tgrid[_].scrollable.onScroll(e => {\n\t\t\t_onScroll(grid, e);\n\t\t\tgrid.fireListeners(EVENT_TYPE.SCROLL, { event: e });\n\t\t});\n\t\tgrid[_].focusControl.onKeyDownMove(e => {\n\t\t\t_onKeyDownMove(grid, e);\n\t\t});\n\t\tgrid.listen('copydata', range => {\n\t\t\tlet copyValue = '';\n\t\t\tfor (let row = range.start.row; row <= range.end.row; row++) {\n\t\t\t\tfor (let col = range.start.col; col <= range.end.col; col++) {\n\t\t\t\t\tconst copyCellValue = grid.getCopyCellValue(col, row);\n\t\t\t\t\tif (window.Promise && copyCellValue instanceof window.Promise) {\n\t\t\t\t\t\t//\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst strCellValue = '' + copyCellValue;\n\t\t\t\t\t\tif (strCellValue.match(/^\\[object .*\\]$/)) {\n\t\t\t\t\t\t\t//object \n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcopyValue += strCellValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (col < range.end.col) {\n\t\t\t\t\t\tcopyValue += '\\t';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcopyValue += '\\n';\n\t\t\t}\n\t\t\treturn copyValue;\n\t\t});\n\t\tgrid[_].focusControl.onCopy(e => array.find(grid.fireListeners('copydata', grid[_].selection.range), isDef));\n\t\tgrid[_].focusControl.onInput(value => {\n\t\t\tconst { col, row } = grid[_].selection.select;\n\t\t\tgrid.fireListeners(EVENT_TYPE.INPUT_CELL, { col, row, value });\n\t\t});\n\t\tgrid.bindEventsInternal();\n\t}\n\n\tfunction _getResizeColAt(grid, abstractX, abstractY, offset = 5) {\n\t\tif (grid[_].frozenRowCount <= 0) {\n\t\t\treturn -1;\n\t\t}\n\t\tconst frozenRect = _getFrozenRowsRect(grid);\n\t\tif (!frozenRect.inPoint(abstractX, abstractY)) {\n\t\t\treturn -1;\n\t\t}\n\t\tconst cell = grid.getCellAt(abstractX, abstractY);\n\t\tconst cellRect = grid.getCellRect(cell.col, cell.row);\n\t\tif (abstractX < cellRect.left + offset) {\n\t\t\treturn cell.col - 1;\n\t\t}\n\t\tif (cellRect.right - offset < abstractX) {\n\t\t\treturn cell.col;\n\t\t}\n\t\treturn -1;\n\t}\n\tfunction _getVisibleRect(grid) {\n\t\treturn new Rect(grid[_].scroll.left, grid[_].scroll.top, grid[_].canvas.width, grid[_].canvas.height);\n\t}\n\tfunction _getScrollableVisibleRect(grid) {\n\t\tlet frozenColsWidth = 0;\n\t\tif (grid[_].frozenColCount > 0) {\n\t\t\t//\n\t\t\tconst frozenRect = _getFrozenColsRect(grid);\n\t\t\tfrozenColsWidth = frozenRect.width;\n\t\t}\n\t\tlet frozenRowsHeight = 0;\n\t\tif (grid[_].frozenRowCount > 0) {\n\t\t\t//\n\t\t\tconst frozenRect = _getFrozenRowsRect(grid);\n\t\t\tfrozenRowsHeight = frozenRect.height;\n\t\t}\n\t\treturn new Rect(grid[_].scroll.left + frozenColsWidth, grid[_].scroll.top + frozenRowsHeight, grid[_].canvas.width - frozenColsWidth, grid[_].canvas.height - frozenRowsHeight);\n\t}\n\n\tfunction _toRelativeRect(grid, absoluteRect) {\n\t\tconst rect = absoluteRect.copy();\n\t\tconst visibleRect = _getVisibleRect(grid);\n\t\trect.offsetLeft(-visibleRect.left);\n\t\trect.offsetTop(-visibleRect.top);\n\n\t\treturn rect;\n\t}\n\t//end private methods\n\t//\n\t//\n\t//\n\t//\n\n\t/**\r\n  * managing mouse down moving\r\n  * @private\r\n  */\n\tclass BaseMouseDownMover {\n\t\tconstructor(grid) {\n\t\t\tthis._grid = grid;\n\t\t\tthis._handler = new EventHandler();\n\t\t\tthis._events = {};\n\t\t\tthis._started = false;\n\t\t\tthis._moved = false;\n\t\t}\n\t\tmoving(e) {\n\t\t\treturn !!this._started;\n\t\t}\n\t\tlastMoving(e) {\n\t\t\t// mouseupclick\n\t\t\tif (this.moving(e)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tconst last = this._mouseEndPoint;\n\t\t\tif (!last) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tconst pt = _getMouseAbstractPoint(this._grid, e);\n\t\t\treturn pt.x === last.x && pt.y === last.y;\n\t\t}\n\t\t_bindMoveAndUp(e) {\n\t\t\tif (!isTouchEvent(e)) {\n\t\t\t\tthis._events.mousemove = this._handler.on(document.body, 'mousemove', e => this._mouseMove(e));\n\t\t\t\tthis._events.mouseup = this._handler.on(document.body, 'mouseup', e => this._mouseUp(e));\n\t\t\t} else {\n\t\t\t\tthis._events.touchmove = this._handler.on(document.body, 'touchmove', e => this._mouseMove(e), { passive: false });\n\t\t\t\tthis._events.touchend = this._handler.on(document.body, 'touchend', e => this._mouseUp(e));\n\t\t\t\tthis._events.touchcancel = this._handler.on(document.body, 'touchcancel', e => this._mouseUp(e));\n\t\t\t}\n\t\t\tthis._started = true;\n\t\t\tthis._moved = false;\n\t\t}\n\t\t_mouseMove(e) {\n\t\t\tif (!isTouchEvent(e)) {\n\t\t\t\tif (getMouseButtons(e) !== 1) {\n\t\t\t\t\tthis._mouseUp(e);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._moved = this._moveInternal(e) || this._moved /*calculation on after*/;\n\n\t\t\tcancelEvent(e);\n\t\t}\n\t\t_moveInternal(e) {\n\t\t\t//protected\n\t\t}\n\t\t_mouseUp(e) {\n\t\t\tthis._handler.off(this._events.mousemove);\n\t\t\tthis._handler.off(this._events.touchmove);\n\t\t\tthis._handler.off(this._events.mouseup);\n\t\t\tthis._handler.off(this._events.touchend);\n\t\t\t// this._handler.off(this._events.mouseleave);\n\t\t\tthis._handler.off(this._events.touchcancel);\n\n\t\t\tthis._started = false;\n\n\t\t\tthis._upInternal(e);\n\n\t\t\t// mouseupclick\n\t\t\tif (this._moved) {\n\t\t\t\t//\n\t\t\t\tthis._mouseEndPoint = _getMouseAbstractPoint(this._grid, e);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis._mouseEndPoint = null;\n\t\t\t\t}, 10);\n\t\t\t}\n\t\t}\n\t\t_upInternal(e) {\n\t\t\t//protected\n\t\t}\n\t\tdispose() {\n\t\t\tthis._handler.dispose();\n\t\t}\n\t}\n\n\t/**\r\n  * managing cell selection operation with mouse\r\n  * @private\r\n  */\n\tclass CellSelector extends BaseMouseDownMover {\n\t\tstart(e) {\n\t\t\tconst cell = this._getTargetCell(e);\n\t\t\tif (!cell) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_moveFocusCell(this._grid, cell.col, cell.row, e.shiftKey);\n\n\t\t\tthis._bindMoveAndUp(e);\n\n\t\t\tthis._cell = cell;\n\n\t\t\tcancelEvent(e);\n\t\t\t_vibrate(e);\n\t\t}\n\t\tselect(e) {\n\t\t\tconst cell = this._getTargetCell(e);\n\t\t\tif (!cell) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_moveFocusCell(this._grid, cell.col, cell.row, e.shiftKey);\n\t\t\tthis._cell = cell;\n\t\t}\n\t\t_moveInternal(e) {\n\t\t\tconst cell = this._getTargetCell(e);\n\t\t\tif (!cell || this._cell.col === cell.col && this._cell.row === cell.row) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t_moveFocusCell(this._grid, cell.col, cell.row, true);\n\n\t\t\t//make visible\n\t\t\tconst makeVisibleCol = (() => {\n\t\t\t\tif (cell.col < this._cell.col && 0 < cell.col) {\n\t\t\t\t\t// move left\n\t\t\t\t\treturn cell.col - 1;\n\t\t\t\t} else if (this._cell.col < cell.col && cell.col + 1 < this._grid.colCount) {\n\t\t\t\t\t// move right\n\t\t\t\t\treturn cell.col + 1;\n\t\t\t\t}\n\t\t\t\treturn cell.col;\n\t\t\t})();\n\t\t\tconst makeVisibleRow = (() => {\n\t\t\t\tif (cell.row < this._cell.row && 0 < cell.row) {\n\t\t\t\t\t// move up\n\t\t\t\t\treturn cell.row - 1;\n\t\t\t\t} else if (this._cell.row < cell.row && cell.row + 1 < this._grid.rowCount) {\n\t\t\t\t\t// move down\n\t\t\t\t\treturn cell.row + 1;\n\t\t\t\t}\n\t\t\t\treturn cell.row;\n\t\t\t})();\n\t\t\tif (makeVisibleCol !== cell.col || makeVisibleRow !== cell.row) {\n\t\t\t\tthis._grid.makeVisibleCell(makeVisibleCol, makeVisibleRow);\n\t\t\t}\n\t\t\tthis._cell = cell;\n\t\t\treturn true;\n\t\t}\n\t\t_getTargetCell(e) {\n\t\t\tconst abstractPos = _getMouseAbstractPoint(this._grid, e);\n\t\t\tif (!abstractPos) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tconst cell = this._grid.getCellAt(abstractPos.x, abstractPos.y);\n\t\t\tif (cell.col < 0 || cell.row < 0) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn cell;\n\t\t}\n\t}\n\t/**\r\n  * managing row width changing operation with mouse\r\n  * @private\r\n  */\n\tclass ColumnResizer extends BaseMouseDownMover {\n\t\tconstructor(grid) {\n\t\t\tsuper(grid);\n\t\t\tthis._targetCol = -1;\n\t\t}\n\t\tstart(col, e) {\n\t\t\tlet pageX;\n\t\t\tif (!isTouchEvent(e)) {\n\t\t\t\tpageX = e.pageX;\n\t\t\t} else {\n\t\t\t\tpageX = e.changedTouches[0].pageX;\n\t\t\t}\n\n\t\t\tthis._x = pageX;\n\t\t\tthis._preX = 0;\n\n\t\t\tthis._bindMoveAndUp(e);\n\n\t\t\tthis._targetCol = col;\n\t\t\tthis._invalidateAbsoluteLeft = _getColsWidth(this._grid, 0, col - 1);\n\n\t\t\tcancelEvent(e);\n\t\t\t_vibrate(e);\n\t\t}\n\t\t_moveInternal(e) {\n\t\t\tconst pageX = isTouchEvent(e) ? e.changedTouches[0].pageX : e.pageX;\n\n\t\t\tconst x = pageX - this._x;\n\t\t\tconst moveX = x - this._preX;\n\t\t\tthis._preX = x;\n\t\t\tconst pre = this._grid.getColWidth(this._targetCol);\n\t\t\tlet afterSize = _adjustColWidth(this._grid, this._targetCol, pre + moveX);\n\t\t\tif (afterSize < 10 && moveX < 0) {\n\t\t\t\tafterSize = 10;\n\t\t\t}\n\t\t\t_setColWidth(this._grid, this._targetCol, afterSize);\n\n\t\t\tconst rect = _getVisibleRect(this._grid);\n\t\t\trect.left = this._invalidateAbsoluteLeft;\n\t\t\t_invalidateRect(this._grid, rect);\n\n\t\t\tthis._grid.fireListeners(EVENT_TYPE.RESIZE_COLUMN, { col: this._targetCol });\n\n\t\t\treturn true;\n\t\t}\n\t\t_upInternal(e) {\n\t\t\tthis._grid.updateScroll();\n\t\t}\n\t}\n\n\tfunction setSafeInputValue(input, value) {\n\t\tconst type = input.type;\n\t\tinput.type = '';\n\t\tinput.value = value;\n\t\tif (type) {\n\t\t\tinput.type = type;\n\t\t}\n\t}\n\n\t/**\r\n  * Manage focus\r\n  * @private\r\n  */\n\tclass FocusControl extends EventTarget {\n\t\tconstructor(grid, parentElement, scrollable) {\n\t\t\tsuper();\n\t\t\tthis._grid = grid;\n\t\t\tthis._scrollable = scrollable;\n\t\t\tthis._handler = new EventHandler();\n\t\t\tthis._input = document.createElement('input');\n\t\t\tthis._input.classList.add('grid-focus-control');\n\t\t\tthis._input.readOnly = true;\n\t\t\tparentElement.appendChild(this._input);\n\n\t\t\tthis._handler.on(this._input, 'compositionstart', e => {\n\t\t\t\tthis._input.classList.add('composition');\n\t\t\t\tthis._isComposition = true;\n\t\t\t\tgrid.focus();\n\t\t\t});\n\t\t\tthis._handler.on(this._input, 'compositionend', e => {\n\t\t\t\tthis._isComposition = false;\n\t\t\t\tthis._input.classList.remove('composition');\n\t\t\t\tif (!this._input.readOnly) {\n\t\t\t\t\tthis.fireListeners('input', this._input.value);\n\t\t\t\t}\n\t\t\t\tsetSafeInputValue(this._input, '');\n\t\t\t});\n\t\t\tthis._handler.on(this._input, 'keypress', e => {\n\t\t\t\tif (this._isComposition) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!this._input.readOnly && e.key && e.key.length === 1) {\n\t\t\t\t\tif (e.key === 'c' && (e.ctrlKey || e.metaKey)) {\n\t\t\t\t\t\t//copy! for Firefox\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.fireListeners('input', e.key);\n\t\t\t\t\t\tcancelEvent(e);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsetSafeInputValue(this._input, '');\n\t\t\t});\n\t\t\tthis._handler.on(this._input, 'keydown', e => {\n\t\t\t\tif (this._isComposition) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst keyCode = getKeyCode(e);\n\t\t\t\tthis.fireListeners('keydown', keyCode, e);\n\n\t\t\t\tif (this._input.value) {\n\t\t\t\t\t// for Safari\n\t\t\t\t\tthis.fireListeners('input', this._input.value);\n\t\t\t\t}\n\n\t\t\t\tsetSafeInputValue(this._input, '');\n\t\t\t});\n\t\t\tthis._handler.on(document, 'keydown', e => {\n\t\t\t\tif (!browser.IE) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (e.target !== this._input) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst keyCode = getKeyCode(e);\n\t\t\t\tif (keyCode === KEY_ALPHA_C && e.ctrlKey) {\n\t\t\t\t\tsetSafeInputValue(this._input, 'dummy');\n\t\t\t\t\tthis._input.select();\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetSafeInputValue(this._input, '');\n\t\t\t\t\t}, 100);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis._handler.on(document, 'copy', e => {\n\t\t\t\tif (this._isComposition) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!isDescendantElement(parentElement, e.target)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tsetSafeInputValue(this._input, '');\n\t\t\t\tconst data = array.find(this.fireListeners('copy'), isDef);\n\t\t\t\tif (isDef(data)) {\n\t\t\t\t\tcancelEvent(e);\n\t\t\t\t\tif (browser.IE) {\n\t\t\t\t\t\twindow.clipboardData.setData('Text', data); // IE\n\t\t\t\t\t} else {\n\t\t\t\t\t\te.clipboardData.setData('text/plain', data); // Chrome, Firefox\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tonKeyDownMove(fn) {\n\t\t\tthis._handler.on(this._input, 'keydown', e => {\n\t\t\t\tif (this._isComposition) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst keyCode = getKeyCode(e);\n\t\t\t\tif (keyCode === KEY_LEFT || keyCode === KEY_UP || keyCode === KEY_RIGHT || keyCode === KEY_DOWN || keyCode === KEY_HOME || keyCode === KEY_END) {\n\t\t\t\t\tfn(e);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tonInput(fn) {\n\t\t\treturn this.listen('input', fn);\n\t\t}\n\t\tonCopy(fn) {\n\t\t\treturn this.listen('copy', fn);\n\t\t}\n\t\tfocus() {\n\t\t\t// this._input.value = '';\n\t\t\tthis._input.focus();\n\t\t}\n\t\tsetFocusRect(rect) {\n\t\t\tconst top = this._scrollable.calcTop(rect.top);\n\t\t\tthis._input.style.top = (top - style.getScrollBarSize()).toFixed() + 'px'; //position:relative IE position:relative\n\t\t\tthis._input.style.left = rect.left.toFixed() + 'px';\n\t\t\tthis._input.style.width = rect.width.toFixed() + 'px';\n\t\t\tthis._input.style.height = rect.height.toFixed() + 'px';\n\t\t}\n\t\tset editMode(editMode) {\n\t\t\tthis._input.readOnly = !editMode;\n\t\t}\n\t\tresetInputStatus() {\n\t\t\tconst el = this._input;\n\t\t\tconst composition = el.classList.contains('composition');\n\n\t\t\tconst atts = el.attributes;\n\t\t\tconst removeNames = [];\n\t\t\tfor (let i = 0, n = atts.length; i < n; i++) {\n\t\t\t\tconst att = atts[i];\n\t\t\t\tif (!this._inputStatus.hasOwnProperty(att.nodeName)) {\n\t\t\t\t\tremoveNames.push(att.name);\n\t\t\t\t}\n\t\t\t}\n\t\t\tremoveNames.forEach(removeName => {\n\t\t\t\tel.removeAttribute(removeName);\n\t\t\t});\n\t\t\tfor (const name in this._inputStatus) {\n\t\t\t\tel.setAttribute(name, this._inputStatus[name]);\n\t\t\t}\n\t\t\tif (composition) {\n\t\t\t\tel.classList.add('composition');\n\t\t\t} else {\n\t\t\t\tel.classList.remove('composition');\n\t\t\t}\n\t\t}\n\t\tstoreInputStatus() {\n\t\t\tconst el = this._input;\n\t\t\tthis._inputStatus = {};\n\t\t\tconst atts = el.attributes;\n\t\t\tfor (let i = 0, n = atts.length; i < n; i++) {\n\t\t\t\tconst att = atts[i];\n\t\t\t\tthis._inputStatus[att.name] = att.value;\n\t\t\t}\n\t\t}\n\t\tsetDefaultInputStatus() {\n\t\t\tthis._input.style.font = this._grid.font || '16px sans-serif';\n\t\t}\n\t\tget editMode() {\n\t\t\treturn !this._input.readOnly;\n\t\t}\n\t\tget input() {\n\t\t\treturn this._input;\n\t\t}\n\t\tdispose() {\n\t\t\tsuper.dispose();\n\t\t\tthis._handler.dispose();\n\t\t}\n\t}\n\n\t/**\r\n  * Selected area management\r\n  */\n\tclass Selection extends EventTarget {\n\t\tconstructor(grid) {\n\t\t\tsuper();\n\t\t\tthis._grid = grid;\n\n\t\t\tthis._sel = { col: 0, row: 0 };\n\t\t\tthis._focus = { col: 0, row: 0 };\n\n\t\t\tthis._start = { col: 0, row: 0 };\n\t\t\tthis._end = { col: 0, row: 0 };\n\t\t}\n\t\tget range() {\n\t\t\tconst startCol = Math.min(this._start.col, this._end.col);\n\t\t\tconst startRow = Math.min(this._start.row, this._end.row);\n\t\t\tconst endCol = Math.max(this._start.col, this._end.col);\n\t\t\tconst endRow = Math.max(this._start.row, this._end.row);\n\t\t\treturn {\n\t\t\t\tstart: {\n\t\t\t\t\tcol: startCol,\n\t\t\t\t\trow: startRow\n\t\t\t\t},\n\t\t\t\tend: {\n\t\t\t\t\tcol: endCol,\n\t\t\t\t\trow: endRow\n\t\t\t\t},\n\t\t\t\tinCell(col, row) {\n\t\t\t\t\treturn startCol <= col && col <= endCol && startRow <= row && row <= endRow;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tget select() {\n\t\t\treturn {\n\t\t\t\tcol: this._sel.col,\n\t\t\t\trow: this._sel.row\n\t\t\t};\n\t\t}\n\t\tset select(cell = {}) {\n\t\t\tthis._wrapFireSelectedEvent(() => {\n\t\t\t\tconst {\n\t\t\t\t\tcol = 0,\n\t\t\t\t\trow = 0\n\t\t\t\t} = cell;\n\t\t\t\tthis._setSelectCell(col, row);\n\t\t\t\tthis._setFocusCell(col, row, true);\n\t\t\t});\n\t\t}\n\t\t_setSelectCell(col, row) {\n\t\t\tthis._wrapFireSelectedEvent(() => {\n\t\t\t\tthis._sel = { col, row };\n\t\t\t\tthis._start = { col, row };\n\t\t\t});\n\t\t}\n\t\t_setFocusCell(col, row, keepSelect) {\n\t\t\tthis._wrapFireSelectedEvent(() => {\n\t\t\t\tif (!keepSelect) {\n\t\t\t\t\tthis._setSelectCell(col, row);\n\t\t\t\t}\n\t\t\t\tthis._focus = { col, row };\n\t\t\t\tthis._end = { col, row };\n\t\t\t});\n\t\t}\n\t\t_wrapFireSelectedEvent(callback) {\n\t\t\tif (this._isWraped) {\n\t\t\t\tcallback();\n\t\t\t} else {\n\t\t\t\tthis._isWraped = true;\n\t\t\t\ttry {\n\t\t\t\t\tconst before = {\n\t\t\t\t\t\tcol: this._sel.col,\n\t\t\t\t\t\trow: this._sel.row,\n\t\t\t\t\t\tselected: false\n\t\t\t\t\t};\n\t\t\t\t\tcallback();\n\t\t\t\t\tthis.fireListeners(EVENT_TYPE.SELECTED_CELL, before);\n\t\t\t\t\tthis.fireListeners(EVENT_TYPE.SELECTED_CELL, {\n\t\t\t\t\t\tcol: this._sel.col,\n\t\t\t\t\t\trow: this._sel.row,\n\t\t\t\t\t\tselected: true\n\t\t\t\t\t});\n\t\t\t\t} finally {\n\t\t\t\t\tthis._isWraped = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\r\n  * Context of cell drawing\r\n  */\n\tclass DrawCellContext {\n\t\t/**\r\n   * @private\r\n   */\n\t\tconstructor(col, row, ctx, rect, drawRect, drawing, selection) {\n\t\t\tthis._col = col;\n\t\t\tthis._row = row;\n\t\t\tthis._mode = 0;\n\t\t\tthis._ctx = ctx;\n\t\t\tthis._rect = rect;\n\t\t\tthis._drawRect = drawRect;\n\t\t\tthis._drawing = drawing;\n\t\t\tthis._selection = selection;\n\t\t}\n\t\tget drawing() {\n\t\t\tif (this._mode === 0) {\n\t\t\t\treturn this._drawing;\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\tget row() {\n\t\t\treturn this._row;\n\t\t}\n\t\tget col() {\n\t\t\treturn this._col;\n\t\t}\n\t\t/**\r\n   * select status.\r\n   * @return {object} select status\r\n   */\n\t\tgetSelectState() {\n\t\t\tconst sel = this._selection.select;\n\t\t\treturn {\n\t\t\t\tselected: sel.col === this._col && sel.row === this._row,\n\t\t\t\tselection: this._selection.range.inCell(this._col, this._row)\n\t\t\t};\n\t\t}\n\t\t/**\r\n   * Canvas context.\r\n   * @return {CanvasRenderingContext2D} Canvas context.\r\n   */\n\t\tgetContext() {\n\t\t\tif (this._mode === 0) {\n\t\t\t\treturn this._ctx;\n\t\t\t} else {\n\t\t\t\treturn this._grid._getInitContext();\n\t\t\t}\n\t\t}\n\t\t/**\r\n   * Rectangle of cell.\r\n   * @return {Rect} rect Rectangle of cell.\r\n   */\n\t\tgetRect() {\n\t\t\tif (this._mode === 0) {\n\t\t\t\treturn this._rect;\n\t\t\t} else {\n\t\t\t\tif (this._rect) {\n\t\t\t\t\treturn this._rect;\n\t\t\t\t}\n\t\t\t\treturn this._grid.getCellRelativeRect(this._col, this._row);\n\t\t\t}\n\t\t}\n\t\tsetRect(rect) {\n\t\t\tthis._rect = rect;\n\t\t}\n\t\t/**\r\n   * Rectangle of Drawing range.\r\n   * @return {Rect} Rectangle of Drawing range.\r\n   */\n\t\tgetDrawRect() {\n\t\t\tif (this._mode === 0) {\n\t\t\t\treturn this._drawRect;\n\t\t\t} else {\n\t\t\t\tconst absoluteRect = this._grid.getCellRect(this._col, this._row);\n\t\t\t\treturn this._toRelativeDrawRect(absoluteRect);\n\t\t\t}\n\t\t}\n\t\t/**\r\n   * get Context of current state\r\n   * @return {DrawCellContext} current DrawCellContext.\r\n   */\n\t\ttoCurrentContext() {\n\t\t\tif (this._mode === 0) {\n\t\t\t\treturn this;\n\t\t\t} else {\n\t\t\t\tconst absoluteRect = this._grid.getCellRect(this._col, this._row);\n\t\t\t\tconst rect = _toRelativeRect(this._grid, absoluteRect);\n\t\t\t\tconst drawRect = this._toRelativeDrawRect(absoluteRect);\n\t\t\t\tconst context = new DrawCellContext(this._col, this._row, this.getContext(), rect, drawRect, this.drawing, this._selection);\n\t\t\t\t// toCurrentContext  toCurrentContext\n\t\t\t\tcontext.toCurrentContext = this.toCurrentContext.bind(this);\n\t\t\t\treturn context;\n\t\t\t}\n\t\t}\n\t\t_toRelativeDrawRect(absoluteRect) {\n\t\t\tconst visibleRect = _getVisibleRect(this._grid);\n\t\t\tlet rect = absoluteRect.copy();\n\t\t\tif (!rect.intersection(visibleRect)) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst isFrozenCell = this._grid.isFrozenCell(this._col, this._row);\n\t\t\tif (this._grid.frozenColCount >= 0 && (!isFrozenCell || !isFrozenCell.col)) {\n\t\t\t\tconst fRect = this._grid.getCellRect(this._grid.frozenColCount - 1, this._row);\n\t\t\t\trect = Rect.bounds(Math.max(rect.left, fRect.right), rect.top, rect.right, rect.bottom);\n\t\t\t}\n\t\t\tif (this._grid.frozenRowCount >= 0 && (!isFrozenCell || !isFrozenCell.row)) {\n\t\t\t\tconst fRect = this._grid.getCellRect(this._col, this._grid.frozenRowCount - 1);\n\t\t\t\trect = Rect.bounds(rect.left, Math.max(rect.top, fRect.bottom), rect.right, rect.bottom);\n\t\t\t}\n\n\t\t\tif (!rect.intersection(visibleRect)) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\trect.offsetLeft(-visibleRect.left);\n\t\t\trect.offsetTop(-visibleRect.top);\n\n\t\t\treturn rect;\n\t\t}\n\t\t_delayMode(grid, onTerminate) {\n\t\t\tthis._mode = 1;\n\t\t\tthis._ctx = null;\n\t\t\tthis._rect = null;\n\t\t\tthis._drawRect = null;\n\t\t\tthis._grid = grid;\n\t\t\tthis._onTerminate = onTerminate;\n\t\t}\n\t\t/**\r\n   * terminate\r\n   * @return {void}\r\n   */\n\t\tterminate() {\n\t\t\tif (this._mode !== 0) {\n\t\t\t\tthis._onTerminate();\n\t\t\t}\n\t\t}\n\t}\n\t/**\r\n  * DrawGrid\r\n  * @classdesc cheetahGrid.core.DrawGrid\r\n  * @extends EventTarget\r\n  * @memberof cheetahGrid.core\r\n  */\n\tclass DrawGrid extends EventTarget {\n\t\tstatic get EVENT_TYPE() {\n\t\t\treturn EVENT_TYPE;\n\t\t}\n\t\t/**\r\n   * constructor\r\n   *\r\n   * <pre>\r\n   * Constructor options\r\n   * -----\r\n   * rowCount: grid row count.default 10\r\n   * colCount: grid col count.default 10\r\n   * frozenColCount: default 0\r\n   * frozenRowCount: default 0\r\n   * defaultRowHeight: default grid row height. default 40\r\n   * defaultColWidth: default grid col width. default 80\r\n   * parentElement: canvas parentElement\r\n   * font: default font\r\n   * underlayBackgroundColor: underlay background color\r\n   * -----\r\n   * </pre>\r\n   *\r\n   * @constructor\r\n   * @param  {Object} options Constructor options\r\n   */\n\t\tconstructor({\n\t\t\trowCount = 10,\n\t\t\tcolCount = 10,\n\t\t\tfrozenColCount = 0,\n\t\t\tfrozenRowCount = 0,\n\t\t\tdefaultRowHeight = 40,\n\t\t\tdefaultColWidth = 80,\n\t\t\tfont,\n\t\t\tunderlayBackgroundColor,\n\t\t\tparentElement\n\t\t} = {}) {\n\t\t\tsuper();\n\t\t\tthis[_] = {};\n\t\t\tstyle.initDocument();\n\t\t\tthis[_].element = createRootElement();\n\t\t\tthis[_].scrollable = new Scrollable();\n\t\t\tthis[_].handler = new EventHandler();\n\t\t\tthis[_].selection = new Selection(this);\n\t\t\tthis[_].focusControl = new FocusControl(this, this[_].scrollable.getElement(), this[_].scrollable);\n\n\t\t\tthis[_].canvas = hiDPI.transform(document.createElement('canvas'));\n\t\t\tthis[_].context = this[_].canvas.getContext('2d', { alpha: false });\n\n\t\t\tthis[_].rowCount = rowCount;\n\t\t\tthis[_].colCount = colCount;\n\t\t\tthis[_].frozenColCount = frozenColCount;\n\t\t\tthis[_].frozenRowCount = frozenRowCount;\n\n\t\t\tthis[_].defaultRowHeight = defaultRowHeight;\n\t\t\tthis[_].defaultColWidth = defaultColWidth;\n\n\t\t\tthis[_].font = font;\n\t\t\tthis[_].underlayBackgroundColor = underlayBackgroundColor;\n\n\t\t\t/////\n\t\t\tthis[_].rowHeightsMap = new NumberMap();\n\t\t\tthis[_].colWidthsMap = new NumberMap();\n\t\t\tthis[_].colWidthsLimit = {};\n\t\t\tthis[_].calcWidthContext = {\n\t\t\t\t_: this[_],\n\t\t\t\tget full() {\n\t\t\t\t\treturn this._.canvas.width;\n\t\t\t\t},\n\t\t\t\tget em() {\n\t\t\t\t\treturn this._.context.measureText('').width;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis[_].columnResizer = new ColumnResizer(this);\n\t\t\tthis[_].cellSelector = new CellSelector(this);\n\n\t\t\tthis[_].drawCells = {};\n\n\t\t\tthis[_].element.appendChild(this[_].canvas);\n\t\t\tthis[_].element.appendChild(this[_].scrollable.getElement());\n\t\t\tthis.updateScroll();\n\t\t\tif (parentElement) {\n\t\t\t\tparentElement.appendChild(this[_].element);\n\t\t\t\tthis.updateSize();\n\t\t\t} else {\n\t\t\t\tthis.updateSize();\n\t\t\t}\n\t\t\t_bindEvents(this);\n\t\t}\n\t\tgetElement() {\n\t\t\treturn this[_].element;\n\t\t}\n\t\tget canvas() {\n\t\t\treturn this[_].canvas;\n\t\t}\n\t\tfocus() {\n\t\t\tconst { col, row } = this[_].selection.select;\n\t\t\tthis.focusCell(col, row);\n\t\t}\n\t\tget selection() {\n\t\t\treturn this[_].selection;\n\t\t}\n\t\tget rowCount() {\n\t\t\treturn this[_].rowCount;\n\t\t}\n\t\tset rowCount(rowCount) {\n\t\t\tthis[_].rowCount = rowCount;\n\t\t\tthis.updateScroll();\n\t\t}\n\t\tget colCount() {\n\t\t\treturn this[_].colCount;\n\t\t}\n\t\tset colCount(colCount) {\n\t\t\tthis[_].colCount = colCount;\n\t\t\tthis.updateScroll();\n\t\t}\n\t\tget frozenColCount() {\n\t\t\treturn this[_].frozenColCount;\n\t\t}\n\t\tset frozenColCount(frozenColCount) {\n\t\t\tthis[_].frozenColCount = frozenColCount;\n\t\t}\n\t\tget frozenRowCount() {\n\t\t\treturn this[_].frozenRowCount;\n\t\t}\n\t\tset frozenRowCount(frozenRowCount) {\n\t\t\tthis[_].frozenRowCount = frozenRowCount;\n\t\t}\n\t\tget defaultRowHeight() {\n\t\t\treturn this[_].rowCount;\n\t\t}\n\t\tset defaultRowHeight(defaultRowHeight) {\n\t\t\tthis[_].defaultRowHeight = defaultRowHeight;\n\t\t\tthis.updateScroll();\n\t\t}\n\t\tget defaultColWidth() {\n\t\t\treturn this[_].defaultColWidth;\n\t\t}\n\t\tset defaultColWidth(defaultColWidth) {\n\t\t\tthis[_].defaultColWidth = defaultColWidth;\n\t\t\tthis.updateScroll();\n\t\t}\n\t\tget font() {\n\t\t\treturn this[_].font;\n\t\t}\n\t\tset font(font) {\n\t\t\tthis[_].font = font;\n\t\t}\n\t\tget underlayBackgroundColor() {\n\t\t\treturn this[_].underlayBackgroundColor;\n\t\t}\n\t\tset underlayBackgroundColor(underlayBackgroundColor) {\n\t\t\tthis[_].underlayBackgroundColor = underlayBackgroundColor;\n\t\t}\n\t\tconfigure(name, value) {\n\t\t\tconst cfg = this[_].config || (this[_].config = {});\n\t\t\tif (isDef(value)) {\n\t\t\t\tcfg[name] = value;\n\t\t\t}\n\t\t\treturn cfg[name];\n\t\t}\n\t\tupdateSize() {\n\t\t\t//\n\t\t\tthis[_].canvas.style.width = '';\n\t\t\tthis[_].canvas.style.height = '';\n\t\t\tconst width = Math.floor(this[_].canvas.offsetWidth ||\n\t\t\t/*for legacy*/this[_].canvas.parentElement.offsetWidth - style.getScrollBarSize());\n\t\t\tconst height = Math.floor(this[_].canvas.offsetHeight ||\n\t\t\t/*for legacy*/this[_].canvas.parentElement.offsetHeight - style.getScrollBarSize());\n\n\t\t\tthis[_].canvas.width = width;\n\t\t\tthis[_].canvas.height = height;\n\n\t\t\t//style\n\t\t\tthis[_].canvas.style.width = `${width}px`;\n\t\t\tthis[_].canvas.style.height = `${height}px`;\n\n\t\t\tconst sel = this[_].selection.select;\n\t\t\tthis[_].focusControl.setFocusRect(this.getCellRect(sel.col, sel.row));\n\t\t}\n\t\tupdateScroll() {\n\t\t\tthis[_].scrollable.setScrollSize(_getScrollWidth(this), _getScrollHeight(this));\n\t\t\tthis[_].scroll = {\n\t\t\t\tleft: this[_].scrollable.scrollLeft,\n\t\t\t\ttop: this[_].scrollable.scrollTop\n\t\t\t};\n\t\t}\n\t\tgetRowHeight(row) {\n\t\t\treturn _getRowHeight(this, row);\n\t\t}\n\t\tsetRowHeight(row, height) {\n\t\t\t_setRowHeight(this, row, height);\n\t\t\tthis.updateScroll();\n\t\t}\n\t\tgetColWidth(col) {\n\t\t\treturn _getColWidth(this, col);\n\t\t}\n\t\tsetColWidth(col, width) {\n\t\t\t_setColWidth(this, col, width);\n\t\t\tthis.updateScroll();\n\t\t}\n\t\tgetMaxColWidth(col) {\n\t\t\tconst obj = this[_].colWidthsLimit[col];\n\t\t\treturn obj && obj.max || undefined;\n\t\t}\n\t\tsetMaxColWidth(col, maxwidth) {\n\t\t\tconst obj = this[_].colWidthsLimit[col] || (this[_].colWidthsLimit[col] = {});\n\t\t\tobj.max = maxwidth;\n\t\t}\n\t\tgetMinColWidth(col) {\n\t\t\tconst obj = this[_].colWidthsLimit[col];\n\t\t\treturn obj && obj.min || undefined;\n\t\t}\n\t\tsetMinColWidth(col, minwidth) {\n\t\t\tconst obj = this[_].colWidthsLimit[col] || (this[_].colWidthsLimit[col] = {});\n\t\t\tobj.min = minwidth;\n\t\t}\n\t\tgetCellRect(col, row) {\n\t\t\tconst isFrozenCell = this.isFrozenCell(col, row);\n\n\t\t\tlet absoluteLeft = _getColsWidth(this, 0, col - 1);\n\t\t\tconst width = _getColWidth(this, col);\n\t\t\tif (isFrozenCell && isFrozenCell.col) {\n\t\t\t\tabsoluteLeft += this[_].scroll.left;\n\t\t\t}\n\n\t\t\tlet absoluteTop = _getRowsHeight(this, 0, row - 1);\n\t\t\tconst height = _getRowHeight(this, row);\n\t\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\t\tabsoluteTop += this[_].scroll.top;\n\t\t\t}\n\t\t\treturn new Rect(absoluteLeft, absoluteTop, width, height);\n\t\t}\n\t\tgetCellRelativeRect(col, row) {\n\t\t\treturn _toRelativeRect(this, this.getCellRect(col, row));\n\t\t}\n\t\tgetCellsRect(startCol, startRow, endCol, endRow) {\n\t\t\tconst isFrozenStartCell = this.isFrozenCell(startCol, startRow);\n\t\t\tconst isFrozenEndCell = this.isFrozenCell(endCol, endRow);\n\n\t\t\tlet absoluteLeft = _getColsWidth(this, 0, startCol - 1);\n\t\t\tlet width = _getColsWidth(this, startCol, endCol);\n\t\t\tif (isFrozenStartCell && isFrozenStartCell.col) {\n\t\t\t\tconst scrollLeft = this[_].scroll.left;\n\t\t\t\tabsoluteLeft += scrollLeft;\n\t\t\t\tif (!isFrozenEndCell || !isFrozenEndCell.col) {\n\t\t\t\t\twidth -= scrollLeft;\n\t\t\t\t\twidth = Math.max(width, _getColsWidth(this, startCol, this.frozenColCount - 1));\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet absoluteTop = _getRowsHeight(this, 0, startRow - 1);\n\t\t\tlet height = _getRowsHeight(this, startRow, endRow);\n\t\t\tif (isFrozenStartCell && isFrozenStartCell.row) {\n\t\t\t\tconst scrollTop = this[_].scroll.top;\n\t\t\t\tabsoluteTop += scrollTop;\n\t\t\t\tif (!isFrozenEndCell || !isFrozenEndCell.row) {\n\t\t\t\t\theight -= scrollTop;\n\t\t\t\t\theight = Math.max(height, _getColsWidth(this, startRow, this.frozenRowCount - 1));\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn new Rect(absoluteLeft, absoluteTop, width, height);\n\t\t}\n\t\tisFrozenCell(col, row) {\n\t\t\tconst isFrozenRow = this[_].frozenRowCount > 0 && row < this[_].frozenRowCount;\n\t\t\tconst isFrozenCol = this[_].frozenColCount > 0 && col < this[_].frozenColCount;\n\t\t\tif (isFrozenRow || isFrozenCol) {\n\t\t\t\treturn {\n\t\t\t\t\trow: isFrozenRow,\n\t\t\t\t\tcol: isFrozenCol\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t\tgetRowAt(absoluteY) {\n\t\t\tconst frozen = _getTargetFrozenRowAt(this, absoluteY);\n\t\t\tif (frozen) {\n\t\t\t\treturn frozen.row;\n\t\t\t}\n\t\t\tconst row = _getTargetRowAt(this, absoluteY);\n\t\t\treturn row ? row.row : -1;\n\t\t}\n\t\tgetColAt(absoluteX) {\n\t\t\tconst frozen = _getTargetFrozenColAt(this, absoluteX);\n\t\t\tif (frozen) {\n\t\t\t\treturn frozen.col;\n\t\t\t}\n\t\t\tconst col = _getTargetColAt(this, absoluteX);\n\t\t\treturn col ? col.col : -1;\n\t\t}\n\t\tgetCellAt(absoluteX, absoluteY) {\n\t\t\treturn {\n\t\t\t\trow: this.getRowAt(absoluteY),\n\t\t\t\tcol: this.getColAt(absoluteX)\n\t\t\t};\n\t\t}\n\t\tmakeVisibleCell(col, row) {\n\t\t\tconst isFrozenCell = this.isFrozenCell(col, row);\n\t\t\tif (isFrozenCell && isFrozenCell.col && isFrozenCell.row) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst rect = this.getCellRect(col, row);\n\t\t\tconst visibleRect = _getScrollableVisibleRect(this);\n\t\t\tif (visibleRect.contains(rect)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!isFrozenCell || !isFrozenCell.col) {\n\t\t\t\tif (rect.left < visibleRect.left) {\n\t\t\t\t\tthis[_].scrollable.scrollLeft -= visibleRect.left - rect.left;\n\t\t\t\t} else if (visibleRect.right < rect.right) {\n\t\t\t\t\tthis[_].scrollable.scrollLeft -= visibleRect.right - rect.right;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!isFrozenCell || !isFrozenCell.row) {\n\t\t\t\tif (rect.top < visibleRect.top) {\n\t\t\t\t\tthis[_].scrollable.scrollTop -= visibleRect.top - rect.top;\n\t\t\t\t} else if (visibleRect.bottom < rect.bottom) {\n\t\t\t\t\tthis[_].scrollable.scrollTop -= visibleRect.bottom - rect.bottom;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfocusCell(col, row) {\n\t\t\tconst oldEditMode = this[_].focusControl.editMode;\n\t\t\tif (oldEditMode) {\n\t\t\t\tthis[_].focusControl.resetInputStatus();\n\t\t\t}\n\n\t\t\tthis[_].focusControl.setFocusRect(this.getCellRect(col, row));\n\n\t\t\tconst { col: selCol, row: selRow } = this[_].selection.select;\n\t\t\tconst results = this.fireListeners(EVENT_TYPE.EDITABLEINPUT_CELL, { col: selCol, row: selRow });\n\n\t\t\tconst editMode = array.findIndex(results, v => !!v) >= 0;\n\t\t\tthis[_].focusControl.editMode = editMode;\n\n\t\t\tif (editMode) {\n\t\t\t\tthis[_].focusControl.storeInputStatus();\n\t\t\t\tthis[_].focusControl.setDefaultInputStatus();\n\t\t\t\tthis.fireListeners(EVENT_TYPE.MODIFY_STATUS_EDITABLEINPUT_CELL, { col: selCol, row: selRow, input: this[_].focusControl.input });\n\t\t\t}\n\n\t\t\t// Failure occurs in IE if focus is not last\n\t\t\tthis[_].focusControl.focus();\n\t\t}\n\t\tinvalidateCell(col, row) {\n\t\t\tthis.invalidateGridRect(col, row);\n\t\t}\n\t\tinvalidateGridRect(startCol, startRow, endCol = startCol, endRow = startRow) {\n\t\t\tconst offset = this.getOffsetInvalidateCells();\n\t\t\tif (offset > 0) {\n\t\t\t\tstartCol -= offset;\n\t\t\t\tstartRow -= offset;\n\t\t\t\tendCol += offset;\n\t\t\t\tendRow += offset;\n\t\t\t}\n\n\t\t\tconst visibleRect = _getVisibleRect(this);\n\t\t\tconst cellsRect = this.getCellsRect(startCol, startRow, endCol, endRow);\n\t\t\tconst invalidateTarget = visibleRect.intersection(cellsRect);\n\t\t\tif (invalidateTarget) {\n\n\t\t\t\tif (this[_].frozenColCount > 0 && endCol >= this[_].frozenColCount) {\n\t\t\t\t\tconst frozenRect = _getFrozenColsRect(this);\n\t\t\t\t\tif (frozenRect.intersection(invalidateTarget)) {\n\t\t\t\t\t\tinvalidateTarget.left = Math.min(frozenRect.right - 1, frozenRect.right);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (this[_].frozenRowCount > 0 && endRow >= this[_].frozenRowCount) {\n\t\t\t\t\tconst frozenRect = _getFrozenRowsRect(this);\n\t\t\t\t\tif (frozenRect.intersection(invalidateTarget)) {\n\t\t\t\t\t\tinvalidateTarget.top = Math.min(frozenRect.bottom - 1, invalidateTarget.top);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t_invalidateRect(this, invalidateTarget);\n\t\t\t}\n\t\t}\n\t\tinvalidate() {\n\t\t\tconst visibleRect = _getVisibleRect(this);\n\t\t\t_invalidateRect(this, visibleRect);\n\t\t}\n\t\t/**\r\n   * get cell value at copy action\r\n   * <p>\r\n   * Please implement\r\n   * </p>\r\n   *\r\n   * @protected\r\n   * @param  {number} col Column index of cell.\r\n   * @param  {number} row Row index of cell.\r\n   * @return {string}\r\n   */\n\t\tgetCopyCellValue(col, row) {}\n\t\t//Please implement get cell value!!\n\n\t\t/**\r\n   * Draw a cell\r\n   * <p>\r\n   * Please implement cell drawing.\r\n   * </p>\r\n   *\r\n   * @protected\r\n   * @param  {number} col Column index of cell.\r\n   * @param  {number} row Row index of cell.\r\n   * @param  {DrawCellContext} context context of cell drawing.\r\n   * @return {void}\r\n   */\n\t\tonDrawCell(col, row, context) {\n\t\t\t//Please implement cell drawing!!\n\t\t}\n\t\taddDisposable(disposable) {\n\t\t\tif (!disposable || !disposable.dispose || typeof disposable.dispose !== 'function') {\n\t\t\t\tthrow new Error('not disposable!');\n\t\t\t}\n\t\t\tconst disposables = this[_].disposables = this[_].disposables || [];\n\t\t\tdisposables.push(disposable);\n\t\t}\n\t\tdispose() {\n\t\t\tsuper.dispose();\n\t\t\tthis[_].handler.dispose();\n\t\t\tthis[_].scrollable.dispose();\n\t\t\tthis[_].focusControl.dispose();\n\t\t\tthis[_].columnResizer.dispose();\n\t\t\tthis[_].cellSelector.dispose();\n\t\t\tif (this[_].disposables) {\n\t\t\t\tthis[_].disposables.forEach(disposable => disposable.dispose());\n\t\t\t\tthis[_].disposables = null;\n\t\t\t}\n\n\t\t\tconst parentElement = this[_].element.parentElement;\n\t\t\tif (parentElement) {\n\t\t\t\tparentElement.removeChild(this[_].element);\n\t\t\t}\n\t\t}\n\t\tgetAttachCellArea(col, row) {\n\t\t\treturn {\n\t\t\t\telement: this.getElement(),\n\t\t\t\trect: _toRelativeRect(this, this.getCellRect(col, row))\n\t\t\t};\n\t\t}\n\t\tbindEventsInternal() {\n\t\t\t//nop\n\t\t}\n\t\tgetTargetRowAtInternal(absoluteY) {\n\t\t\t// \n\t\t}\n\t\tgetRowsHeightInternal(startRow, endRow) {\n\t\t\t// \n\t\t}\n\t\tgetRowHeightInternal(row) {\n\t\t\t// \n\t\t}\n\t\tgetScrollHeightInternal(row) {\n\t\t\t// \n\t\t}\n\t\tgetMoveLeftColByKeyDownInternal({ col, row }) {\n\t\t\treturn col - 1;\n\t\t}\n\t\tgetMoveRightColByKeyDownInternal({ col, row }) {\n\t\t\treturn col + 1;\n\t\t}\n\t\tgetMoveUpRowByKeyDownInternal({ col, row }) {\n\t\t\treturn row - 1;\n\t\t}\n\t\tgetMoveDownRowByKeyDownInternal({ col, row }) {\n\t\t\treturn row + 1;\n\t\t}\n\t\tgetOffsetInvalidateCells() {\n\t\t\treturn 0;\n\t\t}\n\t\t_getInitContext() {\n\t\t\tconst ctx = this[_].context;\n\t\t\t//\n\t\t\tctx.fillStyle = 'white';\n\t\t\tctx.strokeStyle = 'black';\n\t\t\tctx.textAlign = 'left';\n\t\t\tctx.textBaseline = 'top';\n\t\t\tctx.lineWidth = 1;\n\t\t\tctx.font = this.font || '16px sans-serif';\n\t\t\treturn ctx;\n\t\t}\n\t}\n\n\tmodule.exports = DrawGrid;\n}\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst { obj: { each } } = __webpack_require__(0);\n\tlet nextId = 1;\n\n\tclass EventHandler {\n\t\tconstructor() {\n\t\t\tthis._listeners = {};\n\t\t}\n\t\ton(target, type, listener, ...options) {\n\t\t\tif (target.addEventListener) {\n\t\t\t\ttarget.addEventListener(type, listener, ...options);\n\t\t\t}\n\t\t\tconst obj = {\n\t\t\t\ttarget, type, listener, options\n\t\t\t};\n\t\t\tconst id = nextId++;\n\t\t\tthis._listeners[id] = obj;\n\t\t\treturn id;\n\t\t}\n\t\ttryWithOffEvents(target, type, call) {\n\t\t\tconst list = [];\n\t\t\ttry {\n\t\t\t\teach(this._listeners, obj => {\n\t\t\t\t\tif (obj.target === target && obj.type === type) {\n\t\t\t\t\t\tif (obj.target.removeEventListener) {\n\t\t\t\t\t\t\tobj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlist.push(obj);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tcall();\n\t\t\t} finally {\n\t\t\t\tlist.forEach(obj => {\n\t\t\t\t\tif (obj.target.addEventListener) {\n\t\t\t\t\t\tobj.target.addEventListener(obj.type, obj.listener, ...obj.options);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\toff(id) {\n\t\t\tif (!id) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst obj = this._listeners[id];\n\t\t\tif (!obj) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tdelete this._listeners[id];\n\t\t\tif (obj.target.removeEventListener) {\n\t\t\t\tobj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n\t\t\t}\n\t\t}\n\t\tfire(target, type, ...args) {\n\t\t\teach(this._listeners, obj => {\n\t\t\t\tif (obj.target === target && obj.type === type) {\n\t\t\t\t\tobj.listener.call(obj.target, ...args);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\thasListener(target, type) {\n\t\t\tlet result = false;\n\t\t\teach(this._listeners, obj => {\n\t\t\t\tif (obj.target === target && obj.type === type) {\n\t\t\t\t\tresult = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn result;\n\t\t}\n\t\tclear() {\n\t\t\teach(this._listeners, obj => {\n\t\t\t\tif (obj.target.removeEventListener) {\n\t\t\t\t\tobj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis._listeners = {};\n\t\t}\n\t\tdispose() {\n\t\t\tthis.clear();\n\t\t\tthis._listeners = null;\n\t\t}\n\t}\n\n\tmodule.exports = EventHandler;\n}\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\n\tfunction calcBasePosition(ctx, rect, {\n\t\toffset = 0,\n\t\tpadding: {\n\t\t\tleft: paddingLeft = 0,\n\t\t\tright: paddingRight = 0\n\t\t} = {}\n\t} = {}) {\n\t\t// const textAlign = ctx.textAlign || 'left';\n\t\t// const textBaseline = ctx.textBaseline || 'middle';\n\t\t// ctx.textAlign = textAlign;\n\t\t// ctx.textBaseline = textBaseline;\n\n\t\t// let x = rect.left + offset + paddingLeft;\n\t\t// if (textAlign === 'right' || textAlign === 'end') {\n\t\t// \tx = rect.right - offset - paddingRight;\n\t\t// } else if (textAlign === 'center') {\n\t\t// \tx = rect.left + ((rect.width + paddingLeft - paddingRight) / 2);\n\t\t// }\n\t\t// let y = rect.top + offset;\n\t\t// if (textBaseline === 'bottom' || textBaseline === 'alphabetic' || textBaseline === 'ideographic') {\n\t\t// \ty = rect.bottom - offset;\n\t\t// } else if (textBaseline === 'middle') {\n\t\t// \ty = rect.top + (rect.height / 2);\n\t\t// }\n\t\t// return {x, y};\n\t\treturn calcStartPosition(ctx, rect, 0, 0, {\n\t\t\toffset,\n\t\t\tpadding: {\n\t\t\t\tleft: paddingLeft,\n\t\t\t\tright: paddingRight\n\t\t\t}\n\t\t});\n\t}\n\tfunction calcStartPosition(ctx, rect, width, height, {\n\t\toffset = 0,\n\t\tpadding: {\n\t\t\tleft: paddingLeft = 0,\n\t\t\tright: paddingRight = 0\n\t\t} = {}\n\t} = {}) {\n\t\tconst textAlign = ctx.textAlign || 'left';\n\t\tconst textBaseline = ctx.textBaseline || 'middle';\n\t\tctx.textAlign = textAlign;\n\t\tctx.textBaseline = textBaseline;\n\n\t\tlet x = rect.left + offset + paddingLeft;\n\t\tif (textAlign === 'right' || textAlign === 'end') {\n\t\t\tx = rect.right - width - offset - paddingRight;\n\t\t} else if (textAlign === 'center') {\n\t\t\tx = rect.left + (rect.width - width + paddingLeft - paddingRight) / 2;\n\t\t}\n\t\tlet y = rect.top + offset;\n\t\tif (textBaseline === 'bottom' || textBaseline === 'alphabetic' || textBaseline === 'ideographic') {\n\t\t\ty = rect.bottom - height - offset;\n\t\t} else if (textBaseline === 'middle') {\n\t\t\ty = rect.top + (rect.height - height) / 2;\n\t\t}\n\t\treturn { x, y };\n\t}\n\n\tmodule.exports = {\n\t\tcalcBasePosition,\n\t\tcalcStartPosition\n\t};\n}\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst Style = __webpack_require__(3);\n\tconst BaseColumn = __webpack_require__(8);\n\tconst utils = __webpack_require__(20);\n\n\tclass Column extends BaseColumn {\n\t\tget StyleClass() {\n\t\t\treturn Style;\n\t\t}\n\t\tclone() {\n\t\t\treturn new Column(this);\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, { drawCellBase, getIcon }) {\n\t\t\tconst {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tcolor,\n\t\t\t\tfont,\n\t\t\t\tbgColor,\n\t\t\t\tpadding\n\t\t\t} = style;\n\t\t\tif (bgColor) {\n\t\t\t\tdrawCellBase({\n\t\t\t\t\tbgColor\n\t\t\t\t});\n\t\t\t}\n\t\t\thelper.testFontLoad(font, value, context);\n\t\t\tutils.loadIcons(getIcon(), context, helper, (icons, context) => {\n\t\t\t\thelper.text(value, context, {\n\t\t\t\t\ttextAlign,\n\t\t\t\t\ttextBaseline,\n\t\t\t\t\tcolor,\n\t\t\t\t\tfont,\n\t\t\t\t\ticons,\n\t\t\t\t\tpadding\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\tmodule.exports = Column;\n}\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst styleContents = __webpack_require__(33);\n\tconst { isPromise, isDef, obj: { setReadonly } } = __webpack_require__(0);\n\tconst animate = __webpack_require__(30);\n\tconst BaseStyle = __webpack_require__(3);\n\tconst { COLUMN_FADEIN_STATE_ID } = __webpack_require__(1);\n\n\tfunction isFadeinWhenCallbackInPromise(column, grid) {\n\t\tif (isDef(column._fadeinWhenCallbackInPromise)) {\n\t\t\treturn column._fadeinWhenCallbackInPromise;\n\t\t}\n\t\treturn !!grid.configure('fadeinWhenCallbackInPromise');\n\t}\n\n\tfunction getFadinState(grid) {\n\t\tif (!grid[COLUMN_FADEIN_STATE_ID]) {\n\t\t\tsetReadonly(grid, COLUMN_FADEIN_STATE_ID, {});\n\t\t}\n\t\treturn grid[COLUMN_FADEIN_STATE_ID];\n\t}\n\tfunction _generateFadinPointAction(grid, col, row, context, drawInternal, drawCellBase) {\n\t\treturn point => {\n\t\t\tconst state = getFadinState(grid);\n\t\t\tconst stateKey = col + ':' + row;\n\t\t\tif (point === 1) {\n\t\t\t\tdelete state[stateKey];\n\t\t\t} else {\n\t\t\t\tstate[stateKey] = {\n\t\t\t\t\topacity: point\n\t\t\t\t};\n\t\t\t}\n\t\t\tdrawCellBase();\n\n\t\t\tdrawInternal();\n\n\t\t\tconst cellState = state[stateKey];\n\t\t\tif (cellState) {\n\t\t\t\t//\n\t\t\t\tconst ctx = context.getContext();\n\t\t\t\tctx.globalAlpha = 1 - cellState.opacity;\n\t\t\t\ttry {\n\t\t\t\t\tdrawCellBase();\n\t\t\t\t} finally {\n\t\t\t\t\tctx.globalAlpha = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\tconst fadinMgr = {\n\t\tanimate(grid, col, row, context, drawInternal, drawCellBase) {\n\t\t\t// fadein animation\n\t\t\tconst state = getFadinState(grid);\n\n\t\t\tconst activeFadeins = [_generateFadinPointAction(grid, col, row, context, drawInternal, drawCellBase)];\n\t\t\tstate.activeFadeins = activeFadeins;\n\n\t\t\tanimate(500, point => {\n\t\t\t\tactiveFadeins.forEach(f => f(point));\n\t\t\t\tif (point === 1) {\n\t\t\t\t\tdelete state.activeFadeins;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tmargeAnimate(grid, col, row, context, drawInternal, drawCellBase) {\n\t\t\tconst state = getFadinState(grid);\n\t\t\tif (state.activeFadeins) {\n\t\t\t\tstate.activeFadeins.push(_generateFadinPointAction(grid, col, row, context, drawInternal, drawCellBase));\n\t\t\t} else {\n\t\t\t\tdrawInternal();\n\t\t\t}\n\t\t}\n\n\t};\n\n\tclass BaseColumn {\n\t\tconstructor(option = {}) {\n\t\t\tthis.onDrawCell = this.onDrawCell.bind(this); //\n\n\t\t\t//Promisecallback\n\t\t\tthis._fadeinWhenCallbackInPromise = option.fadeinWhenCallbackInPromise;\n\t\t}\n\t\tget StyleClass() {\n\t\t\treturn BaseStyle;\n\t\t}\n\t\tonDrawCell(cellValue, info, context, grid) {\n\t\t\tconst { style, getRecord, drawCellBase } = info;\n\t\t\tdelete info.getRecord;\n\t\t\tdelete info.style;\n\t\t\tconst helper = grid.getGridCanvasHelper();\n\t\t\tdrawCellBase();\n\n\t\t\t//\n\t\t\tif (isPromise(cellValue)) {\n\t\t\t\tif (context.drawing) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tconst start = Date.now();\n\t\t\t\treturn cellValue.then(val => {\n\t\t\t\t\tconst currentContext = context.toCurrentContext();\n\t\t\t\t\tconst drawRect = currentContext.getDrawRect();\n\t\t\t\t\tif (!drawRect) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tconst time = Date.now() - start;\n\n\t\t\t\t\tconst drawInternal = () => {\n\t\t\t\t\t\tconst currentContext = context.toCurrentContext();\n\t\t\t\t\t\tconst drawRect = currentContext.getDrawRect();\n\t\t\t\t\t\tif (!drawRect) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.drawInternal(this.convertInternal(val), currentContext, styleContents.of(style, getRecord(), this.StyleClass), helper, grid, info);\n\t\t\t\t\t};\n\n\t\t\t\t\tif (!isFadeinWhenCallbackInPromise(this, grid)) {\n\t\t\t\t\t\tdrawInternal(); //\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst { col, row } = context;\n\t\t\t\t\t\tif (time < 80) {\n\t\t\t\t\t\t\t//80msPromiseCallback\n\t\t\t\t\t\t\tfadinMgr.margeAnimate(grid, col, row, context, drawInternal, drawCellBase);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\tfadinMgr.animate(grid, col, row, context, drawInternal, drawCellBase);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.drawInternal(this.convertInternal(cellValue), context, styleContents.of(style, getRecord(), this.StyleClass), helper, grid, info);\n\t\t\t\t//\n\t\t\t\tconst { col, row } = context;\n\t\t\t\tconst stateKey = col + ':' + row;\n\t\t\t\tconst cellState = grid[COLUMN_FADEIN_STATE_ID] && grid[COLUMN_FADEIN_STATE_ID][stateKey];\n\t\t\t\tif (cellState) {\n\t\t\t\t\tconst ctx = context.getContext();\n\t\t\t\t\tctx.globalAlpha = 1 - cellState.opacity;\n\t\t\t\t\ttry {\n\t\t\t\t\t\tdrawCellBase();\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tctx.globalAlpha = 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t\tclone() {\n\t\t\treturn new BaseColumn(this);\n\t\t}\n\t\tconvertInternal(value) {\n\t\t\treturn isDef(value) ? value : '';\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, info) {}\n\t\tbindGridEvent(grid, col, util) {\n\t\t\treturn [];\n\t\t}\n\t}\n\tmodule.exports = BaseColumn;\n}\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst { isDef } = __webpack_require__(0);\nclass Inline {\n\tconstructor(content) {\n\t\tthis._content = isDef(content) ? content : '';\n\t}\n\twidth({ ctx }) {\n\t\treturn ctx.measureText(this._content).width;\n\t}\n\tfont() {\n\t\treturn null;\n\t}\n\tcolor() {\n\t\treturn null;\n\t}\n\tcanDraw() {\n\t\treturn true;\n\t}\n\tonReady(fn) {}\n\tdraw({\n\t\tctx,\n\t\tcanvashelper,\n\t\trect,\n\t\toffset,\n\t\toffsetLeft,\n\t\toffsetRight\n\t}) {\n\t\tcanvashelper.fillTextRect(ctx, this._content, rect.left, rect.top, rect.width, rect.height, {\n\t\t\toffset: offset + 1,\n\t\t\tpadding: {\n\t\t\t\tleft: offsetLeft,\n\t\t\t\tright: offsetRight\n\t\t\t}\n\t\t});\n\t}\n}\nmodule.exports = Inline;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst { isDef, obj: { each } } = __webpack_require__(0);\n\t//private symbol\n\tconst { _ } = __webpack_require__(1).get();\n\n\tlet nextId = 1;\n\t/**\r\n  * event target.\r\n  */\n\tclass EventTarget {\n\t\tconstructor() {\n\t\t\tthis[_] = {};\n\t\t\tthis[_].listeners = {};\n\t\t\tthis[_].listenerData = {};\n\t\t}\n\t\t/**\r\n   * Adds an event listener.\r\n   * @param  {string} type The event type id.\r\n   * @param  {function} listener Callback method.\r\n   * @return {number} unique id for the listener.\r\n   */\n\t\tlisten(type, listener) {\n\t\t\tconst list = this[_].listeners[type] || (this[_].listeners[type] = []);\n\t\t\tlist.push(listener);\n\n\t\t\tconst id = nextId++;\n\t\t\tthis[_].listenerData[id] = {\n\t\t\t\ttype,\n\t\t\t\tlistener,\n\t\t\t\tremove: () => {\n\t\t\t\t\tdelete this[_].listenerData[id];\n\t\t\t\t\tconst index = list.indexOf(listener);\n\t\t\t\t\tlist.splice(index, 1);\n\t\t\t\t\tif (!this[_].listeners[type].length) {\n\t\t\t\t\t\tdelete this[_].listeners[type];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn id;\n\t\t}\n\t\t/**\r\n   * Removes an event listener which was added with listen() by the id returned by listen().\r\n   * @param  {number} id the id returned by listen().\r\n   * @return {void}\r\n   */\n\t\tunlisten(id) {\n\t\t\tthis[_].listenerData[id].remove();\n\t\t}\n\t\taddEventListener(type, listener) {\n\t\t\tthis.listen(type, listener);\n\t\t}\n\t\tremoveEventListener(type, listener) {\n\t\t\teach(this[_].listenerData, (obj, id) => {\n\t\t\t\tif (obj.type === type && obj.listener === listener) {\n\t\t\t\t\tthis.unlisten(id);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\thasListeners(type) {\n\t\t\treturn !!this[_].listeners[type];\n\t\t}\n\t\t/**\r\n   * Fires all registered listeners\r\n   * @param  {string}    type The type of the listeners to fire.\r\n   * @param  {...*} args fire arguments\r\n   * @return {*} the result of the last listener\r\n   */\n\t\tfireListeners(type, ...args) {\n\t\t\tconst list = this[_].listeners[type];\n\t\t\tif (!list) {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t\treturn list.map(listener => listener.call(this, ...args)).filter(isDef);\n\t\t}\n\t\tdispose() {\n\t\t\tdelete this[_];\n\t\t}\n\t}\n\n\tmodule.exports = EventTarget;\n}\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports) {\n\n/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target) {\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = __webpack_require__(59);\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertInto + \" \" + options.insertAt.before);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\toptions.attrs.type = \"text/css\";\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\toptions.attrs.type = \"text/css\";\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\n\tconst BaseAction = __webpack_require__(16);\n\tclass Editor extends BaseAction {\n\t\tconstructor(option = {}) {\n\t\t\tsuper(option);\n\t\t\tthis._readOnly = option.readOnly;\n\t\t}\n\t\tget readOnly() {\n\t\t\treturn this._readOnly;\n\t\t}\n\t\tset readOnly(readOnly) {\n\t\t\tthis._readOnly = !!readOnly;\n\t\t}\n\t\tclone() {\n\t\t\treturn new Editor(this);\n\t\t}\n\t\tbindGridEvent(grid, col, util) {\n\t\t\treturn [];\n\t\t}\n\t}\n\tmodule.exports = Editor;\n}\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst BaseStyle = __webpack_require__(52);\n\tconst Style = __webpack_require__(112);\n\n\tconst style = {\n\t\tget BaseStyle() {\n\t\t\treturn BaseStyle;\n\t\t},\n\t\tget Style() {\n\t\t\treturn Style;\n\t\t},\n\t\tof(columnStyle, StyleClass) {\n\t\t\tif (columnStyle) {\n\t\t\t\tif (columnStyle instanceof Style) {\n\t\t\t\t\treturn columnStyle;\n\t\t\t\t} else if (typeof columnStyle === 'function') {\n\t\t\t\t\treturn style.of(columnStyle(), StyleClass);\n\t\t\t\t}\n\t\t\t\treturn new StyleClass(columnStyle);\n\t\t\t} else {\n\t\t\t\treturn StyleClass.DEFAULT;\n\t\t\t}\n\t\t}\n\t};\n\tmodule.exports = style;\n}\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction parse(calcStr) {\n\tfunction replacer(match, num, unit) {\n\t\tswitch (unit) {\n\t\t\tcase '%':\n\t\t\t\treturn `(${num} * this.full / 100)`;\n\t\t\tcase 'em':\n\t\t\t\treturn `(${num} * this.em)`;\n\t\t\tcase 'px':\n\t\t\t\treturn `(${num})`;\n\t\t\tdefault:\n\t\t\t\tthrow new Error('calc error');\n\t\t}\n\t}\n\tconst script = calcStr.replace(/^calc\\((.*)\\)$/, '$1').replace(/(\\d+)([A-Za-z%]+)/g, replacer).replace(/(\\d*\\.\\d+)([A-Za-z%]+)/g, replacer);\n\treturn {\n\t\teval(context) {\n\t\t\treturn (() => {\n\t\t\t\tfunction calc(v) {\n\t\t\t\t\t// eslint-disable-line no-unused-vars\n\t\t\t\t\treturn v;\n\t\t\t\t}\n\t\t\t\treturn eval(script); // eslint-disable-line no-eval\n\t\t\t}).call(context);\n\t\t}\n\t};\n}\nfunction toPx(value, context) {\n\tif (/^calc\\(.*\\)$/.test(value)) {\n\t\treturn parse(value).eval(context);\n\t}\n\tif (/^[+-]?\\d+\\.?\\d*%$/.test(value)) {\n\t\treturn context.full * value.substr(0, value.length - 1) / 100;\n\t}\n\tif (/^[+-]?\\d+\\.?\\d*px$/.test(value)) {\n\t\treturn value.substr(0, value.length - 2) - 0;\n\t}\n\tif (/^[+-]?\\d+\\.?\\d*em$/.test(value)) {\n\t\treturn context.em * (value.substr(0, value.length - 2) - 0);\n\t}\n\treturn value - 0;\n}\n\nmodule.exports = {\n\tparse,\n\ttoPx(value, context) {\n\t\tif (typeof value === 'string') {\n\t\t\treturn toPx(value.trim(), context);\n\t\t}\n\t\treturn value - 0;\n\t}\n};\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\n\tclass BaseAction {\n\t\tconstructor(option = {}) {\n\t\t\tthis._disabled = option.disabled;\n\t\t}\n\t\tget disabled() {\n\t\t\treturn this._disabled;\n\t\t}\n\t\tset disabled(disabled) {\n\t\t\tthis._disabled = !!disabled;\n\t\t}\n\t\tclone() {\n\t\t\treturn new BaseAction(this);\n\t\t}\n\t\tbindGridEvent(grid, col, util) {\n\t\t\treturn [];\n\t\t}\n\t}\n\tmodule.exports = BaseAction;\n}\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst { isDef } = __webpack_require__(0);\n\nfunction createElement(tagName, { classList, text, html } = {}) {\n\tconst element = document.createElement(tagName);\n\tif (classList) {\n\t\tif (__webpack_provided_Array_dot_isArray(classList)) {\n\t\t\telement.classList.add(...classList);\n\t\t} else {\n\t\t\telement.classList.add(classList);\n\t\t}\n\t}\n\tif (text) {\n\t\telement.textContent = text;\n\t} else if (html) {\n\t\telement.innerHTML = html;\n\t}\n\treturn element;\n}\n\nfunction empty(dom) {\n\tlet c;\n\twhile (c = dom.firstChild) {\n\t\tdom.removeChild(c);\n\t}\n}\nfunction isNode(arg) {\n\treturn !!(arg.nodeType && arg.nodeName);\n}\nfunction toNode(arg) {\n\tif (isNode(arg)) {\n\t\treturn arg;\n\t}\n\tconst dom = createElement('div', { html: arg });\n\treturn Array.prototype.slice.call(dom.childNodes);\n}\nfunction toNodeList(arg) {\n\tif (window.jQuery && arg instanceof window.jQuery) {\n\t\treturn Array.prototype.map.call(arg, a => a);\n\t}\n\tif (__webpack_provided_Array_dot_isArray(arg)) {\n\t\treturn arg.map(toNode);\n\t}\n\treturn [toNode(arg)];\n}\n\nfunction appendHtml(dom, inner) {\n\ttoNodeList(inner).forEach(node => {\n\t\tdom.appendChild(node);\n\t});\n}\n\nfunction disableFocus(el) {\n\tel.dataset.disableBeforeTabIndex = el.tabIndex;\n\tel.tabIndex = -1;\n\tArray.prototype.slice.call(el.children, 0).forEach(disableFocus);\n}\nfunction enableFocus(el) {\n\tif ('disableBeforeTabIndex' in el.dataset) {\n\t\tel.tabIndex = el.dataset.disableBeforeTabIndex;\n\t}\n\tArray.prototype.slice.call(el.children, 0).forEach(enableFocus);\n}\n\nfunction isFocusable(el) {\n\treturn isDef(el.tabIndex) && el.tabIndex > -1;\n}\nfunction findPrevSiblingFocusable(el) {\n\tlet n = el.previousSibling;\n\twhile (n && !isFocusable(n)) {\n\t\tn = n.previousSibling;\n\t}\n\treturn n;\n}\nfunction findNextSiblingFocusable(el) {\n\tlet n = el.nextSibling;\n\twhile (n && !isFocusable(n)) {\n\t\tn = n.nextSibling;\n\t}\n\treturn n;\n}\n\nmodule.exports = {\n\tcreateElement,\n\tempty,\n\tisNode,\n\ttoNode,\n\ttoNodeList,\n\tappendHtml,\n\tdisableFocus,\n\tenableFocus,\n\tisFocusable,\n\tfindPrevSiblingFocusable,\n\tfindNextSiblingFocusable\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst BaseStyle = __webpack_require__(19);\n\n\tlet defaultStyle;\n\tclass StdBaseStyle extends BaseStyle {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : defaultStyle = new StdBaseStyle();\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(style);\n\t\t\tthis._textAlign = style.textAlign || 'left';\n\t\t\tthis._textBaseline = style.textBaseline || 'middle';\n\t\t}\n\t\tget textAlign() {\n\t\t\treturn this._textAlign;\n\t\t}\n\t\tset textAlign(textAlign) {\n\t\t\tthis._textAlign = textAlign;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget textBaseline() {\n\t\t\treturn this._textBaseline;\n\t\t}\n\t\tset textBaseline(textBaseline) {\n\t\t\tthis._textBaseline = textBaseline;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tclone() {\n\t\t\treturn new StdBaseStyle(this);\n\t\t}\n\t}\n\tmodule.exports = StdBaseStyle;\n}\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst EventTarget = __webpack_require__(10);\n\n\tconst EVENT_TYPE = {\n\t\tCHANGE_STYLE: 'change_style'\n\t};\n\n\tlet defaultStyle;\n\tclass BaseStyle extends EventTarget {\n\t\tstatic get EVENT_TYPE() {\n\t\t\treturn EVENT_TYPE;\n\t\t}\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : defaultStyle = new BaseStyle();\n\t\t}\n\t\tconstructor({\n\t\t\tbgColor\n\t\t} = {}) {\n\t\t\tsuper();\n\t\t\tthis._bgColor = bgColor;\n\t\t}\n\t\tget bgColor() {\n\t\t\treturn this._bgColor;\n\t\t}\n\t\tset bgColor(bgColor) {\n\t\t\tthis._bgColor = bgColor;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tdoChangeStyle() {\n\t\t\tthis.fireListeners(EVENT_TYPE.CHANGE_STYLE);\n\t\t}\n\t\tclone() {\n\t\t\treturn new BaseStyle(this);\n\t\t}\n\t}\n\tmodule.exports = BaseStyle;\n}\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst { isPromise } = __webpack_require__(0);\n\tconst icons = __webpack_require__(21);\n\n\tmodule.exports = {\n\t\tloadIcons(icon, context, helper, callback) {\n\t\t\tif (icon) {\n\t\t\t\tif (isPromise(icon)) {\n\t\t\t\t\ticon.then(i => {\n\t\t\t\t\t\tthis.loadIcon(i, context.toCurrentContext(), callback);\n\t\t\t\t\t});\n\t\t\t\t\ticon = null;\n\t\t\t\t} else {\n\t\t\t\t\tconst iconList = icons.toNormarizeArray(icon);\n\t\t\t\t\ticonList.forEach(i => {\n\t\t\t\t\t\thelper.testFontLoad(i.font, i.content, context);\n\t\t\t\t\t});\n\t\t\t\t\ticon = iconList;\n\t\t\t\t}\n\t\t\t}\n\t\t\tcallback(icon, context);\n\t\t}\n\t};\n}\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst { isDef } = __webpack_require__(0);\n\nconst ICON_PROP_KEYS = ['content', 'font', 'color', 'className', 'isLiga', 'width', 'src', 'svg', 'name', 'path'];\n\nfunction quote(name) {\n\tconst quoted = [];\n\tconst split = name.split(/,\\s*/);\n\tfor (let i = 0; i < split.length; i++) {\n\t\tconst part = split[i].replace(/['\"]/g, '');\n\t\tif (part.indexOf(' ') === -1 && !/^\\d/.test(part)) {\n\t\t\tquoted.push(part);\n\t\t} else {\n\t\t\tquoted.push('\\'' + part + '\\'');\n\t\t}\n\t}\n\treturn quoted.join(',');\n}\n\nconst doms = {};\nconst props = {};\n\nfunction getIconProps(tagName, className) {\n\tconst tagProps = props[tagName] || (props[tagName] = {});\n\tif (tagProps[className]) {\n\t\treturn tagProps[className];\n\t}\n\tconst dom = doms[tagName] || (doms[tagName] = document.createElement(tagName));\n\tdom.className = className;\n\tdocument.body.appendChild(dom);\n\ttry {\n\t\tconst beforeStyle = document.defaultView.getComputedStyle(dom, '::before');\n\t\tlet content = beforeStyle.getPropertyValue('content');\n\t\tif (content.length >= 3 && (content[0] === '\"' || content[0] === '\\'')) {\n\t\t\tif (content[0] === content[content.length - 1]) {\n\t\t\t\tcontent = content.substr(1, content.length - 2);\n\t\t\t}\n\t\t}\n\t\tlet font = beforeStyle.getPropertyValue('font');\n\t\tif (!font) {\n\t\t\tfont = beforeStyle.getPropertyValue('font-style') + ' ' + beforeStyle.getPropertyValue('font-variant') + ' ' + beforeStyle.getPropertyValue('font-weight') + ' ' + beforeStyle.getPropertyValue('font-size') + '/' + beforeStyle.getPropertyValue('line-height') + ' ' + quote(beforeStyle.getPropertyValue('font-family'));\n\t\t}\n\t\tconst color = beforeStyle.getPropertyValue('color');\n\t\tconst width = dom.clientWidth;\n\t\tconst isLiga = (beforeStyle.getPropertyValue('font-feature-settings') || '').indexOf('liga') > -1;\n\n\t\treturn tagProps[className] = {\n\t\t\tcontent,\n\t\t\tfont,\n\t\t\tcolor,\n\t\t\twidth,\n\t\t\tisLiga\n\t\t};\n\t} finally {\n\t\tdocument.body.removeChild(dom);\n\t}\n}\n\nfunction toPropArray(prop, count) {\n\tconst result = [];\n\tif (__webpack_provided_Array_dot_isArray(prop)) {\n\t\tresult.push(...prop);\n\t\tfor (let i = prop.length; i < count; i++) {\n\t\t\tresult.push(null);\n\t\t}\n\t} else {\n\t\tfor (let i = 0; i < count; i++) {\n\t\t\tresult.push(prop);\n\t\t}\n\t}\n\treturn result;\n}\n\nfunction toSimpleArray(iconProps) {\n\tif (!iconProps) {\n\t\treturn iconProps;\n\t} else if (__webpack_provided_Array_dot_isArray(iconProps)) {\n\t\treturn iconProps;\n\t}\n\n\tconst workData = {};\n\n\tlet count = 0;\n\tICON_PROP_KEYS.forEach(k => {\n\t\tif (iconProps[k]) {\n\t\t\tif (__webpack_provided_Array_dot_isArray(iconProps[k])) {\n\t\t\t\tcount = Math.max(count, iconProps[k].length);\n\t\t\t} else {\n\t\t\t\tcount = Math.max(count, 1);\n\t\t\t}\n\t\t}\n\t});\n\n\tICON_PROP_KEYS.forEach(k => {\n\t\tworkData[k] = toPropArray(iconProps[k], count);\n\t});\n\n\tconst result = [];\n\tfor (let i = 0; i < count; i++) {\n\t\tconst data = {};\n\t\tICON_PROP_KEYS.forEach(k => {\n\t\t\tdata[k] = workData[k][i];\n\t\t});\n\t\tresult.push(data);\n\t}\n\treturn result;\n}\n\nfunction normarize(iconProps) {\n\tconst data = {};\n\tfor (const k in iconProps) {\n\t\tif (k === 'className') {\n\t\t\tcontinue;\n\t\t}\n\t\tdata[k] = iconProps[k];\n\t}\n\tif (iconProps.className) {\n\t\tconst prop = getIconProps(iconProps.tagName || 'i', iconProps.className);\n\t\tfor (const k in prop) {\n\t\t\tif (!isDef(iconProps[k])) {\n\t\t\t\tdata[k] = prop[k];\n\t\t\t}\n\t\t}\n\t}\n\treturn data;\n}\n\nmodule.exports = {\n\ttoNormarizeArray(iconProps) {\n\t\tconst icons = toSimpleArray(iconProps);\n\t\tif (!icons) {\n\t\t\treturn icons;\n\t\t}\n\t\treturn icons.map(icon => normarize(icon));\n\t},\n\tget iconPropKeys() {\n\t\treturn ICON_PROP_KEYS;\n\t},\n\tgetIconProps\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst { extend, getIgnoreCase } = __webpack_require__(0);\n\tconst theme = __webpack_require__(89);\n\tconst plugins = __webpack_require__(42);\n\tconst BASIC = theme.create(__webpack_require__(90));\n\tconst MATERIAL_DESIGN = theme.create(__webpack_require__(41));\n\n\tconst builtin = {\n\t\tBASIC,\n\t\tMATERIAL_DESIGN\n\t};\n\tlet defTheme = theme.create({});\n\t/**\r\n  * themes\r\n  * @type {Object}\r\n  * @namespace cheetahGrid.themes\r\n  * @memberof cheetahGrid\r\n  */\n\tconst themes = {\n\t\tget default() {\n\t\t\treturn defTheme;\n\t\t},\n\t\tset default(defaultTheme) {\n\t\t\tdefTheme = defaultTheme;\n\t\t},\n\t\ttheme,\n\t\tof(value) {\n\t\t\tif (!value) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (typeof value === 'string') {\n\t\t\t\tconst t = getIgnoreCase(themes.choices, value);\n\t\t\t\tif (t) {\n\t\t\t\t\treturn t;\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn value;\n\t\t},\n\t\t/**\r\n   * @namespace cheetahGrid.themes.choices\r\n   */\n\t\tget choices() {\n\t\t\treturn extend(builtin, plugins);\n\t\t}\n\t};\n\tmodule.exports = themes;\n}\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction getPath2D() {\n\t//return require('./legacy/canvas/Path2D');\n\treturn window.Path2D || __webpack_require__(100);\n}\n\nmodule.exports = {\n\tfill(module, ctx, x, y, w, h) {\n\t\tctx.save();\n\t\ttry {\n\t\t\tconst { width, height } = module;\n\t\t\tconst { ud: upsideDown, x: offsetX = 0, y: offsetY = 0 } = module;\n\t\t\tw = w || width;\n\t\t\th = h || height;\n\t\t\tconst xrate = w / width;\n\t\t\tconst yrate = h / (upsideDown ? -height : height);\n\t\t\tx = x || 0;\n\t\t\ty = upsideDown ? (y || 0) + -height * yrate : y || 0;\n\n\t\t\tctx.translate(x, y);\n\t\t\tctx.scale(xrate, yrate);\n\t\t\tif (offsetX !== 0 || offsetY !== 0) {\n\t\t\t\tctx.translate(offsetX, offsetY);\n\t\t\t}\n\t\t\tconst Path2D = getPath2D();\n\t\t\tmodule.path2d = module.path2d || new Path2D(module.d);\n\t\t\tctx.fill(module.path2d);\n\t\t} finally {\n\t\t\tctx.restore();\n\t\t}\n\t},\n\tget Path2D() {\n\t\treturn getPath2D();\n\t}\n};\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tclass Rect {\n\t\tconstructor(left, top, width, height) {\n\t\t\tthis._left = left;\n\t\t\tthis._top = top;\n\t\t\tthis._width = width;\n\t\t\tthis._height = height;\n\t\t}\n\t\tstatic bounds(left, top, right, bottom) {\n\t\t\treturn new Rect(left, top, right - left, bottom - top);\n\t\t}\n\t\tstatic max(rect1, rect2) {\n\t\t\treturn Rect.bounds(Math.min(rect1.left, rect2.left), Math.min(rect1.top, rect2.top), Math.max(rect1.right, rect2.right), Math.max(rect1.bottom, rect2.bottom));\n\t\t}\n\t\tget left() {\n\t\t\treturn this._left;\n\t\t}\n\t\tset left(left) {\n\t\t\tconst right = this.right;\n\t\t\tthis._left = left;\n\t\t\tthis.right = right;\n\t\t}\n\t\tget top() {\n\t\t\treturn this._top;\n\t\t}\n\t\tset top(top) {\n\t\t\tconst bottom = this.bottom;\n\t\t\tthis._top = top;\n\t\t\tthis.bottom = bottom;\n\t\t}\n\t\tget width() {\n\t\t\treturn this._width;\n\t\t}\n\t\tset width(width) {\n\t\t\tthis._width = width;\n\t\t\tthis._right = undefined;\n\t\t}\n\t\tget height() {\n\t\t\treturn this._height;\n\t\t}\n\t\tset height(height) {\n\t\t\tthis._height = height;\n\t\t\tthis._bottom = undefined;\n\t\t}\n\t\tget right() {\n\t\t\treturn this._right !== undefined ? this._right : this._right = this.left + this.width;\n\t\t}\n\t\tset right(right) {\n\t\t\tthis._right = right;\n\t\t\tthis.width = right - this.left;\n\t\t}\n\t\tget bottom() {\n\t\t\treturn this._bottom !== undefined ? this._bottom : this._bottom = this.top + this.height;\n\t\t}\n\t\tset bottom(bottom) {\n\t\t\tthis._bottom = bottom;\n\t\t\tthis.height = bottom - this.top;\n\t\t}\n\t\toffsetLeft(offset) {\n\t\t\tthis._left += offset;\n\t\t\tthis._right = undefined;\n\t\t}\n\t\toffsetTop(offset) {\n\t\t\tthis._top += offset;\n\t\t\tthis._bottom = undefined;\n\t\t}\n\t\tcopy() {\n\t\t\treturn new Rect(this.left, this.top, this.width, this.height);\n\t\t}\n\t\tintersection(rect) {\n\t\t\tconst x0 = Math.max(this.left, rect.left);\n\t\t\tconst x1 = Math.min(this.left + this.width, rect.left + rect.width);\n\t\t\tif (x0 <= x1) {\n\t\t\t\tconst y0 = Math.max(this.top, rect.top);\n\t\t\t\tconst y1 = Math.min(this.top + this.height, rect.top + rect.height);\n\t\t\t\tif (y0 <= y1) {\n\t\t\t\t\treturn Rect.bounds(x0, y0, x1, y1);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t\tcontains(another) {\n\t\t\treturn this.left <= another.left && this.left + this.width >= another.left + another.width && this.top <= another.top && this.top + this.height >= another.top + another.height;\n\t\t}\n\t\tinPoint(x, y) {\n\t\t\treturn this.left <= x && this.left + this.width >= x && this.top <= y && this.top + this.height >= y;\n\t\t}\n\t}\n\tmodule.exports = Rect;\n}\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tfunction getScrollBarWidth() {\n\t\tconst dummy = document.createElement('div');\n\t\tconst { style } = dummy;\n\t\tstyle.position = 'absolute';\n\t\tstyle.height = '9999px';\n\t\tstyle.width = 'calc(100vw - 100%)';\n\t\tstyle.opacity = 0;\n\t\tdummy.textContent = 'x';\n\t\tdocument.body.appendChild(dummy);\n\t\tconst { width } = document.defaultView.getComputedStyle(dummy, '');\n\t\tdocument.body.removeChild(dummy);\n\t\treturn parseInt(width, 10);\n\t}\n\n\tlet SCROLLBAR_SIZE;\n\tconst initDocument = () => {\n\t\t__webpack_require__(57);\n\t\tSCROLLBAR_SIZE = getScrollBarWidth() || 10;\n\t\tconst style = document.createElement('style');\n\t\tstyle.setAttribute('type', 'text/css');\n\t\tstyle.setAttribute('data-name', 'cheetah-grid');\n\t\tstyle.innerHTML = `\n.cheetah-grid .grid-scroll-end-point {\n\twidth: ${SCROLLBAR_SIZE}px;\n\theight: ${SCROLLBAR_SIZE}px;\n}\n.cheetah-grid > canvas {\n\twidth: -webkit-calc(100% - ${SCROLLBAR_SIZE}px);\n\twidth: calc(100% - ${SCROLLBAR_SIZE}px);\n\theight: -webkit-calc(100% - ${SCROLLBAR_SIZE}px);\n\theight: calc(100% - ${SCROLLBAR_SIZE}px);\n}\n\t\t`;\n\n\t\tdocument.head.appendChild(style);\n\t};\n\n\tconst style = {\n\t\tinitDocument() {\n\t\t\tstyle.initDocument = () => {};\n\t\t\tinitDocument();\n\t\t},\n\t\tgetScrollBarSize() {\n\t\t\treturn SCROLLBAR_SIZE;\n\t\t}\n\t};\n\n\tmodule.exports = style;\n}\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst { calcBasePosition, calcStartPosition } = __webpack_require__(6);\n\tconst { ceil, PI } = Math;\n\n\tfunction strokeColorsRect(ctx, borderColors, left, top, width, height) {\n\t\tfunction strokeRectLines(positions) {\n\t\t\tfor (let i = 0; i < borderColors.length; i++) {\n\t\t\t\tconst color = borderColors[i];\n\t\t\t\tconst preColor = borderColors[i - 1];\n\t\t\t\tif (color) {\n\t\t\t\t\tif (preColor !== color) {\n\t\t\t\t\t\tif (preColor) {\n\t\t\t\t\t\t\tctx.strokeStyle = preColor;\n\t\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst pos1 = positions[i];\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tctx.moveTo(pos1.x, pos1.y);\n\t\t\t\t\t}\n\t\t\t\t\tconst pos2 = positions[i + 1];\n\t\t\t\t\tctx.lineTo(pos2.x, pos2.y);\n\t\t\t\t} else {\n\t\t\t\t\tif (preColor) {\n\t\t\t\t\t\tctx.strokeStyle = preColor;\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst preColor = borderColors[borderColors.length - 1];\n\t\t\tif (preColor) {\n\t\t\t\tctx.strokeStyle = preColor;\n\t\t\t\tctx.stroke();\n\t\t\t}\n\t\t}\n\t\tif (borderColors[0] === borderColors[1] && borderColors[0] === borderColors[2] && borderColors[0] === borderColors[3]) {\n\t\t\tif (borderColors[0]) {\n\t\t\t\tctx.strokeStyle = borderColors[0];\n\t\t\t\tctx.strokeRect(left, top, width, height);\n\t\t\t}\n\t\t} else {\n\t\t\tstrokeRectLines([{ x: left, y: top }, { x: left + width, y: top }, { x: left + width, y: top + height }, { x: left, y: top + height }, { x: left, y: top }]);\n\t\t}\n\t}\n\tfunction roundRect(ctx, left, top, width, height, radius) {\n\t\tctx.beginPath();\n\t\tctx.arc(left + radius, top + radius, radius, -PI, -0.5 * PI, false);\n\t\tctx.arc(left + width - radius, top + radius, radius, -0.5 * PI, 0, false);\n\t\tctx.arc(left + width - radius, top + height - radius, radius, 0, 0.5 * PI, false);\n\t\tctx.arc(left + radius, top + height - radius, radius, 0.5 * PI, PI, false);\n\t\tctx.closePath();\n\t}\n\tfunction fillRoundRect(ctx, left, top, width, height, radius) {\n\t\troundRect(ctx, left, top, width, height, radius);\n\t\tctx.fill();\n\t}\n\tfunction strokeRoundRect(ctx, left, top, width, height, radius) {\n\t\troundRect(ctx, left, top, width, height, radius);\n\t\tctx.stroke();\n\t}\n\tfunction fillTextRect(ctx, text, left, top, width, height, {\n\t\toffset = 2,\n\t\tpadding\n\t} = {}) {\n\t\tconst rect = {\n\t\t\tleft,\n\t\t\ttop,\n\t\t\twidth,\n\t\t\theight,\n\t\t\tright: left + width,\n\t\t\tbottom: top + height\n\t\t};\n\t\tctx.save();\n\t\ttry {\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\n\t\t\t//clip\n\t\t\tctx.clip();\n\n\t\t\t//\n\t\t\tconst pos = calcBasePosition(ctx, rect, {\n\t\t\t\toffset,\n\t\t\t\tpadding\n\t\t\t});\n\n\t\t\tctx.fillText(text, pos.x, pos.y);\n\t\t} finally {\n\t\t\tctx.restore();\n\t\t}\n\t}\n\tfunction drawInlineImageRect(ctx, image, srcLeft, srcTop, srcWidth, srcHeight, destWidth, destHeight, left, top, width, height, {\n\t\toffset = 2,\n\t\tpadding\n\t} = {}) {\n\t\tconst rect = {\n\t\t\tleft,\n\t\t\ttop,\n\t\t\twidth,\n\t\t\theight,\n\t\t\tright: left + width,\n\t\t\tbottom: top + height\n\t\t};\n\t\tctx.save();\n\t\ttry {\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\n\t\t\t//clip\n\t\t\tctx.clip();\n\n\t\t\t//\n\t\t\tconst pos = calcStartPosition(ctx, rect, destWidth, destHeight, {\n\t\t\t\toffset,\n\t\t\t\tpadding\n\t\t\t});\n\n\t\t\tctx.drawImage(image, srcLeft, srcTop, srcWidth, srcHeight, pos.x, pos.y, destWidth, destHeight);\n\t\t} finally {\n\t\t\tctx.restore();\n\t\t}\n\t}\n\n\t/**\r\n  * Returns an object containing the width of the checkbox.\r\n  * @param  {CanvasRenderingContext2D} ctx canvas context\r\n  * @return {Object} Object containing the width of the checkbox\r\n  * @memberof cheetahGrid.tools.canvashelper\r\n  */\n\tfunction measureCheckbox(ctx) {\n\t\treturn {\n\t\t\twidth: ctx.measureText('').width\n\t\t};\n\t}\n\n\t/**\r\n  * draw Checkbox\r\n  * @param  {CanvasRenderingContext2D} ctx canvas context\r\n  * @param  {number} x The x coordinate where to start drawing the checkbox (relative to the canvas)\r\n  * @param  {number} y The y coordinate where to start drawing the checkbox (relative to the canvas)\r\n  * @param  {boolean|number} check checkbox check status\r\n  * @param  {object} option option\r\n  * @return {void}\r\n  * @memberof cheetahGrid.tools.canvashelper\r\n  */\n\tfunction drawCheckbox(ctx, x, y, check, {\n\t\tuncheckBgColor = '#FFF',\n\t\tcheckBgColor = 'rgb(76, 73, 72)',\n\t\tborderColor = '#000',\n\t\tboxSize = measureCheckbox(ctx).width\n\t} = {}) {\n\t\tconst checkPoint = typeof check === 'number' ? check > 1 ? 1 : check : 1;\n\n\t\tctx.save();\n\t\ttry {\n\t\t\tctx.fillStyle = check ? checkBgColor : uncheckBgColor;\n\n\t\t\tfillRoundRect(ctx, ceil(x) - 1, ceil(y) - 1, ceil(boxSize + 1), ceil(boxSize + 1), boxSize / 5);\n\t\t\tctx.lineWidth = 1;\n\t\t\tctx.strokeStyle = borderColor;\n\t\t\tstrokeRoundRect(ctx, ceil(x) - 0.5, ceil(y) - 0.5, ceil(boxSize), ceil(boxSize), boxSize / 5);\n\t\t\tif (check) {\n\t\t\t\tctx.lineWidth = ceil(boxSize / 10);\n\t\t\t\tctx.strokeStyle = uncheckBgColor;\n\t\t\t\tlet leftWidth = boxSize / 4;\n\t\t\t\tlet rightWidth = boxSize / 2 * 0.9;\n\t\t\t\tconst leftLeftPos = x + boxSize * 0.2;\n\t\t\t\tconst leftTopPos = y + boxSize / 2;\n\n\t\t\t\tif (checkPoint < 0.5) {\n\t\t\t\t\tleftWidth = leftWidth * (checkPoint * 2);\n\t\t\t\t}\n\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.moveTo(leftLeftPos, leftTopPos);\n\t\t\t\tctx.lineTo(leftLeftPos + leftWidth, leftTopPos + leftWidth);\n\t\t\t\tif (checkPoint > 0.5) {\n\t\t\t\t\tif (checkPoint < 1) {\n\t\t\t\t\t\trightWidth = rightWidth * ((checkPoint - 0.5) * 2);\n\t\t\t\t\t}\n\t\t\t\t\tctx.lineTo(leftLeftPos + leftWidth + rightWidth, leftTopPos + leftWidth - rightWidth);\n\t\t\t\t}\n\t\t\t\tctx.stroke();\n\t\t\t}\n\t\t} finally {\n\t\t\tctx.restore();\n\t\t}\n\t}\n\tfunction drawButton(ctx, left, top, width, height, option = {}) {\n\t\tconst {\n\t\t\tbackgroundColor = '#FFF',\n\t\t\tbgColor = backgroundColor,\n\t\t\tradius = 4,\n\t\t\tshadow = {}\n\t\t} = option;\n\t\tctx.save();\n\t\ttry {\n\t\t\tctx.fillStyle = bgColor;\n\n\t\t\tif (shadow) {\n\t\t\t\tconst {\n\t\t\t\t\tcolor = 'rgba(0, 0, 0, 0.24)',\n\t\t\t\t\tblur = 1,\n\t\t\t\t\toffsetX = 0,\n\t\t\t\t\toffsetY = 2,\n\t\t\t\t\toffset: {\n\t\t\t\t\t\tx: ox = offsetX,\n\t\t\t\t\t\ty: oy = offsetY\n\t\t\t\t\t} = {}\n\t\t\t\t} = shadow;\n\t\t\t\tctx.shadowColor = color;\n\t\t\t\tctx.shadowBlur = blur; //\n\t\t\t\tctx.shadowOffsetX = ox;\n\t\t\t\tctx.shadowOffsetY = oy;\n\t\t\t}\n\n\t\t\tfillRoundRect(ctx, ceil(left), ceil(top), ceil(width), ceil(height), radius);\n\t\t} finally {\n\t\t\tctx.restore();\n\t\t}\n\t}\n\n\t/**\r\n  * canvashelper\r\n  * @type {Object}\r\n  * @namespace cheetahGrid.tools.canvashelper\r\n  * @memberof cheetahGrid.tools\r\n  */\n\tconst canvashelper = {\n\t\troundRect,\n\t\tfillRoundRect,\n\t\tstrokeRoundRect,\n\t\tdrawCheckbox,\n\t\tmeasureCheckbox,\n\t\tfillTextRect,\n\t\tdrawButton,\n\t\tdrawInlineImageRect,\n\t\tstrokeColorsRect\n\t};\n\n\tmodule.exports = canvashelper;\n}\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst action = __webpack_require__(63);\n\tconst type = __webpack_require__(78);\n\tconst style = __webpack_require__(33);\n\n\t/**\r\n  * columns\r\n  * @type {Object}\r\n  * @namespace cheetahGrid.columns\r\n  * @memberof cheetahGrid\r\n  */\n\tmodule.exports = {\n\t\taction,\n\t\ttype,\n\t\tstyle\n\t};\n}\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\n\tconst { bindCellClickAction, bindCellKeyAction } = __webpack_require__(29);\n\n\tconst BaseAction = __webpack_require__(16);\n\n\tclass Action extends BaseAction {\n\t\tconstructor(option = {}) {\n\t\t\tsuper(option);\n\t\t\tthis._action = option.action;\n\t\t}\n\t\tget action() {\n\t\t\treturn this._action;\n\t\t}\n\t\tset action(action) {\n\t\t\tthis._action = action;\n\t\t}\n\t\tclone() {\n\t\t\treturn new Action(this);\n\t\t}\n\t\tgetState(grid) {\n\t\t\treturn {};\n\t\t}\n\t\tbindGridEvent(grid, col, util) {\n\t\t\tconst state = this.getState(grid);\n\t\t\tconst action = cell => {\n\t\t\t\tif (this.disabled) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst record = grid.getRowRecord(cell.row);\n\t\t\t\tthis._action(record);\n\t\t\t};\n\n\t\t\treturn [...bindCellClickAction(grid, col, util, {\n\t\t\t\taction,\n\t\t\t\tmouseOver: e => {\n\t\t\t\t\tif (this.disabled) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tstate.mouseActiveCell = {\n\t\t\t\t\t\tcol: e.col,\n\t\t\t\t\t\trow: e.row\n\t\t\t\t\t};\n\t\t\t\t\tgrid.invalidateCell(e.col, e.row);\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\t\t\tmouseOut: e => {\n\t\t\t\t\tdelete state.mouseActiveCell;\n\t\t\t\t\tgrid.invalidateCell(e.col, e.row);\n\t\t\t\t}\n\t\t\t}), ...bindCellKeyAction(grid, col, util, {\n\t\t\t\taction\n\t\t\t})];\n\t\t}\n\t}\n\n\tmodule.exports = Action;\n}\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\n\tconst { isPromise, event: { cancel } } = __webpack_require__(0);\n\tconst { EVENT_TYPE: {\n\t\t\tCLICK_CELL,\n\t\t\tMOUSEOVER_CELL,\n\t\t\tMOUSEOUT_CELL,\n\t\t\tKEYDOWN\n\t\t} } = __webpack_require__(4);\n\tconst KEY_ENTER = 13;\n\tfunction bindCellClickAction(grid, col, util, {\n\t\taction,\n\t\tmouseOver,\n\t\tmouseOut\n\t}) {\n\t\treturn [\n\t\t// click\n\t\tgrid.listen(CLICK_CELL, e => {\n\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (isPromise(grid.getRowRecord(e.row))) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\taction({\n\t\t\t\tcol: e.col,\n\t\t\t\trow: e.row\n\t\t\t});\n\t\t}),\n\t\t// mouse move\n\t\tgrid.listen(MOUSEOVER_CELL, e => {\n\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (isPromise(grid.getRowRecord(e.row))) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (mouseOver) {\n\t\t\t\tif (!mouseOver({\n\t\t\t\t\tcol: e.col,\n\t\t\t\t\trow: e.row\n\t\t\t\t})) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tgrid.getElement().style.cursor = 'pointer';\n\t\t}), grid.listen(MOUSEOUT_CELL, e => {\n\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (mouseOut) {\n\t\t\t\tmouseOut({\n\t\t\t\t\tcol: e.col,\n\t\t\t\t\trow: e.row\n\t\t\t\t});\n\t\t\t}\n\t\t\tgrid.getElement().style.cursor = '';\n\t\t})];\n\t}\n\tfunction bindCellKeyAction(grid, col, util, { action, acceptKeys = [] }) {\n\t\tacceptKeys = [...acceptKeys, KEY_ENTER];\n\t\treturn [\n\t\t// enter key down\n\t\tgrid.listen(KEYDOWN, (keyCode, e) => {\n\t\t\tif (acceptKeys.indexOf(keyCode) === -1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst sel = grid.selection.select;\n\t\t\tif (!util.isTarget(sel.col, sel.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (isPromise(grid.getRowRecord(sel.row))) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\taction({\n\t\t\t\tcol: sel.col,\n\t\t\t\trow: sel.row\n\t\t\t});\n\t\t\tcancel(e);\n\t\t})];\n\t}\n\n\tmodule.exports = {\n\t\tbindCellClickAction,\n\t\tbindCellKeyAction\n\t};\n}\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tfunction cubicBezier(x2, y2, x3, y3) {\n\t\tlet step;\n\t\tconst err = 0.0001;\n\n\t\tx2 *= 3;\n\t\ty2 *= 3;\n\t\tx3 *= 3;\n\t\ty3 *= 3;\n\n\t\treturn function (t) {\n\t\t\tlet p, a, b, c, d, x, s;\n\t\t\tif (t < 0 || 1 < t) {\n\t\t\t\tthrow new Error(t);\n\t\t\t}\n\n\t\t\tp = step || t;\n\n\t\t\tdo {\n\t\t\t\ta = 1 - p;\n\t\t\t\tb = a * a;\n\t\t\t\tc = p * p;\n\t\t\t\td = c * p;\n\n\t\t\t\tx = x2 * b * p + x3 * a * c + d;\n\t\t\t\ts = t - x;\n\t\t\t\tp += s * 0.5;\n\t\t\t} while (err < Math.abs(s));\n\n\t\t\tstep = p;\n\t\t\treturn y2 * b * p + y3 * a * c + d;\n\t\t};\n\t}\n\tconst EASINGS = {\n\t\tlinear(p) {\n\t\t\treturn p;\n\t\t},\n\t\teaseIn: cubicBezier(0.420, 0.000, 1.000, 1.000),\n\t\teaseOut: cubicBezier(0.000, 0.000, 0.580, 1.000),\n\t\teaseInOut: cubicBezier(0.420, 0.000, 0.580, 1.000)\n\t};\n\n\tconst raf = window.requestAnimationFrame || setTimeout;\n\n\tfunction now() {\n\t\treturn Date.now();\n\t}\n\t/**\r\n  * <pre>\r\n  * Animates.\r\n  * </pre>\r\n  * @function\r\n  * @param {number} duration animation time.\r\n  * @param {function} step\r\n  * @param {function|string} easing\r\n  * @returns {object} Deferred object.\r\n  */\n\tmodule.exports = (duration, step, easing) => {\n\t\tconst startedAt = now();\n\n\t\tif (!easing) {\n\t\t\teasing = EASINGS.easeInOut;\n\t\t} else if (typeof easing === 'string') {\n\t\t\teasing = EASINGS[easing];\n\t\t}\n\n\t\tlet canceledFlg = false;\n\t\tconst createAnim = (resolve, reject) => {\n\t\t\tconst anim = () => {\n\t\t\t\tconst point = now() - startedAt;\n\t\t\t\tif (canceledFlg) {\n\t\t\t\t\t//cancel\n\t\t\t\t\tif (reject) {\n\t\t\t\t\t\treject();\n\t\t\t\t\t}\n\t\t\t\t} else if (point >= duration) {\n\t\t\t\t\t//end\n\t\t\t\t\tstep(1);\n\t\t\t\t\tif (resolve) {\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tstep(easing(point / duration));\n\n\t\t\t\t\traf(anim, 1);\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn anim;\n\t\t};\n\t\tconst cancel = () => {\n\t\t\tcanceledFlg = true;\n\t\t};\n\t\tif (window.Promise) {\n\t\t\tconst result = new window.Promise((resolve, reject) => {\n\t\t\t\tconst anim = createAnim(resolve, reject);\n\t\t\t\tstep(0);\n\t\t\t\tanim();\n\t\t\t});\n\t\t\tresult.cancel = cancel;\n\t\t\treturn result;\n\t\t} else {\n\t\t\tconst anim = createAnim(() => {}, () => {});\n\t\t\tstep(0);\n\t\t\tanim();\n\t\t\treturn {\n\t\t\t\tcancel\n\t\t\t};\n\t\t}\n\t};\n}\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\n\tconst Editor = __webpack_require__(13);\n\tconst { EVENT_TYPE: {\n\t\t\tINPUT_CELL,\n\t\t\tEDITABLEINPUT_CELL,\n\t\t\tSELECTED_CELL,\n\t\t\tDBLCLICK_CELL,\n\t\t\tDBLTAP_CELL,\n\t\t\tKEYDOWN,\n\t\t\tMODIFY_STATUS_EDITABLEINPUT_CELL,\n\t\t\tSCROLL\n\t\t} } = __webpack_require__(4);\n\tconst KEY_ENTER = 13;\n\tconst KEY_F2 = 113;\n\n\tclass BaseInputEditor extends Editor {\n\t\tconstructor(option = {}) {\n\t\t\tsuper(option);\n\t\t}\n\t\tclone() {\n\t\t\treturn new BaseInputEditor(this);\n\t\t}\n\t\tonInputCellInternal(grid, cell, inputValue) {\n\t\t\tthrow new Error();\n\t\t}\n\t\tonOpenCellInternal(grid, cell) {\n\t\t\tthrow new Error();\n\t\t}\n\t\tonChangeSelectCellInternal(grid, cell, selected) {\n\t\t\tthrow new Error();\n\t\t}\n\t\tonSetInputAttrsInternal(grid, cell, input) {\n\t\t\tthrow new Error();\n\t\t}\n\t\tonGridScrollInternal(grid) {\n\t\t\tthrow new Error();\n\t\t}\n\t\tbindGridEvent(grid, col, util) {\n\t\t\tconst open = cell => {\n\t\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.onOpenCellInternal(grid, cell);\n\t\t\t};\n\n\t\t\tconst input = (cell, value) => {\n\t\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.onInputCellInternal(grid, cell, value);\n\t\t\t};\n\t\t\treturn [grid.listen(INPUT_CELL, e => {\n\t\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinput({\n\t\t\t\t\tcol: e.col,\n\t\t\t\t\trow: e.row\n\t\t\t\t}, e.value);\n\t\t\t}), grid.listen(DBLCLICK_CELL, cell => {\n\t\t\t\tif (!util.isTarget(cell.col, cell.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\topen({\n\t\t\t\t\tcol: cell.col,\n\t\t\t\t\trow: cell.row\n\t\t\t\t});\n\t\t\t}), grid.listen(DBLTAP_CELL, cell => {\n\t\t\t\tif (!util.isTarget(cell.col, cell.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\topen({\n\t\t\t\t\tcol: cell.col,\n\t\t\t\t\trow: cell.row\n\t\t\t\t});\n\t\t\t}), grid.listen(KEYDOWN, (keyCode, e) => {\n\t\t\t\tif (keyCode !== KEY_F2 && keyCode !== KEY_ENTER) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst sel = grid.selection.select;\n\t\t\t\tif (!util.isTarget(sel.col, sel.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\topen({\n\t\t\t\t\tcol: sel.col,\n\t\t\t\t\trow: sel.row\n\t\t\t\t});\n\t\t\t}), grid.listen(SELECTED_CELL, (cell, selected) => {\n\t\t\t\tthis.onChangeSelectCellInternal(grid, cell, selected);\n\t\t\t}), grid.listen(SCROLL, () => {\n\t\t\t\tthis.onGridScrollInternal(grid);\n\t\t\t}), grid.listen(EDITABLEINPUT_CELL, cell => {\n\t\t\t\tif (!util.isTarget(cell.col, cell.row)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}), grid.listen(MODIFY_STATUS_EDITABLEINPUT_CELL, cell => {\n\t\t\t\tif (!util.isTarget(cell.col, cell.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.onSetInputAttrsInternal(grid, {\n\t\t\t\t\tcol: cell.col,\n\t\t\t\t\trow: cell.row\n\t\t\t\t}, cell.input);\n\t\t\t})];\n\t\t}\n\t}\n\n\tmodule.exports = BaseInputEditor;\n}\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nfunction normalize(options) {\n\tif (!options) {\n\t\treturn [];\n\t}\n\tif (__webpack_provided_Array_dot_isArray(options)) {\n\t\treturn options;\n\t}\n\tif (typeof options === 'string') {\n\t\treturn normalize(JSON.parse(options));\n\t}\n\tconst result = [];\n\tfor (const k in options) {\n\t\tresult.push({\n\t\t\tvalue: k,\n\t\t\tcaption: options[k]\n\t\t});\n\t}\n\treturn result;\n}\n\nmodule.exports = {\n\tnormalize\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst BaseStyle = __webpack_require__(19);\n\tconst Style = __webpack_require__(3);\n\tconst NumberStyle = __webpack_require__(34);\n\tconst CheckStyle = __webpack_require__(35);\n\tconst ButtonStyle = __webpack_require__(36);\n\tconst ImageStyle = __webpack_require__(37);\n\tconst IconStyle = __webpack_require__(38);\n\tconst PercentCompleteBarStyle = __webpack_require__(39);\n\n\t/**\r\n  * column styles\r\n  * @type {Object}\r\n  * @namespace cheetahGrid.columns.style\r\n  * @memberof cheetahGrid.columns\r\n  */\n\tconst style = {\n\t\tget EVENT_TYPE() {\n\t\t\treturn BaseStyle.EVENT_TYPE;\n\t\t},\n\t\tget BaseStyle() {\n\t\t\treturn BaseStyle;\n\t\t},\n\t\tget Style() {\n\t\t\treturn Style;\n\t\t},\n\t\tget NumberStyle() {\n\t\t\treturn NumberStyle;\n\t\t},\n\t\tget CheckStyle() {\n\t\t\treturn CheckStyle;\n\t\t},\n\t\tget ButtonStyle() {\n\t\t\treturn ButtonStyle;\n\t\t},\n\t\tget ImageStyle() {\n\t\t\treturn ImageStyle;\n\t\t},\n\t\tget IconStyle() {\n\t\t\treturn IconStyle;\n\t\t},\n\t\tget PercentCompleteBarStyle() {\n\t\t\treturn PercentCompleteBarStyle;\n\t\t},\n\t\tof(columnStyle, record, StyleClass) {\n\t\t\tif (columnStyle) {\n\t\t\t\tif (columnStyle instanceof Style) {\n\t\t\t\t\treturn columnStyle;\n\t\t\t\t} else if (typeof columnStyle === 'function') {\n\t\t\t\t\treturn style.of(columnStyle(record), record, StyleClass);\n\t\t\t\t} else if (record && columnStyle in record) {\n\t\t\t\t\treturn style.of(record[columnStyle], record, StyleClass);\n\t\t\t\t}\n\t\t\t\treturn new StyleClass(columnStyle);\n\t\t\t} else {\n\t\t\t\treturn StyleClass.DEFAULT;\n\t\t\t}\n\t\t}\n\t};\n\tmodule.exports = style;\n}\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst Style = __webpack_require__(3);\n\n\tfunction adj(style) {\n\t\tconst { textAlign = 'right' } = style;\n\t\tstyle.textAlign = textAlign;\n\t\treturn style;\n\t}\n\tlet defaultStyle;\n\tclass NumberStyle extends Style {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : defaultStyle = new NumberStyle();\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(adj(style));\n\t\t}\n\t\tclone() {\n\t\t\treturn new NumberStyle(this);\n\t\t}\n\t}\n\n\tmodule.exports = NumberStyle;\n}\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst StdBaseStyle = __webpack_require__(18);\n\n\tfunction adj(style) {\n\t\tconst { textAlign = 'center' } = style;\n\t\tstyle.textAlign = textAlign;\n\t\treturn style;\n\t}\n\tlet defaultStyle;\n\tclass CheckStyle extends StdBaseStyle {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : defaultStyle = new CheckStyle();\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(adj(style));\n\t\t\tconst {\n\t\t\t\tuncheckBgColor,\n\t\t\t\tcheckBgColor,\n\t\t\t\tborderColor\n\t\t\t} = style;\n\t\t\tthis._uncheckBgColor = uncheckBgColor;\n\t\t\tthis._checkBgColor = checkBgColor;\n\t\t\tthis._borderColor = borderColor;\n\t\t}\n\t\tget uncheckBgColor() {\n\t\t\treturn this._uncheckBgColor;\n\t\t}\n\t\tset uncheckBgColor(uncheckBgColor) {\n\t\t\tthis._uncheckBgColor = uncheckBgColor;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget checkBgColor() {\n\t\t\treturn this._checkBgColor;\n\t\t}\n\t\tset checkBgColor(checkBgColor) {\n\t\t\tthis._checkBgColor = checkBgColor;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget borderColor() {\n\t\t\treturn this._borderColor;\n\t\t}\n\t\tset borderColor(borderColor) {\n\t\t\tthis._borderColor = borderColor;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tclone() {\n\t\t\treturn new CheckStyle(this);\n\t\t}\n\t}\n\n\tmodule.exports = CheckStyle;\n}\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst Style = __webpack_require__(3);\n\n\tfunction adj(style) {\n\t\tconst { textAlign = 'center' } = style;\n\t\tstyle.textAlign = textAlign;\n\t\treturn style;\n\t}\n\tlet defaultStyle;\n\tclass ButtonStyle extends Style {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : defaultStyle = new ButtonStyle();\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(adj(style));\n\t\t\tconst {\n\t\t\t\tbuttonBgColor\n\t\t\t} = style;\n\t\t\tthis._buttonBgColor = buttonBgColor;\n\t\t}\n\t\tget buttonBgColor() {\n\t\t\treturn this._buttonBgColor;\n\t\t}\n\t\tset buttonBgColor(buttonBgColor) {\n\t\t\tthis._buttonBgColor = buttonBgColor;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tclone() {\n\t\t\treturn new ButtonStyle(this);\n\t\t}\n\t}\n\n\tmodule.exports = ButtonStyle;\n}\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst StdBaseStyle = __webpack_require__(18);\n\tlet defaultStyle;\n\tfunction adj(style) {\n\t\tconst { textAlign = 'center' } = style;\n\t\tstyle.textAlign = textAlign;\n\t\treturn style;\n\t}\n\tclass ImageStyle extends StdBaseStyle {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : defaultStyle = new ImageStyle();\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(adj(style));\n\t\t\tthis._imageSizing = style.imageSizing;\n\t\t\tthis._margin = style.margin || 4;\n\t\t}\n\t\tget imageSizing() {\n\t\t\treturn this._imageSizing;\n\t\t}\n\t\tset imageSizing(imageSizing) {\n\t\t\tthis._imageSizing = imageSizing;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget margin() {\n\t\t\treturn this._margin;\n\t\t}\n\t\tset margin(margin) {\n\t\t\tthis._margin = margin;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tclone() {\n\t\t\treturn new ImageStyle(this);\n\t\t}\n\t}\n\tmodule.exports = ImageStyle;\n}\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst Style = __webpack_require__(3);\n\n\tfunction adj(style) {\n\t\tconst { textAlign = 'center' } = style;\n\t\tstyle.textAlign = textAlign;\n\t\treturn style;\n\t}\n\tlet defaultStyle;\n\tclass IconStyle extends Style {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : defaultStyle = new IconStyle();\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(adj(style));\n\t\t}\n\t\tclone() {\n\t\t\treturn new IconStyle(this);\n\t\t}\n\t}\n\n\tmodule.exports = IconStyle;\n}\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst Style = __webpack_require__(3);\n\tlet defaultStyle;\n\tconst DEFAULT_BAR_COLOR = num => {\n\t\tif (num > 80) {\n\t\t\treturn '#20a8d8';\n\t\t}\n\t\tif (num > 50) {\n\t\t\treturn '#4dbd74';\n\t\t}\n\t\tif (num > 20) {\n\t\t\treturn '#ffc107';\n\t\t}\n\t\treturn '#f86c6b';\n\t};\n\tclass PercentCompleteBarStyle extends Style {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : defaultStyle = new PercentCompleteBarStyle();\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(style);\n\t\t\tthis._barColor = style.barColor || DEFAULT_BAR_COLOR;\n\t\t\tthis._barBgColor = style.barBgColor || '#f0f3f5';\n\t\t\tthis._barHeight = style.barHeight || 3;\n\t\t}\n\t\tget barColor() {\n\t\t\treturn this._barColor;\n\t\t}\n\t\tset barColor(barColor) {\n\t\t\tthis._barColor = barColor;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget barBgColor() {\n\t\t\treturn this._barBgColor;\n\t\t}\n\t\tset barBgColor(barBgColor) {\n\t\t\tthis._barBgColor = barBgColor;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget barHeight() {\n\t\t\treturn this._barHeight;\n\t\t}\n\t\tset barHeight(barHeight) {\n\t\t\tthis._barHeight = barHeight;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tclone() {\n\t\t\treturn new PercentCompleteBarStyle(this);\n\t\t}\n\t}\n\tmodule.exports = PercentCompleteBarStyle;\n}\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst { isPromise } = __webpack_require__(0);\nconst LRUCache = __webpack_require__(83);\n\nconst allCache = {};\n\nfunction isDataUrl(url) {\n\treturn url.search(/^(data:)/) !== -1;\n}\n\nfunction loadImage(src) {\n\tif (!window.Promise) {\n\t\tconsole.error('Promise is not loaded. load Promise before this process.');\n\t\treturn {\n\t\t\tthen() {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t};\n\t}\n\tconst img = new Image();\n\tconst result = new window.Promise(resolve => {\n\t\timg.onload = () => {\n\t\t\tresolve(img);\n\t\t};\n\t});\n\timg.onerror = e => {\n\t\tconst url = src.length > 200 ? `${src.substr(0, 200)}...` : src;\n\t\tconsole.warn(`cannot load: ${url}`);\n\t\tthrow new Error(`IMAGE LOAD ERROR: ${url}`);\n\t};\n\timg.src = isDataUrl(src) ? src : `${src}?${Date.now()}`;\n\treturn result;\n}\n\nfunction getCacheOrLoad0(cache, src) {\n\tif (isPromise(src)) {\n\t\treturn src.then(u => getCacheOrLoad0(cache, u));\n\t}\n\tconst c = cache.get(src);\n\tif (c) {\n\t\treturn c;\n\t}\n\tconst result = loadImage(src).then(img => {\n\t\tcache.put(src, img);\n\t\treturn img;\n\t});\n\tcache.put(src, result);\n\treturn result;\n}\n\nfunction getCacheOrLoad(cacheName, cacheSize, src) {\n\tconst cache = allCache[cacheName] || (allCache[cacheName] = new LRUCache(cacheSize));\n\treturn getCacheOrLoad0(cache, src);\n}\n\nmodule.exports = {\n\tloadImage,\n\tgetCacheOrLoad\n};\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*eslint no-bitwise:0*/\n\n\nfunction FROZEN_ROWS_BORDER_COLOR(args) {\n\tconst {\n\t\trow,\n\t\tgrid: { frozenRowCount }\n\t} = args;\n\tif (frozenRowCount - 1 === row) {\n\t\treturn ['#f2f2f2', '#f2f2f2', '#ccc7c7', '#f2f2f2'];\n\t} else {\n\t\treturn ['#f2f2f2'];\n\t}\n}\nfunction BORDER_COLOR(args) {\n\tconst {\n\t\tcol,\n\t\tgrid: { colCount }\n\t} = args;\n\tif (colCount - 1 === col) {\n\t\treturn ['#ccc7c7', '#f2f2f2', '#ccc7c7', null];\n\t} else {\n\t\treturn ['#ccc7c7', null];\n\t}\n}\n/**\r\n * material design theme\r\n * @name MATERIAL_DESIGN\r\n * @type {Object}\r\n * @memberof cheetahGrid.themes.choices\r\n */\nmodule.exports = {\n\tcolor: 'rgba(0, 0, 0, 0.87)',\n\tdefaultBgColor: '#FFF',\n\tfrozenRowsBgColor: '#FFF',\n\tfrozenRowsColor: 'rgba(0, 0, 0, 0.54)',\n\thiliteBorderColor: '#5E9ED6',\n\tselectionBgColor: '#CCE0FF',\n\tborderColor: BORDER_COLOR,\n\tfrozenRowsBorderColor: FROZEN_ROWS_BORDER_COLOR,\n\tcheckbox: {\n\t\tuncheckBgColor: '#FFF',\n\t\tcheckBgColor: 'rgb(76, 73, 72)',\n\t\tborderColor: 'rgba(0, 0, 0, 0.26)'\n\t},\n\tbutton: {\n\t\tcolor: '#FFF',\n\t\tbgColor: '#2196F3'\n\t},\n\tunderlayBackgroundColor: '#FFF'\n};\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = {};\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst DataSource = __webpack_require__(44);\n\tconst CachedDataSource = __webpack_require__(91);\n\n\t/**\r\n  * data modules\r\n  * @type {Object}\r\n  * @namespace cheetahGrid.data\r\n  * @memberof cheetahGrid\r\n  */\n\tmodule.exports = {\n\t\tDataSource,\n\t\tCachedDataSource\n\t};\n}\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst { array, isDef, isPromise, getOrApply, applyChainSafe, emptyFn } = __webpack_require__(0);\n\tconst sort = __webpack_require__(45);\n\tconst EventTarget = __webpack_require__(10);\n\n\tconst EVENT_TYPE = {\n\t\tUPDATE_LENGTH: 'update_length',\n\t\tUPDATED_LENGTH: 'updated_length',\n\t\tUPDATED_ORDER: 'updated_order'\n\t};\n\n\tfunction getValue(value, setPromiseBack) {\n\t\tvalue = getOrApply(value);\n\t\tif (isPromise(value)) {\n\t\t\tvalue = value.then(r => {\n\t\t\t\tif (!isPromise(r)) {\n\t\t\t\t\tsetPromiseBack(r);\n\t\t\t\t}\n\t\t\t\treturn getValue(r, setPromiseBack);\n\t\t\t});\n\t\t\t//\n\t\t\tsetPromiseBack(value);\n\t\t}\n\t\treturn value;\n\t}\n\n\tfunction getField(record, field, setPromiseBack) {\n\t\tif (!isDef(record)) {\n\t\t\treturn undefined;\n\t\t}\n\t\tif (isPromise(record)) {\n\t\t\treturn record.then(r => getField(r, field, setPromiseBack));\n\t\t}\n\t\tif (field in record) {\n\t\t\treturn getValue(record[field], setPromiseBack);\n\t\t}\n\t\tif (typeof field === 'function') {\n\t\t\treturn getValue(field(record), setPromiseBack);\n\t\t}\n\n\t\tconst ss = (field + '').split('.');\n\t\tif (ss.length <= 1) {\n\t\t\treturn getValue(record[field], setPromiseBack);\n\t\t}\n\t\treturn getValue(applyChainSafe(record, (val, name) => getField(val, name, emptyFn), ...ss), setPromiseBack);\n\t}\n\tfunction setField(record, field, value) {\n\t\tif (field in record) {\n\t\t\trecord[field] = value;\n\t\t} else if (typeof field === 'function') {\n\t\t\treturn field(record, value);\n\t\t} else if (typeof field === 'string') {\n\t\t\tconst ss = (field + '').split('.');\n\t\t\tlet obj = record;\n\t\t\tconst { length } = ss;\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tconst f = ss[i];\n\t\t\t\tif (i === length - 1) {\n\t\t\t\t\tobj[f] = value;\n\t\t\t\t} else {\n\t\t\t\t\tobj = obj[f] || (obj[f] = {});\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\trecord[field] = value;\n\t\t}\n\t\treturn true;\n\t}\n\tfunction _getIndex(dataSource, index) {\n\t\tif (!dataSource._sortedIndexMap) {\n\t\t\treturn index;\n\t\t}\n\t\tconst mapIndex = dataSource._sortedIndexMap[index];\n\t\treturn isDef(mapIndex) ? mapIndex : index;\n\t}\n\n\t/**\r\n  * grid data source\r\n  *\r\n  * @classdesc cheetahGrid.data.DataSource\r\n  * @extends EventTarget\r\n  * @memberof cheetahGrid.data\r\n  */\n\tclass DataSource extends EventTarget {\n\t\tstatic get EVENT_TYPE() {\n\t\t\treturn EVENT_TYPE;\n\t\t}\n\t\tstatic ofArray(array) {\n\t\t\treturn new DataSource({\n\t\t\t\tget: index => array[index],\n\t\t\t\tlength: array.length\n\t\t\t});\n\t\t}\n\t\tconstructor({ get, length = 0 } = {}) {\n\t\t\tsuper();\n\t\t\tthis._get = get;\n\t\t\tthis._length = length;\n\t\t\tthis._sortedIndexMap = false;\n\t\t}\n\t\tget(index) {\n\t\t\treturn this.getOriginal(_getIndex(this, index));\n\t\t}\n\t\tgetField(index, field) {\n\t\t\treturn this.getOriginalField(_getIndex(this, index), field);\n\t\t}\n\t\thasField(index, field) {\n\t\t\treturn this.hasOriginalField(_getIndex(this, index), field);\n\t\t}\n\t\tsetField(index, field, value) {\n\t\t\treturn this.setOriginalField(_getIndex(this, index), field, value);\n\t\t}\n\t\tsort(field, order) {\n\t\t\tconst sortedIndexMap = new Array(this._length);\n\n\t\t\tconst orderFn = order !== 'desc' ? (v1, v2) => v1 === v2 ? 0 : v1 > v2 ? 1 : -1 : (v1, v2) => v1 === v2 ? 0 : v1 < v2 ? 1 : -1;\n\n\t\t\treturn sort.sortPromise(index => isDef(sortedIndexMap[index]) ? sortedIndexMap[index] : sortedIndexMap[index] = index, (index, rel) => {\n\t\t\t\tsortedIndexMap[index] = rel;\n\t\t\t}, this._length, orderFn, index => this.getOriginalField(index, field)).then(() => {\n\t\t\t\tthis._sortedIndexMap = sortedIndexMap;\n\t\t\t\tthis.fireListeners(EVENT_TYPE.UPDATED_ORDER);\n\t\t\t});\n\t\t}\n\t\tget length() {\n\t\t\treturn this._length;\n\t\t}\n\t\tset length(length) {\n\t\t\tconst results = this.fireListeners(EVENT_TYPE.UPDATE_LENGTH, length);\n\t\t\tif (array.findIndex(results, v => !v) >= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._length = length;\n\t\t\tthis.fireListeners(EVENT_TYPE.UPDATED_LENGTH, this._length);\n\t\t}\n\t\tdispose() {\n\t\t\tsuper.dispose();\n\t\t}\n\t\tgetOriginal(index) {\n\t\t\treturn getValue(this._get(index), val => {\n\t\t\t\tthis.recordPromiseCallBackInternal(index, val);\n\t\t\t});\n\t\t}\n\t\tgetOriginalField(index, field) {\n\t\t\tif (!isDef(field)) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tconst record = this.getOriginal(index);\n\t\t\treturn getField(record, field, val => {\n\t\t\t\tthis.fieldPromiseCallBackInternal(index, field, val);\n\t\t\t});\n\t\t}\n\t\thasOriginalField(index, field) {\n\t\t\tif (!isDef(field)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (typeof field === 'function') {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tconst record = this.getOriginal(index);\n\t\t\treturn field in record;\n\t\t}\n\t\tsetOriginalField(index, field, value) {\n\t\t\tif (!isDef(field)) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tconst record = this.getOriginal(index);\n\t\t\treturn setField(record, field, value);\n\t\t}\n\t\tfieldPromiseCallBackInternal(index, field, val) {\n\t\t\t//\n\t\t}\n\t\trecordPromiseCallBackInternal(index, val) {\n\t\t\t//\n\t\t}\n\t}\n\tDataSource.EMPTY = new DataSource({\n\t\tlength: 0\n\t});\n\n\tmodule.exports = DataSource;\n}\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst { isPromise } = __webpack_require__(0);\n\n\tfunction wait(val) {\n\t\treturn val.then(v => {\n\t\t\tif (isPromise(v)) {\n\t\t\t\treturn wait(v);\n\t\t\t} else {\n\t\t\t\treturn v;\n\t\t\t}\n\t\t});\n\t}\n\tfunction createArray(get, length) {\n\t\tconst array = new Array(length);\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tarray[i] = get(i);\n\t\t}\n\t\treturn array;\n\t}\n\tfunction createArrayPromise(get, getField, length) {\n\t\treturn new Promise(resolve => {\n\t\t\tconst plist = [];\n\t\t\tconst array = new Array(length);\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tconst data = get(i);\n\t\t\t\tconst record = {\n\t\t\t\t\tv: data,\n\t\t\t\t\tf: data\n\t\t\t\t};\n\t\t\t\tarray[i] = record;\n\t\t\t\tif (isPromise(data)) {\n\t\t\t\t\tplist.push(wait(data).then(v => {\n\t\t\t\t\t\trecord.v = v;\n\t\t\t\t\t\trecord.f = v;\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t}\n\t\t\tPromise.all(plist).then(() => setArrayField(array, getField)).then(resolve);\n\t\t});\n\t}\n\tfunction setArrayField(array, getField) {\n\t\tif (!getField) {\n\t\t\treturn Promise.resolve(array);\n\t\t}\n\t\treturn new Promise(resolve => {\n\t\t\tconst length = array.length;\n\t\t\tconst plist = [];\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tconst record = array[i];\n\t\t\t\trecord.f = getField(record.v);\n\t\t\t\tif (isPromise(record.f)) {\n\t\t\t\t\tplist.push(wait(record.f).then(v => {\n\t\t\t\t\t\trecord.f = v;\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t}\n\t\t\tPromise.all(plist).then(() => resolve(array));\n\t\t});\n\t}\n\tconst sort = {\n\t\tsort(get, set, length, compare, getField) {\n\t\t\tconst old = createArray(get, length);\n\t\t\tif (getField) {\n\t\t\t\told.sort((r1, r2) => compare(getField(r1), getField(r2)));\n\t\t\t} else {\n\t\t\t\told.sort(compare);\n\t\t\t}\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tset(i, old[i]);\n\t\t\t}\n\t\t},\n\t\tsortArray(array, compare) {\n\t\t\tArray.prototype.sort.call(array, compare);\n\t\t},\n\t\tsortPromise(get, set, length, compare, getField) {\n\t\t\tif (window.Promise) {\n\t\t\t\treturn createArrayPromise(get, getField, length).then(array => {\n\t\t\t\t\tarray.sort((r1, r2) => compare(r1.f, r2.f));\n\t\t\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\t\t\tset(i, array[i].v);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsort.sort(get, set, length, compare, getField);\n\t\t\t\tconst dummyPromise = {\n\t\t\t\t\tthen(fn) {\n\t\t\t\t\t\tfn();\n\t\t\t\t\t\treturn dummyPromise;\n\t\t\t\t\t},\n\t\t\t\t\tcatch() {\n\t\t\t\t\t\treturn dummyPromise;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\treturn dummyPromise;\n\t\t\t}\n\t\t}\n\t};\n\tmodule.exports = sort;\n}\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {/*eslint no-bitwise:0*/\n\n\n{\n\tconst { calcStartPosition } = __webpack_require__(6);\n\tconst inlines = __webpack_require__(93);\n\tconst canvashelper = __webpack_require__(26);\n\tconst themes = __webpack_require__(22);\n\tconst { colorToRGB } = __webpack_require__(51);\n\tconst Rect = __webpack_require__(24);\n\tconst { getChainSafe, getOrApply, style: { toBoxArray } } = __webpack_require__(0);\n\tconst fonts = __webpack_require__(47);\n\tconst calc = __webpack_require__(15);\n\n\tfunction invalidateCell(context, grid) {\n\t\tconst { col, row } = context;\n\t\tgrid.invalidateCell(col, row);\n\t}\n\tfunction getColor(color, col, row, grid, context) {\n\t\treturn getOrApply(color, {\n\t\t\tcol,\n\t\t\trow,\n\t\t\tgrid,\n\t\t\tcontext\n\t\t});\n\t}\n\tfunction getThemeColor(grid, ...names) {\n\t\treturn getChainSafe(grid.theme, ...names) || getChainSafe(themes.default, ...names);\n\t}\n\tfunction testFontLoad(font, value, context, grid) {\n\t\tif (font) {\n\t\t\tif (!fonts.check(font, value)) {\n\t\t\t\tfonts.load(font, value, () => invalidateCell(context, grid));\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\tfunction drawInlines(ctx, inlines, rect, offset, col, row, grid) {\n\t\tfunction drawInline(inline, offsetLeft, offsetRight) {\n\t\t\tif (inline.canDraw()) {\n\t\t\t\tctx.save();\n\t\t\t\ttry {\n\t\t\t\t\tctx.fillStyle = getColor(inline.color() || ctx.fillStyle, col, row, grid, ctx);\n\t\t\t\t\tctx.font = inline.font() || ctx.font;\n\t\t\t\t\tinline.draw({\n\t\t\t\t\t\tctx,\n\t\t\t\t\t\tcanvashelper,\n\t\t\t\t\t\trect,\n\t\t\t\t\t\toffset,\n\t\t\t\t\t\toffsetLeft,\n\t\t\t\t\t\toffsetRight\n\t\t\t\t\t});\n\t\t\t\t} finally {\n\t\t\t\t\tctx.restore();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tinline.onReady(() => grid.invalidateCell(col, row));\n\t\t\t\t//noop\n\t\t\t}\n\t\t}\n\t\tif (inlines.length === 1) {\n\t\t\t//1\n\t\t\tconst inline = inlines[0];\n\t\t\tdrawInline(inline, 0, 0);\n\t\t} else {\n\t\t\tconst inlineWidths = inlines.map(inline => (inline.width({ ctx }) || 0) - 0);\n\t\t\tlet offsetRight = inlineWidths.reduce((a, b) => a + b);\n\n\t\t\tlet offsetLeft = 0;\n\t\t\tinlines.forEach((inline, index) => {\n\t\t\t\tconst inlineWidth = inlineWidths[index];\n\t\t\t\toffsetRight -= inlineWidth;\n\t\t\t\tdrawInline(inline, offsetLeft, offsetRight);\n\t\t\t\toffsetLeft += inlineWidth;\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction _inlineRect(grid, ctx, inline, rect, col, row, {\n\t\toffset,\n\t\tcolor,\n\t\ttextAlign,\n\t\ttextBaseline,\n\t\tfont,\n\t\ticons\n\t} = {}) {\n\n\t\t//style\n\t\tctx.fillStyle = getColor(color, col, row, grid, ctx);\n\t\tctx.textAlign = textAlign;\n\t\tctx.textBaseline = textBaseline;\n\t\tctx.font = font || ctx.font;\n\n\t\tconst actInlines = inlines.buildInlines(icons, inline);\n\t\tdrawInlines(ctx, actInlines, rect, offset, col, row, grid);\n\t}\n\n\tfunction drawCheckbox(ctx, rect, check, helper, {\n\t\tanimElapsedTime = 1,\n\t\tuncheckBgColor = helper.theme.checkbox.uncheckBgColor,\n\t\tcheckBgColor = helper.theme.checkbox.checkBgColor,\n\t\tborderColor = helper.theme.checkbox.borderColor,\n\t\ttextAlign = 'center',\n\t\ttextBaseline = 'middle'\n\t} = {}) {\n\t\tconst boxWidth = canvashelper.measureCheckbox(ctx).width;\n\t\tctx.textAlign = textAlign;\n\t\tctx.textBaseline = textBaseline;\n\t\tconst pos = calcStartPosition(ctx, rect, boxWidth + 1 /*+1*/, boxWidth + 1 /*+1*/);\n\t\tif (0 < animElapsedTime && animElapsedTime < 1) {\n\t\t\tconst uncheckBgRGB = colorToRGB(uncheckBgColor);\n\t\t\tconst checkBgRGB = colorToRGB(checkBgColor);\n\t\t\tconst checkRGB = colorName => {\n\t\t\t\tconst start = uncheckBgRGB[colorName];\n\t\t\t\tconst end = checkBgRGB[colorName];\n\t\t\t\tif (animElapsedTime >= 1) {\n\t\t\t\t\treturn end;\n\t\t\t\t}\n\t\t\t\tconst diff = start - end;\n\t\t\t\treturn Math.ceil(start - diff * animElapsedTime);\n\t\t\t};\n\t\t\tconst uncheckRGB = colorName => {\n\t\t\t\tconst end = uncheckBgRGB[colorName];\n\t\t\t\tconst start = checkBgRGB[colorName];\n\t\t\t\tif (animElapsedTime >= 1) {\n\t\t\t\t\treturn end;\n\t\t\t\t}\n\t\t\t\tconst diff = end - start;\n\t\t\t\treturn Math.ceil(start + diff * animElapsedTime);\n\t\t\t};\n\t\t\tuncheckBgColor = check ? uncheckBgColor : `rgb(${uncheckRGB('r')} , ${uncheckRGB('g')}, ${uncheckRGB('b')})`;\n\t\t\tcheckBgColor = `rgb(${checkRGB('r')} , ${checkRGB('g')}, ${checkRGB('b')})`;\n\t\t}\n\n\t\tcanvashelper.drawCheckbox(ctx, pos.x, pos.y, check ? animElapsedTime : false, {\n\t\t\tuncheckBgColor,\n\t\t\tcheckBgColor,\n\t\t\tborderColor\n\t\t});\n\t}\n\n\tclass Theme {\n\t\tconstructor(grid) {\n\t\t\tthis._grid = grid;\n\t\t}\n\t\tgetThemeColor(...name) {\n\t\t\treturn getThemeColor(this._grid, ...name);\n\t\t}\n\t\tget font() {\n\t\t\treturn getThemeColor(this._grid, 'font');\n\t\t}\n\t\tget underlayBackgroundColor() {\n\t\t\treturn getThemeColor(this._grid, 'underlayBackgroundColor');\n\t\t}\n\t\t// color\n\t\tget color() {\n\t\t\treturn getThemeColor(this._grid, 'color');\n\t\t}\n\t\tget frozenRowsColor() {\n\t\t\treturn getThemeColor(this._grid, 'frozenRowsColor');\n\t\t}\n\t\t// background\n\t\tget defaultBgColor() {\n\t\t\treturn getThemeColor(this._grid, 'defaultBgColor');\n\t\t}\n\t\tget frozenRowsBgColor() {\n\t\t\treturn getThemeColor(this._grid, 'frozenRowsBgColor');\n\t\t}\n\t\tget selectionBgColor() {\n\t\t\treturn getThemeColor(this._grid, 'selectionBgColor');\n\t\t}\n\t\t// border\n\t\tget borderColor() {\n\t\t\treturn getThemeColor(this._grid, 'borderColor');\n\t\t}\n\t\tget frozenRowsBorderColor() {\n\t\t\treturn getThemeColor(this._grid, 'frozenRowsBorderColor');\n\t\t}\n\t\tget hiliteBorderColor() {\n\t\t\treturn getThemeColor(this._grid, 'hiliteBorderColor');\n\t\t}\n\t\tget checkbox() {\n\t\t\tconst grid = this._grid;\n\t\t\treturn this._checkbox || (this._checkbox = {\n\t\t\t\tget uncheckBgColor() {\n\t\t\t\t\treturn getThemeColor(grid, 'checkbox', 'uncheckBgColor');\n\t\t\t\t},\n\t\t\t\tget checkBgColor() {\n\t\t\t\t\treturn getThemeColor(grid, 'checkbox', 'checkBgColor');\n\t\t\t\t},\n\t\t\t\tget borderColor() {\n\t\t\t\t\treturn getThemeColor(grid, 'checkbox', 'borderColor');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tget button() {\n\t\t\tconst grid = this._grid;\n\t\t\treturn this._button || (this._button = {\n\t\t\t\tget color() {\n\t\t\t\t\treturn getThemeColor(grid, 'button', 'color');\n\t\t\t\t},\n\t\t\t\tget bgColor() {\n\t\t\t\t\treturn getThemeColor(grid, 'button', 'bgColor');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t}\n\n\tfunction strokeRect(ctx, color, left, top, width, height) {\n\t\tif (!__webpack_provided_Array_dot_isArray(color)) {\n\t\t\tif (color) {\n\t\t\t\tctx.strokeStyle = color;\n\t\t\t\tctx.strokeRect(left, top, width, height);\n\t\t\t}\n\t\t} else {\n\t\t\tconst borderColors = toBoxArray(color);\n\t\t\tcanvashelper.strokeColorsRect(ctx, borderColors, left, top, width, height);\n\t\t}\n\t}\n\n\tclass GridCanvasHelper {\n\t\tconstructor(grid) {\n\t\t\tthis._grid = grid;\n\t\t\tthis._theme = new Theme(grid);\n\t\t}\n\t\tcreateCalculator(context) {\n\t\t\treturn {\n\t\t\t\tcalcWidth(width) {\n\t\t\t\t\treturn calc.toPx(width, {\n\t\t\t\t\t\tget full() {\n\t\t\t\t\t\t\tconst rect = context.getRect();\n\t\t\t\t\t\t\treturn rect.width;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tget em() {\n\t\t\t\t\t\t\tconst ctx = context.getContext();\n\t\t\t\t\t\t\treturn ctx.measureText('').width;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tcalcHeight(height) {\n\t\t\t\t\treturn calc.toPx(height, {\n\t\t\t\t\t\tget full() {\n\t\t\t\t\t\t\tconst rect = context.getRect();\n\t\t\t\t\t\t\treturn rect.height;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tget em() {\n\t\t\t\t\t\t\tconst ctx = context.getContext();\n\t\t\t\t\t\t\treturn ctx.measureText('').width;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tgetColor(color, col, row, ctx) {\n\t\t\treturn getColor(color, col, row, this._grid, ctx);\n\t\t}\n\t\ttoBoxArray(obj) {\n\t\t\treturn toBoxArray(obj);\n\t\t}\n\t\ttoBoxPixelArray(value, context) {\n\t\t\tif (typeof value === 'string' || __webpack_provided_Array_dot_isArray(value)) {\n\t\t\t\tconst calculator = this.createCalculator(context);\n\t\t\t\tconst box = toBoxArray(value);\n\t\t\t\treturn [calculator.calcHeight(box[0]), calculator.calcWidth(box[1]), calculator.calcHeight(box[2]), calculator.calcWidth(box[3])];\n\t\t\t}\n\t\t\treturn toBoxArray(value);\n\t\t}\n\t\tget theme() {\n\t\t\treturn this._theme;\n\t\t}\n\t\tdrawWithClip(context, draw) {\n\t\t\tconst drawRect = context.getDrawRect();\n\t\t\tif (!drawRect) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst ctx = context.getContext();\n\n\t\t\tctx.save();\n\t\t\ttry {\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.rect(drawRect.left, drawRect.top, drawRect.width, drawRect.height);\n\t\t\t\t//clip\n\t\t\t\tctx.clip();\n\n\t\t\t\tdraw(ctx);\n\t\t\t} finally {\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t}\n\t\tdrawBorderWithClip(context, draw) {\n\t\t\tconst drawRect = context.getDrawRect();\n\t\t\tif (!drawRect) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst rect = context.getRect();\n\t\t\tconst ctx = context.getContext();\n\t\t\tctx.save();\n\t\t\ttry {\n\t\t\t\t//clip\n\t\t\t\tctx.beginPath();\n\t\t\t\tlet clipLeft = drawRect.left;\n\t\t\t\tlet clipWidth = drawRect.width;\n\t\t\t\tif (drawRect.left === rect.left) {\n\t\t\t\t\tclipLeft += -1;\n\t\t\t\t\tclipWidth += 1;\n\t\t\t\t}\n\t\t\t\tlet clipTop = drawRect.top;\n\t\t\t\tlet clipHeight = drawRect.height;\n\t\t\t\tif (drawRect.top === rect.top) {\n\t\t\t\t\tclipTop += -1;\n\t\t\t\t\tclipHeight += 1;\n\t\t\t\t}\n\t\t\t\tctx.rect(clipLeft, clipTop, clipWidth, clipHeight);\n\t\t\t\tctx.clip();\n\n\t\t\t\tdraw(ctx);\n\t\t\t} finally {\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t}\n\t\ttext(text, context, {\n\t\t\tpadding,\n\t\t\toffset = 2,\n\t\t\tcolor,\n\t\t\ttextAlign = 'left',\n\t\t\ttextBaseline = 'middle',\n\t\t\tfont,\n\t\t\ticons\n\t\t} = {}) {\n\t\t\tlet rect = context.getRect();\n\n\t\t\tconst { col, row } = context;\n\n\t\t\tif (!color) {\n\t\t\t\tcolor = this.theme.color;\n\t\t\t\t// header color\n\t\t\t\tconst isFrozenCell = this._grid.isFrozenCell(col, row);\n\t\t\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\t\t\tcolor = this.theme.frozenRowsColor;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.drawWithClip(context, ctx => {\n\t\t\t\tif (padding) {\n\t\t\t\t\tpadding = this.toBoxPixelArray(padding, context);\n\t\t\t\t\tconst left = rect.left + padding[3];\n\t\t\t\t\tconst top = rect.top + padding[0];\n\t\t\t\t\tconst width = rect.width - padding[1] - padding[3];\n\t\t\t\t\tconst height = rect.height - padding[0] - padding[2];\n\t\t\t\t\trect = new Rect(left, top, width, height);\n\t\t\t\t}\n\t\t\t\t_inlineRect(this._grid, ctx, text, rect, col, row, {\n\t\t\t\t\toffset,\n\t\t\t\t\tcolor,\n\t\t\t\t\ttextAlign,\n\t\t\t\t\ttextBaseline,\n\t\t\t\t\tfont,\n\t\t\t\t\ticons\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\tfillCell(context, {\n\t\t\tfillColor = this.theme.defaultBgColor\n\t\t} = {}) {\n\t\t\tconst rect = context.getRect();\n\n\t\t\tthis.drawWithClip(context, ctx => {\n\t\t\t\tconst { col, row } = context;\n\t\t\t\tctx.fillStyle = getColor(fillColor, col, row, this._grid, ctx);\n\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\n\t\t\t\tctx.fill();\n\t\t\t});\n\t\t}\n\t\tfillCellWithState(context, option = {}) {\n\t\t\tconst state = context.getSelectState();\n\t\t\tconst { col, row } = context;\n\n\t\t\toption.fillColor = (() => {\n\t\t\t\tif (!state.selected && state.selection) {\n\t\t\t\t\treturn this.theme.selectionBgColor;\n\t\t\t\t} else {\n\t\t\t\t\tconst isFrozenCell = this._grid.isFrozenCell(col, row);\n\t\t\t\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\t\t\t\treturn this.theme.frozenRowsBgColor;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn option.fillColor || this.theme.defaultBgColor;\n\t\t\t})();\n\n\t\t\tthis.fillCell(context, option);\n\t\t}\n\t\tborder(context, {\n\t\t\tborderColor = this.theme.borderColor,\n\t\t\tlineWidth = 1\n\t\t} = {}) {\n\t\t\tconst rect = context.getRect();\n\n\t\t\tthis.drawBorderWithClip(context, ctx => {\n\t\t\t\tconst { col, row } = context;\n\t\t\t\tconst borderColors = getColor(borderColor, col, row, this._grid, ctx);\n\n\t\t\t\tif (lineWidth === 1) {\n\t\t\t\t\tctx.lineWidth = 1;\n\t\t\t\t\tstrokeRect(ctx, borderColors, rect.left - 0.5, rect.top - 0.5, rect.width, rect.height);\n\t\t\t\t} else if (lineWidth === 2) {\n\t\t\t\t\tctx.lineWidth = 2;\n\t\t\t\t\tstrokeRect(ctx, borderColors, rect.left, rect.top, rect.width - 1, rect.height - 1);\n\t\t\t\t} else {\n\t\t\t\t\tctx.lineWidth = lineWidth;\n\t\t\t\t\tconst startOffset = lineWidth / 2 - 1;\n\t\t\t\t\tstrokeRect(ctx, borderColors, rect.left + startOffset, rect.top + startOffset, rect.width - lineWidth + 1, rect.height - lineWidth + 1);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tborderWithState(context, option = {}) {\n\t\t\tconst rect = context.getRect();\n\t\t\tconst state = context.getSelectState();\n\t\t\tconst { col, row } = context;\n\n\t\t\t//\n\t\t\tif (state.selected) {\n\t\t\t\toption.borderColor = this.theme.hiliteBorderColor;\n\t\t\t\toption.lineWidth = 2;\n\t\t\t\tthis.border(context, option);\n\t\t\t} else {\n\t\t\t\t// header color\n\t\t\t\tconst isFrozenCell = this._grid.isFrozenCell(col, row);\n\t\t\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\t\t\toption.borderColor = this.theme.frozenRowsBorderColor;\n\t\t\t\t}\n\n\t\t\t\toption.lineWidth = 1;\n\t\t\t\tthis.border(context, option);\n\n\t\t\t\t//\n\t\t\t\tconst sel = this._grid.selection.select;\n\t\t\t\tif (sel.col + 1 === col && sel.row === row) {\n\t\t\t\t\t//\n\t\t\t\t\tthis.drawBorderWithClip(context, ctx => {\n\t\t\t\t\t\tconst borderColors = toBoxArray(getColor(this.theme.hiliteBorderColor, sel.col, sel.row, this._grid, ctx));\n\t\t\t\t\t\tctx.lineWidth = 1;\n\t\t\t\t\t\tctx.strokeStyle = borderColors[1];\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tctx.moveTo(rect.left - 0.5, rect.top);\n\t\t\t\t\t\tctx.lineTo(rect.left - 0.5, rect.bottom);\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t});\n\t\t\t\t} else if (sel.col === col && sel.row + 1 === row) {\n\t\t\t\t\t//\n\t\t\t\t\tthis.drawBorderWithClip(context, ctx => {\n\t\t\t\t\t\tconst borderColors = toBoxArray(getColor(this.theme.hiliteBorderColor, sel.col, sel.row, this._grid, ctx));\n\t\t\t\t\t\tctx.lineWidth = 1;\n\t\t\t\t\t\tctx.strokeStyle = borderColors[0];\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tctx.moveTo(rect.left, rect.top - 0.5);\n\t\t\t\t\t\tctx.lineTo(rect.right, rect.top - 0.5);\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcheckbox(check, context, option = {}) {\n\t\t\tthis.drawWithClip(context, ctx => {\n\t\t\t\tdrawCheckbox(ctx, context.getRect(), check, this, option);\n\t\t\t});\n\t\t}\n\t\tbutton(caption, context, {\n\t\t\tbgColor = this.theme.button.bgColor,\n\t\t\tpadding,\n\t\t\toffset = 2,\n\t\t\tcolor = this.theme.button.color,\n\t\t\ttextAlign = 'center',\n\t\t\ttextBaseline = 'middle',\n\t\t\tshadow,\n\t\t\tfont,\n\t\t\ticons\n\t\t} = {}) {\n\t\t\tconst rect = context.getRect();\n\n\t\t\tthis.drawWithClip(context, ctx => {\n\t\t\t\tconst { col, row } = context;\n\t\t\t\tpadding = this.toBoxPixelArray(padding || rect.height / 8, context);\n\t\t\t\tconst left = rect.left + padding[3];\n\t\t\t\tconst top = rect.top + padding[0];\n\t\t\t\tconst width = rect.width - padding[1] - padding[3];\n\t\t\t\tconst height = rect.height - padding[0] - padding[2];\n\n\t\t\t\tcanvashelper.drawButton(ctx, left, top, width, height, {\n\t\t\t\t\tbgColor,\n\t\t\t\t\tradius: rect.height / 8,\n\t\t\t\t\toffset,\n\t\t\t\t\tshadow\n\t\t\t\t});\n\t\t\t\t_inlineRect(this._grid, ctx, caption, new Rect(left, top, width, height), col, row, {\n\t\t\t\t\toffset,\n\t\t\t\t\tcolor,\n\t\t\t\t\ttextAlign,\n\t\t\t\t\ttextBaseline,\n\t\t\t\t\tfont,\n\t\t\t\t\ticons\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\ttestFontLoad(font, value, context) {\n\t\t\treturn testFontLoad(font, value, context, this._grid);\n\t\t}\n\t}\n\n\tmodule.exports = GridCanvasHelper;\n}\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst loads = {};\n\tconst legacy = !document.fonts;\n\tconst load = legacy ? function (font, testStr, callback) {\n\t\t//for legacy(IE)\n\t\tif (loads[font + ' @ ' + testStr]) {\n\t\t\tcallback();\n\t\t\treturn;\n\t\t}\n\t\t__webpack_require__(95).load(font, testStr, () => {\n\t\t\tloads[font + ' @ ' + testStr] = true;\n\t\t\tcallback();\n\t\t}, () => {\n\t\t\tloads[font + ' @ ' + testStr] = true;\n\t\t\tcallback();\n\t\t});\n\t} : function (font, testStr, callback) {\n\t\tif (loads.all || loads[font]) {\n\t\t\tcallback();\n\t\t\treturn;\n\t\t}\n\t\tdocument.fonts.ready.then(() => {\n\t\t\tloads.all = true;\n\t\t});\n\t\tdocument.fonts.load(font).then(() => {\n\t\t\tloads[font] = true;\n\t\t\tcallback();\n\t\t});\n\t};\n\tconst check = legacy ? function (font, testStr) {\n\t\t//for legacy(IE)\n\t\tif (loads[font + ' @ ' + testStr]) {\n\t\t\treturn true;\n\t\t}\n\t\tload(font, testStr, () => {});\n\t\treturn false;\n\t} : function (font, testStr) {\n\t\tif (loads.all || loads[font]) {\n\t\t\treturn true;\n\t\t}\n\t\tif (!document.fonts.check(font)) {\n\t\t\tload(font, testStr, () => {});\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t};\n\n\tmodule.exports = {\n\t\tcheck,\n\t\tload\n\t};\n}\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Inline = __webpack_require__(9);\nconst { getCacheOrLoad } = __webpack_require__(40);\nconst { isPromise } = __webpack_require__(0);\n\nclass InlineImage extends Inline {\n\tconstructor({\n\t\tsrc,\n\t\twidth,\n\t\theight,\n\t\timageLeft,\n\t\timageTop,\n\t\timageWidth,\n\t\timageHeight\n\t}) {\n\t\tsuper();\n\t\tthis._src = src;\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tthis._imageLeft = imageLeft;\n\t\tthis._imageTop = imageTop;\n\t\tthis._imageWidth = imageWidth;\n\t\tthis._imageHeight = imageHeight;\n\n\t\tthis._onloaded = [];\n\n\t\tthis._loaded = false;\n\t\tif (isPromise(src)) {\n\t\t\tsrc.then(s => {\n\t\t\t\tthis._src = s;\n\t\t\t\tthis._loadImage(s);\n\t\t\t});\n\t\t} else {\n\t\t\tthis._loadImage(src);\n\t\t}\n\t}\n\t_loadImage(src) {\n\t\tconst img = this._inlineImg = getCacheOrLoad('InlineImage', 50, src);\n\t\tif (isPromise(img)) {\n\t\t\timg.then(i => {\n\t\t\t\tthis._loaded = true;\n\t\t\t\tthis._inlineImg = i;\n\n\t\t\t\tthis._onloaded.forEach(fn => fn());\n\t\t\t});\n\t\t} else {\n\t\t\tthis._loaded = true;\n\t\t}\n\t}\n\twidth({ ctx }) {\n\t\treturn this._width || (this._loaded ? this._inlineImg.width : 0);\n\t}\n\tfont() {\n\t\treturn null;\n\t}\n\tcolor() {\n\t\treturn null;\n\t}\n\tcanDraw() {\n\t\treturn this._loaded;\n\t}\n\tonReady(callback) {\n\t\tif (isPromise(this._src) || isPromise(this._inlineImg)) {\n\t\t\tthis._onloaded.push(() => callback());\n\t\t}\n\t}\n\tdraw({\n\t\tctx,\n\t\tcanvashelper,\n\t\trect,\n\t\toffset,\n\t\toffsetLeft,\n\t\toffsetRight\n\t}) {\n\t\tconst img = this._inlineImg;\n\t\tcanvashelper.drawInlineImageRect(ctx, img, this._imageLeft || 0, this._imageTop || 0, this._imageWidth || img.width, this._imageHeight || img.height, this._width || img.width, this._height || img.height, rect.left, rect.top, rect.width, rect.height, {\n\t\t\toffset: offset + 1,\n\t\t\tpadding: {\n\t\t\t\tleft: offsetLeft,\n\t\t\t\tright: offsetRight\n\t\t\t}\n\t\t});\n\t}\n}\n\nmodule.exports = InlineImage;\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*eslint-disable camelcase*/\n\n\nconst { extend } = __webpack_require__(0);\nconst plugins = __webpack_require__(50);\nconst builtins = {\n\tget arrow_upward() {\n\t\treturn __webpack_require__(103);\n\t},\n\tget arrow_downward() {\n\t\treturn __webpack_require__(104);\n\t},\n\tget edit() {\n\t\treturn __webpack_require__(105);\n\t},\n\tget add() {\n\t\treturn __webpack_require__(106);\n\t},\n\tget star() {\n\t\treturn __webpack_require__(107);\n\t},\n\tget star_border() {\n\t\treturn __webpack_require__(108);\n\t},\n\tget star_half() {\n\t\treturn __webpack_require__(109);\n\t}\n};\n\nmodule.exports = {\n\tget() {\n\t\treturn extend(builtins, plugins);\n\t}\n};\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = {};\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst rgbMap = {};\n\tfunction styleColorToRGB(color) {\n\t\tconst dummy = document.createElement('div');\n\t\tconst { style } = dummy;\n\t\tstyle.color = color;\n\t\tstyle.position = 'fixed';\n\t\tstyle.height = '1px';\n\t\tstyle.width = '1px';\n\t\tstyle.opacity = 0;\n\t\tdocument.body.appendChild(dummy);\n\t\tconst { color: styleColor } = document.defaultView.getComputedStyle(dummy, '');\n\t\tdocument.body.removeChild(dummy);\n\t\treturn colorToRGB0(styleColor);\n\t}\n\n\tfunction hexToNum(hex) {\n\t\treturn parseInt(hex, 16);\n\t}\n\tfunction createRGB(r, g, b, a = 1) {\n\t\treturn { r, g, b, a };\n\t}\n\tfunction tripleHexToRGB({ 1: r, 2: g, 3: b }) {\n\t\treturn createRGB(hexToNum(r + r), hexToNum(g + g), hexToNum(b + b));\n\t}\n\tfunction sextupleHexToRGB({ 1: r1, 2: r2, 3: g1, 4: g2, 5: b1, 6: b2 }) {\n\t\treturn createRGB(hexToNum(r1 + r2), hexToNum(g1 + g2), hexToNum(b1 + b2));\n\t}\n\n\tfunction testRGB({ r, g, b, a }) {\n\t\treturn 0 <= r && r <= 255 && 0 <= g && g <= 255 && 0 <= b && b <= 255 && 0 <= a && a <= 1;\n\t}\n\tfunction rateToByte(r) {\n\t\treturn Math.ceil(r * 255 / 100);\n\t}\n\tfunction colorToRGB0(color) {\n\t\tif (color.match(/^#[0-9a-f]{3}$/i)) {\n\t\t\treturn tripleHexToRGB(color);\n\t\t}\n\t\tif (color.match(/^#[0-9a-f]{6}$/i)) {\n\t\t\treturn sextupleHexToRGB(color);\n\t\t}\n\t\tlet ret = color.match(/^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/i);\n\t\tif (ret) {\n\t\t\tconst rgb = createRGB(ret[1] - 0, ret[2] - 0, ret[3] - 0);\n\t\t\tif (testRGB(rgb)) {\n\t\t\t\treturn rgb;\n\t\t\t}\n\t\t}\n\t\tret = color.match(/^rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d(\\.\\d)?)\\s*\\)$/i);\n\t\tif (ret) {\n\t\t\tconst rgb = createRGB(ret[1] - 0, ret[2] - 0, ret[3] - 0, ret[4] - 0);\n\t\t\tif (testRGB(rgb)) {\n\t\t\t\treturn rgb;\n\t\t\t}\n\t\t}\n\t\tret = color.match(/^rgb\\(\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*\\)$/i);\n\t\tif (ret) {\n\t\t\tconst rgb = createRGB(rateToByte(ret[1]), rateToByte(ret[3]), rateToByte(ret[5]));\n\t\t\tif (testRGB(rgb)) {\n\t\t\t\treturn rgb;\n\t\t\t}\n\t\t}\n\t\tret = color.match(/^rgba\\(\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d(\\.\\d)?)\\s*\\)$/i);\n\t\tif (ret) {\n\t\t\tconst rgb = createRGB(rateToByte(ret[1]), rateToByte(ret[3]), rateToByte(ret[5]), ret[7] - 0);\n\t\t\tif (testRGB(rgb)) {\n\t\t\t\treturn rgb;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\tfunction colorToRGB(color) {\n\t\tif (typeof color !== 'string') {\n\t\t\treturn createRGB(0, 0, 0, 0);\n\t\t}\n\t\tcolor = color.toLowerCase().trim();\n\t\tif (rgbMap[color]) {\n\t\t\treturn rgbMap[color];\n\t\t}\n\t\treturn colorToRGB0(color) || (rgbMap[color] = styleColorToRGB(color));\n\t}\n\n\tmodule.exports = {\n\t\tcolorToRGB\n\t};\n}\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst EventTarget = __webpack_require__(10);\n\n\tconst EVENT_TYPE = {\n\t\tCHANGE_STYLE: 'change_style'\n\t};\n\n\tlet defaultStyle;\n\tclass BaseStyle extends EventTarget {\n\t\tstatic get EVENT_TYPE() {\n\t\t\treturn EVENT_TYPE;\n\t\t}\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : defaultStyle = new BaseStyle();\n\t\t}\n\t\tconstructor({\n\t\t\ttextAlign = 'left',\n\t\t\ttextBaseline = 'middle',\n\t\t\tbgColor\n\t\t} = {}) {\n\t\t\tsuper();\n\t\t\tthis._textAlign = textAlign;\n\t\t\tthis._textBaseline = textBaseline;\n\t\t\tthis._bgColor = bgColor;\n\t\t}\n\t\tget textAlign() {\n\t\t\treturn this._textAlign;\n\t\t}\n\t\tset textAlign(textAlign) {\n\t\t\tthis._textAlign = textAlign;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget textBaseline() {\n\t\t\treturn this._textBaseline;\n\t\t}\n\t\tset textBaseline(textBaseline) {\n\t\t\tthis._textBaseline = textBaseline;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget bgColor() {\n\t\t\treturn this._bgColor;\n\t\t}\n\t\tset bgColor(bgColor) {\n\t\t\tthis._bgColor = bgColor;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tdoChangeStyle() {\n\t\t\tthis.fireListeners(EVENT_TYPE.CHANGE_STYLE);\n\t\t}\n\t\tclone() {\n\t\t\treturn new BaseStyle(this);\n\t\t}\n\t}\n\tmodule.exports = BaseStyle;\n}\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst styleContents = __webpack_require__(14);\n\tconst { Style } = styleContents;\n\n\tclass BaseHeader {\n\t\tconstructor(headerCell) {\n\t\t\tthis._headerCell = headerCell;\n\t\t\tthis.onDrawCell = this.onDrawCell.bind(this); //\n\t\t}\n\t\tget StyleClass() {\n\t\t\treturn Style;\n\t\t}\n\t\tonDrawCell(cellValue, info, context, grid) {\n\t\t\tconst { style, drawCellBase } = info;\n\t\t\tdelete info.getRecord;\n\t\t\tdelete info.style;\n\t\t\tconst helper = grid.getGridCanvasHelper();\n\t\t\tdrawCellBase();\n\t\t\t//\n\t\t\tthis.drawInternal(cellValue, context, styleContents.of(style, this.StyleClass), helper, grid, info);\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, info) {}\n\t\tbindGridEvent(grid) {\n\t\t\treturn [];\n\t\t}\n\t}\n\tmodule.exports = BaseHeader;\n}\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst core = __webpack_require__(55);\n\tconst tools = __webpack_require__(62);\n\tconst columns = __webpack_require__(27);\n\tconst themes = __webpack_require__(22);\n\tconst data = __webpack_require__(43);\n\n\tconst ListGrid = __webpack_require__(92);\n\tconst GridCanvasHelper = __webpack_require__(46);\n\n\tconst icons = __webpack_require__(49);\n\tconst register = __webpack_require__(114);\n\n\t/**\r\n  * Cheetah Grid\r\n  * @type {Object}\r\n  * @namespace cheetahGrid\r\n  */\n\tmodule.exports = {\n\t\tcore,\n\t\ttools,\n\n\t\t// impl Grids\n\t\tListGrid,\n\n\t\t// objects\n\t\tcolumns,\n\t\tthemes,\n\t\tdata,\n\n\t\t// helper\n\t\tGridCanvasHelper,\n\t\tget icons() {\n\t\t\treturn icons.get();\n\t\t},\n\n\t\t//plugin registers\n\t\tregister,\n\n\t\tget _internal() {\n\t\t\tconsole.warn('use internal!!');\n\t\t\treturn {\n\t\t\t\tcolor: __webpack_require__(51),\n\t\t\t\tsort: __webpack_require__(45),\n\t\t\t\tcalc: __webpack_require__(15),\n\t\t\t\tsymbolManager: __webpack_require__(1),\n\t\t\t\tpath2DManager: __webpack_require__(23)\n\t\t\t};\n\t\t}\n\t};\n}\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst DrawGrid = __webpack_require__(4);\n\n\t/**\r\n  * core modules\r\n  * @type {Object}\r\n  * @namespace cheetahGrid.core\r\n  * @memberof cheetahGrid\r\n  */\n\tmodule.exports = {\n\t\tDrawGrid\n\t};\n}\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst EventHandler = __webpack_require__(5);\n\tconst style = __webpack_require__(25);\n\tconst { browser } = __webpack_require__(0);\n\n\tconst MAX_SCROLL = browser.heightLimit - 1000;\n\n\tfunction _update(scrollable) {\n\t\tlet domHeight;\n\t\tif (scrollable._height > MAX_SCROLL) {\n\t\t\tconst sbSize = style.getScrollBarSize();\n\t\t\tconst offsetHeight = scrollable._scrollable.offsetHeight;\n\t\t\tconst vScrollRange = MAX_SCROLL - offsetHeight + sbSize;\n\t\t\tconst rScrollRange = scrollable._height - offsetHeight + sbSize;\n\t\t\tscrollable._p = vScrollRange / rScrollRange;\n\t\t\tdomHeight = MAX_SCROLL;\n\t\t} else {\n\t\t\tscrollable._p = 1;\n\t\t\tdomHeight = scrollable._height;\n\t\t}\n\n\t\tscrollable._endPointElement.style.top = domHeight.toFixed() + 'px';\n\t\tscrollable._endPointElement.style.left = scrollable._width.toFixed() + 'px';\n\t}\n\n\tclass Scrollable {\n\t\tconstructor() {\n\t\t\tthis._handler = new EventHandler();\n\n\t\t\tthis._scrollable = document.createElement('div');\n\t\t\tthis._scrollable.classList.add('grid-scrollable');\n\t\t\tthis._height = 0;\n\t\t\tthis._width = 0;\n\n\t\t\tthis._endPointElement = document.createElement('div');\n\t\t\tthis._endPointElement.classList.add('grid-scroll-end-point');\n\t\t\t_update(this);\n\t\t\tthis._scrollable.appendChild(this._endPointElement);\n\n\t\t\t// const mousewheelevt = (/Firefox/i.test(navigator.userAgent)) ? 'DOMMouseScroll' : 'mousewheel'; //FF doesn't recognize mousewheel as of FF3.x\n\t\t\t// this._handler.on(this._scrollable, mousewheelevt, (evt) => {\n\t\t\t// const delta = evt.detail ? evt.detail * (-120) : evt.wheelDelta;\n\t\t\t// const point = Math.min(Math.abs(delta) / 12, this.scrollHeight / 5);\n\t\t\t// this.scrollTop += delta < 0 ? point : -point;\n\t\t\t// });\n\t\t}\n\t\tcalcTop(top) {\n\t\t\tconst relativeTop = top - this.scrollTop;\n\t\t\treturn this._scrollable.scrollTop + relativeTop;\n\t\t}\n\t\tgetElement() {\n\t\t\treturn this._scrollable;\n\t\t}\n\t\tsetScrollSize(width, height) {\n\t\t\tthis._width = width;\n\t\t\tthis._height = height;\n\t\t\t_update(this);\n\t\t}\n\t\tget scrollWidth() {\n\t\t\treturn this._width;\n\t\t}\n\t\tset scrollWidth(width) {\n\t\t\tthis._width = width;\n\t\t\t_update(this);\n\t\t}\n\t\tget scrollHeight() {\n\t\t\treturn this._height;\n\t\t}\n\t\tset scrollHeight(height) {\n\t\t\tthis._height = height;\n\t\t\t_update(this);\n\t\t}\n\t\tget scrollLeft() {\n\t\t\treturn Math.ceil(this._scrollable.scrollLeft);\n\t\t}\n\t\tset scrollLeft(scrollLeft) {\n\t\t\tthis._scrollable.scrollLeft = scrollLeft;\n\t\t}\n\t\tget scrollTop() {\n\t\t\treturn Math.ceil(this._scrollable.scrollTop / this._p);\n\t\t}\n\t\tset scrollTop(scrollTop) {\n\t\t\tthis._scrollable.scrollTop = scrollTop * this._p;\n\t\t}\n\t\tonScroll(fn) {\n\t\t\tthis._handler.on(this._scrollable, 'scroll', fn);\n\t\t}\n\t\tdispose() {\n\t\t\tthis._handler.dispose();\n\t\t}\n\t}\n\n\tmodule.exports = Scrollable;\n}\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar content = __webpack_require__(58);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(12)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(11)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".cheetah-grid .grid-scrollable{height:100%;width:100%;position:absolute;overflow:scroll}.cheetah-grid .grid-scroll-end-point{opacity:0;position:relative}.cheetah-grid{position:relative;width:100%;height:100%}.cheetah-grid>canvas{position:absolute;width:0;height:0}.cheetah-grid .grid-focus-control{position:relative!important;width:1px;height:1px;opacity:0;padding:0;margin:0;box-sizing:border-box;pointer-events:none;max-width:0;max-height:0;float:none!important}.cheetah-grid input.grid-focus-control::-ms-clear{visibility:hidden}.cheetah-grid input.grid-focus-control.composition{opacity:1;max-width:none;max-height:none}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports) {\n\n\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n\n\n/***/ }),\n/* 60 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst indexFirst = (ary, elm) => {\n\t\tlet low = 0;\n\t\tlet high = ary.length - 1;\n\t\twhile (low <= high) {\n\t\t\tconst i = Math.floor((low + high) / 2);\n\t\t\tif (ary[i] === elm) {\n\t\t\t\treturn i;\n\t\t\t} else if (ary[i] > elm) {\n\t\t\t\thigh = i - 1;\n\t\t\t} else {\n\t\t\t\tlow = i + 1;\n\t\t\t}\n\t\t}\n\t\treturn high < 0 ? 0 : high;\n\t};\n\n\tclass NumberMap {\n\t\tconstructor() {\n\t\t\tthis._keys = [];\n\t\t\tthis._vals = {};\n\t\t\tthis._sorted = false;\n\t\t}\n\t\tput(key, value) {\n\t\t\tif (!(key in this._vals)) {\n\t\t\t\tthis._keys.push(key);\n\t\t\t\tthis._sorted = false;\n\t\t\t}\n\t\t\tthis._vals[key] = value;\n\t\t}\n\t\tget(key) {\n\t\t\treturn this._vals[key];\n\t\t}\n\t\teachAll(fn) {\n\t\t\tthis._keys.forEach(key => {\n\t\t\t\tfn(this.get(key), key);\n\t\t\t});\n\t\t}\n\t\teach(keyFrom, keyTo, fn) {\n\t\t\tconst { _keys: keys } = this;\n\t\t\tconst { length } = keys;\n\t\t\tif (!this._sorted) {\n\t\t\t\tkeys.sort((a, b) => {\n\t\t\t\t\tif (a < b) {\n\t\t\t\t\t\treturn -1;\n\t\t\t\t\t}\n\t\t\t\t\tif (a > b) {\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\t}\n\t\t\t\t\treturn 0;\n\t\t\t\t});\n\t\t\t\tthis._sorted = true;\n\t\t\t}\n\n\t\t\tfor (let i = indexFirst(keys, keyFrom); i < length; i++) {\n\t\t\t\tconst key = keys[i];\n\t\t\t\tif (keyFrom <= key && key <= keyTo) {\n\t\t\t\t\tfn(this.get(key), key);\n\t\t\t\t} else if (keyTo < key) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tmodule.exports = NumberMap;\n}\n\n/***/ }),\n/* 61 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst EventHandler = __webpack_require__(5);\nconst handler = new EventHandler();\n\nlet ratio;\nfunction setRatio() {\n\tratio = Math.ceil(window.devicePixelRatio || 1);\n\tif (ratio > 1 && ratio % 2 !== 0) {\n\t\tratio += 1;\n\t}\n}\nsetRatio();\nhandler.on(window, 'resize', setRatio);\n\nmodule.exports = {\n\ttransform(canvas) {\n\t\tconst ctx = canvas.getContext('2d');\n\n\t\tconst getAttribute = canvas.getAttribute;\n\t\tcanvas.getAttribute = function (name, ...args) {\n\t\t\tlet result = getAttribute.call(this, name, ...args);\n\t\t\tif (name === 'width' || name === 'height') {\n\t\t\t\tresult /= ratio;\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t\tconst setAttribute = canvas.setAttribute;\n\t\tcanvas.setAttribute = function (name, val, ...args) {\n\t\t\tconst wh = name === 'width' || name === 'height';\n\t\t\tif (wh) {\n\t\t\t\tval *= ratio;\n\t\t\t}\n\t\t\tconst result = setAttribute.call(this, name, val, ...args);\n\t\t\tif (wh) {\n\t\t\t\tctx.scale(ratio, ratio);\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\n\t\tObject.defineProperty(canvas, 'width', {\n\t\t\tget() {\n\t\t\t\treturn canvas.getAttribute('width');\n\t\t\t},\n\t\t\tset: val => {\n\t\t\t\tcanvas.setAttribute('width', Math.floor(val));\n\t\t\t},\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true\n\t\t});\n\t\tObject.defineProperty(canvas, 'height', {\n\t\t\tget() {\n\t\t\t\treturn canvas.getAttribute('height');\n\t\t\t},\n\t\t\tset: val => {\n\t\t\t\tcanvas.setAttribute('height', Math.floor(val));\n\t\t\t},\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true\n\t\t});\n\t\tconst drawImage = ctx.drawImage;\n\t\tctx.drawImage = function (img, ...args) {\n\t\t\tif (img !== canvas || ratio === 1) {\n\t\t\t\treturn drawImage.call(this, img, ...args);\n\t\t\t}\n\t\t\tthis.save();\n\t\t\ttry {\n\t\t\t\tthis.scale(1 / ratio, 1 / ratio);\n\t\t\t\tif (args.length > 4) {\n\t\t\t\t\targs[4] = args[4] * ratio;\n\t\t\t\t\targs[5] = args[5] * ratio;\n\t\t\t\t} else {\n\t\t\t\t\targs[0] = args[0] * ratio;\n\t\t\t\t\targs[1] = args[1] * ratio;\n\t\t\t\t}\n\t\t\t\treturn drawImage.call(this, img, ...args);\n\t\t\t} finally {\n\t\t\t\tthis.restore();\n\t\t\t}\n\t\t};\n\n\t\treturn canvas;\n\t}\n};\n\n/***/ }),\n/* 62 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst canvashelper = __webpack_require__(26);\n\n\t/**\r\n  * tools\r\n  * @type {Object}\r\n  * @namespace cheetahGrid.tools\r\n  * @memberof cheetahGrid\r\n  */\n\tmodule.exports = {\n\t\tcanvashelper\n\t};\n}\n\n/***/ }),\n/* 63 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst BaseAction = __webpack_require__(16);\n\tconst Action = __webpack_require__(28);\n\tconst Editor = __webpack_require__(13);\n\tconst CheckEditor = __webpack_require__(64);\n\tconst ButtonAction = __webpack_require__(65);\n\tconst SmallDialogInputEditor = __webpack_require__(66);\n\tconst InlineInputEditor = __webpack_require__(70);\n\tconst InlineMenuEditor = __webpack_require__(74);\n\n\tclass ImmutableCheckEditor extends CheckEditor {\n\t\tget disabled() {\n\t\t\treturn this._disabled;\n\t\t}\n\t\tget readOnly() {\n\t\t\treturn this._readOnly;\n\t\t}\n\t}\n\tclass ImmutableInputEditor extends SmallDialogInputEditor {\n\t\tget disabled() {\n\t\t\treturn this._disabled;\n\t\t}\n\t\tget readOnly() {\n\t\t\treturn this._readOnly;\n\t\t}\n\t}\n\n\t/**\r\n  * column actions\r\n  * @type {Object}\r\n  * @namespace cheetahGrid.columns.action\r\n  * @memberof cheetahGrid.columns\r\n  */\n\tconst action = {\n\t\tACTIONS: {\n\t\t\tCHECK: new ImmutableCheckEditor(),\n\t\t\tINPUT: new ImmutableInputEditor()\n\t\t},\n\t\tget BaseAction() {\n\t\t\treturn BaseAction;\n\t\t},\n\t\tget Editor() {\n\t\t\treturn Editor;\n\t\t},\n\t\tget Action() {\n\t\t\treturn Action;\n\t\t},\n\t\tget CheckEditor() {\n\t\t\treturn CheckEditor;\n\t\t},\n\t\tget ButtonAction() {\n\t\t\treturn ButtonAction;\n\t\t},\n\t\tget SmallDialogInputEditor() {\n\t\t\treturn SmallDialogInputEditor;\n\t\t},\n\t\tget InlineInputEditor() {\n\t\t\treturn InlineInputEditor;\n\t\t},\n\t\tget InlineMenuEditor() {\n\t\t\treturn InlineMenuEditor;\n\t\t},\n\t\tof(columnAction) {\n\t\t\tif (!columnAction) {\n\t\t\t\treturn action.ACTIONS.DEFAULT;\n\t\t\t} else if (typeof columnAction === 'string') {\n\t\t\t\treturn action.ACTIONS[columnAction.toUpperCase()] || action.of(null);\n\t\t\t} else {\n\t\t\t\treturn columnAction;\n\t\t\t}\n\t\t}\n\t};\n\tmodule.exports = action;\n}\n\n/***/ }),\n/* 64 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst { obj: { setReadonly }, isPromise } = __webpack_require__(0);\n\tconst { bindCellClickAction, bindCellKeyAction } = __webpack_require__(29);\n\tconst animate = __webpack_require__(30);\n\n\tconst Editor = __webpack_require__(13);\n\tconst { CHECK_COLUMN_STATE_ID } = __webpack_require__(1);\n\n\tconst KEY_ENTER = 13;\n\tconst KEY_SPACE = 32;\n\n\tfunction toggleValue(val) {\n\t\tif (typeof val === 'number') {\n\t\t\tif (val === 0) {\n\t\t\t\treturn 1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t} else if (typeof val === 'string') {\n\t\t\tif (val === 'false') {\n\t\t\t\treturn 'true';\n\t\t\t} else if (val === 'off') {\n\t\t\t\treturn 'on';\n\t\t\t} else if (val.match(/^0+$/)) {\n\t\t\t\treturn val.replace(/^(0*)0$/, '$11');\n\t\t\t} else if (val === 'true') {\n\t\t\t\treturn 'false';\n\t\t\t} else if (val === 'on') {\n\t\t\t\treturn 'off';\n\t\t\t} else if (val.match(/^0*1$/)) {\n\t\t\t\treturn val.replace(/^(0*)1$/, '$10');\n\t\t\t}\n\t\t}\n\t\treturn !val;\n\t}\n\n\tclass CheckEditor extends Editor {\n\t\tclone() {\n\t\t\treturn new CheckEditor(this);\n\t\t}\n\t\tbindGridEvent(grid, col, util) {\n\t\t\tif (!grid[CHECK_COLUMN_STATE_ID]) {\n\t\t\t\tsetReadonly(grid, CHECK_COLUMN_STATE_ID, {});\n\t\t\t}\n\t\t\tconst state = grid[CHECK_COLUMN_STATE_ID];\n\n\t\t\tconst action = cell => {\n\t\t\t\tconst key = cell.col + ':' + cell.row;\n\t\t\t\tconst blockKey = key + '::block';\n\t\t\t\tif (this.readOnly || this.disabled || state[blockKey]) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst ret = grid.doChangeValue(cell.col, cell.row, toggleValue);\n\t\t\t\tif (ret) {\n\n\t\t\t\t\tconst onChange = () => {\n\t\t\t\t\t\t// checkbox animation\n\t\t\t\t\t\tanimate(200, point => {\n\t\t\t\t\t\t\tif (point === 1) {\n\t\t\t\t\t\t\t\tdelete state[key];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tstate[key] = {\n\t\t\t\t\t\t\t\t\telapsed: point\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tgrid.invalidateCell(cell.col, cell.row);\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\t\tif (isPromise(ret)) {\n\t\t\t\t\t\tstate[blockKey] = true;\n\t\t\t\t\t\tret.then(() => {\n\t\t\t\t\t\t\tdelete state[blockKey];\n\t\t\t\t\t\t\tonChange();\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tonChange();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn [...bindCellClickAction(grid, col, util, {\n\t\t\t\taction,\n\t\t\t\tmouseOver: e => {\n\t\t\t\t\tif (this.disabled) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tstate.mouseActiveCell = {\n\t\t\t\t\t\tcol: e.col,\n\t\t\t\t\t\trow: e.row\n\t\t\t\t\t};\n\t\t\t\t\tgrid.invalidateCell(e.col, e.row);\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\t\t\tmouseOut: e => {\n\t\t\t\t\tdelete state.mouseActiveCell;\n\t\t\t\t\tgrid.invalidateCell(e.col, e.row);\n\t\t\t\t}\n\t\t\t}), ...bindCellKeyAction(grid, col, util, {\n\t\t\t\taction: e => {\n\t\t\t\t\tconst selrange = grid.selection.range;\n\t\t\t\t\tconst col = grid.selection.select.col;\n\t\t\t\t\tfor (let row = selrange.start.row; row <= selrange.end.row; row++) {\n\t\t\t\t\t\tif (!util.isTarget(col, row)) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\taction({\n\t\t\t\t\t\t\tcol,\n\t\t\t\t\t\t\trow\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tacceptKeys: [KEY_ENTER, KEY_SPACE]\n\t\t\t})];\n\t\t}\n\t}\n\n\tmodule.exports = CheckEditor;\n}\n\n/***/ }),\n/* 65 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst { obj: { setReadonly } } = __webpack_require__(0);\n\tconst Action = __webpack_require__(28);\n\tconst { BUTTON_COLUMN_STATE_ID } = __webpack_require__(1);\n\tclass ButtonAction extends Action {\n\t\tgetState(grid) {\n\t\t\tif (!grid[BUTTON_COLUMN_STATE_ID]) {\n\t\t\t\tsetReadonly(grid, BUTTON_COLUMN_STATE_ID, {});\n\t\t\t}\n\t\t\treturn grid[BUTTON_COLUMN_STATE_ID];\n\t\t}\n\t}\n\n\tmodule.exports = ButtonAction;\n}\n\n/***/ }),\n/* 66 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst { obj: { setReadonly } } = __webpack_require__(0);\n\nconst SmallDialogInputElement = __webpack_require__(67);\nconst { SMALL_DIALOG_INPUT_EDITOR_STATE_ID: _ } = __webpack_require__(1);\n\nlet globalElement = null;\nlet bindGridCount = 0;\nfunction attachInput(grid, cell, editor, value) {\n\tif (!grid[_]) {\n\t\tsetReadonly(grid, _, {});\n\t}\n\tif (!globalElement) {\n\t\tglobalElement = new SmallDialogInputElement();\n\t}\n\tconst state = grid[_];\n\tif (!state.element) {\n\t\tstate.element = globalElement;\n\t\tbindGridCount++;\n\t\tgrid.addDisposable({\n\t\t\tdispose() {\n\t\t\t\tbindGridCount--;\n\t\t\t\tif (!bindGridCount) {\n\t\t\t\t\tglobalElement.dispose();\n\t\t\t\t\tglobalElement = null;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tglobalElement.attach(grid, editor, cell.col, cell.row, value);\n}\nfunction detachInput(grid) {\n\tif (globalElement) {\n\t\tglobalElement.detach();\n\t}\n}\nconst BaseInputEditor = __webpack_require__(31);\nclass SmallDialogInputEditor extends BaseInputEditor {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._helperText = option.helperText;\n\t\tthis._inputValidator = option.inputValidator;\n\t\tthis._validator = option.validator;\n\t\tthis._classList = option.classList;\n\t\tthis._type = option.type;\n\t}\n\tdispose() {\n\t\tthis._inputDialogManager.dispose();\n\t\tthis._inputDialogManager = null;\n\t}\n\tget classList() {\n\t\treturn this._classList && (__webpack_provided_Array_dot_isArray(this._classList) ? this._classList : [this._classList]);\n\t}\n\tset classList(classList) {\n\t\tthis._classList = classList;\n\t}\n\tget type() {\n\t\treturn this._type;\n\t}\n\tset type(type) {\n\t\tthis._type = type;\n\t}\n\tget helperText() {\n\t\treturn this._helperText;\n\t}\n\tget inputValidator() {\n\t\treturn this._inputValidator;\n\t}\n\tget validator() {\n\t\treturn this._validator;\n\t}\n\tclone() {\n\t\treturn new SmallDialogInputEditor(this);\n\t}\n\tonInputCellInternal(grid, cell, inputValue) {\n\t\tattachInput(grid, cell, this, inputValue);\n\t}\n\tonOpenCellInternal(grid, cell) {\n\t\tgrid.doGetCellValue(cell.col, cell.row, value => {\n\t\t\tattachInput(grid, cell, this, value);\n\t\t});\n\t}\n\tonChangeSelectCellInternal(grid, cell, selected) {\n\t\t// cancel input\n\t\tdetachInput();\n\t}\n\tonGridScrollInternal(grid) {\n\t\t// cancel input\n\t\tdetachInput();\n\t}\n\tonSetInputAttrsInternal(grid, cell, input) {\n\t\tSmallDialogInputElement.setInputAttrs(this, grid, input);\n\t}\n}\n\nmodule.exports = SmallDialogInputEditor;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 67 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n\tevent: {\n\t\tgetKeyCode,\n\t\tcancel: cancelEvent\n\t}\n} = __webpack_require__(0);\n\nconst EventHandler = __webpack_require__(5);\nconst {\n\tcreateElement\n} = __webpack_require__(17);\n\nconst CLASSNAME = 'cheetah-grid__small-dialog-input';\nconst INPUT_CLASSNAME = CLASSNAME + '__input';\nconst HIDDEN_CLASSNAME = CLASSNAME + '--hidden';\nconst SHOWN_CLASSNAME = CLASSNAME + '--shown';\n\nconst KEY_ENTER = 13;\nconst KEY_ESC = 27;\n\nfunction _focus(input, handler) {\n\tconst focus = () => {\n\t\tinput.focus();\n\n\t\tconst end = input.value.length;\n\t\ttry {\n\t\t\tif (typeof input.selectionStart !== 'undefined') {\n\t\t\t\tinput.selectionStart = end;\n\t\t\t\tinput.selectionEnd = end;\n\t\t\t\treturn;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t//ignore\n\t\t}\n\t\tif (document.selection) {\n\t\t\tconst range = input.createTextRange();\n\t\t\trange.collapse();\n\t\t\trange.moveEnd('character', end);\n\t\t\trange.moveStart('character', end);\n\t\t\trange.select();\n\t\t}\n\t};\n\thandler.tryWithOffEvents(input, 'blur', () => {\n\t\tfocus();\n\t});\n}\n\nfunction createDialogElement() {\n\t__webpack_require__(68);\n\tconst element = createElement('div', { classList: [CLASSNAME, HIDDEN_CLASSNAME] });\n\tconst input = createElement('input', { classList: INPUT_CLASSNAME });\n\tinput.readonly = true;\n\tinput.tabIndex = -1;\n\telement.appendChild(input);\n\treturn element;\n}\n\nfunction bindProps(grid, dialog, input, editor) {\n\tconst { classList, helperText } = editor;\n\tif (classList) {\n\t\tdialog.classList.add(...classList);\n\t}\n\tif (helperText && typeof helperText !== 'function') {\n\t\tdialog.dataset.helperText = helperText;\n\t}\n\tsetInputAttrs(editor, grid, input);\n}\n\nfunction unbindProps(grid, dialog, input, editor) {\n\tconst { classList } = editor;\n\tif (classList) {\n\t\tdialog.classList.remove(...classList);\n\t}\n\tdelete dialog.dataset.helperText;\n\tinput.type = '';\n}\n\nfunction setInputAttrs(editor, grid, input) {\n\tconst { type } = editor;\n\tinput.type = type || '';\n}\n\nclass SmallDialogInputElement {\n\tstatic setInputAttrs(...args) {\n\t\tsetInputAttrs(...args);\n\t}\n\tconstructor() {\n\t\tthis._handler = new EventHandler();\n\t\tthis._dialog = createDialogElement();\n\t\tthis._input = this._dialog.querySelector('.' + INPUT_CLASSNAME);\n\t\tthis._bindDialogEvents();\n\t}\n\tdispose() {\n\t\tthis.detach();\n\t\tthis._handler.dispose();\n\t\tthis._dialog = null;\n\t\tthis._input = null;\n\t\tthis._beforePropEditor = null;\n\t}\n\tattach(grid, editor, col, row, value) {\n\t\tconst handler = this._handler;\n\t\tconst dialog = this._dialog;\n\t\tconst input = this._input;\n\n\t\tif (this._beforePropEditor) {\n\t\t\tunbindProps(grid, dialog, input, this._beforePropEditor);\n\t\t}\n\n\t\tdelete dialog.dataset.errorMessage;\n\t\tdialog.classList.remove(SHOWN_CLASSNAME);\n\t\tdialog.classList.add(HIDDEN_CLASSNAME);\n\t\tinput.readonly = false;\n\t\tinput.tabIndex = 0;\n\t\tconst { element, rect } = grid.getAttachCellArea(col, row);\n\t\tdialog.style.top = rect.top.toFixed() + 'px';\n\t\tdialog.style.left = rect.left.toFixed() + 'px';\n\t\tdialog.style.width = rect.width.toFixed() + 'px';\n\t\tdialog.style.height = rect.height.toFixed() + 'px';\n\t\telement.appendChild(dialog);\n\n\t\tinput.value = value;\n\t\tinput.style.font = grid.font || '16px sans-serif';\n\t\tconst activeData = { grid, col, row, editor };\n\t\tthis._onInputValue(input, activeData);\n\t\t_focus(input, handler);\n\t\tdialog.classList.add(SHOWN_CLASSNAME);\n\t\tdialog.classList.remove(HIDDEN_CLASSNAME);\n\t\tinput.readonly = true;\n\n\t\tbindProps(grid, dialog, input, editor);\n\n\t\tthis._activeData = activeData;\n\t\tthis._beforePropEditor = editor;\n\t}\n\tdetach(gridFocus) {\n\t\tif (this._isActive()) {\n\t\t\tconst dialog = this._dialog;\n\t\t\tconst input = this._input;\n\n\t\t\tdialog.classList.remove(SHOWN_CLASSNAME);\n\t\t\tdialog.classList.add(HIDDEN_CLASSNAME);\n\t\t\tinput.readonly = false;\n\t\t\tinput.tabIndex = -1;\n\n\t\t\tconst { grid, col, row } = this._activeData;\n\n\t\t\tgrid.invalidateCell(col, row);\n\t\t\tif (gridFocus) {\n\t\t\t\tgrid.focus();\n\t\t\t}\n\t\t}\n\t\tthis._activeData = null;\n\t\tthis._beforeValue = null;\n\t}\n\t_doChangeValue() {\n\t\tif (!this._isActive()) {\n\t\t\treturn false;\n\t\t}\n\t\tconst input = this._input;\n\t\tconst value = input.value;\n\t\tif (!this._validate(value)) {\n\t\t\treturn false;\n\t\t}\n\t\tconst { grid, col, row } = this._activeData;\n\t\tgrid.doChangeValue(col, row, () => value);\n\t\treturn true;\n\t}\n\t_isActive() {\n\t\tconst dialog = this._dialog;\n\t\tif (!dialog || !dialog.parentElement) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!this._activeData) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\t_bindDialogEvents() {\n\t\tconst handler = this._handler;\n\t\tconst dialog = this._dialog;\n\t\tconst input = this._input;\n\t\tconst stopPropagationOnly = e => e.stopPropagation(); // grid\n\t\thandler.on(dialog, 'click', stopPropagationOnly);\n\t\thandler.on(dialog, 'dblclick', stopPropagationOnly);\n\t\thandler.on(dialog, 'mousedown', stopPropagationOnly);\n\t\thandler.on(dialog, 'touchstart', stopPropagationOnly);\n\n\t\thandler.on(input, 'compositionstart', e => {\n\t\t\tinput.classList.add('composition');\n\t\t});\n\t\thandler.on(input, 'compositionend', e => {\n\t\t\tinput.classList.remove('composition');\n\t\t\tthis._onInputValue(input);\n\t\t});\n\t\tconst onKeyupAndPress = e => {\n\t\t\tif (input.classList.contains('composition')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._onInputValue(input);\n\t\t};\n\t\thandler.on(input, 'keyup', onKeyupAndPress);\n\t\thandler.on(input, 'keypress', onKeyupAndPress);\n\t\thandler.on(input, 'keydown', e => {\n\t\t\tif (input.classList.contains('composition')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst keyCode = getKeyCode(e);\n\t\t\tif (keyCode === KEY_ESC) {\n\t\t\t\tthis.detach(true);\n\t\t\t\tcancelEvent(e);\n\t\t\t} else if (keyCode === KEY_ENTER) {\n\t\t\t\tif (this._doChangeValue()) {\n\t\t\t\t\tthis.detach(true);\n\t\t\t\t}\n\t\t\t\tcancelEvent(e);\n\t\t\t} else {\n\t\t\t\tthis._onInputValue(input);\n\t\t\t}\n\t\t});\n\t}\n\t_onInputValue(input, activeData) {\n\t\tconst before = this._beforeValue;\n\t\tconst value = input.value;\n\t\tif (before !== value) {\n\t\t\tthis._onInputValueChange(value, before, activeData);\n\t\t}\n\t\tthis._beforeValue = value;\n\t}\n\t_onInputValueChange(after, before, activeData) {\n\t\tactiveData = activeData || this._activeData;\n\t\tconst dialog = this._dialog;\n\t\tconst { grid, col, row, editor } = activeData;\n\t\tif (typeof editor.helperText === 'function') {\n\t\t\tconst helperText = editor.helperText(after, { grid, col, row });\n\t\t\tif (helperText) {\n\t\t\t\tdialog.dataset.helperText = helperText;\n\t\t\t} else {\n\t\t\t\tdelete dialog.dataset.helperText;\n\t\t\t}\n\t\t}\n\t\tif ('errorMessage' in dialog.dataset) {\n\t\t\tthis._validate(after, true);\n\t\t}\n\t}\n\t_validate(value, inputOnly) {\n\t\tconst dialog = this._dialog;\n\t\tconst { grid, col, row, editor } = this._activeData;\n\t\tlet message = null;\n\t\tif (editor.inputValidator) {\n\t\t\tmessage = editor.inputValidator(value, { grid, col, row });\n\t\t}\n\t\tif (!message && editor.validator && !inputOnly) {\n\t\t\tmessage = editor.validator(value, { grid, col, row });\n\t\t}\n\t\tif (message) {\n\t\t\tdialog.dataset.errorMessage = message;\n\t\t\treturn false;\n\t\t} else {\n\t\t\tdelete dialog.dataset.errorMessage;\n\t\t\treturn true;\n\t\t}\n\t}\n}\n\nmodule.exports = SmallDialogInputElement;\n\n/***/ }),\n/* 68 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar content = __webpack_require__(69);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(12)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n/***/ }),\n/* 69 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(11)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".cheetah-grid__small-dialog-input__input::-ms-clear{visibility:hidden}@keyframes cheetah-grid__small-dialog-input--hidden-animation{0%{opacity:1}99%{opacity:1}to{opacity:0}}.cheetah-grid__small-dialog-input{position:absolute;box-sizing:content-box;margin:-1px auto auto -1px;border-radius:3px;background-color:#fafafa;transition:padding .15s ease-out,box-shadow .15s ease-out}.cheetah-grid__small-dialog-input--hidden{box-shadow:none;padding:0;pointer-events:none;animation:cheetah-grid__small-dialog-input--hidden-animation .15s ease-out;opacity:0}.cheetah-grid__small-dialog-input--shown{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);padding:8px 24px 26px}.cheetah-grid__small-dialog-input__input{width:100%;height:100%;box-sizing:border-box;padding:3px 2px 0 4px;border:none;border-bottom:1px solid rgba(0,0,0,.87);outline:none;background-color:transparent;transition:all .3s ease-out}.cheetah-grid__small-dialog-input__input:focus{border-bottom:1px solid #2196f3;box-shadow:0 1px 0 0 #2196f3}.cheetah-grid__small-dialog-input.helper-text--right-justified:after{text-align:right}.cheetah-grid__small-dialog-input[data-error-message]:after,.cheetah-grid__small-dialog-input[data-helper-text]:after{font-size:12px;line-height:1;display:block;width:100%;padding-top:8px}.cheetah-grid__small-dialog-input[data-helper-text]:after{content:attr(data-helper-text);color:rgba(0,0,0,.87)}.cheetah-grid__small-dialog-input[data-error-message] input{border-bottom:1px solid #dd2c00;box-shadow:0 1px 0 0 #dd2c00}.cheetah-grid__small-dialog-input[data-error-message]:after{content:attr(data-error-message);color:#dd2c00;text-align:left}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 70 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst { obj: { setReadonly } } = __webpack_require__(0);\nconst BaseInputEditor = __webpack_require__(31);\nconst InlineInputElement = __webpack_require__(71);\nconst { INLINE_INPUT_EDITOR_STATE_ID: _ } = __webpack_require__(1);\n\nlet globalElement = null;\nlet bindGridCount = 0;\nfunction attachInput(grid, cell, editor, value) {\n\tif (!grid[_]) {\n\t\tsetReadonly(grid, _, {});\n\t}\n\tif (!globalElement) {\n\t\tglobalElement = new InlineInputElement();\n\t}\n\tconst state = grid[_];\n\tif (!state.element) {\n\t\tstate.element = globalElement;\n\t\tbindGridCount++;\n\t\tgrid.addDisposable({\n\t\t\tdispose() {\n\t\t\t\tbindGridCount--;\n\t\t\t\tif (!bindGridCount) {\n\t\t\t\t\tglobalElement.dispose();\n\t\t\t\t\tglobalElement = null;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tglobalElement.attach(grid, editor, cell.col, cell.row, value);\n}\nfunction detachInput(grid) {\n\tif (globalElement) {\n\t\tglobalElement.detach();\n\t}\n}\nfunction doChangeValue(grid) {\n\tif (globalElement) {\n\t\tglobalElement.doChangeValue();\n\t}\n}\n\nclass InlineInputEditor extends BaseInputEditor {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._classList = option.classList;\n\t\tthis._type = option.type;\n\t}\n\tget classList() {\n\t\treturn this._classList && (__webpack_provided_Array_dot_isArray(this._classList) ? this._classList : [this._classList]);\n\t}\n\tset classList(classList) {\n\t\tthis._classList = classList;\n\t}\n\tget type() {\n\t\treturn this._type;\n\t}\n\tset type(type) {\n\t\tthis._type = type;\n\t}\n\tclone() {\n\t\treturn new InlineInputEditor(this);\n\t}\n\tonInputCellInternal(grid, cell, inputValue) {\n\t\tattachInput(grid, cell, this, inputValue);\n\t}\n\tonOpenCellInternal(grid, cell) {\n\t\tgrid.doGetCellValue(cell.col, cell.row, value => {\n\t\t\tattachInput(grid, cell, this, value);\n\t\t});\n\t}\n\tonChangeSelectCellInternal(grid, cell, selected) {\n\t\tdoChangeValue(grid);\n\t\tdetachInput(grid);\n\t}\n\tonGridScrollInternal(grid) {\n\t\tdoChangeValue(grid);\n\t\tdetachInput(grid);\n\t}\n\tonSetInputAttrsInternal(grid, cell, input) {\n\t\tInlineInputElement.setInputAttrs(this, grid, input);\n\t}\n}\n\nmodule.exports = InlineInputEditor;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 71 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n\tevent: {\n\t\tgetKeyCode,\n\t\tcancel: cancelEvent\n\t}\n} = __webpack_require__(0);\n\nconst EventHandler = __webpack_require__(5);\nconst {\n\tcreateElement\n} = __webpack_require__(17);\nconst KEY_ENTER = 13;\n\nconst CLASSNAME = 'cheetah-grid__inline-input';\n\nfunction createInputElement() {\n\t__webpack_require__(72);\n\treturn createElement('input', { classList: CLASSNAME });\n}\n\nfunction setInputAttrs(editor, grid, input) {\n\tconst { classList, type } = editor;\n\tif (classList) {\n\t\tinput.classList.add(...classList);\n\t}\n\tinput.type = type || '';\n}\n\nclass InlineInputElement {\n\tstatic setInputAttrs(...args) {\n\t\tsetInputAttrs(...args);\n\t}\n\tconstructor() {\n\t\tthis._handler = new EventHandler();\n\t\tthis._input = createInputElement();\n\t\tthis._bindInputEvents();\n\t}\n\tdispose() {\n\t\tthis.detach();\n\t\tthis._handler.dispose();\n\t\tthis._input = null;\n\t\tthis._beforePropEditor = null;\n\t}\n\tattach(grid, editor, col, row, value) {\n\t\tconst input = this._input;\n\t\tconst handler = this._handler;\n\n\t\tif (this._beforePropEditor) {\n\t\t\tconst { classList } = this._beforePropEditor;\n\t\t\tif (classList) {\n\t\t\t\tinput.classList.remove(...classList);\n\t\t\t}\n\t\t}\n\n\t\tinput.style.font = grid.font || '16px sans-serif';\n\n\t\tconst { element, rect } = grid.getAttachCellArea(col, row);\n\t\tinput.style.top = rect.top.toFixed() + 'px';\n\t\tinput.style.left = rect.left.toFixed() + 'px';\n\t\tinput.style.width = rect.width.toFixed() + 'px';\n\t\tinput.style.height = rect.height.toFixed() + 'px';\n\t\telement.appendChild(input);\n\n\t\tsetInputAttrs(editor, grid, input);\n\t\tinput.value = value;\n\n\t\tthis._activeData = { grid, col, row, editor };\n\t\tthis._beforePropEditor = editor;\n\n\t\tconst focus = () => {\n\t\t\tinput.focus();\n\n\t\t\tconst end = input.value.length;\n\t\t\ttry {\n\t\t\t\tif (typeof input.selectionStart !== 'undefined') {\n\t\t\t\t\tinput.selectionStart = end;\n\t\t\t\t\tinput.selectionEnd = end;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t//ignore\n\t\t\t}\n\t\t\tif (document.selection) {\n\t\t\t\tconst range = input.createTextRange();\n\t\t\t\trange.collapse();\n\t\t\t\trange.moveEnd('character', end);\n\t\t\t\trange.moveStart('character', end);\n\t\t\t\trange.select();\n\t\t\t}\n\t\t};\n\t\thandler.tryWithOffEvents(input, 'blur', () => {\n\t\t\tfocus();\n\t\t});\n\t}\n\tdetach() {\n\t\tif (this._isActive()) {\n\t\t\tconst { grid, col, row } = this._activeData;\n\t\t\tconst input = this._input;\n\t\t\tthis._handler.tryWithOffEvents(input, 'blur', () => {\n\t\t\t\tinput.parentElement.removeChild(input);\n\t\t\t});\n\t\t\tgrid.invalidateCell(col, row);\n\t\t}\n\t\tthis._activeData = null;\n\t}\n\tdoChangeValue() {\n\t\tif (!this._isActive()) {\n\t\t\treturn;\n\t\t}\n\t\tconst input = this._input;\n\t\tconst value = input.value;\n\t\tconst { grid, col, row } = this._activeData;\n\t\tgrid.doChangeValue(col, row, () => value);\n\t}\n\t_isActive() {\n\t\tconst input = this._input;\n\t\tif (!input || !input.parentElement) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!this._activeData) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\t_bindInputEvents() {\n\t\tconst handler = this._handler;\n\t\tconst input = this._input;\n\t\tconst stopPropagationOnly = e => e.stopPropagation(); // grid\n\t\thandler.on(input, 'click', stopPropagationOnly);\n\t\thandler.on(input, 'mousedown', stopPropagationOnly);\n\t\thandler.on(input, 'touchstart', stopPropagationOnly);\n\t\thandler.on(input, 'dblclick', stopPropagationOnly);\n\n\t\thandler.on(input, 'compositionstart', e => {\n\t\t\tinput.classList.add('composition');\n\t\t});\n\t\thandler.on(input, 'compositionend', e => {\n\t\t\tinput.classList.remove('composition');\n\t\t});\n\t\thandler.on(input, 'keydown', e => {\n\t\t\tif (input.classList.contains('composition')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (getKeyCode(e) === KEY_ENTER) {\n\t\t\t\tif (!this._isActive()) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst { grid } = this._activeData;\n\n\t\t\t\tthis.doChangeValue();\n\t\t\t\tif (grid) {\n\t\t\t\t\tgrid.focus();\n\t\t\t\t}\n\t\t\t\tthis.detach();\n\t\t\t\tcancelEvent(e);\n\t\t\t}\n\t\t});\n\t\thandler.on(input, 'blur', e => {\n\t\t\tthis.doChangeValue();\n\t\t\tthis.detach();\n\t\t});\n\t}\n}\n\nmodule.exports = InlineInputElement;\n\n/***/ }),\n/* 72 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar content = __webpack_require__(73);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(12)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n/***/ }),\n/* 73 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(11)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".cheetah-grid__inline-input::-ms-clear{visibility:hidden}.cheetah-grid__inline-input{position:absolute;box-sizing:border-box}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 74 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst { obj: { setReadonly } } = __webpack_require__(0);\nconst { normalize } = __webpack_require__(32);\n\nconst Editor = __webpack_require__(13);\nconst { EVENT_TYPE: {\n\t\tSELECTED_CELL,\n\t\tCLICK_CELL,\n\t\tKEYDOWN,\n\t\tSCROLL,\n\t\tMOUSEOVER_CELL,\n\t\tMOUSEOUT_CELL,\n\t\tMOUSEMOVE_CELL\n\t} } = __webpack_require__(4);\nconst InlineMenuElement = __webpack_require__(75);\nconst { INLINE_MENU_EDITOR_STATE_ID: _ } = __webpack_require__(1);\n\nlet globalElement = null;\nlet bindGridCount = 0;\nfunction attachMenu(grid, cell, editor, value) {\n\tif (!grid[_]) {\n\t\tsetReadonly(grid, _, {});\n\t}\n\tif (!globalElement) {\n\t\tglobalElement = new InlineMenuElement();\n\t}\n\tconst state = grid[_];\n\tif (!state.element) {\n\t\tstate.element = globalElement;\n\t\tbindGridCount++;\n\t\tgrid.addDisposable({\n\t\t\tdispose() {\n\t\t\t\tbindGridCount--;\n\t\t\t\tif (!bindGridCount) {\n\t\t\t\t\tglobalElement.dispose();\n\t\t\t\t\tglobalElement = null;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tglobalElement.attach(grid, editor, cell.col, cell.row, value);\n}\nfunction detachMenu(grid) {\n\tif (globalElement) {\n\t\tglobalElement.detach();\n\t}\n}\n\nconst KEY_ENTER = 13;\nconst KEY_F2 = 113;\n\nclass InlineMenuEditor extends Editor {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._classList = option.classList;\n\t\tthis._options = normalize(option.options);\n\t}\n\tdispose() {}\n\tget classList() {\n\t\treturn this._classList && (__webpack_provided_Array_dot_isArray(this._classList) ? this._classList : [this._classList]);\n\t}\n\tset classList(classList) {\n\t\tthis._classList = classList;\n\t}\n\tget options() {\n\t\treturn this._options;\n\t}\n\tset options(options) {\n\t\tthis._options = normalize(options);\n\t}\n\tclone() {\n\t\treturn new InlineMenuEditor(this);\n\t}\n\tbindGridEvent(grid, col, util) {\n\t\tconst open = cell => {\n\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tgrid.doGetCellValue(cell.col, cell.row, value => {\n\t\t\t\tattachMenu(grid, cell, this, value);\n\t\t\t});\n\t\t};\n\n\t\treturn [grid.listen(CLICK_CELL, cell => {\n\t\t\tif (!util.isTarget(cell.col, cell.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\topen({\n\t\t\t\tcol: cell.col,\n\t\t\t\trow: cell.row\n\t\t\t});\n\t\t}), grid.listen(KEYDOWN, (keyCode, e) => {\n\t\t\tif (keyCode !== KEY_F2 && keyCode !== KEY_ENTER) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst sel = grid.selection.select;\n\t\t\tif (!util.isTarget(sel.col, sel.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\topen({\n\t\t\t\tcol: sel.col,\n\t\t\t\trow: sel.row\n\t\t\t});\n\t\t}), grid.listen(SELECTED_CELL, (cell, selected) => {\n\t\t\tdetachMenu(grid);\n\t\t}), grid.listen(SCROLL, () => {\n\t\t\tdetachMenu(grid);\n\t\t}),\n\n\t\t// mouse move\n\t\tgrid.listen(MOUSEOVER_CELL, e => {\n\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tgrid.getElement().style.cursor = 'pointer';\n\t\t}), grid.listen(MOUSEMOVE_CELL, e => {\n\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!grid.getElement().style.cursor) {\n\t\t\t\tgrid.getElement().style.cursor = 'pointer';\n\t\t\t}\n\t\t}), grid.listen(MOUSEOUT_CELL, e => {\n\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tgrid.getElement().style.cursor = '';\n\t\t})];\n\t}\n}\n\nmodule.exports = InlineMenuEditor;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 75 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst {\n\tisDef,\n\tevent: {\n\t\tgetKeyCode,\n\t\tcancel: cancelEvent\n\t}\n} = __webpack_require__(0);\n\nconst EventHandler = __webpack_require__(5);\nconst {\n\tcreateElement,\n\tappendHtml,\n\tempty,\n\tdisableFocus,\n\tisFocusable,\n\tfindPrevSiblingFocusable,\n\tfindNextSiblingFocusable\n} = __webpack_require__(17);\n\nconst KEY_TAB = 9;\nconst KEY_ENTER = 13;\nconst KEY_UP = 38;\nconst KEY_DOWN = 40;\nconst KEY_ESC = 27;\n\nconst CLASSNAME = 'cheetah-grid__inline-menu';\nconst ITEM_CLASSNAME = CLASSNAME + '__menu-item';\nconst HIDDEN_CLASSNAME = CLASSNAME + '--hidden';\nconst SHOWN_CLASSNAME = CLASSNAME + '--shown';\nconst EMPTY_ITEM_CLASSNAME = ITEM_CLASSNAME + '--empty';\n\nfunction findItemParents(target) {\n\tlet el = target;\n\twhile (!el.classList.contains(ITEM_CLASSNAME)) {\n\t\tel = el.parentElement;\n\t\tif (!el || el.classList.contains(CLASSNAME)) {\n\t\t\treturn undefined;\n\t\t}\n\t}\n\treturn el;\n}\n\nfunction createMenuElement() {\n\t__webpack_require__(76);\n\treturn createElement('ul', { classList: CLASSNAME });\n}\nfunction attachElement(element, rect, menu) {\n\tmenu.style.top = rect.top.toFixed() + 'px';\n\tmenu.style.left = rect.left.toFixed() + 'px';\n\tmenu.style.width = rect.width.toFixed() + 'px';\n\tmenu.style['line-height'] = rect.height.toFixed() + 'px';\n\telement.appendChild(menu);\n}\n\nfunction optionToLi({ classList, caption, value, html }, index) {\n\tconst item = createElement('li', { classList: ITEM_CLASSNAME });\n\titem.tabIndex = 0;\n\titem.dataset.valueindex = index;\n\tif (classList) {\n\t\titem.classList.add(...(__webpack_provided_Array_dot_isArray(classList) ? classList : [classList]));\n\t}\n\n\tif (caption) {\n\t\tconst span = createElement('span', { text: caption });\n\t\titem.appendChild(span);\n\t} else if (html) {\n\t\tappendHtml(item, html);\n\t}\n\n\tif (value === '' || !isDef(value)) {\n\t\titem.classList.add(EMPTY_ITEM_CLASSNAME);\n\t}\n\n\treturn item;\n}\n\nfunction openMenu(grid, editor, col, row, value, menu) {\n\tconst { options, classList } = editor;\n\tmenu.classList.remove(SHOWN_CLASSNAME);\n\tmenu.classList.add(HIDDEN_CLASSNAME);\n\tempty(menu);\n\tmenu.style.font = grid.font || '16px sans-serif';\n\tlet emptyItemEl = null;\n\tlet valueItemEl = null;\n\n\toptions.forEach((option, i) => {\n\t\tconst item = optionToLi(option, i);\n\t\tmenu.appendChild(item);\n\t\tif (option.value === value) {\n\t\t\tvalueItemEl = item;\n\t\t\titem.dataset.select = true;\n\t\t}\n\t\tif (item.classList.contains(EMPTY_ITEM_CLASSNAME)) {\n\t\t\temptyItemEl = item;\n\t\t}\n\t});\n\tconst focusEl = valueItemEl || emptyItemEl || menu.children[0];\n\tif (classList) {\n\t\tmenu.classList.add(...classList);\n\t}\n\tconst children = Array.prototype.slice.call(menu.children, 0);\n\tconst focusIndex = children.indexOf(focusEl);\n\tconst { element, rect } = grid.getAttachCellArea(col, row);\n\n\t// Cover the right line\n\trect.width++;\n\n\t// append for calculation\n\tattachElement(element, rect, menu);\n\n\t// Make the selection item at the middle\n\tlet offset = 0;\n\tlet allHeight = 0;\n\tfor (let i = 0; i < children.length; i++) {\n\t\tconst offsetHeight = children[i].offsetHeight;\n\t\tif (i < focusIndex) {\n\t\t\toffset += offsetHeight;\n\t\t}\n\t\tallHeight += offsetHeight;\n\t}\n\trect.offsetTop(-offset);\n\tmenu.style['transform-origin'] = `center ${offset + Math.ceil(children[focusIndex].offsetHeight / 2)}px 0px`;\n\tattachElement(element, rect, menu);\n\n\t// Control not to overflow the screen range\n\tconst menuClientRect = menu.getBoundingClientRect();\n\tconst scaleDiff = (allHeight - menuClientRect.height) / 2;\n\tconst orgMenuTop = menuClientRect.top - scaleDiff;\n\tlet menuTop = orgMenuTop;\n\tconst menuBottom = menuTop + allHeight;\n\tconst winBottom = window.innerHeight;\n\tconst winMargin = 20;\n\tif (menuBottom > winBottom - winMargin) {\n\t\tconst diff = menuBottom - winBottom + winMargin;\n\t\tmenuTop -= diff;\n\t}\n\tif (menuTop < 0 /*winTop*/ + winMargin) {\n\t\tmenuTop = winMargin;\n\t}\n\tif (menuTop !== orgMenuTop) {\n\t\trect.offsetTop(-(orgMenuTop - menuTop));\n\t\t// re update\n\t\tattachElement(element, rect, menu);\n\t}\n\n\tif (focusEl) {\n\t\tfocusEl.focus();\n\t}\n\tmenu.classList.remove(HIDDEN_CLASSNAME);\n\tmenu.classList.add(SHOWN_CLASSNAME);\n}\n\nfunction closeMenu(grid, col, row, menu, valueindex) {\n\tmenu.classList.remove(SHOWN_CLASSNAME);\n\tmenu.classList.add(HIDDEN_CLASSNAME);\n\tdisableFocus(menu);\n}\n\nclass InlineMenuElement {\n\tconstructor() {\n\t\tthis._handler = new EventHandler();\n\t\tthis._menu = createMenuElement();\n\t\tthis._bindMenuEvents();\n\t}\n\tdispose() {\n\t\tthis.detach();\n\t\tthis._handler.dispose();\n\t\tthis._menu = null;\n\t\tthis._beforePropEditor = null;\n\t}\n\tattach(grid, editor, col, row, value) {\n\t\tconst menu = this._menu;\n\n\t\tif (this._beforePropEditor) {\n\t\t\tconst { classList } = this._beforePropEditor;\n\t\t\tif (classList) {\n\t\t\t\tmenu.classList.remove(...classList);\n\t\t\t}\n\t\t}\n\n\t\topenMenu(grid, editor, col, row, value, menu);\n\t\tthis._activeData = { grid, col, row, editor };\n\t\tthis._beforePropEditor = editor;\n\t}\n\tdetach(gridFocus, valueindex) {\n\t\tif (this._isActive()) {\n\t\t\tconst { grid, col, row } = this._activeData;\n\t\t\tconst menu = this._menu;\n\t\t\tcloseMenu(grid, col, row, menu, valueindex);\n\n\t\t\tgrid.invalidateCell(col, row);\n\t\t\tif (gridFocus) {\n\t\t\t\tgrid.focus();\n\t\t\t}\n\t\t}\n\t\tthis._activeData = null;\n\t}\n\t_doChangeValue(valueindex) {\n\t\tif (!this._isActive()) {\n\t\t\treturn;\n\t\t}\n\t\tconst { grid, col, row, editor } = this._activeData;\n\t\tconst value = editor.options[valueindex].value;\n\t\tgrid.doChangeValue(col, row, () => value);\n\t}\n\t_isActive() {\n\t\tconst menu = this._menu;\n\t\tif (!menu || !menu.parentElement) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!this._activeData) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\t_bindMenuEvents() {\n\t\tconst handler = this._handler;\n\t\tconst menu = this._menu;\n\n\t\tconst stopPropagationOnly = e => e.stopPropagation(); // grid\n\n\t\thandler.on(menu, 'mousedown', stopPropagationOnly);\n\t\thandler.on(menu, 'touchstart', stopPropagationOnly);\n\t\thandler.on(menu, 'dblclick', stopPropagationOnly);\n\n\t\thandler.on(menu, 'click', e => {\n\t\t\te.stopPropagation();\n\t\t\tconst item = findItemParents(e.target);\n\t\t\tif (!item) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst valueindex = item.dataset.valueindex;\n\t\t\tthis._doChangeValue(item.dataset.valueindex);\n\t\t\tthis.detach(true, valueindex);\n\t\t});\n\t\thandler.on(menu, 'keydown', e => {\n\t\t\tconst item = findItemParents(e.target);\n\t\t\tif (!item) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst keyCode = getKeyCode(e);\n\t\t\tif (keyCode === KEY_ENTER) {\n\t\t\t\tconst valueindex = item.dataset.valueindex;\n\t\t\t\tthis._doChangeValue(valueindex);\n\t\t\t\tthis.detach(true, valueindex);\n\t\t\t\tcancelEvent(e);\n\t\t\t} else if (keyCode === KEY_ESC) {\n\t\t\t\tthis.detach(true);\n\t\t\t\tcancelEvent(e);\n\t\t\t} else if (keyCode === KEY_UP) {\n\t\t\t\tconst n = findPrevSiblingFocusable(item);\n\t\t\t\tif (n) {\n\t\t\t\t\tn.focus();\n\t\t\t\t\tcancelEvent(e);\n\t\t\t\t}\n\t\t\t} else if (keyCode === KEY_DOWN) {\n\t\t\t\tconst n = findNextSiblingFocusable(item);\n\t\t\t\tif (n) {\n\t\t\t\t\tn.focus();\n\t\t\t\t\tcancelEvent(e);\n\t\t\t\t}\n\t\t\t} else if (keyCode === KEY_TAB) {\n\t\t\t\tif (!e.shiftKey) {\n\t\t\t\t\tif (!findNextSiblingFocusable(item)) {\n\t\t\t\t\t\tlet n = menu.querySelector('.' + ITEM_CLASSNAME);\n\t\t\t\t\t\tif (!isFocusable(n)) {\n\t\t\t\t\t\t\tn = findNextSiblingFocusable(n);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (n) {\n\t\t\t\t\t\t\tn.focus();\n\t\t\t\t\t\t\tcancelEvent(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!findPrevSiblingFocusable(item)) {\n\t\t\t\t\t\tconst items = menu.querySelectorAll('.' + ITEM_CLASSNAME);\n\t\t\t\t\t\tlet n = items[items.length - 1];\n\t\t\t\t\t\tif (!isFocusable(n)) {\n\t\t\t\t\t\t\tn = findPrevSiblingFocusable(n);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (n) {\n\t\t\t\t\t\t\tn.focus();\n\t\t\t\t\t\t\tcancelEvent(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\nmodule.exports = InlineMenuElement;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 76 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar content = __webpack_require__(77);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(12)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n/***/ }),\n/* 77 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(11)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".cheetah-grid__inline-menu{position:absolute;color:rgba(0,0,0,.87);box-sizing:content-box;margin:-1px auto auto -1px;padding:0;background-color:#fafafa;list-style-type:none;border-radius:2px;max-height:calc(100vh - 40px);overflow-y:auto}.cheetah-grid__inline-menu--hidden{padding:0;transform:scale(.9);box-shadow:none;opacity:0;pointer-events:none;transition:padding 50ms ease-out,transform 50ms ease-out,box-shadow 50ms ease-out,opacity 50ms ease-out}.cheetah-grid__inline-menu--hidden *{pointer-events:none}.cheetah-grid__inline-menu--shown{padding:8px 0;transform:translateY(-7px);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);opacity:1;transition:padding .15s ease-out,transform .15s ease-out,box-shadow .15s ease-out,opacity .15s ease-out}.cheetah-grid__inline-menu__menu-item{background-color:#fafafa;height:100%;box-sizing:border-box;display:flex;align-items:center;justify-content:flex-start;outline:none;cursor:pointer;position:relative;overflow:hidden;padding:0 16px}.cheetah-grid__inline-menu__menu-item--empty{color:rgba(0,0,0,.38)}.cheetah-grid__inline-menu__menu-item:before{content:\\\"\\\";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background-color:#000;opacity:0;pointer-events:none;transition:opacity 15ms linear}.cheetah-grid__inline-menu__menu-item:hover:before,.cheetah-grid__inline-menu__menu-item[data-select]:before{opacity:.04}.cheetah-grid__inline-menu__menu-item:focus:before{opacity:.12}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 78 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst Column = __webpack_require__(7);\n\tconst NumberColumn = __webpack_require__(79);\n\tconst CheckColumn = __webpack_require__(80);\n\tconst ButtonColumn = __webpack_require__(81);\n\tconst ImageColumn = __webpack_require__(82);\n\tconst PercentCompleteBarColumn = __webpack_require__(84);\n\tconst IconColumn = __webpack_require__(85);\n\tconst BranchGraphColumn = __webpack_require__(86);\n\tconst MenuColumn = __webpack_require__(88);\n\n\t/**\r\n  * column types\r\n  * @type {Object}\r\n  * @namespace cheetahGrid.columns.type\r\n  * @memberof cheetahGrid.columns\r\n  */\n\tconst type = {\n\t\tTYPES: {\n\t\t\tDEFAULT: new Column(),\n\t\t\tNUMBER: new NumberColumn(),\n\t\t\tCHECK: new CheckColumn(),\n\t\t\tBUTTON: new ButtonColumn(),\n\t\t\tIMAGE: new ImageColumn()\n\t\t},\n\t\tget Column() {\n\t\t\treturn Column;\n\t\t},\n\t\tget NumberColumn() {\n\t\t\treturn NumberColumn;\n\t\t},\n\t\tget CheckColumn() {\n\t\t\treturn CheckColumn;\n\t\t},\n\t\tget ButtonColumn() {\n\t\t\treturn ButtonColumn;\n\t\t},\n\t\tget ImageColumn() {\n\t\t\treturn ImageColumn;\n\t\t},\n\t\tget PercentCompleteBarColumn() {\n\t\t\treturn PercentCompleteBarColumn;\n\t\t},\n\t\tget IconColumn() {\n\t\t\treturn IconColumn;\n\t\t},\n\t\tget BranchGraphColumn() {\n\t\t\treturn BranchGraphColumn;\n\t\t},\n\t\tget MenuColumn() {\n\t\t\treturn MenuColumn;\n\t\t},\n\t\tof(columnType) {\n\t\t\tif (!columnType) {\n\t\t\t\treturn type.TYPES.DEFAULT;\n\t\t\t} else if (typeof columnType === 'string') {\n\t\t\t\treturn type.TYPES[columnType.toUpperCase()] || type.of(null);\n\t\t\t} else {\n\t\t\t\treturn columnType;\n\t\t\t}\n\t\t}\n\t};\n\tmodule.exports = type;\n}\n\n/***/ }),\n/* 79 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst Column = __webpack_require__(7);\n\tconst NumberStyle = __webpack_require__(34);\n\tlet defaultFotmat;\n\tclass NumberColumn extends Column {\n\t\tstatic get defaultFotmat() {\n\t\t\treturn defaultFotmat || (defaultFotmat = new Intl.NumberFormat());\n\t\t}\n\t\tstatic set defaultFotmat(fmt) {\n\t\t\tdefaultFotmat = fmt;\n\t\t}\n\t\tconstructor(option = {}) {\n\t\t\tsuper(option);\n\t\t\tthis._format = option.format;\n\t\t}\n\t\tget StyleClass() {\n\t\t\treturn NumberStyle;\n\t\t}\n\t\tclone() {\n\t\t\treturn new NumberColumn(this);\n\t\t}\n\t\tget format() {\n\t\t\treturn this._format;\n\t\t}\n\t\twithFormat(format) {\n\t\t\tconst c = this.clone();\n\t\t\tc._format = format;\n\t\t\treturn c;\n\t\t}\n\t\tconvertInternal(value) {\n\t\t\tif (isNaN(value - 0)) {\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tconst format = this._format || NumberColumn.defaultFotmat;\n\t\t\treturn format.format(value - 0);\n\t\t}\n\t}\n\n\tmodule.exports = NumberColumn;\n}\n\n/***/ }),\n/* 80 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst BaseColumn = __webpack_require__(8);\n\tconst CheckStyle = __webpack_require__(35);\n\tconst { CHECK_COLUMN_STATE_ID } = __webpack_require__(1);\n\n\tfunction toBoolean(val) {\n\t\tif (typeof val === 'string') {\n\t\t\tif (val === 'false') {\n\t\t\t\treturn false;\n\t\t\t} else if (val === 'off') {\n\t\t\t\treturn false;\n\t\t\t} else if (val.match(/^0+$/)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn val;\n\t}\n\n\tclass CheckColumn extends BaseColumn {\n\t\tget StyleClass() {\n\t\t\treturn CheckStyle;\n\t\t}\n\t\tclone() {\n\t\t\treturn new CheckColumn(this);\n\t\t}\n\t\tconvertInternal(value) {\n\t\t\treturn toBoolean(value);\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, { drawCellBase }) {\n\t\t\tconst {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tborderColor,\n\t\t\t\tcheckBgColor,\n\t\t\t\tuncheckBgColor,\n\t\t\t\tbgColor\n\t\t\t} = style;\n\t\t\tif (bgColor) {\n\t\t\t\tdrawCellBase({\n\t\t\t\t\tbgColor\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tconst { col, row } = context;\n\t\t\tconst key = col + ':' + row;\n\t\t\tconst state = grid[CHECK_COLUMN_STATE_ID] && grid[CHECK_COLUMN_STATE_ID][key];\n\n\t\t\tconst opt = {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tborderColor,\n\t\t\t\tcheckBgColor,\n\t\t\t\tuncheckBgColor\n\t\t\t};\n\t\t\tif (state) {\n\t\t\t\topt.animElapsedTime = state.elapsed;\n\t\t\t}\n\t\t\thelper.checkbox(value, context, opt);\n\t\t}\n\t\tbindGridEvent(grid, col, util) {\n\t\t\treturn [];\n\t\t}\n\t}\n\n\tmodule.exports = CheckColumn;\n}\n\n/***/ }),\n/* 81 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst Column = __webpack_require__(7);\n\tconst ButtonStyle = __webpack_require__(36);\n\tconst { BUTTON_COLUMN_STATE_ID } = __webpack_require__(1);\n\tconst utils = __webpack_require__(20);\n\n\tclass ButtonColumn extends Column {\n\t\tconstructor(option = {}) {\n\t\t\tsuper(option);\n\t\t\tthis._caption = option.caption;\n\t\t}\n\t\tget StyleClass() {\n\t\t\treturn ButtonStyle;\n\t\t}\n\t\tget caption() {\n\t\t\treturn this._caption;\n\t\t}\n\t\twithCaption(caption) {\n\t\t\tconst c = this.clone();\n\t\t\tc._caption = caption;\n\t\t\treturn c;\n\t\t}\n\t\tclone() {\n\t\t\treturn new ButtonColumn(this);\n\t\t}\n\t\tconvertInternal(value) {\n\t\t\treturn this._caption || value;\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, { drawCellBase, getIcon }) {\n\t\t\tconst { textAlign, textBaseline, bgColor, color, buttonBgColor, font, padding } = style;\n\t\t\tif (bgColor) {\n\t\t\t\tdrawCellBase({\n\t\t\t\t\tbgColor\n\t\t\t\t});\n\t\t\t}\n\t\t\thelper.testFontLoad(font, value, context);\n\t\t\tconst { col, row } = context;\n\t\t\tlet active = false;\n\t\t\tconst state = grid[BUTTON_COLUMN_STATE_ID];\n\t\t\tif (state) {\n\t\t\t\tif (state.mouseActiveCell && state.mouseActiveCell.col === col && state.mouseActiveCell.row === row) {\n\t\t\t\t\tactive = true;\n\t\t\t\t} else if (context.getSelectState().selected) {\n\t\t\t\t\tactive = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tutils.loadIcons(getIcon(), context, helper, (icons, context) => {\n\t\t\t\thelper.button(value, context, {\n\t\t\t\t\ttextAlign,\n\t\t\t\t\ttextBaseline,\n\t\t\t\t\tbgColor: buttonBgColor,\n\t\t\t\t\tcolor,\n\t\t\t\t\tfont,\n\t\t\t\t\tpadding,\n\t\t\t\t\tshadow: active ? {\n\t\t\t\t\t\tcolor: 'rgba(0, 0, 0, 0.48)',\n\t\t\t\t\t\tblur: 6,\n\t\t\t\t\t\toffsetY: 3\n\t\t\t\t\t} : true,\n\t\t\t\t\ticons\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\tmodule.exports = ButtonColumn;\n}\n\n/***/ }),\n/* 82 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst ImageStyle = __webpack_require__(37);\n\tconst { getCacheOrLoad } = __webpack_require__(40);\n\tconst { calcStartPosition } = __webpack_require__(6);\n\tconst BaseColumn = __webpack_require__(8);\n\n\tconst MAX_LRU_CACHE_SIZE = 50;\n\tfunction getImage(url) {\n\t\treturn getCacheOrLoad('ImageColumn', MAX_LRU_CACHE_SIZE, url);\n\t}\n\n\tfunction calcKeepAspectRatioSize(width, height, maxWidth, maxHeight) {\n\t\tlet newWidth = width;\n\t\tlet newHeight = height;\n\t\tif (newWidth > maxWidth) {\n\t\t\tnewWidth = maxWidth;\n\t\t\tnewHeight = newWidth * height / width;\n\t\t}\n\t\tif (newHeight > maxHeight) {\n\t\t\tnewHeight = maxHeight;\n\t\t\tnewWidth = newHeight * width / height;\n\t\t}\n\t\treturn {\n\t\t\twidth: newWidth,\n\t\t\theight: newHeight\n\t\t};\n\t}\n\n\tclass ImageColumn extends BaseColumn {\n\t\tget StyleClass() {\n\t\t\treturn ImageStyle;\n\t\t}\n\t\tonDrawCell(cellValue, info, context, grid) {\n\t\t\treturn super.onDrawCell(getImage(cellValue), info, context, grid);\n\t\t}\n\t\tclone() {\n\t\t\treturn new ImageColumn(this);\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, { drawCellBase }) {\n\t\t\tif (value) {\n\t\t\t\tconst {\n\t\t\t\t\ttextAlign,\n\t\t\t\t\ttextBaseline,\n\t\t\t\t\tmargin,\n\t\t\t\t\tbgColor\n\t\t\t\t} = style;\n\t\t\t\tif (bgColor) {\n\t\t\t\t\tdrawCellBase({\n\t\t\t\t\t\tbgColor\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\thelper.drawWithClip(context, ctx => {\n\n\t\t\t\t\tctx.textAlign = textAlign;\n\t\t\t\t\tctx.textBaseline = textBaseline;\n\t\t\t\t\tconst rect = context.getRect();\n\t\t\t\t\tif (style.imageSizing === 'keep-aspect-ratio') {\n\t\t\t\t\t\tconst { width, height } = calcKeepAspectRatioSize(value.width, value.height, rect.width - margin * 2, rect.height - margin * 2);\n\t\t\t\t\t\tconst pos = calcStartPosition(ctx, rect, width, height, {\n\t\t\t\t\t\t\toffset: margin\n\t\t\t\t\t\t});\n\t\t\t\t\t\tctx.drawImage(value, 0, 0, value.width, value.height, pos.x, pos.y, width, height);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tctx.drawImage(value, 0, 0, value.width, value.height, rect.left + margin, rect.top + margin, rect.width - margin * 2, rect.height - margin * 2);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\tmodule.exports = ImageColumn;\n}\n\n/***/ }),\n/* 83 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nclass LRUCache {\n\tconstructor(cacheSize) {\n\t\tthis._list = [];\n\t\tthis._map = {};\n\t\tthis._cacheSize = cacheSize || 50;\n\t}\n\tget(key) {\n\t\tconst val = this._map[key];\n\t\tif (val) {\n\t\t\tconst idx = this._list.indexOf(key);\n\t\t\tthis._list.splice(idx, 1);\n\t\t\tthis._list.push(key);\n\t\t}\n\t\treturn val;\n\t}\n\tput(key, value) {\n\t\tif (this._map[key]) {\n\t\t\tconst idx = this._list.indexOf(key);\n\t\t\tthis._list.splice(idx, 1);\n\t\t}\n\t\tthis._map[key] = value;\n\t\tthis._list.push(key);\n\t\tif (this._list.length > this._cacheSize) {\n\t\t\tconst remKey = this._list.shift();\n\t\t\tdelete this._map[remKey];\n\t\t}\n\t}\n}\nmodule.exports = LRUCache;\n\n/***/ }),\n/* 84 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst PercentCompleteBarStyle = __webpack_require__(39);\n\tconst { getOrApply, str } = __webpack_require__(0);\n\tconst Column = __webpack_require__(7);\n\n\tconst MARGIN = 2;\n\n\tclass PercentCompleteBarColumn extends Column {\n\t\tconstructor(option = {}) {\n\t\t\tsuper(option);\n\t\t\tthis._min = option.min || 0;\n\t\t\tthis._max = option.max || this._min + 100;\n\t\t\tthis._formatter = option.formatter || (v => v);\n\t\t}\n\t\tget StyleClass() {\n\t\t\treturn PercentCompleteBarStyle;\n\t\t}\n\t\tclone() {\n\t\t\treturn new PercentCompleteBarColumn(this);\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, info) {\n\t\t\tsuper.drawInternal(this._formatter(value), context, style, helper, grid, info);\n\t\t\tconst {\n\t\t\t\tbarColor,\n\t\t\t\tbarBgColor,\n\t\t\t\tbarHeight\n\t\t\t} = style;\n\n\t\t\tlet svalue = value + '';\n\t\t\tif (str.endsWith(svalue, '%')) {\n\t\t\t\tsvalue = svalue.substr(0, svalue.length - 1);\n\t\t\t}\n\t\t\tconst num = svalue - 0;\n\t\t\tconst rate = num < this._min ? 0 : num > this._max ? 1 : (num - this._min) / (this._max - this._min);\n\n\t\t\thelper.drawWithClip(context, ctx => {\n\t\t\t\tconst rect = context.getRect();\n\n\t\t\t\tconst barMaxWidth = rect.width - MARGIN * 2 - 1 /**/;\n\t\t\t\tconst barTop = rect.bottom - MARGIN - barHeight - 1 /**/;\n\t\t\t\tconst barLeft = rect.left + MARGIN;\n\t\t\t\tctx.fillStyle = getOrApply(barBgColor, rate * 100) || '#f0f3f5';\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.rect(barLeft, barTop, barMaxWidth, barHeight);\n\t\t\t\tctx.fill();\n\n\t\t\t\tconst barSize = Math.min(barMaxWidth * rate, barMaxWidth);\n\t\t\t\tctx.fillStyle = getOrApply(barColor, rate * 100) || '#20a8d8';\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.rect(barLeft, barTop, barSize, barHeight);\n\t\t\t\tctx.fill();\n\t\t\t});\n\t\t}\n\t}\n\tmodule.exports = PercentCompleteBarColumn;\n}\n\n/***/ }),\n/* 85 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst IconStyle = __webpack_require__(38);\n\tconst Column = __webpack_require__(7);\n\tconst icons = __webpack_require__(21);\n\n\tfunction repeatArray(val, count) {\n\t\tif (count === Infinity) {\n\t\t\tcount = 0;\n\t\t}\n\t\tconst a = [];\n\t\tfor (let i = 0; i < count; i++) {\n\t\t\ta.push(val);\n\t\t}\n\t\treturn a;\n\t}\n\n\tclass IconColumn extends Column {\n\t\tconstructor(option = {}) {\n\t\t\tsuper(option);\n\t\t\tthis._tagName = option.tagName || 'i';\n\t\t\tthis._className = option.className;\n\t\t\tthis._content = option.content;\n\t\t\tthis._name = option.name;\n\t\t\tthis._iconWidth = option.iconWidth;\n\t\t}\n\t\tget StyleClass() {\n\t\t\treturn IconStyle;\n\t\t}\n\t\tclone() {\n\t\t\treturn new IconColumn(this);\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, info) {\n\t\t\tconst num = value - 0;\n\t\t\tif (!isNaN(num)) {\n\t\t\t\tconst icon = {};\n\t\t\t\ticons.iconPropKeys.forEach(k => {\n\t\t\t\t\ticon[k] = style[k];\n\t\t\t\t});\n\t\t\t\ticon.className = this._className;\n\t\t\t\ticon.tagName = this._tagName;\n\t\t\t\ticon.content = this._content;\n\t\t\t\ticon.name = this._name;\n\t\t\t\tif (this._iconWidth) {\n\t\t\t\t\ticon.width = this._iconWidth;\n\t\t\t\t}\n\n\t\t\t\tinfo.getIcon = () => repeatArray(icon, num);\n\t\t\t} else {\n\t\t\t\tinfo.getIcon = () => null;\n\t\t\t}\n\t\t\tsuper.drawInternal('', context, style, helper, grid, info);\n\t\t}\n\t}\n\tmodule.exports = IconColumn;\n}\n\n/***/ }),\n/* 86 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst { isDef, getOrApply, isPromise, obj: { isObject } } = __webpack_require__(0);\nconst BranchGraphStyle = __webpack_require__(87);\nconst BaseColumn = __webpack_require__(8);\nconst { BRANCH_GRAPH_COLUMN_STATE_ID: _ } = __webpack_require__(1);\n\nfunction getAllColumnData(grid, col, callback) {\n\tconst dataSource = grid.dataSource;\n\tlet field = grid.getField(col);\n\tif (isObject(field) && field.get && field.set) {\n\t\tfield = field.get;\n\t}\n\tconst allData = [];\n\tlet promise;\n\tfor (let index = 0; index < dataSource.length; index++) {\n\t\tconst data = dataSource.getField(index, field);\n\t\tif (isPromise(data)) {\n\t\t\tconst dataIndex = allData.length;\n\t\t\tallData.push(data);\n\t\t\tif (!promise) {\n\t\t\t\tpromise = data.then(d => {\n\t\t\t\t\tallData[dataIndex] = d;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tpromise = promise.then(() => data).then(d => {\n\t\t\t\t\tallData[dataIndex] = d;\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tallData.push(data);\n\t\t}\n\t}\n\n\tif (promise) {\n\t\tpromise.then(() => callback(allData));\n\t} else {\n\t\tcallback(allData);\n\t}\n}\n\nclass BranchLine {\n\tconstructor({ fromIndex, toIndex, colorIndex, point }) {\n\t\tthis.fromIndex = fromIndex;\n\t\tthis.toIndex = toIndex;\n\t\tthis.colorIndex = colorIndex;\n\t\tthis.point = point;\n\t}\n}\nclass BranchPoint {\n\tconstructor({ index, commit = false, lines = [], tag }) {\n\t\tthis.index = index;\n\t\tthis.commit = commit;\n\t\tthis.lines = lines;\n\t\tthis.tag = tag;\n\t}\n\tstatic mergeLines(lines) {\n\t\tconst result = lines.filter(l => isDef(l.fromIndex) && isDef(l.toIndex));\n\n\t\tconst froms = lines.filter(l => isDef(l.fromIndex) && !isDef(l.toIndex));\n\t\tconst tos = lines.filter(l => !isDef(l.fromIndex) && isDef(l.toIndex));\n\n\t\tfroms.forEach(f => {\n\t\t\tfor (let i = 0; i < tos.length; i++) {\n\t\t\t\tconst t = tos[i];\n\t\t\t\tif (t.point) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (f.colorIndex === t.colorIndex) {\n\t\t\t\t\tf.toIndex = t.toIndex;\n\t\t\t\t\ttos.splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tresult.push(f);\n\t\t});\n\n\t\treturn result.concat(tos);\n\t}\n\tstatic merge(a, b) {\n\t\tif (!a) {\n\t\t\treturn b;\n\t\t}\n\t\treturn new BranchPoint({\n\t\t\tindex: a.index,\n\t\t\tcommit: a.commit || b.commit,\n\t\t\tlines: BranchPoint.mergeLines(a.lines.concat(b.lines)),\n\t\t\ttag: a.tag || b.tag\n\t\t});\n\t}\n}\n\nfunction joinLine(timeline, branchIndex) {\n\tconst reverse = [...timeline].reverse();\n\tfor (let i = 0; i < reverse.length; i++) {\n\t\tconst f = reverse[i][branchIndex];\n\t\tif (f) {\n\t\t\tf.lines = BranchPoint.mergeLines(f.lines.concat([new BranchLine({\n\t\t\t\ttoIndex: branchIndex,\n\t\t\t\tcolorIndex: branchIndex\n\t\t\t})]));\n\n\t\t\tfor (let j = 0; j < i; j++) {\n\t\t\t\tconst tl = reverse[j];\n\t\t\t\ttl[branchIndex] = new BranchPoint({\n\t\t\t\t\tindex: branchIndex,\n\t\t\t\t\tlines: [new BranchLine({\n\t\t\t\t\t\tfromIndex: branchIndex,\n\t\t\t\t\t\ttoIndex: branchIndex,\n\t\t\t\t\t\tcolorIndex: branchIndex\n\t\t\t\t\t})]\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\nfunction branch({ timeline, branches }, from, to) {\n\tconst fromIndex = branches.indexOf(from);\n\tlet toIndex = branches.indexOf(to);\n\tif (toIndex < 0) {\n\t\ttoIndex = branches.length;\n\t\tbranches.push(to);\n\t}\n\n\tfunction findBranchRootIndex() {\n\t\tfor (let index = timeline.length - 1; index >= 0; index--) {\n\t\t\tconst tl = timeline[index];\n\t\t\tconst from = tl[fromIndex];\n\t\t\tif (from && from.commit) {\n\t\t\t\treturn index;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t}\n\n\tif (fromIndex < 0) {\n\t\treturn new BranchPoint({\n\t\t\tindex: toIndex\n\t\t});\n\t} else {\n\t\tconst fromTargetIndex = findBranchRootIndex();\n\t\tif (fromTargetIndex === -1) {\n\t\t\treturn null;\n\t\t}\n\t\tconst branchTargetFromIndex = fromTargetIndex + 1;\n\t\tconst branchPoint = new BranchPoint({\n\t\t\tindex: toIndex,\n\t\t\tlines: [new BranchLine({\n\t\t\t\tfromIndex,\n\t\t\t\tcolorIndex: toIndex\n\t\t\t})]\n\t\t});\n\t\tlet point;\n\t\tlet result;\n\t\tif (branchTargetFromIndex < timeline.length) {\n\t\t\tconst targetLine = timeline[branchTargetFromIndex];\n\t\t\tpoint = targetLine[toIndex] = BranchPoint.merge(targetLine[toIndex], branchPoint);\n\t\t} else {\n\t\t\tpoint = branchPoint;\n\t\t\tresult = branchPoint;\n\t\t}\n\t\tconst from = timeline[fromTargetIndex][fromIndex];\n\t\tfrom.lines = BranchPoint.mergeLines(from.lines.concat([new BranchLine({\n\t\t\ttoIndex,\n\t\t\tcolorIndex: toIndex,\n\t\t\tpoint\n\t\t})]));\n\t\treturn result;\n\t}\n}\n\nfunction commit({ timeline, branches }, name) {\n\tconst index = branches.indexOf(name);\n\tif (index < 0) {\n\t\treturn null;\n\t}\n\tconst result = new BranchPoint({\n\t\tindex,\n\t\tcommit: true\n\t});\n\n\tif (joinLine(timeline, index)) {\n\t\tresult.lines = BranchPoint.mergeLines(result.lines.concat([new BranchLine({\n\t\t\tfromIndex: index,\n\t\t\tcolorIndex: index\n\t\t})]));\n\t}\n\treturn result;\n}\n\nfunction commitTag({ timeline, branches }, name, tag) {\n\tlet index = branches.indexOf(name);\n\tif (index < 0) {\n\t\tindex = branches.length;\n\t\tbranches.push(name);\n\t}\n\treturn new BranchPoint({\n\t\tindex,\n\t\ttag\n\t});\n}\n\nfunction commitMerge({ timeline, branches }, from, to) {\n\tconst fromIndex = branches.indexOf(from);\n\tconst toIndex = branches.indexOf(to);\n\tif (toIndex < 0 || fromIndex < 0) {\n\t\treturn new BranchPoint({\n\t\t\tindex: toIndex,\n\t\t\tcommit: true\n\t\t});\n\t}\n\tconst result = new BranchPoint({\n\t\tindex: toIndex,\n\t\tcommit: true,\n\t\tlines: [new BranchLine({\n\t\t\tfromIndex,\n\t\t\tcolorIndex: fromIndex\n\t\t}), new BranchLine({\n\t\t\tfromIndex: toIndex,\n\t\t\tcolorIndex: toIndex\n\t\t})]\n\t});\n\tconst froms = [...timeline];\n\tconst fromTargetLine = froms.pop();\n\tif (fromTargetLine) {\n\t\tfromTargetLine[fromIndex] = BranchPoint.merge(fromTargetLine[fromIndex], new BranchPoint({\n\t\t\tindex: toIndex,\n\t\t\tlines: [new BranchLine({\n\t\t\t\ttoIndex,\n\t\t\t\tcolorIndex: fromIndex\n\t\t\t})]\n\t\t}));\n\t}\n\n\tjoinLine(froms, fromIndex);\n\n\tjoinLine(timeline, toIndex);\n\n\treturn result;\n}\n\nfunction calcCommand(info, command) {\n\tconst { timeline } = info;\n\tconst timelineData = [];\n\t// const last = timeline.length > 0 ? timeline[timeline.length - 1] : null;\n\tconst commands = __webpack_provided_Array_dot_isArray(command) ? command : [command];\n\tcommands.forEach(cmd => {\n\t\tif (!cmd) {\n\t\t\treturn;\n\t\t}\n\t\tlet point;\n\t\tif (cmd.command === 'branch') {\n\t\t\tconst from = isObject(cmd.branch) ? cmd.branch.from : null;\n\t\t\tconst to = isObject(cmd.branch) ? cmd.branch.to : cmd.branch;\n\t\t\tpoint = branch(info, from, to);\n\t\t} else if (cmd.command === 'commit') {\n\t\t\tconst { branch } = cmd;\n\t\t\tpoint = commit(info, branch);\n\t\t} else if (cmd.command === 'merge') {\n\t\t\tconst from = cmd.branch.from;\n\t\t\tconst to = cmd.branch.to;\n\t\t\tpoint = commitMerge(info, from, to);\n\t\t} else if (cmd.command === 'tag') {\n\t\t\tconst { branch, tag } = cmd;\n\t\t\tpoint = commitTag(info, branch, tag);\n\t\t}\n\t\tif (point && point.index > -1) {\n\t\t\ttimelineData[point.index] = BranchPoint.merge(timelineData[point.index], point);\n\t\t}\n\t});\n\ttimeline.push(timelineData);\n}\n\nfunction calcBranchesInfo(start, grid, col) {\n\tconst result = {\n\t\tbranches: [],\n\t\ttimeline: []\n\t};\n\tgetAllColumnData(grid, col, data => {\n\t\tif (start !== 'top') {\n\t\t\tdata = [...data].reverse();\n\t\t}\n\t\tdata.forEach(command => {\n\t\t\tcalcCommand(result, command);\n\t\t});\n\t});\n\treturn result;\n}\n\nfunction calcBranchXPoints(ctx, left, width, radius, branches, timeline) {\n\tlet w = Math.max(width / branches.length + 1, 5);\n\ttimeline.forEach(tl => {\n\t\ttl.forEach((p, index) => {\n\t\t\tif (index <= 0) {\n\t\t\t\t// \n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (p.tag) {\n\t\t\t\tconst textWidth = ctx.measureText(p.tag).width;\n\t\t\t\tif (w * index + radius * 2 + 4 + textWidth > width) {\n\t\t\t\t\tw = Math.max((width - radius * 2 - 4 - textWidth) / index, 5);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\tconst result = [];\n\tlet x = left;\n\tbranches.forEach(() => {\n\t\tresult.push(Math.ceil(x + radius));\n\t\tx += w;\n\t});\n\treturn result;\n}\n\nfunction renderMerge(grid, ctx, x, y, upLineIndex, downLineIndex, colorIndex, {\n\tbranchXPoints, margin, branchColors, branchLineWidth, mergeStyle\n}, {\n\twidth, col, row, branches\n}) {\n\tif (isDef(upLineIndex) || isDef(downLineIndex)) {\n\t\tctx.strokeStyle = getOrApply(branchColors, branches[colorIndex], colorIndex);\n\t\tctx.lineWidth = branchLineWidth;\n\t\tctx.lineCap = 'round';\n\t\tctx.beginPath();\n\n\t\tif (isDef(upLineIndex)) {\n\t\t\tconst upX = branchXPoints[upLineIndex];\n\t\t\tconst upRect = grid.getCellRelativeRect(col, row - 1);\n\t\t\tconst upY = upRect.top + upRect.height / 2;\n\t\t\tctx.moveTo(upX, upY);\n\t\t\tif (mergeStyle === 'bezier') {\n\t\t\t\tctx.bezierCurveTo(upX, (y + upY) / 2, x, (y + upY) / 2, x, y);\n\t\t\t} else {\n\t\t\t\tctx.lineTo(x, y);\n\t\t\t}\n\t\t} else {\n\t\t\tctx.moveTo(x, y);\n\t\t}\n\n\t\tif (isDef(downLineIndex)) {\n\t\t\tconst downX = branchXPoints[downLineIndex];\n\t\t\tconst downRect = grid.getCellRelativeRect(col, row + 1);\n\t\t\tconst downY = downRect.top + downRect.height / 2;\n\t\t\tif (mergeStyle === 'bezier') {\n\t\t\t\tctx.bezierCurveTo(x, (y + downY) / 2, downX, (y + downY) / 2, downX, downY);\n\t\t\t} else {\n\t\t\t\tctx.lineTo(downX, downY);\n\t\t\t}\n\t\t}\n\n\t\tctx.stroke();\n\t}\n}\n\n/**\r\n * BranchGraphColumn<br>\r\n * <br>\r\n * # Data command<br>\r\n * ## mastar branch or orphan branch<br>\r\n * <pre><code class=\"js\">\r\n * {\r\n * \tcommand: 'branch',\r\n * \tbranch: 'branch name A',\r\n * }\r\n * </code></pre>\r\n * ## commit<br>\r\n * <pre><code class=\"js\">\r\n * {\r\n * \tcommand: 'commit',\r\n * \tbranch: 'branch name A'\r\n * }\r\n * </code></pre>\r\n * ## branch<br>\r\n * <pre><code class=\"js\">\r\n * {\r\n * \tcommand: 'branch',\r\n * \tbranch: {\r\n * \t\tfrom: 'branch name A',\r\n * \t\tto: 'branch name B'\r\n * \t}\r\n * }\r\n * </code></pre>\r\n * ## merge<br>\r\n * <pre><code class=\"js\">\r\n * {\r\n * \tcommand: 'merge',\r\n * \tbranch: {\r\n * \t\tfrom: 'branch name B',\r\n * \t\tto: 'branch name A'\r\n * \t}\r\n * }\r\n * </code></pre>\r\n * ## tag<br>\r\n * <pre><code class=\"js\">\r\n * {\r\n * \tcommand: 'tag',\r\n * \tbranch: 'branch name A',\r\n * \ttag: 'tag name'\r\n * }\r\n * </code></pre>\r\n *\r\n *\r\n * @memberof cheetahGrid.columns.type\r\n */\nclass BranchGraphColumn extends BaseColumn {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._start = option.start || 'bottom';\n\t\tthis._cache = isDef(option.cache) ? option.cache : false;\n\t}\n\tget StyleClass() {\n\t\treturn BranchGraphStyle;\n\t}\n\tclearCache(grid) {\n\t\tdelete grid[_];\n\t}\n\tonDrawCell(cellValue, info, context, grid) {\n\t\tif (this._cache) {\n\t\t\tconst state = grid[_] || (grid[_] = {});\n\t\t\tconst { col } = context;\n\t\t\tif (!state[col]) {\n\t\t\t\tstate[col] = calcBranchesInfo(this._start, grid, col);\n\t\t\t}\n\t\t}\n\t\treturn super.onDrawCell(cellValue, info, context, grid);\n\t}\n\tclone() {\n\t\treturn new BranchGraphColumn(this);\n\t}\n\tdrawInternal(value, context, style, helper, grid, { drawCellBase }) {\n\t\tconst { col, row } = context;\n\t\tconst { timeline, branches } = this._cache && grid[_] ? grid[_][col] : calcBranchesInfo(this._start, grid, col);\n\n\t\tconst { upLineIndexKey, downLineIndexKey } = this._start !== 'top' ? { upLineIndexKey: 'toIndex', downLineIndexKey: 'fromIndex' } : { upLineIndexKey: 'fromIndex', downLineIndexKey: 'toIndex' };\n\t\tconst data = this._start !== 'top' ? timeline[timeline.length - (row - grid.frozenRowCount) - 1] : timeline[row - grid.frozenRowCount];\n\n\t\tconst {\n\t\t\tbranchColors,\n\t\t\tbranchLineWidth,\n\t\t\tcircleSize,\n\t\t\tmergeStyle,\n\t\t\tmargin,\n\t\t\tbgColor\n\t\t} = style;\n\t\tif (bgColor) {\n\t\t\tdrawCellBase({\n\t\t\t\tbgColor\n\t\t\t});\n\t\t}\n\n\t\tconst rect = context.getRect();\n\t\tconst radius = circleSize / 2;\n\t\tconst width = rect.width - margin * 2;\n\n\t\thelper.drawWithClip(context, ctx => {\n\t\t\tctx.textAlign = 'left';\n\t\t\tctx.textBaseline = 'middle';\n\t\t\tconst branchXPoints = calcBranchXPoints(ctx, rect.left + margin, width, radius, branches, timeline);\n\n\t\t\tconst y = rect.top + rect.height / 2;\n\n\t\t\t// draw join lines\n\t\t\tdata.map((point, index) => point ? point.lines.map(line => ({\n\t\t\t\tcolorIndex: line.colorIndex,\n\t\t\t\tupLineIndex: line[upLineIndexKey],\n\t\t\t\tdownLineIndex: line[downLineIndexKey],\n\t\t\t\tpointIndex: index\n\t\t\t})) : []).reduce((p, c) => p.concat(c), []). // flatMap\n\t\t\t// order of overlap\n\t\t\tsort((a, b) => b.colorIndex - a.colorIndex).forEach(line => {\n\t\t\t\tconst x = branchXPoints[line.pointIndex];\n\t\t\t\trenderMerge(grid, ctx, x, y, line.upLineIndex, line.downLineIndex, line.colorIndex, {\n\t\t\t\t\tmargin,\n\t\t\t\t\tbranchXPoints,\n\t\t\t\t\tbranchLineWidth,\n\t\t\t\t\tbranchColors,\n\t\t\t\t\tmergeStyle\n\t\t\t\t}, {\n\t\t\t\t\twidth, col, row, branches\n\t\t\t\t});\n\t\t\t});\n\t\t\t// draw commit points\n\t\t\tdata.forEach((p, index) => {\n\t\t\t\tif (p && p.commit) {\n\t\t\t\t\tconst x = branchXPoints[index];\n\t\t\t\t\tctx.fillStyle = getOrApply(branchColors, branches[index], index);\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.arc(x, y, radius, 0, Math.PI * 2, true);\n\t\t\t\t\tctx.fill();\n\t\t\t\t\tctx.closePath();\n\t\t\t\t}\n\t\t\t});\n\t\t\t// draw tags\n\t\t\tdata.forEach((p, index) => {\n\t\t\t\tif (p && p.tag) {\n\t\t\t\t\tctx.fillStyle = getOrApply(branchColors, branches[index], index);\n\t\t\t\t\tctx.fillText(p.tag, branchXPoints[index] + radius + 4, y);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n}\nmodule.exports = BranchGraphColumn;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 87 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst BaseStyle = __webpack_require__(19);\nlet defaultStyle;\nfunction adj(style) {\n\tconst { textAlign = 'center' } = style;\n\tstyle.textAlign = textAlign;\n\treturn style;\n}\nconst DEFAULT_BRANCH_COLORS = (name, index) => {\n\tswitch (index % 3) {\n\t\tcase 0:\n\t\t\treturn '#979797';\n\t\tcase 1:\n\t\t\treturn '#008fb5';\n\t\tcase 2:\n\t\t\treturn '#f1c109';\n\t\tdefault:\n\t}\n\treturn '#979797';\n};\nclass BranchGraphStyle extends BaseStyle {\n\tstatic get DEFAULT() {\n\t\treturn defaultStyle ? defaultStyle : defaultStyle = new BranchGraphStyle();\n\t}\n\tconstructor(style = {}) {\n\t\tsuper(adj(style));\n\t\tthis._branchColors = style.branchColors || DEFAULT_BRANCH_COLORS;\n\t\tthis._margin = style.margin || 4;\n\t\tthis._circleSize = style.circleSize || 16;\n\t\tthis._branchLineWidth = style.branchLineWidth || 4;\n\t\tthis._mergeStyle = style.mergeStyle === 'straight' ? 'straight' : 'bezier';\n\t}\n\tget branchColors() {\n\t\treturn this._branchColors;\n\t}\n\tset branchColors(branchColors) {\n\t\tthis._branchColors = branchColors;\n\t\tthis.doChangeStyle();\n\t}\n\tget margin() {\n\t\treturn this._margin;\n\t}\n\tset margin(margin) {\n\t\tthis._margin = margin;\n\t\tthis.doChangeStyle();\n\t}\n\tget circleSize() {\n\t\treturn this._circleSize;\n\t}\n\tset circleSize(circleSize) {\n\t\tthis._circleSize = circleSize;\n\t\tthis.doChangeStyle();\n\t}\n\tget branchLineWidth() {\n\t\treturn this._branchLineWidth;\n\t}\n\tset branchLineWidth(branchLineWidth) {\n\t\tthis._branchLineWidth = branchLineWidth;\n\t\tthis.doChangeStyle();\n\t}\n\tget mergeStyle() {\n\t\treturn this._mergeStyle;\n\t}\n\tset mergeStyle(mergeStyle) {\n\t\tthis._mergeStyle = mergeStyle;\n\t\tthis.doChangeStyle();\n\t}\n\tclone() {\n\t\treturn new BranchGraphStyle(this);\n\t}\n}\nmodule.exports = BranchGraphStyle;\n\n/***/ }),\n/* 88 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst { normalize } = __webpack_require__(32);\n\tconst { isDef } = __webpack_require__(0);\n\tconst BaseColumn = __webpack_require__(8);\n\tconst Style = __webpack_require__(3);\n\tconst utils = __webpack_require__(20);\n\n\tclass MenuColumn extends BaseColumn {\n\t\tconstructor(option = {}) {\n\t\t\tsuper(option);\n\t\t\tthis._options = normalize(option.options);\n\t\t}\n\t\tget StyleClass() {\n\t\t\treturn Style;\n\t\t}\n\t\tclone() {\n\t\t\treturn new MenuColumn(this);\n\t\t}\n\t\tget options() {\n\t\t\treturn this._options;\n\t\t}\n\t\twithOptions(options) {\n\t\t\tconst c = this.clone();\n\t\t\tc._options = normalize(options);\n\t\t\treturn c;\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, { drawCellBase, getIcon }) {\n\t\t\tconst {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tfont,\n\t\t\t\tbgColor,\n\t\t\t\tpadding\n\t\t\t} = style;\n\t\t\tlet {\n\t\t\t\tcolor\n\t\t\t} = style;\n\t\t\tif (bgColor) {\n\t\t\t\tdrawCellBase({\n\t\t\t\t\tbgColor\n\t\t\t\t});\n\t\t\t}\n\t\t\tconst text = this._convertInternal(value);\n\t\t\thelper.testFontLoad(font, text, context);\n\t\t\tutils.loadIcons(getIcon(), context, helper, (icons, context) => {\n\t\t\t\tconst basePadding = helper.toBoxPixelArray(padding || 0, context);\n\t\t\t\tconst textPadding = basePadding.slice(0);\n\t\t\t\ttextPadding[1] += 26; // icon padding\n\t\t\t\tconst iconPadding = basePadding.slice(0);\n\t\t\t\ticonPadding[1] += 8;\n\t\t\t\tif (!isDef(color) && (!isDef(value) || value === '')) {\n\t\t\t\t\tcolor = 'rgba(0, 0, 0, .38)';\n\t\t\t\t}\n\t\t\t\thelper.text(text, context, {\n\t\t\t\t\ttextAlign,\n\t\t\t\t\ttextBaseline,\n\t\t\t\t\tcolor,\n\t\t\t\t\tfont,\n\t\t\t\t\ticons,\n\t\t\t\t\tpadding: textPadding\n\t\t\t\t});\n\t\t\t\t// draw icon\n\t\t\t\thelper.text('', context, {\n\t\t\t\t\ttextAlign: 'right',\n\t\t\t\t\ttextBaseline,\n\t\t\t\t\tcolor,\n\t\t\t\t\tfont,\n\t\t\t\t\ticons: [{\n\t\t\t\t\t\tpath: 'M0 2 5 7 10 2z',\n\t\t\t\t\t\twidth: 10,\n\t\t\t\t\t\tcolor: 'rgba(0, 0, 0, .54)'\n\t\t\t\t\t}],\n\t\t\t\t\tpadding: iconPadding\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\tconvertInternal(value) {\n\t\t\treturn value;\n\t\t}\n\t\t_convertInternal(value) {\n\t\t\tconst options = this._options;\n\t\t\tfor (let i = 0; i < options.length; i++) {\n\t\t\t\tconst option = options[i];\n\t\t\t\tif (option.value === value) {\n\t\t\t\t\tvalue = option.caption;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn super.convertInternal(value);\n\t\t}\n\t}\n\n\tmodule.exports = MenuColumn;\n}\n\n/***/ }),\n/* 89 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*eslint no-bitwise:0*/\n\n\n{\n\tconst { getChainSafe } = __webpack_require__(0);\n\tconst defaultTheme = __webpack_require__(41);\n\n\tfunction getProp(obj, superObj, names, defNames) {\n\t\treturn getChainSafe(obj, ...names) || defNames && getChainSafe(obj, ...defNames) || getChainSafe(superObj, ...names);\n\t}\n\tfunction createTheme(obj = {}, superTheme = defaultTheme) {\n\t\treturn {\n\t\t\tget font() {\n\t\t\t\treturn getProp(obj, superTheme, ['font']);\n\t\t\t},\n\t\t\tget underlayBackgroundColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['underlayBackgroundColor']);\n\t\t\t},\n\t\t\t// color\n\t\t\tget color() {\n\t\t\t\treturn getProp(obj, superTheme, ['color']);\n\t\t\t},\n\t\t\tget frozenRowsColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['frozenRowsColor'], ['color']);\n\t\t\t},\n\t\t\t// background\n\t\t\tget defaultBgColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['defaultBgColor']);\n\t\t\t},\n\t\t\tget frozenRowsBgColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['frozenRowsBgColor'], ['defaultBgColor']);\n\t\t\t},\n\t\t\tget selectionBgColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['selectionBgColor'], ['defaultBgColor']);\n\t\t\t},\n\t\t\t// border\n\t\t\tget borderColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['borderColor']);\n\t\t\t},\n\t\t\tget frozenRowsBorderColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['frozenRowsBorderColor'], ['borderColor']);\n\t\t\t},\n\t\t\tget hiliteBorderColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['hiliteBorderColor'], ['borderColor']);\n\t\t\t},\n\t\t\tget checkbox() {\n\t\t\t\treturn this._checkbox || (this._checkbox = {\n\t\t\t\t\tget uncheckBgColor() {\n\t\t\t\t\t\treturn getProp(obj, superTheme, ['checkbox', 'uncheckBgColor'], ['defaultBgColor']);\n\t\t\t\t\t},\n\t\t\t\t\tget checkBgColor() {\n\t\t\t\t\t\treturn getProp(obj, superTheme, ['checkbox', 'checkBgColor'], ['defaultBgColor']);\n\t\t\t\t\t},\n\t\t\t\t\tget borderColor() {\n\t\t\t\t\t\treturn getProp(obj, superTheme, ['checkbox', 'borderColor'], ['borderColor']);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tget button() {\n\t\t\t\treturn this._button || (this._button = {\n\t\t\t\t\tget color() {\n\t\t\t\t\t\treturn getProp(obj, superTheme, ['button', 'color'], ['color']);\n\t\t\t\t\t},\n\t\t\t\t\tget bgColor() {\n\t\t\t\t\t\treturn getProp(obj, superTheme, ['button', 'bgColor'], ['defaultBgColor']);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\textends(obj) {\n\t\t\t\treturn createTheme(obj, this);\n\t\t\t}\n\t\t};\n\t}\n\n\t/**\r\n  * theme object\r\n  * @type {Object}\r\n  * @namespace cheetahGrid.themes.theme\r\n  * @memberof cheetahGrid.themes\r\n  */\n\tmodule.exports = {\n\t\tcreate(obj) {\n\t\t\treturn createTheme(obj);\n\t\t}\n\t};\n}\n\n/***/ }),\n/* 90 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*eslint no-bitwise:0*/\n\n\nfunction DEFAULT_BG_COLOR(args) {\n\tconst {\n\t\trow,\n\t\tgrid: { frozenRowCount }\n\t} = args;\n\tif (!(row - frozenRowCount & 1)) {\n\t\treturn '#FFF';\n\t} else {\n\t\treturn '#F6F6F6';\n\t}\n}\nconst cacheLinearGradient = {};\nfunction getLinearGradient(context, left, top, right, bottom, colorStops) {\n\tlet stop;\n\tconst stopsKey = [];\n\tfor (stop in colorStops) {\n\t\tstopsKey.push(`${stop}@${colorStops[stop]}`);\n\t}\n\tconst key = `${left}/${top}/${right}/${bottom}/${stopsKey.join(',')}`;\n\tconst ret = cacheLinearGradient[key];\n\tif (ret) {\n\t\treturn ret;\n\t}\n\tconst grad = context.createLinearGradient(left, top, left, bottom);\n\tfor (stop in colorStops) {\n\t\tgrad.addColorStop(stop, colorStops[stop]);\n\t}\n\treturn cacheLinearGradient[key] = grad;\n}\nfunction FROZEN_ROWS_BG_COLOR(args) {\n\tconst {\n\t\tcol,\n\t\tgrid,\n\t\tgrid: { frozenRowCount },\n\t\tcontext\n\t} = args;\n\tconst { left, top } = grid.getCellRelativeRect(col, 0);\n\tconst { bottom } = grid.getCellRelativeRect(col, frozenRowCount - 1);\n\n\treturn getLinearGradient(context, left, top, left, bottom, { 0: '#FFF', 1: '#D3D3D3' });\n}\n/**\r\n * basic theme\r\n * @name BASIC\r\n * @type {Object}\r\n * @memberof cheetahGrid.themes.choices\r\n */\nmodule.exports = {\n\tcolor: '#000',\n\tdefaultBgColor: DEFAULT_BG_COLOR,\n\tfrozenRowsBgColor: FROZEN_ROWS_BG_COLOR,\n\thiliteBorderColor: '#5E9ED6',\n\tselectionBgColor: '#CCE0FF',\n\tborderColor: '#000',\n\tcheckbox: {\n\t\tuncheckBgColor: '#FFF',\n\t\tcheckBgColor: 'rgb(76, 73, 72)'\n\t},\n\tbutton: {\n\t\tcolor: '#FFF',\n\t\tbgColor: '#2196F3'\n\t},\n\tunderlayBackgroundColor: '#F6F6F6'\n};\n\n/***/ }),\n/* 91 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst { getChainSafe } = __webpack_require__(0);\n\tconst DataSource = __webpack_require__(44);\n\n\tfunction _setFieldCache({ _fCache }, index, field, value) {\n\t\tconst recCache = _fCache[index] || (_fCache[index] = {});\n\t\trecCache[field] = value;\n\t}\n\t/**\r\n  * grid data source\r\n  *\r\n  * @classdesc cheetahGrid.data.CachedDataSource\r\n  * @extends cheetahGrid.data.DataSource\r\n  * @memberof cheetahGrid.data\r\n  */\n\tclass CachedDataSource extends DataSource {\n\t\tstatic get EVENT_TYPE() {\n\t\t\treturn DataSource.EVENT_TYPE;\n\t\t}\n\t\tstatic ofArray(array) {\n\t\t\treturn new CachedDataSource({\n\t\t\t\tget: index => array[index],\n\t\t\t\tlength: array.length\n\t\t\t});\n\t\t}\n\t\tconstructor(opt = {}) {\n\t\t\tsuper(opt);\n\t\t\tthis._rCache = {};\n\t\t\tthis._fCache = {};\n\t\t}\n\t\tgetOriginal(index) {\n\t\t\tif (this._rCache && this._rCache[index]) {\n\t\t\t\treturn this._rCache[index];\n\t\t\t}\n\t\t\treturn super.getOriginal(index);\n\t\t}\n\t\tgetOriginalField(index, field) {\n\t\t\tconst cache = getChainSafe(this._fCache, index, field);\n\t\t\tif (cache) {\n\t\t\t\treturn cache;\n\t\t\t}\n\t\t\treturn super.getOriginalField(index, field);\n\t\t}\n\t\tsetOriginalField(index, field, value) {\n\t\t\tconst cache = getChainSafe(this._fCache, index, field);\n\t\t\tif (cache) {\n\t\t\t\t_setFieldCache(this, index, field, value);\n\t\t\t}\n\t\t\treturn super.setOriginalField(index, field, value);\n\t\t}\n\t\tclearCache() {\n\t\t\tif (this._rCache) {\n\t\t\t\tthis._rCache = {};\n\t\t\t}\n\t\t\tif (this._fCache) {\n\t\t\t\tthis._fCache = {};\n\t\t\t}\n\t\t}\n\t\tfieldPromiseCallBackInternal(index, field, val) {\n\t\t\t_setFieldCache(this, index, field, val);\n\t\t}\n\t\trecordPromiseCallBackInternal(index, val) {\n\t\t\tthis._rCache[index] = val;\n\t\t}\n\t\tdispose() {\n\t\t\tsuper.dispose();\n\t\t}\n\t}\n\n\tmodule.exports = CachedDataSource;\n}\n\n/***/ }),\n/* 92 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\n{\n\tconst { extend, array: { find: arrayFind }, isDef, isPromise, obj: { isObject } } = __webpack_require__(0);\n\tconst GridCanvasHelper = __webpack_require__(46);\n\tconst columns = __webpack_require__(27);\n\tconst { BaseStyle } = columns.style;\n\tconst headerType = __webpack_require__(110);\n\tconst { BaseStyle: HeaderBaseStyle } = __webpack_require__(14);\n\tconst DrawGrid = __webpack_require__(4);\n\tconst { DataSource, CachedDataSource } = __webpack_require__(43);\n\tconst themes = __webpack_require__(22);\n\tconst icons = __webpack_require__(21);\n\t//protected symbol\n\tconst { PROTECTED_SYMBOL: _ } = __webpack_require__(1);\n\n\tlet headerId = 0;\n\t//private methods\n\tfunction _getHeaderCellRange(grid, col, row) {\n\t\treturn grid[_].headerMap.getHeaderCellRange(col, row);\n\t}\n\tfunction _updateRect(grid, col, row, context) {\n\t\tconst rect = context.getRect();\n\t\tconst {\n\t\t\tstartCol,\n\t\t\tendCol,\n\t\t\tstartRow,\n\t\t\tendRow\n\t\t} = _getHeaderCellRange(grid, col, row);\n\t\tfor (let c = col - 1; c >= startCol; c--) {\n\t\t\trect.left -= grid.getColWidth(c);\n\t\t}\n\t\tfor (let c = col + 1; c <= endCol; c++) {\n\t\t\trect.right += grid.getColWidth(c);\n\t\t}\n\t\tfor (let r = row - 1; r >= startRow; r--) {\n\t\t\trect.top -= grid.getRowHeight(r);\n\t\t}\n\t\tfor (let r = row + 1; r <= endRow; r++) {\n\t\t\trect.bottom += grid.getRowHeight(r);\n\t\t}\n\t\tcontext.setRect(rect);\n\t}\n\tfunction _getCellValue(grid, col, row) {\n\t\tif (row < grid[_].headerMap.rowCount) {\n\t\t\treturn grid[_].headerMap.getCell(col, row).caption;\n\t\t} else {\n\t\t\tlet { field } = grid[_].headerMap.columns[col];\n\t\t\tif (isObject(field) && field.get && field.set) {\n\t\t\t\tfield = field.get;\n\t\t\t}\n\t\t\treturn _getField(grid, field, row);\n\t\t}\n\t}\n\tfunction _setCellValue(grid, col, row, value) {\n\t\tif (row < grid[_].headerMap.rowCount) {\n\t\t\t// nop\n\t\t\treturn false;\n\t\t} else {\n\t\t\tlet { field } = grid[_].headerMap.columns[col];\n\t\t\tif (isObject(field) && field.get && field.set) {\n\t\t\t\tfield = field.set;\n\t\t\t}\n\t\t\tif (grid.hasListeners(EVENT_TYPE.SET_VALUE)) {\n\t\t\t\tconst ret = grid.fireListeners(EVENT_TYPE.SET_VALUE, grid.getRowRecord(row), field, value);\n\t\t\t\tgrid[_].dataSource.clearCache();\n\t\t\t\treturn arrayFind(ret, isDef);\n\t\t\t} else {\n\t\t\t\tconst index = _getRowRecordIndex(grid, row);\n\t\t\t\tconst res = grid[_].dataSource.setField(index, field, value);\n\t\t\t\treturn isPromise(res) ? res : true;\n\t\t\t}\n\t\t}\n\t}\n\tfunction _getCellIcon0(grid, icon, row) {\n\t\tif (!isDef(icon)) {\n\t\t\treturn null;\n\t\t}\n\t\tif (__webpack_provided_Array_dot_isArray(icon)) {\n\t\t\treturn icon.map(i => _getCellIcon0(grid, i, row));\n\t\t}\n\t\tif (!isObject(icon)) {\n\t\t\treturn _getField(grid, icon, row);\n\t\t}\n\t\tconst retIcon = {};\n\t\ticons.iconPropKeys.forEach(k => {\n\t\t\tif (icon[k]) {\n\t\t\t\tconst f = _getField(grid, icon[k], row);\n\t\t\t\tif (isDef(f)) {\n\t\t\t\t\tretIcon[k] = f;\n\t\t\t\t} else {\n\t\t\t\t\tif (!_hasField(grid, icon[k], row)) {\n\t\t\t\t\t\tretIcon[k] = icon[k];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn retIcon;\n\t}\n\tfunction _getCellIcon(grid, col, row, name) {\n\t\tconst { [name]: icon } = grid[_].headerMap.columns[col];\n\t\treturn _getCellIcon0(grid, icon, row);\n\t}\n\tfunction _getField(grid, field, row) {\n\t\tif (!isDef(field)) {\n\t\t\treturn null;\n\t\t}\n\t\tif (row < grid[_].headerMap.rowCount) {\n\t\t\treturn null;\n\t\t} else {\n\t\t\tconst index = _getRowRecordIndex(grid, row);\n\t\t\treturn grid[_].dataSource.getField(index, field);\n\t\t}\n\t}\n\tfunction _hasField(grid, field, row) {\n\t\tif (!isDef(field)) {\n\t\t\treturn false;\n\t\t}\n\t\tif (row < grid[_].headerMap.rowCount) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\tconst index = _getRowRecordIndex(grid, row);\n\t\t\treturn grid[_].dataSource.hasField(index, field);\n\t\t}\n\t}\n\tfunction _onDrawValue(grid, cellValue, context, { col, row }, style, draw) {\n\t\tconst helper = grid[_].gridCanvasHelper;\n\n\t\tconst drawCellBase = ({ bgColor } = {}) => {\n\t\t\tconst fillOpt = {\n\t\t\t\tfillColor: bgColor\n\t\t\t};\n\t\t\t//cell\n\t\t\thelper.fillCellWithState(context, fillOpt);\n\n\t\t\tif (context.col === grid.frozenColCount - 1) {\n\t\t\t\t//\n\t\t\t\tconst rect = context.getRect();\n\t\t\t\thelper.drawWithClip(context, ctx => {\n\t\t\t\t\tconst borderColor = context.row >= grid.frozenRowCount ? helper.theme.borderColor : helper.theme.frozenRowsBorderColor;\n\n\t\t\t\t\tconst borderColors = helper.toBoxArray(helper.getColor(borderColor, context.col, context.row, ctx));\n\t\t\t\t\tif (borderColors[1]) {\n\t\t\t\t\t\tctx.lineWidth = 1;\n\t\t\t\t\t\tctx.strokeStyle = borderColors[1];\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tctx.moveTo(rect.right - 2.5, rect.top);\n\t\t\t\t\t\tctx.lineTo(rect.right - 2.5, rect.bottom);\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (context.row < grid[_].headerMap.rowCount) {\n\t\t\t\t_headerBorderWithState(grid, helper, context);\n\t\t\t} else {\n\t\t\t\thelper.borderWithState(context);\n\t\t\t}\n\t\t};\n\t\tconst info = {\n\t\t\tgetRecord: () => grid.getRowRecord(row),\n\t\t\tgetIcon: () => _getCellIcon(grid, col, row, 'icon'),\n\t\t\tstyle,\n\t\t\tdrawCellBase\n\t\t};\n\n\t\treturn draw(cellValue, info, context, grid);\n\t}\n\tfunction _headerBorderWithState(grid, helper, context) {\n\t\tconst { col, row } = context;\n\t\tconst sel = grid.selection.select;\n\t\tif (sel.row >= grid[_].headerMap.rowCount) {\n\t\t\t//\n\t\t\thelper.borderWithState(context);\n\t\t\treturn;\n\t\t}\n\n\t\tconst { id } = grid[_].headerMap.getCell(col, row);\n\n\t\tconst rect = context.getRect();\n\t\tconst option = {};\n\n\t\tconst { id: selId } = grid[_].headerMap.getCell(sel.col, sel.row);\n\t\t//\n\t\tif (selId === id) {\n\t\t\toption.borderColor = helper.theme.hiliteBorderColor;\n\t\t\toption.lineWidth = 2;\n\t\t\thelper.border(context, option);\n\t\t} else {\n\t\t\toption.lineWidth = 1;\n\t\t\t// header color\n\t\t\tconst isFrozenCell = grid.isFrozenCell(col, row);\n\t\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\t\toption.borderColor = helper.theme.frozenRowsBorderColor;\n\t\t\t}\n\t\t\thelper.border(context, option);\n\n\t\t\t//\n\t\t\tif (col > 0 && grid[_].headerMap.getCell(col - 1, row).id === selId) {\n\t\t\t\t//\n\t\t\t\thelper.drawBorderWithClip(context, ctx => {\n\t\t\t\t\tconst borderColors = helper.toBoxArray(helper.getColor(helper.theme.hiliteBorderColor, sel.col, sel.row, ctx));\n\t\t\t\t\tif (borderColors[1]) {\n\t\t\t\t\t\tctx.lineWidth = 1;\n\t\t\t\t\t\tctx.strokeStyle = borderColors[1];\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tctx.moveTo(rect.left - 0.5, rect.top);\n\t\t\t\t\t\tctx.lineTo(rect.left - 0.5, rect.bottom);\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else if (row > 0 && grid[_].headerMap.getCell(col, row - 1).id === selId) {\n\t\t\t\t//\n\t\t\t\thelper.drawBorderWithClip(context, ctx => {\n\t\t\t\t\tconst borderColors = helper.toBoxArray(helper.getColor(helper.theme.hiliteBorderColor, sel.col, sel.row, ctx));\n\t\t\t\t\tif (borderColors[0]) {\n\t\t\t\t\t\tctx.lineWidth = 1;\n\t\t\t\t\t\tctx.strokeStyle = borderColors[0];\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tctx.moveTo(rect.left, rect.top - 0.5);\n\t\t\t\t\t\tctx.lineTo(rect.right, rect.top - 0.5);\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\tfunction _refreshHeader(grid) {\n\t\tif (grid[_].headerEvents) {\n\t\t\tgrid[_].headerEvents.forEach(id => grid.unlisten(id));\n\t\t}\n\t\tgrid[_].headerMap = new HeaderMap(grid[_].header);\n\t\tgrid[_].headerEvents = [];\n\t\tgrid[_].headerMap.headerObjects.forEach(cell => {\n\t\t\tconst ids = cell.headerType.bindGridEvent(grid);\n\t\t\tgrid[_].headerEvents.push(...ids);\n\t\t\tif (cell.style) {\n\t\t\t\tif (cell.style instanceof HeaderBaseStyle) {\n\t\t\t\t\tconst id = cell.style.listen(HeaderBaseStyle.EVENT_TYPE.CHANGE_STYLE, () => {\n\t\t\t\t\t\tgrid.invalidate();\n\t\t\t\t\t});\n\t\t\t\t\tgrid[_].headerEvents.push(id);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tgrid[_].headerMap.columns.forEach((col, index) => {\n\t\t\tif (col.action) {\n\t\t\t\tconst ids = col.action.bindGridEvent(grid, index, {\n\t\t\t\t\tisTarget(col, row) {\n\t\t\t\t\t\treturn index === col && grid.frozenRowCount <= row;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tgrid[_].headerEvents.push(...ids);\n\t\t\t}\n\t\t\tif (col.columnType) {\n\t\t\t\tconst ids = col.columnType.bindGridEvent(grid, index, {\n\t\t\t\t\tisTarget(col, row) {\n\t\t\t\t\t\treturn index === col && grid.frozenRowCount <= row;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tgrid[_].headerEvents.push(...ids);\n\t\t\t}\n\t\t\tif (col.style) {\n\t\t\t\tif (col.style instanceof BaseStyle) {\n\t\t\t\t\tconst id = col.style.listen(columns.style.EVENT_TYPE.CHANGE_STYLE, () => {\n\t\t\t\t\t\tgrid.invalidate();\n\t\t\t\t\t});\n\t\t\t\t\tgrid[_].headerEvents.push(id);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tgrid.colCount = grid[_].headerMap.columns.length;\n\t\t_refreshRowCount(grid);\n\t\tgrid.frozenRowCount = grid[_].headerMap.rowCount;\n\t\tfor (let col = 0; col < grid[_].headerMap.columns.length; col++) {\n\t\t\tconst column = grid[_].headerMap.columns[col];\n\t\t\tconst width = column.width;\n\t\t\tif (width && (width > 0 || typeof width === 'string')) {\n\t\t\t\tgrid.setColWidth(col, width);\n\t\t\t}\n\t\t\tconst minWidth = column.minWidth;\n\t\t\tif (minWidth && (minWidth > 0 || typeof minWidth === 'string')) {\n\t\t\t\tgrid.setMinColWidth(col, minWidth);\n\t\t\t}\n\t\t\tconst maxWidth = column.maxWidth;\n\t\t\tif (maxWidth && (maxWidth > 0 || typeof maxWidth === 'string')) {\n\t\t\t\tgrid.setMaxColWidth(col, maxWidth);\n\t\t\t}\n\t\t}\n\t\tconst isArrayHeaderRowHeight = __webpack_provided_Array_dot_isArray(grid[_].headerRowHeight);\n\t\tfor (let row = 0; row < grid[_].headerMap.rowCount; row++) {\n\t\t\tconst height = isArrayHeaderRowHeight ? grid[_].headerRowHeight[row] : grid[_].headerRowHeight;\n\t\t\tif (height && height > 0) {\n\t\t\t\tgrid.setRowHeight(row, height);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction _refreshRowCount(grid) {\n\t\tgrid.rowCount = grid[_].dataSource.length + grid[_].headerMap.rowCount;\n\t}\n\tfunction _tryWithUpdateDataSource(grid, fn) {\n\t\tif (grid[_].dataSourceEventIds) {\n\t\t\tgrid[_].dataSourceEventIds.forEach(id => grid[_].handler.off(id));\n\t\t}\n\n\t\tfn(grid);\n\n\t\tgrid[_].dataSourceEventIds = [grid[_].handler.on(grid[_].dataSource, DataSource.EVENT_TYPE.UPDATED_LENGTH, () => {\n\t\t\t_refreshRowCount(grid);\n\t\t\tgrid.invalidate();\n\t\t}), grid[_].handler.on(grid[_].dataSource, DataSource.EVENT_TYPE.UPDATED_ORDER, () => {\n\t\t\tgrid.invalidate();\n\t\t})];\n\t}\n\tfunction _setRecords(grid, records = []) {\n\t\t_tryWithUpdateDataSource(grid, () => {\n\t\t\tgrid[_].records = records;\n\t\t\tgrid[_].dataSource = CachedDataSource.ofArray(grid[_].records);\n\t\t});\n\t}\n\tfunction _setDataSource(grid, dataSource) {\n\t\t_tryWithUpdateDataSource(grid, () => {\n\t\t\tif (dataSource) {\n\t\t\t\tif (dataSource instanceof DataSource) {\n\t\t\t\t\tgrid[_].dataSource = dataSource;\n\t\t\t\t} else {\n\t\t\t\t\tgrid[_].dataSource = new CachedDataSource(dataSource);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tgrid[_].dataSource = DataSource.EMPTY;\n\t\t\t}\n\t\t\tgrid[_].records = null;\n\t\t});\n\t}\n\n\tfunction _getRowRecordIndex(grid, row) {\n\t\tif (row < grid[_].headerMap.rowCount) {\n\t\t\treturn undefined;\n\t\t} else {\n\t\t\treturn row - grid[_].headerMap.rowCount;\n\t\t}\n\t}\n\t//end private methods\n\t//\n\t//\n\t//\n\n\tclass HeaderMap {\n\t\tconstructor(header) {\n\t\t\tthis._columns = [];\n\t\t\tthis._headerCells = [];\n\t\t\tthis._headerObjects = [];\n\n\t\t\tthis._addHeaders(0, header, []);\n\t\t\tthis._setupHeaderType();\n\t\t}\n\t\tget columns() {\n\t\t\treturn this._columns;\n\t\t}\n\t\tget rowCount() {\n\t\t\treturn this._headerCells.length;\n\t\t}\n\t\tget headerObjects() {\n\t\t\treturn this._headerObjects;\n\t\t}\n\t\tgetCell(col, row) {\n\t\t\treturn this._headerCells[row][col];\n\t\t}\n\t\tgetHeaderCellRangeById(id) {\n\t\t\tfor (let r = 0; r < this.rowCount; r++) {\n\t\t\t\tfor (let c = 0; c < this.columns.length; c++) {\n\t\t\t\t\tif (id === this.getCell(c, r).id) {\n\t\t\t\t\t\treturn this.getHeaderCellRange(c, r);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn undefined;\n\t\t}\n\t\tgetHeaderCellRange(col, row) {\n\t\t\tconst result = {\n\t\t\t\tstartCol: col,\n\t\t\t\tstartRow: row,\n\t\t\t\tendCol: col,\n\t\t\t\tendRow: row,\n\t\t\t\tisCellInRange(col, row) {\n\t\t\t\t\treturn this.startCol <= col && col <= this.endCol && this.startRow <= row && row <= this.endRow;\n\t\t\t\t}\n\t\t\t};\n\t\t\tconst { id } = this.getCell(col, row);\n\t\t\tfor (let c = col - 1; c >= 0; c--) {\n\t\t\t\tif (id !== this.getCell(c, row).id) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tresult.startCol = c;\n\t\t\t}\n\t\t\tfor (let c = col + 1; c < this.columns.length; c++) {\n\t\t\t\tif (id !== this.getCell(c, row).id) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tresult.endCol = c;\n\t\t\t}\n\t\t\tfor (let r = row - 1; r >= 0; r--) {\n\t\t\t\tif (id !== this.getCell(col, r).id) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tresult.startRow = r;\n\t\t\t}\n\t\t\tfor (let r = row + 1; r < this.rowCount; r++) {\n\t\t\t\tif (id !== this.getCell(col, r).id) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tresult.endRow = r;\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t\t_addHeaders(row, header, roots) {\n\t\t\tconst rowCells = this._headerCells[row] || this._newRow(row);\n\t\t\theader.forEach(hd => {\n\t\t\t\tconst col = this._columns.length;\n\t\t\t\tconst cell = {\n\t\t\t\t\tid: headerId++,\n\t\t\t\t\tcaption: hd.caption,\n\t\t\t\t\tstyle: hd.headerStyle,\n\t\t\t\t\tsort: hd.sort\n\t\t\t\t};\n\t\t\t\tthis._headerObjects.push(cell);\n\t\t\t\trowCells[col] = cell;\n\t\t\t\tfor (let r = row - 1; r >= 0; r--) {\n\t\t\t\t\tthis._headerCells[r][col] = roots[r];\n\t\t\t\t}\n\t\t\t\tif (hd.columns) {\n\t\t\t\t\tthis._addHeaders(row + 1, hd.columns, [...roots, cell]);\n\t\t\t\t} else {\n\t\t\t\t\tthis._columns.push({\n\t\t\t\t\t\twidth: hd.width,\n\t\t\t\t\t\tminWidth: hd.minWidth,\n\t\t\t\t\t\tmaxWidth: hd.maxWidth,\n\t\t\t\t\t\tfield: hd.field,\n\t\t\t\t\t\ticon: hd.icon,\n\t\t\t\t\t\tcolumnType: columns.type.of(hd.columnType),\n\t\t\t\t\t\taction: columns.action.of(hd.action),\n\t\t\t\t\t\tstyle: hd.style,\n\t\t\t\t\t\tdefine: hd\n\t\t\t\t\t});\n\t\t\t\t\tfor (let r = row + 1; r < this._headerCells.length; r++) {\n\t\t\t\t\t\tthis._headerCells[r][col] = cell;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t_setupHeaderType() {\n\t\t\tthis._headerObjects.forEach(cell => {\n\t\t\t\tcell.range = this.getHeaderCellRangeById(cell.id);\n\t\t\t\tcell.headerType = headerType.create(cell);\n\t\t\t});\n\t\t}\n\t\t_newRow(row) {\n\t\t\tconst newRow = this._headerCells[row] = [];\n\t\t\tif (!this._columns.length) {\n\t\t\t\treturn newRow;\n\t\t\t}\n\t\t\tconst prev = this._headerCells[row - 1];\n\t\t\tfor (let col = 0; col < prev.length; col++) {\n\t\t\t\tnewRow[col] = prev[col];\n\t\t\t}\n\t\t\treturn newRow;\n\t\t}\n\t}\n\n\tfunction adjustListGridOption(options) {\n\t\tif (options) {\n\t\t\tdelete options.frozenRowCount;\n\t\t\tdelete options.colCount;\n\t\t\tdelete options.rowCount;\n\t\t}\n\t\treturn options;\n\t}\n\n\tconst EVENT_TYPE = extend(DrawGrid.EVENT_TYPE, {\n\t\tSET_VALUE: 'set_value'\n\t});\n\n\t/**\r\n  * ListGrid\r\n  * @classdesc cheetahGrid.ListGrid\r\n  * @extends cheetahGrid.core.DrawGrid\r\n  * @memberof cheetahGrid\r\n  */\n\tclass ListGrid extends DrawGrid {\n\t\tstatic get EVENT_TYPE() {\n\t\t\treturn EVENT_TYPE;\n\t\t}\n\t\t/**\r\n   * constructor\r\n   *\r\n   * <pre>\r\n   * Constructor options\r\n   * -----\r\n   * header: see header property\r\n   * records {array}: records data\r\n   * dataSource {DataSource}: records data source\r\n   * frozenColCount {number}: default 0\r\n   * defaultRowHeight {number}: default grid row height. default 40\r\n   * defaultColWidth {number}: default grid col width. default 80\r\n   * borderColor: border color\r\n   * parentElement {Element}: canvas parentElement\r\n   * theme {object}: theme\r\n   * -----\r\n   * </pre>\r\n   *\r\n   * @constructor\r\n   * @param  {Object} options Constructor options\r\n   */\n\t\tconstructor(options = {}) {\n\t\t\tsuper(adjustListGridOption(options));\n\t\t\tthis[_].header = options.header || [];\n\t\t\tthis[_].headerRowHeight = options.headerRowHeight || [];\n\t\t\tif (options.dataSource) {\n\t\t\t\t_setDataSource(this, options.dataSource);\n\t\t\t} else {\n\t\t\t\t_setRecords(this, options.records);\n\t\t\t}\n\t\t\t_refreshHeader(this);\n\t\t\tthis[_].sortState = {\n\t\t\t\tcol: -1,\n\t\t\t\torder: undefined\n\t\t\t};\n\t\t\tthis[_].gridCanvasHelper = new GridCanvasHelper(this);\n\t\t\tthis[_].theme = themes.of(options.theme);\n\t\t\tthis.invalidate();\n\t\t\tthis[_].handler.on(window, 'resize', () => {\n\t\t\t\tthis.updateSize();\n\t\t\t\tthis.updateScroll();\n\t\t\t\tthis.invalidate();\n\t\t\t});\n\t\t}\n\t\t/**\r\n   * header define\r\n   * @type {Array}\r\n   */\n\t\tget header() {\n\t\t\treturn this[_].header;\n\t\t}\n\t\t/**\r\n   * header define\r\n   * <pre>\r\n   * column options\r\n   * -----\r\n   * caption: header caption\r\n   * field: field name\r\n   * width: column width\r\n   * columnType: ColumnType\r\n   * action: ColumnAction\r\n   * style\r\n   * -----\r\n   *\r\n   * multiline header\r\n   * -----\r\n   * caption: header caption\r\n   * columns: columns define\r\n   * -----\r\n   * </pre>\r\n   *\r\n   * @type {Array}\r\n   */\n\t\tset header(header) {\n\t\t\tthis[_].header = header;\n\t\t\t_refreshHeader(this);\n\t\t}\n\t\tget records() {\n\t\t\treturn this[_].records;\n\t\t}\n\t\tset records(records) {\n\t\t\t_setRecords(this, records);\n\t\t\t_refreshRowCount(this);\n\t\t\tthis.invalidate();\n\t\t}\n\t\tget dataSource() {\n\t\t\treturn this[_].dataSource;\n\t\t}\n\t\tset dataSource(dataSource) {\n\t\t\t_setDataSource(this, dataSource);\n\t\t\t_refreshRowCount(this);\n\t\t\tthis.invalidate();\n\t\t}\n\t\tget theme() {\n\t\t\treturn this[_].theme;\n\t\t}\n\t\tset theme(theme) {\n\t\t\tthis[_].theme = themes.of(theme);\n\t\t\tthis.invalidate();\n\t\t}\n\t\tget font() {\n\t\t\treturn super.font || this[_].gridCanvasHelper.theme.font;\n\t\t}\n\t\tset font(font) {\n\t\t\tsuper.font = font;\n\t\t}\n\t\tget underlayBackgroundColor() {\n\t\t\treturn super.underlayBackgroundColor || this[_].gridCanvasHelper.theme.underlayBackgroundColor;\n\t\t}\n\t\tset underlayBackgroundColor(underlayBackgroundColor) {\n\t\t\tsuper.underlayBackgroundColor = underlayBackgroundColor;\n\t\t}\n\t\tget sortState() {\n\t\t\treturn this[_].sortState;\n\t\t}\n\t\tset sortState(sortState) {\n\t\t\tthis[_].sortState = sortState;\n\t\t}\n\t\tgetField(col) {\n\t\t\treturn this[_].headerMap.columns[col].field;\n\t\t}\n\t\tgetRowRecord(row) {\n\t\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t\treturn undefined;\n\t\t\t} else {\n\t\t\t\treturn this[_].dataSource.get(_getRowRecordIndex(this, row));\n\t\t\t}\n\t\t}\n\t\tgetGridCanvasHelper() {\n\t\t\treturn this[_].gridCanvasHelper;\n\t\t}\n\t\tgetCopyCellValue(col, row) {\n\t\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t\tconst { startCol, startRow } = _getHeaderCellRange(this, col, row);\n\t\t\t\tif (startCol !== col || startRow !== row) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn _getCellValue(this, col, row);\n\t\t}\n\t\tonDrawCell(col, row, context) {\n\t\t\tconst column = this[_].headerMap.columns[col];\n\n\t\t\tlet draw;\n\t\t\tlet style;\n\t\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t\tconst hd = this[_].headerMap.getCell(col, row);\n\t\t\t\tdraw = hd.headerType.onDrawCell;\n\t\t\t\tstyle = hd.style;\n\t\t\t\t_updateRect(this, col, row, context);\n\t\t\t} else {\n\t\t\t\tdraw = column.columnType.onDrawCell;\n\t\t\t\tstyle = column.style;\n\t\t\t}\n\t\t\tconst cellValue = _getCellValue(this, col, row);\n\t\t\treturn _onDrawValue(this, cellValue, context, { col, row }, style, draw);\n\t\t}\n\t\tdoGetCellValue(col, row, valueCallback) {\n\t\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t\t// nop\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tconst value = _getCellValue(this, col, row);\n\t\t\t\tif (isPromise(value)) {\n\t\t\t\t\t//\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tvalueCallback(value);\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\tdoChangeValue(col, row, changeValueCallback) {\n\t\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t\t// nop\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tconst before = _getCellValue(this, col, row);\n\t\t\t\tif (isPromise(before)) {\n\t\t\t\t\t//\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tconst after = changeValueCallback(before);\n\t\t\t\tif (after === undefined) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn _setCellValue(this, col, row, after);\n\t\t\t}\n\t\t}\n\t\tbindEventsInternal() {\n\t\t\tthis.listen(EVENT_TYPE.SELECTED_CELL, (cell, selected) => {\n\t\t\t\tif (cell.row < this[_].headerMap.rowCount) {\n\t\t\t\t\tconst { startCol, endCol, startRow, endRow } = _getHeaderCellRange(this, cell.col, cell.row);\n\t\t\t\t\tif (startCol !== endCol || startRow !== endRow) {\n\t\t\t\t\t\tthis.invalidateGridRect(startCol, startRow, endCol, endRow);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tgetMoveLeftColByKeyDownInternal({ col, row }) {\n\t\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t\tconst { startCol } = _getHeaderCellRange(this, col, row);\n\t\t\t\tcol = startCol;\n\t\t\t}\n\t\t\treturn super.getMoveLeftColByKeyDownInternal({ col, row });\n\t\t}\n\t\tgetMoveRightColByKeyDownInternal({ col, row }) {\n\t\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t\tconst { endCol } = _getHeaderCellRange(this, col, row);\n\t\t\t\tcol = endCol;\n\t\t\t}\n\t\t\treturn super.getMoveRightColByKeyDownInternal({ col, row });\n\t\t}\n\t\tgetMoveUpRowByKeyDownInternal({ col, row }) {\n\t\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t\tconst { startRow } = _getHeaderCellRange(this, col, row);\n\t\t\t\trow = startRow;\n\t\t\t}\n\t\t\treturn super.getMoveUpRowByKeyDownInternal({ col, row });\n\t\t}\n\t\tgetMoveDownRowByKeyDownInternal({ col, row }) {\n\t\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t\tconst { endRow } = _getHeaderCellRange(this, col, row);\n\t\t\t\trow = endRow;\n\t\t\t}\n\t\t\treturn super.getMoveDownRowByKeyDownInternal({ col, row });\n\t\t}\n\t\tgetOffsetInvalidateCells() {\n\t\t\treturn 1;\n\t\t}\n\t\tgetColumnIndexByField(field) {\n\t\t\tfor (const columnIndex in this[_].headerMap.columns) {\n\t\t\t\tif (this[_].headerMap.columns[columnIndex].field === field) {\n\t\t\t\t\treturn columnIndex - 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t\tfocusGridCell(field, index) {\n\t\t\tconst {\n\t\t\t\tstart: { col: startCol, row: startRow },\n\t\t\t\tend: { col: endCol, row: endRow }\n\t\t\t} = this.selection.range;\n\n\t\t\tconst newCol = this.getColumnIndexByField(field);\n\t\t\tconst newRow = index + this[_].headerMap.rowCount;\n\t\t\tthis.focusCell(newCol, newRow);\n\t\t\tthis.selection.select = {\n\t\t\t\tcol: newCol,\n\t\t\t\trow: newRow\n\t\t\t};\n\t\t\tthis.invalidateGridRect(startCol, startRow, endCol, endRow);\n\t\t\tthis.invalidateCell(newCol, newRow);\n\t\t}\n\t\tmakeVisibleGridCell(field, index) {\n\t\t\tthis.makeVisibleCell(this.getColumnIndexByField(field), index + this[_].headerMap.rowCount);\n\t\t}\n\t}\n\tmodule.exports = ListGrid;\n}\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 93 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst Inline = __webpack_require__(9);\nconst InlineIcon = __webpack_require__(94);\nconst InlineImage = __webpack_require__(48);\nconst InlineSvg = __webpack_require__(97);\nconst InlineDrawer = __webpack_require__(98);\nconst InlinePath2D = __webpack_require__(99);\nconst { isDef } = __webpack_require__(0);\nconst { calcStartPosition } = __webpack_require__(6);\nconst icons = __webpack_require__(49);\nconst path2DManager = __webpack_require__(23);\n\nfunction drawRegisteredIcon(ctx, icon, drawWidth, drawHeight, left, top, width, height, {\n\toffset = 2,\n\tpadding\n} = {}) {\n\tconst rect = {\n\t\tleft,\n\t\ttop,\n\t\twidth,\n\t\theight,\n\t\tright: left + width,\n\t\tbottom: top + height\n\t};\n\tctx.save();\n\ttry {\n\t\tctx.beginPath();\n\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\n\t\t//clip\n\t\tctx.clip();\n\n\t\t//\n\t\tconst pos = calcStartPosition(ctx, rect, drawWidth, drawHeight, {\n\t\t\toffset,\n\t\t\tpadding\n\t\t});\n\t\tpath2DManager.fill(icon, ctx, pos.x, pos.y, drawWidth, drawHeight);\n\t} finally {\n\t\tctx.restore();\n\t}\n}\n\nmodule.exports = {\n\ticonOf(icon) {\n\t\tif (icon instanceof Inline) {\n\t\t\treturn icon;\n\t\t}\n\t\tif (!icon) {\n\t\t\treturn null;\n\t\t}\n\t\tif (icon.font && icon.content) {\n\t\t\treturn new InlineIcon(icon);\n\t\t}\n\t\tif (icon.src) {\n\t\t\treturn new InlineImage({\n\t\t\t\tsrc: icon.src,\n\t\t\t\twidth: icon.width,\n\t\t\t\theight: icon.width\n\t\t\t});\n\t\t}\n\t\tif (icon.svg) {\n\t\t\treturn new InlineSvg({\n\t\t\t\tsvg: icon.svg,\n\t\t\t\twidth: icon.width,\n\t\t\t\theight: icon.width\n\t\t\t});\n\t\t}\n\t\tif (icon.path) {\n\t\t\treturn new InlinePath2D({\n\t\t\t\tpath: icon.path,\n\t\t\t\twidth: icon.width,\n\t\t\t\theight: icon.width,\n\t\t\t\tcolor: icon.color\n\t\t\t});\n\t\t}\n\t\tconst regedIcons = icons.get();\n\t\tif (icon.name && regedIcons[icon.name]) {\n\t\t\tconst regedIcon = regedIcons[icon.name];\n\t\t\tconst width = icon.width || Math.max(regedIcon.width, regedIcon.height);\n\t\t\treturn new InlineDrawer({\n\t\t\t\tdraw({\n\t\t\t\t\tctx,\n\t\t\t\t\tcanvashelper,\n\t\t\t\t\trect,\n\t\t\t\t\toffset,\n\t\t\t\t\toffsetLeft,\n\t\t\t\t\toffsetRight\n\t\t\t\t}) {\n\t\t\t\t\tdrawRegisteredIcon(ctx, regedIcon, width, width, rect.left, rect.top, rect.width, rect.height, {\n\t\t\t\t\t\toffset: offset + 1,\n\t\t\t\t\t\tpadding: {\n\t\t\t\t\t\t\tleft: offsetLeft,\n\t\t\t\t\t\t\tright: offsetRight\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\twidth,\n\t\t\t\theight: width,\n\t\t\t\tcolor: icon.color\n\t\t\t});\n\t\t}\n\t\treturn new InlineIcon(icon);\n\t},\n\tof(content) {\n\t\tif (!isDef(content)) {\n\t\t\treturn null;\n\t\t}\n\t\tif (content instanceof Inline) {\n\t\t\treturn content;\n\t\t}\n\t\treturn new Inline(content);\n\t},\n\tbuildInlines(icons, inline) {\n\t\tconst result = [];\n\t\tif (icons) {\n\t\t\tresult.push(...icons.map(icon => this.iconOf(icon)).filter(e => !!e));\n\t\t}\n\t\tif (__webpack_provided_Array_dot_isArray(inline) && inline.filter(il => il instanceof Inline).length) {\n\t\t\tresult.push(...inline.map(il => this.of(il)).filter(e => !!e));\n\t\t} else {\n\t\t\tconst il = this.of(inline);\n\t\t\tif (il) {\n\t\t\t\tresult.push(il);\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 94 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Inline = __webpack_require__(9);\nconst fonts = __webpack_require__(47);\n\nclass InlineIcon extends Inline {\n\tconstructor(icon) {\n\t\tsuper();\n\t\tthis._icon = icon || {};\n\t}\n\twidth({ ctx }) {\n\t\tconst icon = this._icon;\n\t\tif (icon.width) {\n\t\t\treturn icon.width;\n\t\t}\n\t\tif (icon.font && fonts.check(icon.font, icon.content)) {\n\t\t\tctx.save();\n\t\t\ttry {\n\t\t\t\tctx.font = icon.font || ctx.font;\n\t\t\t\treturn ctx.measureText(icon.content).width;\n\t\t\t} finally {\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\tfont() {\n\t\treturn this._icon.font;\n\t}\n\tcolor() {\n\t\treturn this._icon.color;\n\t}\n\tcanDraw() {\n\t\tconst icon = this._icon;\n\t\treturn icon.font ? fonts.check(icon.font, icon.content) : true;\n\t}\n\tonReady(callback) {\n\t\tconst icon = this._icon;\n\t\tif (icon.font && !fonts.check(icon.font, icon.content)) {\n\t\t\tfonts.load(icon.font, icon.content, callback);\n\t\t}\n\t}\n\tdraw({\n\t\tctx,\n\t\tcanvashelper,\n\t\trect,\n\t\toffset,\n\t\toffsetLeft,\n\t\toffsetRight\n\t}) {\n\t\tconst icon = this._icon;\n\t\tif (icon.content) {\n\t\t\tcanvashelper.fillTextRect(ctx, icon.content, rect.left, rect.top, rect.width, rect.height, {\n\t\t\t\toffset: offset + 1,\n\t\t\t\tpadding: {\n\t\t\t\t\tleft: offsetLeft,\n\t\t\t\t\tright: offsetRight\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}\n\nmodule.exports = InlineIcon;\n\n/***/ }),\n/* 95 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n//see https://github.com/typekit/webfontloader\n\n//http://defghi1977.html.xdomain.jp/tech/canvasMemo/canvasMemo.htm\n\nconst FontRuler = __webpack_require__(96);\n\nconst LastResortFonts = {\n\tSERIF: 'serif',\n\tSANS_SERIF: 'sans-serif'\n};\n\nconst watchRunners = {};\n\nclass FontWatchRunner {\n\tstatic load(font, testStr, activeCallback, inactiveCallback) {\n\t\tconst c = watchRunners[font] || (watchRunners[font] = {});\n\t\ttestStr = testStr + '';\n\t\tlet runner;\n\t\tif (c[testStr]) {\n\t\t\trunner = c[testStr];\n\t\t} else {\n\t\t\trunner = c[testStr] = new FontWatchRunner(font, testStr);\n\t\t}\n\t\trunner.then(activeCallback, inactiveCallback);\n\t}\n\tconstructor(font, testStr) {\n\t\tthis.activeCallbacks = [];\n\t\tthis.inactiveCallbacks = [];\n\t\tthis.status = null;\n\t\tthis.lastResortWidths_ = {};\n\n\t\tthis.fontRulerA_ = new FontRuler(font + ',' + LastResortFonts.SERIF, testStr);\n\t\tthis.fontRulerB_ = new FontRuler(font + ',' + LastResortFonts.SANS_SERIF, testStr);\n\t\tconst lastResortRulerA = new FontRuler('4px ' + LastResortFonts.SERIF, testStr);\n\t\tconst lastResortRulerB = new FontRuler('4px ' + LastResortFonts.SANS_SERIF, testStr);\n\n\t\t//start\n\t\tthis.lastResortWidths_[LastResortFonts.SERIF] = lastResortRulerA.getWidth();\n\t\tthis.lastResortWidths_[LastResortFonts.SANS_SERIF] = lastResortRulerB.getWidth();\n\n\t\tlastResortRulerA.remove();\n\t\tlastResortRulerB.remove();\n\n\t\tthis.started_ = Date.now();\n\n\t\tthis.check_();\n\t}\n\tthen(activeCallback, inactiveCallback) {\n\t\tif (this.status) {\n\t\t\tif (this.status !== 'ng') {\n\t\t\t\tactiveCallback();\n\t\t\t} else {\n\t\t\t\tinactiveCallback();\n\t\t\t}\n\t\t} else {\n\t\t\tthis.activeCallbacks.push(activeCallback);\n\t\t\tthis.inactiveCallbacks.push(inactiveCallback);\n\t\t}\n\t}\n\tcheck_() {\n\t\tconst widthA = this.fontRulerA_.getWidth();\n\t\tconst widthB = this.fontRulerB_.getWidth();\n\n\t\tif (this.isFallbackFont_(widthA, widthB) || this.isLastResortFont_(widthA, widthB)) {\n\t\t\tif (Date.now() - this.started_ >= 3000) {\n\t\t\t\t// timeout\n\t\t\t\tif (this.isLastResortFont_(widthA, widthB)) {\n\t\t\t\t\tthis.finish_(this.activeCallbacks);\n\t\t\t\t\tthis.status = 'ok';\n\t\t\t\t} else {\n\t\t\t\t\tthis.finish_(this.inactiveCallbacks);\n\t\t\t\t\tthis.status = 'ng';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.check_();\n\t\t\t\t}, 50);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.finish_(this.activeCallbacks);\n\t\t\tthis.status = 'ok';\n\t\t}\n\t}\n\tisFallbackFont_(a, b) {\n\t\treturn this.widthMatches_(a, LastResortFonts.SERIF) && this.widthMatches_(b, LastResortFonts.SANS_SERIF);\n\t}\n\twidthsMatchLastResortWidths_(a, b) {\n\t\tfor (const font in LastResortFonts) {\n\t\t\tif (LastResortFonts.hasOwnProperty(font)) {\n\t\t\t\tif (this.widthMatches_(a, LastResortFonts[font]) && this.widthMatches_(b, LastResortFonts[font])) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\twidthMatches_(width, lastResortFont) {\n\t\treturn width === this.lastResortWidths_[lastResortFont];\n\t}\n\tisLastResortFont_(a, b) {\n\t\treturn hasWebKitFallbackBug() && this.widthsMatchLastResortWidths_(a, b);\n\t}\n\tfinish_(callbacks) {\n\t\tsetTimeout(() => {\n\t\t\tthis.fontRulerA_.remove();\n\t\t\tthis.fontRulerB_.remove();\n\t\t\tcallbacks.forEach(cb => cb());\n\t\t}, 0);\n\t}\n}\n\nlet HAS_WEBKIT_FALLBACK_BUG = null;\nfunction hasWebKitFallbackBug() {\n\tif (HAS_WEBKIT_FALLBACK_BUG === null) {\n\t\tconst match = /AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent);\n\n\t\tHAS_WEBKIT_FALLBACK_BUG = !!match && (parseInt(match[1], 10) < 536 || parseInt(match[1], 10) === 536 && parseInt(match[2], 10) <= 11);\n\t}\n\treturn HAS_WEBKIT_FALLBACK_BUG;\n}\n\nmodule.exports = FontWatchRunner;\n\n/***/ }),\n/* 96 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n//see https://github.com/typekit/webfontloader\n\nfunction computeStyle(font) {\n\treturn [{\n\t\tdisplay: 'block',\n\t\tposition: 'absolute',\n\t\ttop: '-9999px',\n\t\tleft: '-9999px',\n\t\twidth: 'auto',\n\t\theight: 'auto',\n\t\tmargin: '0',\n\t\tpadding: '0',\n\t\t'white-space': 'nowrap',\n\t\tfont\n\t}, {\n\t\t'font-variant': 'normal',\n\t\t'font-size': '300px',\n\t\t'font-style': 'normal',\n\t\t'font-weight': '400',\n\t\t'line-height': 'normal'\n\t}];\n}\n\nclass FontRuler {\n\tconstructor(font, testStr) {\n\t\tconst e = document.createElement('span');\n\t\te.setAttribute('aria-hidden', 'true');\n\t\te.textContent = testStr || 'BESbswy';\n\n\t\tcomputeStyle(font).forEach(style => {\n\t\t\tfor (const key in style) {\n\t\t\t\te.style[key] = style[key];\n\t\t\t}\n\t\t});\n\t\tdocument.body.appendChild(e);\n\t\tthis.el_ = e;\n\t}\n\tgetWidth() {\n\t\treturn this.el_.offsetWidth;\n\t}\n\tremove() {\n\t\tdocument.body.removeChild(this.el_);\n\t}\n}\n\nmodule.exports = FontRuler;\n\n/***/ }),\n/* 97 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst InlineImage = __webpack_require__(48);\nconst { isPromise } = __webpack_require__(0);\n\nfunction buildSvgDataUrl(svg) {\n\tif (isPromise(svg)) {\n\t\treturn svg.then(buildSvgDataUrl);\n\t} else {\n\t\tconst data = typeof svg === 'string' ? svg : new XMLSerializer().serializeToString(svg);\n\t\tconst url = 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(data); //svgbase64\n\t\treturn url;\n\t}\n}\nfunction getSvgElement(svg) {\n\tif (isPromise(svg)) {\n\t\treturn svg.then(getSvgElement);\n\t} else if (typeof svg === 'string') {\n\t\tconst parser = new DOMParser();\n\t\treturn parser.parseFromString(svg, 'image/svg+xml');\n\t} else {\n\t\treturn svg;\n\t}\n}\n\nclass InlineSvg extends InlineImage {\n\tconstructor({\n\t\tsvg,\n\t\twidth,\n\t\theight,\n\t\timageLeft,\n\t\timageTop,\n\t\timageWidth,\n\t\timageHeight\n\t}) {\n\t\tconst svgElem = getSvgElement(svg);\n\t\tconst elmWidth = svgElem.getAttribute ? svgElem.getAttribute('width') : null;\n\t\tconst elmHeight = svgElem.getAttribute ? svgElem.getAttribute('height') : null;\n\t\tsuper({\n\t\t\tsrc: buildSvgDataUrl(svg),\n\t\t\twidth: width || elmWidth,\n\t\t\theight: height || elmHeight,\n\t\t\timageWidth: elmWidth,\n\t\t\timageHeight: elmHeight\n\t\t});\n\t}\n}\n\nmodule.exports = InlineSvg;\n\n/***/ }),\n/* 98 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Inline = __webpack_require__(9);\n\nclass InlineDrawer extends Inline {\n\tconstructor({\n\t\tdraw,\n\t\twidth,\n\t\theight,\n\t\tcolor\n\t}) {\n\t\tsuper();\n\n\t\tthis._draw = draw;\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tthis._color = color;\n\t}\n\twidth({ ctx }) {\n\t\treturn this._width;\n\t}\n\tfont() {\n\t\treturn null;\n\t}\n\tcolor() {\n\t\treturn this._color;\n\t}\n\tcanDraw() {\n\t\treturn true;\n\t}\n\tonReady(callback) {}\n\tdraw({\n\t\tctx,\n\t\tcanvashelper,\n\t\trect,\n\t\toffset,\n\t\toffsetLeft,\n\t\toffsetRight\n\t}) {\n\t\tthis._draw({\n\t\t\tctx,\n\t\t\tcanvashelper,\n\t\t\trect,\n\t\t\toffset,\n\t\t\toffsetLeft,\n\t\t\toffsetRight\n\t\t});\n\t}\n}\n\nmodule.exports = InlineDrawer;\n\n/***/ }),\n/* 99 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Inline = __webpack_require__(9);\nconst { calcStartPosition } = __webpack_require__(6);\nconst path2DManager = __webpack_require__(23);\n\nclass InlinePath2D extends Inline {\n\tconstructor({\n\t\tpath,\n\t\twidth,\n\t\theight,\n\t\tcolor\n\t}) {\n\t\tsuper();\n\t\t// IEPath2Dpolyfill\n\t\tthis._path = new path2DManager.Path2D(path);\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tthis._color = color;\n\t}\n\twidth({ ctx }) {\n\t\treturn this._width;\n\t}\n\tfont() {\n\t\treturn null;\n\t}\n\tcolor() {\n\t\treturn this._color;\n\t}\n\tcanDraw() {\n\t\treturn true;\n\t}\n\tonReady(callback) {}\n\tdraw({\n\t\tctx,\n\t\tcanvashelper,\n\t\trect,\n\t\toffset,\n\t\toffsetLeft,\n\t\toffsetRight\n\t}) {\n\t\toffset++;\n\t\tconst padding = {\n\t\t\tleft: offsetLeft,\n\t\t\tright: offsetRight\n\t\t};\n\t\tctx.save();\n\t\ttry {\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\n\t\t\t//clip\n\t\t\tctx.clip();\n\n\t\t\t//\n\t\t\tconst pos = calcStartPosition(ctx, rect, this._width, this._height, {\n\t\t\t\toffset,\n\t\t\t\tpadding\n\t\t\t});\n\t\t\tctx.translate(pos.x, pos.y);\n\t\t\tctx.fill(this._path);\n\t\t} finally {\n\t\t\tctx.restore();\n\t\t}\n\t}\n}\n\nmodule.exports = InlinePath2D;\n\n/***/ }),\n/* 100 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst PathCommandsParser = __webpack_require__(101);\nconst parser = new PathCommandsParser();\n\nclass Path2D {\n\tconstructor(arg) {\n\t\tthis._ops = [];\n\t\t['closePath', 'moveTo', 'lineTo', 'bezierCurveTo', 'quadraticCurveTo', 'arc', 'rect'].forEach(name => {\n\t\t\tthis[name] = (...args) => {\n\t\t\t\tthis._ops.push({ op: name, args });\n\t\t\t};\n\t\t});\n\t\tif (arg === undefined) {\n\t\t\treturn;\n\t\t}\n\t\tif (typeof arg === 'string') {\n\t\t\ttry {\n\t\t\t\tthis._ops = parser.parse(arg);\n\t\t\t} catch (e) {\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t} else if (arg.hasOwnProperty('_ops')) {\n\t\t\tthis._ops = [...this._ops];\n\t\t} else {\n\t\t\tthrow new Error(`Error: ${typeof arg} is not a valid argument to Path`);\n\t\t}\n\t}\n}\n\nconst CanvasRenderingContext2D = window.CanvasRenderingContext2D;\n\nconst originalFill = CanvasRenderingContext2D.prototype.fill;\n\nCanvasRenderingContext2D.prototype.fill = function (...args) {\n\tif (args[0] instanceof Path2D) {\n\t\tconst path = args[0];\n\t\tthis.beginPath();\n\t\tpath._ops.forEach(op => {\n\t\t\tthis[op.op](...op.args);\n\t\t});\n\t\toriginalFill.apply(this, Array.prototype.slice.call(args, 1));\n\t} else {\n\t\toriginalFill.apply(this, args);\n\t}\n};\n\nmodule.exports = Path2D;\n\n/***/ }),\n/* 101 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst PathCommands = __webpack_require__(102);\n\nfunction pathTokens(d) {\n\tlet idx = 0;\n\treturn {\n\t\tnext() {\n\t\t\tlet s = '';\n\t\t\twhile (d.length > idx) {\n\t\t\t\tconst c = d[idx];\n\t\t\t\tidx++;\n\t\t\t\tif (' ,\\n\\r\\t'.indexOf(c) > -1) {\n\t\t\t\t\tif (s) {\n\t\t\t\t\t\treturn s;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst type = '.+-1234567890'.indexOf(c) > -1 ? 'num' : 'str';\n\t\t\t\t\tif (type === 'str') {\n\t\t\t\t\t\tif (s) {\n\t\t\t\t\t\t\tidx--;\n\t\t\t\t\t\t\treturn s;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn c;\n\t\t\t\t\t}\n\t\t\t\t\tif ('-+'.indexOf(c) > -1) {\n\t\t\t\t\t\tif (s) {\n\t\t\t\t\t\t\tidx--;\n\t\t\t\t\t\t\treturn s;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (c === '.') {\n\t\t\t\t\t\tif (s.indexOf('.') > -1) {\n\t\t\t\t\t\t\tidx--;\n\t\t\t\t\t\t\treturn s;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\ts += c;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn s || null;\n\t\t}\n\t};\n}\n\nfunction command(builder, cmd, argsProvider) {\n\tif (cmd.toUpperCase() === 'M' || cmd.toUpperCase() === 'L' || cmd.toUpperCase() === 'T') {\n\t\tbuilder.command(cmd, argsProvider.next(), argsProvider.next());\n\t\treturn cmd === 'M' ? 'L' : cmd === 'm' ? 'l' : cmd;\n\t} else if (cmd.toUpperCase() === 'H' || cmd.toUpperCase() === 'V') {\n\t\tbuilder.command(cmd, argsProvider.next());\n\t\treturn cmd;\n\t} else if (cmd.toUpperCase() === 'Z') {\n\t\tbuilder.command(cmd);\n\t\treturn cmd;\n\t} else if (cmd.toUpperCase() === 'C') {\n\t\tbuilder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\n\t\treturn cmd;\n\t} else if (cmd.toUpperCase() === 'S' || cmd.toUpperCase() === 'Q') {\n\t\tbuilder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\n\t\treturn cmd;\n\t} else if (cmd.toUpperCase() === 'A') {\n\t\tbuilder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\n\t\treturn cmd;\n\t} else {\n\t\t// https://developer.mozilla.org/ja/docs/Web/SVG/Tutorial/Paths\n\t\tconsole.warn('unsupported:' + cmd);\n\t}\n\treturn null;\n}\n\nconst canvasOperations = window.CanvasRenderingContext2D ? Object.keys(window.CanvasRenderingContext2D.prototype) : ['save', 'restore', 'beginPath', 'closePath', 'moveTo', 'lineTo', 'bezierCurveTo', 'quadraticCurveTo', 'arc', 'arcTo', 'ellipse', 'rect', 'translate', 'rotate', 'scale'];\n\nclass PathCommandsParser {\n\tconstructor() {\n\t\tthis._commands = new PathCommands(this);\n\t\tcanvasOperations.forEach(op => {\n\t\t\tthis[op] = (...args) => {\n\t\t\t\tthis._ops.push({\n\t\t\t\t\top,\n\t\t\t\t\targs\n\t\t\t\t});\n\t\t\t};\n\t\t});\n\t}\n\tcommand(name, ...args) {\n\t\targs = args || [];\n\t\tfor (let i = 0; i < args.length; i++) {\n\t\t\targs[i] = args[i] - 0;\n\t\t}\n\t\tthis._commands[name](...args);\n\t}\n\tparse(d) {\n\t\tconst ops = this._ops = [];\n\t\tconst tokens = pathTokens(d);\n\t\ttry {\n\t\t\tlet cmd;\n\t\t\tlet subsequentCommand;\n\t\t\twhile (cmd = tokens.next()) {\n\t\t\t\tif (!isNaN(cmd - 0)) {\n\t\t\t\t\tlet fst = true;\n\t\t\t\t\tconst argsProvider = {\n\t\t\t\t\t\tnext() {\n\t\t\t\t\t\t\tif (fst) {\n\t\t\t\t\t\t\t\tfst = false;\n\t\t\t\t\t\t\t\treturn cmd;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn tokens.next();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tsubsequentCommand = command(this, subsequentCommand, argsProvider);\n\t\t\t\t} else {\n\t\t\t\t\tsubsequentCommand = command(this, cmd, tokens);\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.log('Error: ' + d);\n\t\t\tthrow e;\n\t\t}\n\t\treturn ops;\n\t}\n}\n\nmodule.exports = PathCommandsParser;\n\n/***/ }),\n/* 102 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction mag(v) {\n\treturn Math.sqrt(Math.pow(v[0], 2) + Math.pow(v[1], 2));\n}\n\nfunction dot(u, v) {\n\treturn u[0] * v[0] + u[1] * v[1];\n}\n\nfunction ratio(u, v) {\n\treturn dot(u, v) / (mag(u) * mag(v));\n}\n\nfunction clamp(value, min, max) {\n\treturn Math.min(Math.max(value, min), max);\n}\n\nfunction angle(u, v) {\n\tlet sign = 1.0;\n\tif (u[0] * v[1] - u[1] * v[0] < 0) {\n\t\tsign = -1.0;\n\t}\n\treturn sign * Math.acos(clamp(ratio(u, v)), -1, 1);\n}\n\nfunction rotClockwise(v, angle) {\n\tconst cost = Math.cos(angle);\n\tconst sint = Math.sin(angle);\n\treturn [cost * v[0] + sint * v[1], -1 * sint * v[0] + cost * v[1]];\n}\n\nfunction rotCounterClockwise(v, angle) {\n\tconst cost = Math.cos(angle);\n\tconst sint = Math.sin(angle);\n\treturn [cost * v[0] - sint * v[1], sint * v[0] + cost * v[1]];\n}\n\nfunction midPoint(u, v) {\n\treturn [(u[0] - v[0]) / 2.0, (u[1] - v[1]) / 2.0];\n}\n\nfunction meanVec(u, v) {\n\treturn [(u[0] + v[0]) / 2.0, (u[1] + v[1]) / 2.0];\n}\n\nfunction pointMul(u, v) {\n\treturn [u[0] * v[0], u[1] * v[1]];\n}\n\nfunction scale(c, v) {\n\treturn [c * v[0], c * v[1]];\n}\n\nfunction sum(u, v) {\n\treturn [u[0] + v[0], u[1] + v[1]];\n}\n// Convert an SVG elliptical arc to a series of canvas commands.\n//\n// x1, y1, x2, y2: start and stop coordinates of the ellipse.\n// rx, ry: radii of the ellipse.\n// phi: rotation of the ellipse.\n// fA: large arc flag.\n// fS: sweep flag.\nfunction ellipseFromEllipticalArc(ctx, x1, y1, rx, ry, phi, fA, fS, x2, y2) {\n\t// Convert from endpoint to center parametrization, as detailed in:\n\t//   http://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\n\tif (rx === 0 || ry === 0) {\n\t\tctx.lineTo(x2, x1);\n\t\treturn;\n\t}\n\tphi = phi * (Math.PI / 180.0);\n\trx = Math.abs(rx);\n\try = Math.abs(ry);\n\tconst xPrime = rotClockwise(midPoint(x1, x2), phi); // F.6.5.1\n\tconst xPrime2 = pointMul(xPrime, xPrime);\n\tlet rx2 = Math.pow(rx, 2);\n\tlet ry2 = Math.pow(ry, 2);\n\n\tconst lambda = Math.sqrt(xPrime2[0] / rx2 + xPrime2[1] / ry2);\n\tif (lambda > 1) {\n\t\trx *= lambda;\n\t\try *= lambda;\n\t\trx2 = Math.pow(rx, 2);\n\t\try2 = Math.pow(ry, 2);\n\t}\n\tlet factor = Math.sqrt(Math.abs(rx2 * ry2 - rx2 * xPrime2[1] - ry2 * xPrime2[0]) / (rx2 * xPrime2[1] + ry2 * xPrime2[0]));\n\tif (fA === fS) {\n\t\tfactor *= -1.0;\n\t}\n\tconst cPrime = scale(factor, [rx * xPrime[1] / ry, -ry * xPrime[0] / rx]); // F.6.5.2\n\tconst c = sum(rotCounterClockwise(cPrime, phi), meanVec(x1, x2)); // F.6.5.3\n\tconst x1UnitVector = [(xPrime[0] - cPrime[0]) / rx, (xPrime[1] - cPrime[1]) / ry];\n\tconst x2UnitVector = [(-1.0 * xPrime[0] - cPrime[0]) / rx, (-1.0 * xPrime[1] - cPrime[1]) / ry];\n\tconst theta = angle([1, 0], x1UnitVector); // F.6.5.5\n\tconst deltaTheta = angle(x1UnitVector, x2UnitVector); // F.6.5.6\n\tconst start = theta;\n\tconst end = theta + deltaTheta;\n\tctx.save();\n\tctx.translate(c[0], c[1]);\n\tctx.rotate(phi);\n\tctx.scale(rx, ry);\n\tctx.arc(0, 0, 1, start, end, 1 - fS);\n\tctx.restore();\n}\n\nclass PathCommands {\n\tconstructor(ctx) {\n\t\tlet lMx;\n\t\tlet lMy;\n\t\tlet lx = 0;\n\t\tlet ly = 0;\n\t\tlet reflected;\n\t\tlet lastCommand = '';\n\t\tfunction makeReflected() {\n\t\t\tif ('CcSsQqTt'.indexOf(lastCommand) < 0) {\n\t\t\t\treturn { x: lx, y: ly };\n\t\t\t}\n\t\t\treturn reflected;\n\t\t}\n\n\t\tthis.M = (px, py) => {\n\t\t\tctx.moveTo(px, py);\n\t\t\tlMx = px;\n\t\t\tlMy = py;\n\t\t\tlx = px;\n\t\t\tly = py;\n\t\t\tlastCommand = 'M';\n\t\t\treturn this;\n\t\t};\n\t\tthis.m = (px, py) => this.M(px + lx, py + ly);\n\t\tthis.L = (px, py) => {\n\t\t\tctx.lineTo(px, py);\n\t\t\tlx = px;\n\t\t\tly = py;\n\t\t\tlastCommand = 'L';\n\t\t\treturn this;\n\t\t};\n\t\tthis.l = (px, py) => this.L(px + lx, py + ly);\n\t\tthis.H = px => this.L(px, ly);\n\t\tthis.h = px => this.H(px + lx);\n\t\tthis.V = py => this.L(lx, py);\n\t\tthis.v = py => this.V(py + ly);\n\t\tthis.Z = () => {\n\t\t\tctx.closePath();\n\t\t\tlx = lMx;\n\t\t\tly = lMy;\n\t\t\tlastCommand = 'Z';\n\t\t\treturn this;\n\t\t};\n\t\tthis.z = () => this.Z();\n\t\t//C x1 y1, x2 y2, x y (or c dx1 dy1, dx2 dy2, dx dy)\n\t\tthis.C = (cp1x, cp1y, cp2x, cp2y, px, py) => {\n\t\t\tctx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, px, py);\n\t\t\tlx = px;\n\t\t\tly = py;\n\t\t\treflected = {\n\t\t\t\tx: 2 * px - cp2x,\n\t\t\t\ty: 2 * py - cp2y\n\t\t\t};\n\t\t\tlastCommand = 'C';\n\t\t\treturn this;\n\t\t};\n\t\tthis.c = (cp1x, cp1y, cp2x, cp2y, px, py) => this.C(cp1x + lx, cp1y + ly, cp2x + lx, cp2y + ly, px + lx, py + ly);\n\t\t//S x2 y2, x y (or s dx2 dy2, dx dy)\n\t\tthis.S = (cpx, cpy, px, py) => {\n\t\t\tconst { x: cp1x, y: cp1y } = makeReflected(lastCommand);\n\t\t\treturn this.C(cp1x, cp1y, cpx, cpy, px, py);\n\t\t};\n\t\tthis.s = (cpx, cpy, px, py) => this.S(cpx + lx, cpy + ly, px + lx, py + ly);\n\t\t//Q x1 y1, x y (or q dx1 dy1, dx dy)\n\t\tthis.Q = (cpx, cpy, px, py) => {\n\t\t\tctx.quadraticCurveTo(cpx, cpy, px, py);\n\t\t\tlx = px;\n\t\t\tly = py;\n\t\t\treflected = {\n\t\t\t\tx: 2 * px - cpx,\n\t\t\t\ty: 2 * py - cpy\n\t\t\t};\n\t\t\tlastCommand = 'Q';\n\t\t\treturn this;\n\t\t};\n\t\tthis.q = (cpx, cpy, px, py) => this.Q(cpx + lx, cpy + ly, px + lx, py + ly);\n\t\t//T x y (or t dx dy)\n\t\tthis.T = (px, py) => {\n\t\t\tconst { x: cpx, y: cpy } = makeReflected();\n\t\t\treturn this.Q(cpx, cpy, px, py);\n\t\t};\n\t\tthis.t = (px, py) => this.T(px + lx, py + ly);\n\t\t//A rx ry x-axis-rotation large-arc-flag sweep-flag x y\n\t\tthis.A = (rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py) => {\n\t\t\tconst x1 = lx;\n\t\t\tconst y1 = ly;\n\n\t\t\tellipseFromEllipticalArc(ctx, x1, y1, rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py);\n\n\t\t\tlx = px;\n\t\t\tly = py;\n\t\t\tlastCommand = 'A';\n\t\t\treturn this;\n\t\t};\n\t\t//a rx ry x-axis-rotation large-arc-flag sweep-flag dx dy\n\t\tthis.a = (rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py) => this.A(rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px + lx, py + ly);\n\t}\n}\n\nmodule.exports = PathCommands;\n\n/***/ }),\n/* 103 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M8 24l2.83 2.83L22 15.66V40h4V15.66l11.17 11.17L40 24 24 8 8 24z\"/></svg>\n\t@ material-design-icons\\navigation\\svg\\production\\ic_arrow_upward_48px.svg\n\t*/\n\td: 'M8 24l2.83 2.83L22 15.66V40h4V15.66l11.17 11.17L40 24 24 8 8 24z',\n\twidth: 48,\n\theight: 48,\n\t\n};\n\n/***/ }),\n/* 104 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path fill=\"#010101\" d=\"M40 24l-2.82-2.82L26 32.34V8h-4v24.34L10.84 21.16 8 24l16 16 16-16z\"/></svg>\n\t@ material-design-icons\\navigation\\svg\\production\\ic_arrow_downward_48px.svg\n\t*/\n\td: 'M40 24l-2.82-2.82L26 32.34V8h-4v24.34L10.84 21.16 8 24l16 16 16-16z',\n\twidth: 48,\n\theight: 48,\n\t\n};\n\n/***/ }),\n/* 105 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z\"/></svg>\n\t@ material-design-icons\\image\\svg\\production\\ic_edit_48px.svg\n\t*/\n\td: 'M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z',\n\twidth: 48,\n\theight: 48,\n\t\n};\n\n/***/ }),\n/* 106 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z\"/></svg>\n\t@ material-design-icons\\content\\svg\\production\\ic_add_48px.svg\n\t*/\n\td: 'M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z',\n\twidth: 48,\n\theight: 48,\n\t\n};\n\n/***/ }),\n/* 107 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z\"/></svg>\n\t@ material-design-icons\\toggle\\svg\\production\\ic_star_24px.svg\n\t*/\n\td: 'M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z',\n\twidth: 24,\n\theight: 24,\n\t\n};\n\n/***/ }),\n/* 108 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\"/></svg>\n\t@ material-design-icons\\toggle\\svg\\production\\ic_star_border_24px.svg\n\t*/\n\td: 'M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z',\n\twidth: 24,\n\theight: 24,\n\t\n};\n\n/***/ }),\n/* 109 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\"/></svg>\n\t@ material-design-icons\\toggle\\svg\\production\\ic_star_half_24px.svg\n\t*/\n\td: 'M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z',\n\twidth: 24,\n\theight: 24,\n\t\n};\n\n/***/ }),\n/* 110 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst Header = __webpack_require__(111);\n\tconst SortHeader = __webpack_require__(113);\n\n\tconst type = {\n\t\tcreate(headerCell) {\n\t\t\tif (headerCell.sort) {\n\t\t\t\treturn new SortHeader(headerCell);\n\t\t\t}\n\t\t\treturn new Header(headerCell);\n\t\t}\n\t};\n\tmodule.exports = type;\n}\n\n/***/ }),\n/* 111 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst styleContents = __webpack_require__(14);\n\tconst { Style } = styleContents;\n\tconst BaseHeader = __webpack_require__(53);\n\n\tclass Header extends BaseHeader {\n\t\tget StyleClass() {\n\t\t\treturn Style;\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, { drawCellBase }) {\n\t\t\tconst {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tcolor,\n\t\t\t\tfont,\n\t\t\t\tbgColor\n\t\t\t} = style;\n\n\t\t\tif (bgColor) {\n\t\t\t\tdrawCellBase({\n\t\t\t\t\tbgColor\n\t\t\t\t});\n\t\t\t}\n\n\t\t\thelper.text(value, context, {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tcolor,\n\t\t\t\tfont\n\t\t\t});\n\t\t}\n\t\tbindGridEvent(grid) {\n\t\t\treturn [];\n\t\t}\n\t}\n\tmodule.exports = Header;\n}\n\n/***/ }),\n/* 112 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst BaseStyle = __webpack_require__(52);\n\tlet defaultStyle;\n\tclass Style extends BaseStyle {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : defaultStyle = new Style();\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(style);\n\t\t\tthis._color = style.color;\n\t\t}\n\t\tget color() {\n\t\t\treturn this._color;\n\t\t}\n\t\tset color(color) {\n\t\t\tthis._color = color;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tclone() {\n\t\t\treturn new Style(this);\n\t\t}\n\t}\n\tmodule.exports = Style;\n}\n\n/***/ }),\n/* 113 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst styleContents = __webpack_require__(14);\n\tconst { Style } = styleContents;\n\tconst BaseHeader = __webpack_require__(53);\n\tconst { isDef } = __webpack_require__(0);\n\tconst { EVENT_TYPE: {\n\t\t\tCLICK_CELL,\n\t\t\tMOUSEOVER_CELL,\n\t\t\tMOUSEOUT_CELL,\n\t\t\tMOUSEMOVE_CELL\n\t\t} } = __webpack_require__(4);\n\n\tclass SortHeader extends BaseHeader {\n\t\tconstructor(headerCell) {\n\t\t\tsuper(headerCell);\n\t\t\tthis._sort = headerCell.sort;\n\t\t\tthis._range = headerCell.range;\n\t\t}\n\t\tget StyleClass() {\n\t\t\treturn Style;\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, { drawCellBase }) {\n\t\t\tconst {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline = 'middle',\n\t\t\t\tcolor,\n\t\t\t\tbgColor,\n\t\t\t\tfont\n\t\t\t} = style;\n\n\t\t\tif (bgColor) {\n\t\t\t\tdrawCellBase({\n\t\t\t\t\tbgColor\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tconst state = grid.sortState;\n\t\t\tlet order = undefined;\n\t\t\tif (this._range.isCellInRange(state.col, this._range.startRow)) {\n\t\t\t\torder = state.order;\n\t\t\t}\n\n\t\t\tconst ctx = context.getContext();\n\t\t\tconst arrowSize = ctx.measureText('').width * 1.2;\n\n\t\t\thelper.text(value, context, {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tcolor,\n\t\t\t\tfont,\n\t\t\t\ticons: [{\n\t\t\t\t\tname: isDef(order) ? order === 'asc' ? 'arrow_downward' : 'arrow_upward' : null,\n\t\t\t\t\twidth: arrowSize,\n\t\t\t\t\tcolor: 'rgba(0, 0, 0, 0.38)'\n\t\t\t\t}]\n\t\t\t});\n\t\t}\n\t\t_executeSort(newState, grid) {\n\t\t\tif (typeof this._sort === 'function') {\n\t\t\t\tthis._sort(newState.order, newState.col, grid);\n\t\t\t} else {\n\t\t\t\tgrid.dataSource.sort(grid.getField(newState.col), newState.order);\n\t\t\t}\n\t\t}\n\t\tbindGridEvent(grid) {\n\t\t\treturn [grid.listen(CLICK_CELL, e => {\n\t\t\t\tif (!this._range.isCellInRange(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst state = grid.sortState;\n\t\t\t\tlet newState;\n\t\t\t\tif (this._range.isCellInRange(state.col, e.row)) {\n\t\t\t\t\tnewState = {\n\t\t\t\t\t\tcol: this._range.startCol,\n\t\t\t\t\t\torder: state.order === 'asc' ? 'desc' : 'asc'\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tnewState = {\n\t\t\t\t\t\tcol: this._range.startCol,\n\t\t\t\t\t\torder: 'asc'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tgrid.sortState = newState;\n\t\t\t\tthis._executeSort(newState, grid);\n\t\t\t\tgrid.invalidateGridRect(0, 0, grid.colCount - 1, grid.rowCount - 1);\n\t\t\t}),\n\t\t\t// mouse move\n\t\t\tgrid.listen(MOUSEOVER_CELL, e => {\n\t\t\t\tif (!this._range.isCellInRange(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tgrid.getElement().style.cursor = 'pointer';\n\t\t\t}),\n\t\t\t//MOUSEENTER'col-resize'move\n\t\t\tgrid.listen(MOUSEMOVE_CELL, e => {\n\t\t\t\tif (!this._range.isCellInRange(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!grid.getElement().style.cursor) {\n\t\t\t\t\tgrid.getElement().style.cursor = 'pointer';\n\t\t\t\t}\n\t\t\t}), grid.listen(MOUSEOUT_CELL, e => {\n\t\t\t\tif (!this._range.isCellInRange(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tgrid.getElement().style.cursor = '';\n\t\t\t})];\n\t\t}\n\t}\n\tmodule.exports = SortHeader;\n}\n\n/***/ }),\n/* 114 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst themePlugins = __webpack_require__(42);\nconst iconPlugins = __webpack_require__(50);\n\nfunction register(obj, name, value) {\n\tif (value) {\n\t\tconst old = obj[name];\n\t\tobj[name] = value;\n\t\treturn old;\n\t} else {\n\t\treturn obj[name];\n\t}\n}\nfunction registers(obj, values) {\n\tfor (const k in values) {\n\t\tobj[k] = values[k];\n\t}\n}\nmodule.exports = {\n\ttheme(name, theme) {\n\t\treturn register(themePlugins, name, theme);\n\t},\n\ticon(name, icon) {\n\t\treturn register(iconPlugins, name, icon);\n\t},\n\ticons(icons) {\n\t\tregisters(iconPlugins, icons);\n\t}\n};\n\n/***/ })\n/******/ ]);\n});\n}).call(typeof global !== \"undefined\" ? global : window);","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cheetahGrid\"] = factory();\n\telse\n\t\troot[\"cheetahGrid\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 54);\n","'use strict';\r\n{\r\n\tlet arrayFind;\r\n\tlet arrayFindIndex;\r\n\tconst array = {\r\n\t\tget find() {\r\n\t\t\tif (arrayFind) {\r\n\t\t\t\treturn arrayFind;\r\n\t\t\t}\r\n\t\t\tif (Array.prototype.find) {\r\n\t\t\t\tarrayFind = (arr, predicate) => Array.prototype.find.call(arr, predicate);\r\n\t\t\t} else {\r\n\t\t\t\tarrayFind = (arr, predicate) => {\r\n\t\t\t\t\tconst index = array.findIndex(arr, predicate);\r\n\t\t\t\t\treturn index >= 0 ? arr[index] : undefined;\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\treturn arrayFind;\r\n\t\t},\r\n\t\tget findIndex() {\r\n\t\t\tif (arrayFindIndex) {\r\n\t\t\t\treturn arrayFindIndex;\r\n\t\t\t}\r\n\t\t\tif (Array.prototype.findIndex) {\r\n\t\t\t\tarrayFindIndex = (arr, predicate) => Array.prototype.findIndex.call(arr, predicate);\r\n\t\t\t} else {\r\n\t\t\t\tarrayFindIndex = (arr, predicate) => {\r\n\t\t\t\t\tconst length = arr.length;\r\n\t\t\t\t\tfor (let i = 0; i < length; i++) {\r\n\t\t\t\t\t\tconst value = arr[i];\r\n\t\t\t\t\t\tif (predicate(value, i, arr)) {\r\n\t\t\t\t\t\t\treturn i;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\treturn arrayFindIndex;\r\n\t\t},\r\n\t};\r\n\t\r\n\tfunction isDef(data) {\r\n\t\treturn data !== null && typeof data !== 'undefined';\r\n\t}\r\n\tconst ua = window.navigator.userAgent.toLowerCase();\r\n\tconst IE = (ua.match(/(msie)/) || ua.match(/trident/));\r\n\tconst Chrome = (ua.indexOf('chrome') > -1) && (ua.indexOf('edge') === -1);\r\n\tconst Firefox = (ua.indexOf('firefox') > -1);\r\n\r\n\tfunction setReadonly(obj, name, value) {\r\n\t\tObject.defineProperty(obj, name, {\r\n\t\t\tenumerable: false,\r\n\t\t\tconfigurable: true,\r\n\t\t\tvalue,\r\n\t\t});\r\n\t}\r\n\r\n\tfunction each(obj, fn) {\r\n\t\tfor (const key in obj) {\r\n\t\t\tfn(obj[key], key, obj);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction isObject(obj) {\r\n\t\treturn obj === Object(obj);\r\n\t}\r\n\r\n\tfunction extend(...args) {\r\n\t\tconst result = {};\r\n\t\targs.forEach((source) => {\r\n\t\t\tfor (const key in source) {\r\n\t\t\t\tObject.defineProperty(result, key, {\r\n\t\t\t\t\tget() {\r\n\t\t\t\t\t\treturn source[key];\r\n\t\t\t\t\t},\r\n\t\t\t\t\tset(val) {\r\n\t\t\t\t\t\tsource[key] = val;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tconfigurable: true,\r\n\t\t\t\t\tenumerable: true,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn result;\r\n\t}\r\n\tfunction isDescendantElement(root, target) {\r\n\t\twhile (target.parentElement) {\r\n\t\t\tconst p = target.parentElement;\r\n\t\t\tif (root === p) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\ttarget = p;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\tfunction applyChainSafe(obj, fn, ...names) {\r\n\t\tlet value = obj;\r\n\t\tfor (let i = 0; i < names.length && isDef(value); i++) {\r\n\t\t\tvalue = fn(value, names[i]);\r\n\t\t}\r\n\t\treturn value;\r\n\t}\r\n\tfunction getChainSafe(obj, ...names) {\r\n\t\treturn applyChainSafe(obj, (val, name) => val[name], ...names);\r\n\t}\r\n\tfunction getOrApply(value, ...args) {\r\n\t\tif (typeof value === 'function') {\r\n\t\t\treturn value(...args);\r\n\t\t} else {\r\n\t\t\treturn value;\r\n\t\t}\r\n\t}\r\n\tfunction endsWith(str, searchString, position) {\r\n\t\tconst subjectString = str.toString();\r\n\t\tif (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {\r\n\t\t\tposition = subjectString.length;\r\n\t\t}\r\n\t\tposition -= searchString.length;\r\n\t\tconst lastIndex = subjectString.lastIndexOf(searchString, position);\r\n\t\treturn lastIndex !== -1 && lastIndex === position;\r\n\t}\r\n\tconst isPromise = (data) => data && typeof data.then === 'function';\r\n\tfunction getMouseButtons(e) {\r\n\t\tif (isDef(e.buttons)) {\r\n\t\t\treturn e.buttons;\r\n\t\t}\r\n\t\t/*for legacy*/\r\n\t\tif (isDef(e.which)) {\r\n\t\t\tif (e.which === 3) { //right?\r\n\t\t\t\treturn 4;\r\n\t\t\t}\r\n\t\t\tif (e.which === 2) { //middle?\r\n\t\t\t\treturn 4;\r\n\t\t\t}\r\n\t\t\treturn e.which;//left or no\r\n\t\t}\r\n\t\t\r\n\t\tif (e.button === 0 || e.button === 1) {\r\n\t\t\treturn 1;//candidate left\r\n\t\t}\r\n\t\tif (e.button === 2) {\r\n\t\t\treturn 2;// right\r\n\t\t}\r\n\t\treturn 0;//no or middle?\r\n\t}\r\n\tfunction getKeyCode(e) {\r\n\t\treturn e.keyCode || e.which;\r\n\t}\r\n\tfunction isTouchEvent(e) {\r\n\t\treturn !!e.changedTouches;\r\n\t}\r\n\tfunction getIgnoreCase(obj, name) {\r\n\t\tif (obj[name]) {\r\n\t\t\treturn obj[name];\r\n\t\t}\r\n\t\tconst l = name.toLowerCase();\r\n\t\tif (obj[l]) {\r\n\t\t\treturn obj[l];\r\n\t\t}\r\n\t\tconst u = name.toLowerCase();\r\n\t\tif (obj[u]) {\r\n\t\t\treturn obj[u];\r\n\t\t}\r\n\t\tfor (const k in obj) {\r\n\t\t\tif (k.toLowerCase() === l) {\r\n\t\t\t\treturn obj[k];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn undefined;\r\n\t}\r\n\tfunction cancel(e) {\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\t}\r\n\r\n\r\n\tfunction toBoxArray(obj) {\r\n\t\tif (!Array.isArray(obj)) {\r\n\t\t\treturn [obj/*top*/, obj/*right*/, obj/*bottom*/, obj/*left*/];\r\n\t\t}\r\n\t\tif (obj.length === 3) {\r\n\t\t\treturn [obj[0]/*top*/, obj[1]/*right*/, obj[2]/*bottom*/, obj[1]/*left*/];\r\n\t\t}\r\n\t\tif (obj.length === 2) {\r\n\t\t\treturn [obj[0]/*top*/, obj[1]/*right*/, obj[0]/*bottom*/, obj[1]/*left*/];\r\n\t\t}\r\n\t\tif (obj.length === 1) {\r\n\t\t\treturn [obj[0]/*top*/, obj[0]/*right*/, obj[0]/*bottom*/, obj[0]/*left*/];\r\n\t\t}\r\n\t\treturn obj;\r\n\t}\r\n\r\n\t// Chrome 33554431\r\n\t// FireFox 17895588\r\n\t// IE 10737433\r\n\tmodule.exports = {\r\n\t\tisDef,\r\n\t\tbrowser: {\r\n\t\t\tIE,\r\n\t\t\tChrome,\r\n\t\t\tFirefox,\r\n\t\t\theightLimit: Chrome ? 33554431\r\n\t\t\t: Firefox ? 17895588\r\n\t\t\t: 10737433 // default IE limit\r\n\t\t},\r\n\t\textend,\r\n\t\tisDescendantElement,\r\n\t\tgetChainSafe,\r\n\t\tapplyChainSafe,\r\n\t\tgetOrApply,\r\n\t\tgetIgnoreCase,\r\n\t\tisPromise,\r\n\t\tarray,\r\n\t\tobj: {\r\n\t\t\tsetReadonly,\r\n\t\t\teach,\r\n\t\t\tisObject,\r\n\t\t},\r\n\t\tstr: {\r\n\t\t\tendsWith\r\n\t\t},\r\n\t\tevent: {\r\n\t\t\tgetMouseButtons,\r\n\t\t\tgetKeyCode,\r\n\t\t\tisTouchEvent,\r\n\t\t\tcancel,\r\n\t\t},\r\n\t\tstyle: {\r\n\t\t\ttoBoxArray,\r\n\t\t},\r\n\t\temptyFn() {},\r\n\t};\r\n}","'use strict';\r\n{\r\n\tconst Symbol = window.Symbol ? window.Symbol : (() => {\r\n\t\tlet nextId = 1;\r\n\t\treturn (name) => {\r\n\t\t\tconst id = nextId++;\r\n\t\t\tif (name) {\r\n\t\t\t\treturn ` $$$ ${name} - ${id} $$$ `;\r\n\t\t\t} else {\r\n\t\t\t\treturn ` $$$ ${id} $$$ `;\r\n\t\t\t}\r\n\t\t};\r\n\t})();\r\n\tconst mem = {};\r\n\r\n\tmodule.exports = {\r\n\t\tget(name) {\r\n\t\t\tif (name) {\r\n\t\t\t\treturn mem[name] ? mem[name] : (mem[name] = Symbol(name));\r\n\t\t\t} else {\r\n\t\t\t\treturn Symbol();\r\n\t\t\t}\r\n\t\t},\r\n\t\tget PROTECTED_SYMBOL() {\r\n\t\t\treturn this.get('protected');\r\n\t\t},\r\n\t\tget CHECK_COLUMN_STATE_ID() {\r\n\t\t\treturn this.get('chkcol.stateID');\r\n\t\t},\r\n\t\tget BUTTON_COLUMN_STATE_ID() {\r\n\t\t\treturn this.get('btncol.stateID');\r\n\t\t},\r\n\t\tget COLUMN_FADEIN_STATE_ID() {\r\n\t\t\treturn this.get('col.fadein_stateID');\r\n\t\t},\r\n\t\tget BRANCH_GRAPH_COLUMN_STATE_ID() {\r\n\t\t\treturn this.get('branch_graph_col.stateID');\r\n\t\t},\r\n\t\tget SMALL_DIALOG_INPUT_EDITOR_STATE_ID() {\r\n\t\t\treturn this.get('small_dialog_input_editor.stateID');\r\n\t\t},\r\n\t\tget INLINE_INPUT_EDITOR_STATE_ID() {\r\n\t\t\treturn this.get('inline_input_editor.stateID');\r\n\t\t},\r\n\t\tget INLINE_MENU_EDITOR_STATE_ID() {\r\n\t\t\treturn this.get('inline_menu_editor.stateID');\r\n\t\t}\r\n\t};\r\n\r\n}","'use strict';\r\n\r\nmodule.exports = {\r\n\t'Array_isArray': window.Array.isArray\r\n};","'use strict';\r\n{\r\n\tconst StdBaseStyle = require('./StdBaseStyle');\r\n\tlet defaultStyle;\r\n\tclass Style extends StdBaseStyle {\r\n\t\tstatic get DEFAULT() {\r\n\t\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new Style());\r\n\t\t}\r\n\t\tconstructor(style = {}) {\r\n\t\t\tsuper(style);\r\n\t\t\tthis._color = style.color;\r\n\t\t\tthis._font = style.font;\r\n\t\t\tthis._padding = style.padding;\r\n\t\t}\r\n\t\tget color() {\r\n\t\t\treturn this._color;\r\n\t\t}\r\n\t\tset color(color) {\r\n\t\t\tthis._color = color;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t\tget font() {\r\n\t\t\treturn this._font;\r\n\t\t}\r\n\t\tset font(font) {\r\n\t\t\tthis._font = font;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t\tget padding() {\r\n\t\t\treturn this._padding;\r\n\t\t}\r\n\t\tset padding(padding) {\r\n\t\t\tthis._padding = padding;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new Style(this);\r\n\t\t}\r\n\t}\r\n\tmodule.exports = Style;\r\n}","'use strict';\r\n{\r\n\tconst {\r\n\t\tisDef,\r\n\t\tbrowser,\r\n\t\tisDescendantElement,\r\n\t\tarray,\r\n\t\tisPromise,\r\n\t\tevent: {\r\n\t\t\tisTouchEvent,\r\n\t\t\tgetMouseButtons,\r\n\t\t\tgetKeyCode,\r\n\t\t\tcancel: cancelEvent,\r\n\t\t}\r\n\t} = require('../internal/utils');\r\n\t\r\n\tconst EventTarget = require('./EventTarget');\r\n\tconst Rect = require('../internal/Rect');\r\n\tconst Scrollable = require('../internal/Scrollable');\r\n\tconst EventHandler = require('../internal/EventHandler');\r\n\tconst NumberMap = require('../internal/NumberMap');\r\n\tconst style = require('../internal/style');\r\n\tconst calc = require('../internal/calc');\r\n\tconst hiDPI = require('../internal/hiDPI');\r\n\t//protected symbol\r\n\tconst {PROTECTED_SYMBOL: _} = require('../internal/symbolManager');\r\n\r\n\tfunction createRootElement() {\r\n\t\tconst element = document.createElement('div');\r\n\t\telement.classList.add('cheetah-grid');\r\n\t\treturn element;\r\n\t}\r\n\r\n\tconst KEY_END = 35;\r\n\tconst KEY_HOME = 36;\r\n\tconst KEY_LEFT = 37;\r\n\tconst KEY_UP = 38;\r\n\tconst KEY_RIGHT = 39;\r\n\tconst KEY_DOWN = 40;\r\n\tconst KEY_ALPHA_C = 67;\r\n\r\n\tconst EVENT_TYPE = {\r\n\t\tCLICK_CELL: 'click_cell',\r\n\t\tDBLCLICK_CELL: 'dblclick_cell',\r\n\t\tDBLTAP_CELL: 'dbltap_cell',\r\n\t\tMOUSEDOWN_CELL: 'mousedown_cell',\r\n\t\tMOUSEUP_CELL: 'mouseup_cell',\r\n\t\tSELECTED_CELL: 'selected_cell',\r\n\t\tKEYDOWN: 'keydown',\r\n\t\tMOUSEMOVE_CELL: 'mousemove_cell',\r\n\t\tMOUSEENTER_CELL: 'mouseenter_cell',\r\n\t\tMOUSELEAVE_CELL: 'mouseleave_cell',\r\n\t\tMOUSEOVER_CELL: 'mouseover_cell',\r\n\t\tMOUSEOUT_CELL: 'mouseout_cell',\r\n\t\tINPUT_CELL: 'input_cell',\r\n\t\tEDITABLEINPUT_CELL: 'editableinput_cell',\r\n\t\tMODIFY_STATUS_EDITABLEINPUT_CELL: 'modify_status_editableinput_cell',\r\n\t\tRESIZE_COLUMN: 'resize_column',\r\n\t\tSCROLL: 'scroll',\r\n\t};\r\n\r\n\t//private methods\r\n\tfunction _vibrate(e) {\r\n\t\tif (navigator.vibrate && isTouchEvent(e)) {\r\n\t\t\tnavigator.vibrate(50);\r\n\t\t}\r\n\t}\r\n\tfunction _getTargetRowAt(grid, absoluteY) {\r\n\t\tconst internal = grid.getTargetRowAtInternal(absoluteY);\r\n\t\tif (isDef(internal)) {\r\n\t\t\treturn internal;\r\n\t\t}\r\n\t\tconst findBefore = (startRow, startBottom) => {\r\n\t\t\tlet bottom = startBottom;\r\n\t\t\tfor (let row = startRow; row >= 0; row--) {\r\n\t\t\t\tconst height = _getRowHeight(grid, row);\r\n\t\t\t\tconst top = bottom - height;\r\n\t\t\t\tif (top <= absoluteY && absoluteY < bottom) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\ttop,\r\n\t\t\t\t\t\trow,\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\tbottom = top;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t};\r\n\t\tconst findAfter = (startRow, startBottom) => {\r\n\t\t\tlet top = startBottom - _getRowHeight(grid, startRow);\r\n\t\t\tconst rowCount = grid[_].rowCount;\r\n\t\t\tfor (let row = startRow; row < rowCount; row++) {\r\n\t\t\t\tconst height = _getRowHeight(grid, row);\r\n\t\t\t\tconst bottom = top + height;\r\n\t\t\t\tif (top <= absoluteY && absoluteY < bottom) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\ttop,\r\n\t\t\t\t\t\trow,\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\ttop = bottom;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t};\r\n\t\tconst candRow = Math.min(Math.ceil(absoluteY / grid[_].defaultRowHeight), grid.rowCount - 1);\r\n\t\tconst bottom = _getRowsHeight(grid, 0, candRow);\r\n\t\tif (absoluteY >= bottom) {\r\n\t\t\treturn findAfter(candRow, bottom);\r\n\t\t} else {\r\n\t\t\treturn findBefore(candRow, bottom);\r\n\t\t}\r\n\t}\r\n\tfunction _getTargetColAt(grid, absoluteX) {\r\n\t\tlet left = 0;\r\n\t\tconst colCount = grid[_].colCount;\r\n\t\tfor (let col = 0; col < colCount; col++) {\r\n\t\t\tconst width = _getColWidth(grid, col);\r\n\t\t\tconst right = left + width;\r\n\t\t\tif (right > absoluteX) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tleft,\r\n\t\t\t\t\tcol,\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tleft = right;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\tfunction _getTargetFrozenRowAt(grid, absoluteY) {\r\n\t\tif (!grid[_].frozenRowCount) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tlet top = grid[_].scroll.top;\r\n\t\tconst rowCount = grid[_].frozenRowCount;\r\n\t\tfor (let row = 0; row < rowCount; row++) {\r\n\t\t\tconst height = _getRowHeight(grid, row);\r\n\t\t\tconst bottom = top + height;\r\n\t\t\tif (bottom > absoluteY) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\ttop,\r\n\t\t\t\t\trow,\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\ttop = bottom;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\tfunction _getTargetFrozenColAt(grid, absoluteX) {\r\n\t\tif (!grid[_].frozenColCount) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tlet left = grid[_].scroll.left;\r\n\t\tconst colCount = grid[_].frozenColCount;\r\n\t\tfor (let col = 0; col < colCount; col++) {\r\n\t\t\tconst width = _getColWidth(grid, col);\r\n\t\t\tconst right = left + width;\r\n\t\t\tif (right > absoluteX) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tleft,\r\n\t\t\t\t\tcol,\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tleft = right;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\tfunction _getFrozenRowsRect(grid) {\r\n\t\tif (!grid[_].frozenRowCount) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tconst top = grid[_].scroll.top;\r\n\t\tlet height = 0;\r\n\t\tconst rowCount = grid[_].frozenRowCount;\r\n\t\tfor (let row = 0; row < rowCount; row++) {\r\n\t\t\theight += _getRowHeight(grid, row);\r\n\t\t}\r\n\t\treturn new Rect(\r\n\t\t\t\tgrid[_].scroll.left,\r\n\t\t\t\ttop,\r\n\t\t\t\tgrid[_].canvas.width,\r\n\t\t\t\theight\r\n\t\t);\r\n\t}\r\n\tfunction _getFrozenColsRect(grid) {\r\n\t\tif (!grid[_].frozenColCount) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tconst left = grid[_].scroll.left;\r\n\t\tlet width = 0;\r\n\t\tconst colCount = grid[_].frozenColCount;\r\n\t\tfor (let col = 0; col < colCount; col++) {\r\n\t\t\twidth += _getColWidth(grid, col);\r\n\t\t}\r\n\t\treturn new Rect(\r\n\t\t\t\tleft,\r\n\t\t\t\tgrid[_].scroll.top,\r\n\t\t\t\twidth,\r\n\t\t\t\tgrid[_].canvas.height\r\n\t\t);\r\n\t}\r\n\tfunction _isCellDrawing(grid, col, row) {\r\n\t\tif (!grid[_].drawCells[row]) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn !!grid[_].drawCells[row][col];\r\n\t}\r\n\tfunction _putCellDrawing(grid, col, row, context) {\r\n\t\tif (!grid[_].drawCells[row]) {\r\n\t\t\tgrid[_].drawCells[row] = {};\r\n\t\t}\r\n\t\tgrid[_].drawCells[row][col] = context;\r\n\t}\r\n\tfunction _removeCellDrawing(grid, col, row) {\r\n\t\tif (!grid[_].drawCells[row]) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tdelete grid[_].drawCells[row][col];\r\n\t\tif (Object.keys(grid[_].drawCells[row]).length === 0) {\r\n\t\t\tdelete grid[_].drawCells[row];\r\n\t\t}\r\n\t}\r\n\tfunction _drawCell(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect,\r\n\t\t\tskipAbsoluteTop, skipAbsoluteLeft) {\r\n\t\tconst rect = new Rect(\r\n\t\t\t\tabsoluteLeft - visibleRect.left,\r\n\t\t\t\tabsoluteTop - visibleRect.top,\r\n\t\t\t\twidth,\r\n\t\t\t\theight\r\n\t\t);\r\n\r\n\t\tconst drawRect = Rect.bounds(\r\n\t\t\t\tMath.max(absoluteLeft, skipAbsoluteLeft) - visibleRect.left,\r\n\t\t\t\tMath.max(absoluteTop, skipAbsoluteTop) - visibleRect.top,\r\n\t\t\t\trect.right,\r\n\t\t\t\trect.bottom\r\n\t\t);\r\n\r\n\t\tif (drawRect.height > 0 && drawRect.width > 0) {\r\n\t\t\tctx.save();\r\n\t\t\tconst dcContext = new DrawCellContext(\r\n\t\t\t\t\tcol, row,\r\n\t\t\t\t\tctx, rect, drawRect,\r\n\t\t\t\t\t_isCellDrawing(grid, col, row),\r\n\t\t\t\t\tgrid[_].selection\r\n\t\t\t);\r\n\t\t\tconst p = grid.onDrawCell(col, row, dcContext);\r\n\t\t\tif (isPromise(p)) {\r\n\t\t\t\t//\r\n\t\t\t\t_putCellDrawing(grid, col, row, dcContext);\r\n\r\n\t\t\t\tconst pCol = col;\r\n\t\t\t\tdcContext._delayMode(grid, () => {\r\n\t\t\t\t\t_removeCellDrawing(grid, pCol, row);\r\n\t\t\t\t});\r\n\t\t\t\tp.then(() => {\r\n\t\t\t\t\tdcContext.terminate();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction _drawRow(grid, ctx, initFrozenCol, initCol,\r\n\t\t\tdrawRight, row, absoluteTop, height, visibleRect, skipAbsoluteTop) {\r\n\t\tconst colCount = grid[_].colCount;\r\n\t\tconst drawOuter = (col, absoluteLeft) => {\r\n\t\t\t//\r\n\t\t\tif (col >= (colCount - 1) && grid[_].canvas.width > (absoluteLeft - visibleRect.left)) {\r\n\t\t\t\tconst outerLeft = absoluteLeft - visibleRect.left;\r\n\t\t\t\tctx.save();\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.fillStyle = grid.underlayBackgroundColor || '#F6F6F6';\r\n\t\t\t\tctx.rect(outerLeft, absoluteTop - visibleRect.top, grid[_].canvas.width - outerLeft, height);\r\n\t\t\t\tctx.fill();\r\n\t\t\t\tctx.restore();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tlet skipAbsoluteLeft = 0;\r\n\t\tif (initFrozenCol) {\r\n\t\t\tlet absoluteLeft = initFrozenCol.left;\r\n\t\t\tconst count = grid[_].frozenColCount;\r\n\t\t\tfor (let col = initFrozenCol.col; col < count; col++) {\r\n\t\t\t\tconst width = _getColWidth(grid, col);\r\n\r\n\t\t\t\t_drawCell(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect,\r\n\t\t\t\t\t\tskipAbsoluteTop, 0);\r\n\t\t\t\t\t\r\n\t\t\t\tabsoluteLeft += width;\r\n\t\t\t\tif (drawRight <= absoluteLeft) { //\r\n\t\t\t\t\tdrawOuter(col, absoluteLeft);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tskipAbsoluteLeft = absoluteLeft;\r\n\t\t}\r\n\r\n\t\tlet absoluteLeft = initCol.left;\r\n\t\tfor (let col = initCol.col; col < colCount; col++) {\r\n\t\t\tconst width = _getColWidth(grid, col);\r\n\t\t\t_drawCell(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect,\r\n\t\t\t\t\tskipAbsoluteTop, skipAbsoluteLeft);\r\n\r\n\t\t\tabsoluteLeft += width;\r\n\t\t\tif (drawRight <= absoluteLeft) { //\r\n\t\t\t\tdrawOuter(col, absoluteLeft);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\tdrawOuter(colCount - 1, absoluteLeft);\r\n\r\n\t}\r\n\tfunction _invalidateRect(grid, drawRect) {\r\n\t\tconst visibleRect = _getVisibleRect(grid);\r\n\t\tconst rowCount = grid[_].rowCount;\r\n\t\tconst ctx = grid._getInitContext();\r\n\r\n\t\tconst initRow = _getTargetRowAt(grid, Math.max(visibleRect.top, drawRect.top)) || {\r\n\t\t\ttop: _getRowsHeight(grid, 0, rowCount - 1),\r\n\t\t\trow: rowCount\r\n\t\t};\r\n\t\tconst initCol = _getTargetColAt(grid, Math.max(visibleRect.left, drawRect.left)) || {\r\n\t\t\tleft: _getColsWidth(grid, 0, grid[_].colCount - 1),\r\n\t\t\tcol: grid[_].colCount\r\n\t\t};\r\n\t\tconst drawBottom = Math.min(visibleRect.bottom, drawRect.bottom);\r\n\t\tconst drawRight = Math.min(visibleRect.right, drawRect.right);\r\n\r\n\t\tconst initFrozenRow = _getTargetFrozenRowAt(grid, Math.max(visibleRect.top, drawRect.top));\r\n\t\tconst initFrozenCol = _getTargetFrozenColAt(grid, Math.max(visibleRect.left, drawRect.left));\r\n\r\n\r\n\t\tconst drawOuter = (row, absoluteTop) => {\r\n\t\t\t//\r\n\t\t\tif (row >= (rowCount - 1) && grid[_].canvas.height > (absoluteTop - visibleRect.top)) {\r\n\t\t\t\tconst outerTop = absoluteTop - visibleRect.top;\r\n\t\t\t\tctx.save();\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.fillStyle = grid.underlayBackgroundColor || '#F6F6F6';\r\n\t\t\t\tctx.rect(0, outerTop, grid[_].canvas.width, grid[_].canvas.height - outerTop);\r\n\t\t\t\tctx.fill();\r\n\t\t\t\tctx.restore();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tlet skipAbsoluteTop = 0;\r\n\t\tif (initFrozenRow) {\r\n\t\t\tlet absoluteTop = initFrozenRow.top;\r\n\t\t\tconst count = grid[_].frozenRowCount;\r\n\t\t\tfor (let row = initFrozenRow.row; row < count; row++) {\r\n\t\t\t\tconst height = _getRowHeight(grid, row);\r\n\t\t\t\t_drawRow(grid,\r\n\t\t\t\t\t\tctx, initFrozenCol, initCol, drawRight,\r\n\t\t\t\t\t\trow, absoluteTop, height, visibleRect, 0\r\n\t\t\t\t);\r\n\t\t\t\tabsoluteTop += height;\r\n\t\t\t\tif (drawBottom <= absoluteTop) { //\r\n\t\t\t\t\tdrawOuter(row, absoluteTop);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tskipAbsoluteTop = absoluteTop;\r\n\t\t}\r\n\r\n\t\tlet absoluteTop = initRow.top;\r\n\t\tfor (let row = initRow.row; row < rowCount; row++) {\r\n\t\t\tconst height = _getRowHeight(grid, row);\r\n\t\t\t\t\r\n\t\t\t//\r\n\t\t\t_drawRow(grid,\r\n\t\t\t\t\tctx, initFrozenCol, initCol, drawRight,\r\n\t\t\t\t\trow, absoluteTop, height, visibleRect, skipAbsoluteTop\r\n\t\t\t);\r\n\r\n\t\t\tabsoluteTop += height;\r\n\t\t\tif (drawBottom <= absoluteTop) { //\r\n\t\t\t\tdrawOuter(row, absoluteTop);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\tdrawOuter(rowCount - 1, absoluteTop);\r\n\r\n\t}\r\n\r\n\tfunction _toPxWidth(grid, width) {\r\n\t\treturn Math.round(calc.toPx(width, grid[_].calcWidthContext));\r\n\t}\r\n\r\n\tfunction _getDefaultColPxWidth(grid) {\r\n\t\treturn _toPxWidth(grid, grid.defaultColWidth);\r\n\t}\r\n\r\n\tfunction _adjustColWidth(grid, col, orgWidth) {\r\n\t\tconst limit = grid[_].colWidthsLimit[col];\r\n\t\tif (!limit) {\r\n\t\t\treturn orgWidth;\r\n\t\t}\r\n\t\t\r\n\t\tif (limit.min) {\r\n\t\t\tconst min = _toPxWidth(grid, limit.min);\r\n\t\t\tif (min > orgWidth) {\r\n\t\t\t\treturn min;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (limit.max) {\r\n\t\t\tconst max = _toPxWidth(grid, limit.max);\r\n\t\t\tif (max < orgWidth) {\r\n\t\t\t\treturn max;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn orgWidth;\r\n\t}\r\n\r\n\tfunction _getColWidth(grid, col) {\r\n\t\tconst width = grid[_].colWidthsMap.get(col);\r\n\t\tif (width) {\r\n\t\t\treturn _adjustColWidth(grid, col, _toPxWidth(grid, width));\r\n\t\t}\r\n\t\treturn _getDefaultColPxWidth(grid);\r\n\t}\r\n\tfunction _setColWidth(grid, col, width) {\r\n\t\tgrid[_].colWidthsMap.put(col, width);\r\n\t}\r\n\tfunction _getColsWidth(grid, startCol, endCol) {\r\n\t\tconst colCount = endCol - startCol + 1;\r\n\t\tlet w = _getDefaultColPxWidth(grid) * colCount;\r\n\t\tgrid[_].colWidthsMap.each(startCol, endCol, (width, col) => {\r\n\t\t\tw += _adjustColWidth(grid, col, _toPxWidth(grid, width)) - _getDefaultColPxWidth(grid);\r\n\t\t});\r\n\t\treturn w;\r\n\t}\r\n\r\n\tfunction _getRowHeight(grid, row) {\r\n\t\tconst internal = grid.getRowHeightInternal(row);\r\n\t\tif (isDef(internal)) {\r\n\t\t\treturn internal;\r\n\t\t}\r\n\t\tconst height = grid[_].rowHeightsMap.get(row);\r\n\t\tif (height) {\r\n\t\t\treturn height;\r\n\t\t}\r\n\t\treturn grid[_].defaultRowHeight;\r\n\t}\r\n\tfunction _setRowHeight(grid, row, height) {\r\n\t\tgrid[_].rowHeightsMap.put(row, height);\r\n\t}\r\n\tfunction _getRowsHeight(grid, startRow, endRow) {\r\n\t\tconst internal = grid.getRowsHeightInternal(startRow, endRow);\r\n\t\tif (isDef(internal)) {\r\n\t\t\treturn internal;\r\n\t\t}\r\n\t\tconst rowCount = endRow - startRow + 1;\r\n\t\tlet h = grid[_].defaultRowHeight * rowCount;\r\n\t\tgrid[_].rowHeightsMap.each(startRow, endRow, (height) => {\r\n\t\t\th += height - grid[_].defaultRowHeight;\r\n\t\t});\r\n\t\treturn h;\r\n\t}\r\n\r\n\tfunction _getScrollWidth(grid) {\r\n\t\tlet w = _getDefaultColPxWidth(grid) * grid[_].colCount;\r\n\t\tgrid[_].colWidthsMap.eachAll((width, col) => {\r\n\t\t\tw += _adjustColWidth(grid, col, _toPxWidth(grid, width)) - _getDefaultColPxWidth(grid);\r\n\t\t});\r\n\t\treturn w;\r\n\t}\r\n\tfunction _getScrollHeight(grid, row) {\r\n\t\tconst internal = grid.getScrollHeightInternal(row);\r\n\t\tif (isDef(internal)) {\r\n\t\t\treturn internal;\r\n\t\t}\r\n\t\tlet h = grid[_].defaultRowHeight * grid[_].rowCount;\r\n\t\tgrid[_].rowHeightsMap.eachAll((height) => {\r\n\t\t\th += height - grid[_].defaultRowHeight;\r\n\t\t});\r\n\t\treturn h;\r\n\t}\r\n\tfunction _onScroll(grid, e) {\r\n\t\tconst lastLeft = grid[_].scroll.left;\r\n\t\tconst lastTop = grid[_].scroll.top;\r\n\t\tconst moveX = grid[_].scrollable.scrollLeft - lastLeft;\r\n\t\tconst moveY = grid[_].scrollable.scrollTop - lastTop;\r\n\r\n\t\t//\r\n\t\tgrid[_].scroll = {\r\n\t\t\tleft: grid[_].scrollable.scrollLeft,\r\n\t\t\ttop: grid[_].scrollable.scrollTop,\r\n\t\t};\r\n\t\tconst visibleRect = _getVisibleRect(grid);\r\n\t\tif ((Math.abs(moveX) >= visibleRect.width) || (Math.abs(moveY) >= visibleRect.height)) {\r\n\t\t\t//\r\n\t\t\t_invalidateRect(grid, visibleRect);\r\n\t\t} else {\r\n\t\t\t//\r\n\t\t\tgrid[_].context.drawImage(grid[_].canvas, -moveX, -moveY);\r\n\r\n\t\t\t\t\r\n\t\t\tif (moveX !== 0) {\r\n\t\t\t\t//\r\n\t\t\t\tconst redrawRect = visibleRect.copy();\r\n\t\t\t\tif (moveX < 0) {\r\n\t\t\t\t\tredrawRect.width = -moveX;\r\n\t\t\t\t\tif (grid[_].frozenColCount > 0) {\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\tconst frozenRect = _getFrozenColsRect(grid);\r\n\t\t\t\t\t\tredrawRect.width += frozenRect.width;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (moveX > 0) {\r\n\t\t\t\t\tredrawRect.left = redrawRect.right - moveX;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//\r\n\t\t\t\t_invalidateRect(grid, redrawRect);\r\n\r\n\t\t\t\tif (moveX > 0) {\r\n\t\t\t\t\tif (grid[_].frozenColCount > 0) {\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t_invalidateRect(grid, _getFrozenColsRect(grid));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (moveY !== 0) {\r\n\t\t\t\t//\r\n\t\t\t\tconst redrawRect = visibleRect.copy();\r\n\t\t\t\tif (moveY < 0) {\r\n\t\t\t\t\tredrawRect.height = -moveY;\r\n\t\t\t\t\tif (grid[_].frozenRowCount > 0) {\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\tconst frozenRect = _getFrozenRowsRect(grid);\r\n\t\t\t\t\t\tredrawRect.height += frozenRect.height;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (moveY > 0) {\r\n\t\t\t\t\tredrawRect.top = redrawRect.bottom - moveY;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//\r\n\t\t\t\t_invalidateRect(grid, redrawRect);\r\n\r\n\t\t\t\tif (moveY > 0) {\r\n\t\t\t\t\tif (grid[_].frozenRowCount > 0) {\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t_invalidateRect(grid, _getFrozenRowsRect(grid));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction _onKeyDownMove(grid, e) {\r\n\t\tconst shiftKey = e.shiftKey;\r\n\t\tconst keyCode = getKeyCode(e);\r\n\t\tconst focusCell = shiftKey ? grid.selection._focus : grid.selection._sel;\r\n\t\tif (keyCode === KEY_LEFT) {\r\n\t\t\tconst col = grid.getMoveLeftColByKeyDownInternal(focusCell);\r\n\t\t\tif (col < 0) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t_moveFocusCell(grid, col, focusCell.row, shiftKey);\r\n\t\t\tcancelEvent(e);\r\n\t\t} else if (keyCode === KEY_UP) {\r\n\t\t\tconst row = grid.getMoveUpRowByKeyDownInternal(focusCell);\r\n\t\t\tif (row < 0) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t_moveFocusCell(grid, focusCell.col, row, shiftKey);\r\n\t\t\tcancelEvent(e);\r\n\t\t} else if (keyCode === KEY_RIGHT) {\r\n\t\t\tconst col = grid.getMoveRightColByKeyDownInternal(focusCell);\r\n\t\t\tif (grid.colCount <= col) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t_moveFocusCell(grid, col, focusCell.row, shiftKey);\r\n\t\t\tcancelEvent(e);\r\n\t\t} else if (keyCode === KEY_DOWN) {\r\n\t\t\tconst row = grid.getMoveDownRowByKeyDownInternal(focusCell);\r\n\t\t\tif (grid.rowCount <= row) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t_moveFocusCell(grid, focusCell.col, row, shiftKey);\r\n\t\t\tcancelEvent(e);\r\n\t\t} else if (keyCode === KEY_HOME) {\r\n\t\t\tconst row = e.ctrlKey ? 0 : focusCell.row;\r\n\t\t\t_moveFocusCell(grid, 0, row, e.shiftKey);\r\n\t\t\tcancelEvent(e);\r\n\t\t} else if (keyCode === KEY_END) {\r\n\t\t\tconst row = e.ctrlKey ? grid.rowCount - 1 : focusCell.row;\r\n\t\t\t_moveFocusCell(grid, grid.colCount - 1, row, shiftKey);\r\n\t\t\tcancelEvent(e);\r\n\t\t}\r\n\t}\r\n\tfunction _moveFocusCell(grid, col, row, shiftKey) {\r\n\t\tconst offset = grid.getOffsetInvalidateCells();\r\n\r\n\t\tfunction extendRange(range) {\r\n\t\t\tif (offset > 0) {\r\n\t\t\t\trange.start.col -= offset;\r\n\t\t\t\trange.start.row -= offset;\r\n\t\t\t\trange.end.col += offset;\r\n\t\t\t\trange.end.row += offset;\r\n\t\t\t}\r\n\t\t\treturn range;\r\n\t\t}\r\n\r\n\t\tconst beforeRange = extendRange(grid.selection.range);\r\n\t\tconst beforeRect = grid.getCellsRect(\r\n\t\t\t\tbeforeRange.start.col, beforeRange.start.row,\r\n\t\t\t\tbeforeRange.end.col, beforeRange.end.row\r\n\t\t);\r\n\r\n\t\tgrid.selection._setFocusCell(col, row, shiftKey);\r\n\t\tgrid.makeVisibleCell(col, row);\r\n\t\tgrid.focusCell(col, row);\r\n\t\t\t\r\n\t\tconst afterRange = extendRange(grid.selection.range);\r\n\t\tconst afterRect = grid.getCellsRect(\r\n\t\t\t\tafterRange.start.col, afterRange.start.row,\r\n\t\t\t\tafterRange.end.col, afterRange.end.row\r\n\t\t);\r\n\r\n\t\tif (afterRect.intersection(beforeRect)) {\r\n\t\t\tconst invalidateRect = Rect.max(afterRect, beforeRect);\r\n\t\t\t_invalidateRect(grid, invalidateRect);\r\n\t\t} else {\r\n\t\t\t_invalidateRect(grid, beforeRect);\r\n\t\t\t_invalidateRect(grid, afterRect);\r\n\t\t}\r\n\t}\r\n\tfunction _getMouseAbstractPoint(grid, e) {\r\n\t\tif (isTouchEvent(e)) {\r\n\t\t\te = e.changedTouches[0];\r\n\t\t}\r\n\t\tconst clientX = e.clientX || (e.pageX + window.scrollX);\r\n\t\tconst clientY = e.clientY || (e.pageY + window.scrollY);\r\n\t\tconst rect = grid[_].canvas.getBoundingClientRect();\r\n\t\tif (rect.right <= clientX) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif (rect.bottom <= clientY) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tconst x = clientX - rect.left + grid[_].scroll.left;\r\n\t\tconst y = clientY - rect.top + grid[_].scroll.top;\r\n\t\treturn {x, y};\r\n\t}\r\n\r\n\tfunction _bindEvents(grid) {\r\n\t\tconst getCellEventArgsSet = (e) => {\r\n\t\t\tconst abstractPos = _getMouseAbstractPoint(grid, e);\r\n\t\t\tif (!abstractPos) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\tconst cell = grid.getCellAt(abstractPos.x, abstractPos.y);\r\n\t\t\tif (cell.col < 0 || cell.row < 0) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tabstractPos,\r\n\t\t\t\t\tcell\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tconst eventArgs = {\r\n\t\t\t\tcol: cell.col,\r\n\t\t\t\trow: cell.row,\r\n\t\t\t\tevent: e,\r\n\t\t\t};\r\n\t\t\treturn {\r\n\t\t\t\tabstractPos,\r\n\t\t\t\tcell,\r\n\t\t\t\teventArgs\r\n\t\t\t};\r\n\t\t};\r\n\t\tconst canResizeColumn = (col) => {\r\n\t\t\tconst limit = grid[_].colWidthsLimit[col];\r\n\t\t\tif (!limit || !limit.min || !limit.max) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn limit.max !== limit.min;\r\n\t\t};\r\n\t\tgrid[_].handler.on(grid[_].element, 'mousedown', (e) => {\r\n\t\t\tconst eventArgsSet = getCellEventArgsSet(e);\r\n\t\t\tconst {abstractPos, eventArgs} = eventArgsSet;\r\n\t\t\tif (!abstractPos) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (eventArgs) {\r\n\t\t\t\tconst results = grid.fireListeners(EVENT_TYPE.MOUSEDOWN_CELL, eventArgs);\r\n\t\t\t\tif (array.findIndex(results, (v) => !v) >= 0) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (getMouseButtons(e) !== 1) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y);\r\n\t\t\tif (resizeCol >= 0 && canResizeColumn(resizeCol)) {\r\n\t\t\t\t//\r\n\t\t\t\tgrid[_].columnResizer.start(resizeCol, e);\r\n\t\t\t} else {\r\n\t\t\t\t//\r\n\t\t\t\tgrid[_].cellSelector.start(e);\r\n\t\t\t}\r\n\t\t});\r\n\t\tlet doubleTapBefore = false;\r\n\t\tlet longTouchId = null;\r\n\t\tgrid[_].handler.on(grid[_].element, 'touchstart', (e) => {\r\n\t\t\r\n\t\t\tif (!doubleTapBefore) {\r\n\t\t\t\tdoubleTapBefore = true;\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tdoubleTapBefore = false;\r\n\t\t\t\t}, 350);\r\n\t\t\t} else {\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tconst {eventArgs} = getCellEventArgsSet(e);\r\n\t\t\t\tif (eventArgs) {\r\n\t\t\t\t\tconst cell = {\r\n\t\t\t\t\t\tcol: eventArgs.col,\r\n\t\t\t\t\t\trow: eventArgs.row,\r\n\t\t\t\t\t};\r\n\t\t\t\t\tgrid.fireListeners(EVENT_TYPE.DBLTAP_CELL, cell);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdoubleTapBefore = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tlongTouchId = setTimeout(() => {\r\n\t\t\t\t//\r\n\t\t\t\tlongTouchId = null;\r\n\t\t\t\tconst abstractPos = _getMouseAbstractPoint(grid, e);\r\n\t\t\t\tif (!abstractPos) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y, 15);\r\n\t\t\t\tif (resizeCol >= 0 && canResizeColumn(resizeCol)) {\r\n\t\t\t\t\t//\r\n\t\t\t\t\tgrid[_].columnResizer.start(resizeCol, e);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//\r\n\t\t\t\t\tgrid[_].cellSelector.start(e);\r\n\t\t\t\t}\r\n\t\t\t}, 500);\r\n\t\t});\r\n\r\n\t\tfunction cancel(e) {\r\n\t\t\tif (longTouchId) {\r\n\t\t\t\tclearTimeout(longTouchId);\r\n\t\t\t\tlongTouchId = null;\r\n\t\t\t}\r\n\t\t}\r\n\t\tgrid[_].handler.on(grid[_].element, 'touchcancel', cancel);\r\n\t\tgrid[_].handler.on(grid[_].element, 'touchmove', cancel);\r\n\t\tgrid[_].handler.on(grid[_].element, 'touchend', (e) => {\r\n\t\t\tif (longTouchId) {\r\n\t\t\t\tclearTimeout(longTouchId);\r\n\t\t\t\tgrid[_].cellSelector.select(e);\r\n\t\t\t\tlongTouchId = null;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tlet isMouseover = false;\r\n\t\tlet mouseEnterCell = null;\r\n\t\tlet mouseOverCell = null;\r\n\t\tfunction onMouseenterCell(cell) {\r\n\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSEENTER_CELL, cell);\r\n\t\t\tmouseEnterCell = cell;\r\n\t\t}\r\n\t\tfunction onMouseleaveCell() {\r\n\t\t\tconst beforeMouseCell = mouseEnterCell;\r\n\t\t\tmouseEnterCell = null;\r\n\t\t\tif (beforeMouseCell) {\r\n\t\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSELEAVE_CELL, {\r\n\t\t\t\t\tcol: beforeMouseCell.col,\r\n\t\t\t\t\trow: beforeMouseCell.row,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\tfunction onMouseoverCell(cell) {\r\n\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSEOVER_CELL, cell);\r\n\t\t\tmouseOverCell = cell;\r\n\t\t}\r\n\t\tfunction onMouseoutCell() {\r\n\t\t\tconst beforeMouseCell = mouseOverCell;\r\n\t\t\tmouseOverCell = null;\r\n\t\t\tif (beforeMouseCell) {\r\n\t\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSEOUT_CELL, {\r\n\t\t\t\t\tcol: beforeMouseCell.col,\r\n\t\t\t\t\trow: beforeMouseCell.row,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst scrollElement = grid[_].scrollable.getElement();\r\n\t\tgrid[_].handler.on(scrollElement, 'mouseover', (e) => {\r\n\t\t\tisMouseover = true;\r\n\t\t});\r\n\t\tgrid[_].handler.on(scrollElement, 'mouseout', (e) => {\r\n\t\t\tisMouseover = false;\r\n\t\t\tonMouseoutCell();\r\n\t\t});\r\n\r\n\t\tgrid[_].handler.on(grid[_].element, 'mouseleave', (e) => {\r\n\t\t\tonMouseleaveCell();\r\n\t\t});\r\n\t\t\t\r\n\t\tgrid[_].handler.on(grid[_].element, 'mousemove', (e) => {\r\n\t\t\tconst eventArgsSet = getCellEventArgsSet(e);\r\n\t\t\tconst {abstractPos, eventArgs} = eventArgsSet;\r\n\t\t\tif (eventArgs) {\r\n\t\t\t\tconst beforeMouseCell = mouseEnterCell;\r\n\t\t\t\tif (beforeMouseCell) {\r\n\t\t\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSEMOVE_CELL, eventArgs);\r\n\t\t\t\t\tif (beforeMouseCell.col !== eventArgs.col || beforeMouseCell.row !== eventArgs.row) {\r\n\t\t\t\t\t\tonMouseoutCell();\r\n\t\t\t\t\t\tonMouseleaveCell();\r\n\t\t\t\t\t\tconst cell = {\r\n\t\t\t\t\t\t\tcol: eventArgs.col,\r\n\t\t\t\t\t\t\trow: eventArgs.row,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tonMouseenterCell(cell);\r\n\t\t\t\t\t\tif (isMouseover) {\r\n\t\t\t\t\t\t\tonMouseoverCell(cell);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (isMouseover && !mouseOverCell) {\r\n\t\t\t\t\t\tonMouseoverCell({\r\n\t\t\t\t\t\t\tcol: eventArgs.col,\r\n\t\t\t\t\t\t\trow: eventArgs.row,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst cell = {\r\n\t\t\t\t\t\tcol: eventArgs.col,\r\n\t\t\t\t\t\trow: eventArgs.row,\r\n\t\t\t\t\t};\r\n\t\t\t\t\tonMouseenterCell(cell);\r\n\t\t\t\t\tif (isMouseover) {\r\n\t\t\t\t\t\tonMouseoverCell(cell);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSEMOVE_CELL, eventArgs);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tonMouseoutCell();\r\n\t\t\t\tonMouseleaveCell();\r\n\t\t\t}\r\n\t\t\tif (grid[_].columnResizer.moving(e) || grid[_].cellSelector.moving(e)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst style = grid[_].element.style;\r\n\t\t\tif (!abstractPos) {\r\n\t\t\t\tif (style.cursor === 'col-resize') {\r\n\t\t\t\t\tstyle.cursor = '';\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y);\r\n\t\t\tif (resizeCol >= 0 && canResizeColumn(resizeCol)) {\r\n\t\t\t\tstyle.cursor = 'col-resize';\r\n\t\t\t} else {\r\n\t\t\t\tif (style.cursor === 'col-resize') {\r\n\t\t\t\t\tstyle.cursor = '';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tgrid[_].handler.on(grid[_].element, 'click', (e) => {\r\n\t\t\tif (grid[_].columnResizer.lastMoving(e) || grid[_].cellSelector.lastMoving(e)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!grid.hasListeners(EVENT_TYPE.CLICK_CELL)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst {eventArgs} = getCellEventArgsSet(e);\r\n\t\t\tif (!eventArgs) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tgrid.fireListeners(EVENT_TYPE.CLICK_CELL, eventArgs);\r\n\t\t});\r\n\t\tgrid[_].handler.on(grid[_].element, 'dblclick', (e) => {\r\n\t\t\tif (!grid.hasListeners(EVENT_TYPE.DBLCLICK_CELL)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst {eventArgs} = getCellEventArgsSet(e);\r\n\t\t\tif (!eventArgs) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tgrid.fireListeners(EVENT_TYPE.DBLCLICK_CELL, eventArgs);\r\n\t\t});\r\n\t\tgrid[_].focusControl.listen('keydown', (keyCode, e) => {\r\n\t\t\tgrid.fireListeners(EVENT_TYPE.KEYDOWN, keyCode, e);\r\n\t\t});\r\n\t\tgrid[_].selection.listen(EVENT_TYPE.SELECTED_CELL, (data) => {\r\n\t\t\tgrid.fireListeners(EVENT_TYPE.SELECTED_CELL, {\r\n\t\t\t\tcol: data.col,\r\n\t\t\t\trow: data.row,\r\n\t\t\t}, data.selected);\r\n\t\t});\r\n\r\n\t\tgrid[_].scrollable.onScroll((e) => {\r\n\t\t\t_onScroll(grid, e);\r\n\t\t\tgrid.fireListeners(EVENT_TYPE.SCROLL, {event: e});\r\n\t\t});\r\n\t\tgrid[_].focusControl.onKeyDownMove((e) => {\r\n\t\t\t_onKeyDownMove(grid, e);\r\n\t\t});\r\n\t\tgrid.listen('copydata', (range) => {\r\n\t\t\tlet copyValue = '';\r\n\t\t\tfor (let row = range.start.row; row <= range.end.row; row++) {\r\n\t\t\t\tfor (let col = range.start.col; col <= range.end.col; col++) {\r\n\t\t\t\t\tconst copyCellValue = grid.getCopyCellValue(col, row);\r\n\t\t\t\t\tif (window.Promise && copyCellValue instanceof window.Promise) {\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconst strCellValue = '' + copyCellValue;\r\n\t\t\t\t\t\tif (strCellValue.match(/^\\[object .*\\]$/)) {\r\n\t\t\t\t\t\t\t//object \r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcopyValue += strCellValue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tif (col < range.end.col) {\r\n\t\t\t\t\t\tcopyValue += '\\t';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcopyValue += '\\n';\r\n\t\t\t}\r\n\t\t\treturn copyValue;\r\n\t\t});\r\n\t\tgrid[_].focusControl.onCopy((e) => array.find(grid.fireListeners('copydata', grid[_].selection.range), isDef));\r\n\t\tgrid[_].focusControl.onInput((value) => {\r\n\t\t\tconst {col, row} = grid[_].selection.select;\r\n\t\t\tgrid.fireListeners(EVENT_TYPE.INPUT_CELL, {col, row, value});\r\n\t\t});\r\n\t\tgrid.bindEventsInternal();\r\n\t}\r\n\r\n\tfunction _getResizeColAt(grid, abstractX, abstractY, offset = 5) {\r\n\t\tif (grid[_].frozenRowCount <= 0) {\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t\tconst frozenRect = _getFrozenRowsRect(grid);\r\n\t\tif (!frozenRect.inPoint(abstractX, abstractY)) {\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t\tconst cell = grid.getCellAt(abstractX, abstractY);\r\n\t\tconst cellRect = grid.getCellRect(cell.col, cell.row);\r\n\t\tif (abstractX < cellRect.left + offset) {\r\n\t\t\treturn cell.col - 1;\r\n\t\t}\r\n\t\tif (cellRect.right - offset < abstractX) {\r\n\t\t\treturn cell.col;\r\n\t\t}\r\n\t\treturn -1;\r\n\t}\r\n\tfunction _getVisibleRect(grid) {\r\n\t\treturn new Rect(\r\n\t\t\t\tgrid[_].scroll.left,\r\n\t\t\t\tgrid[_].scroll.top,\r\n\t\t\t\tgrid[_].canvas.width,\r\n\t\t\t\tgrid[_].canvas.height\r\n\t\t);\r\n\t}\r\n\tfunction _getScrollableVisibleRect(grid) {\r\n\t\tlet frozenColsWidth = 0;\r\n\t\tif (grid[_].frozenColCount > 0) {\r\n\t\t\t//\r\n\t\t\tconst frozenRect = _getFrozenColsRect(grid);\r\n\t\t\tfrozenColsWidth = frozenRect.width;\r\n\t\t}\r\n\t\tlet frozenRowsHeight = 0;\r\n\t\tif (grid[_].frozenRowCount > 0) {\r\n\t\t\t//\r\n\t\t\tconst frozenRect = _getFrozenRowsRect(grid);\r\n\t\t\tfrozenRowsHeight = frozenRect.height;\r\n\t\t}\r\n\t\treturn new Rect(\r\n\t\t\t\tgrid[_].scroll.left + frozenColsWidth,\r\n\t\t\t\tgrid[_].scroll.top + frozenRowsHeight,\r\n\t\t\t\tgrid[_].canvas.width - frozenColsWidth,\r\n\t\t\t\tgrid[_].canvas.height - frozenRowsHeight\r\n\t\t);\r\n\t}\r\n\r\n\tfunction _toRelativeRect(grid, absoluteRect) {\r\n\t\tconst rect = absoluteRect.copy();\r\n\t\tconst visibleRect = _getVisibleRect(grid);\r\n\t\trect.offsetLeft(-visibleRect.left);\r\n\t\trect.offsetTop(-visibleRect.top);\r\n\r\n\t\treturn rect;\r\n\t}\r\n\t//end private methods\r\n\t//\r\n\t//\r\n\t//\r\n\t//\r\n\r\n\t/**\r\n\t * managing mouse down moving\r\n\t * @private\r\n\t */\r\n\tclass BaseMouseDownMover {\r\n\t\tconstructor(grid) {\r\n\t\t\tthis._grid = grid;\r\n\t\t\tthis._handler = new EventHandler();\r\n\t\t\tthis._events = {};\r\n\t\t\tthis._started = false;\r\n\t\t\tthis._moved = false;\r\n\t\t}\r\n\t\tmoving(e) {\r\n\t\t\treturn !!this._started;\r\n\t\t}\r\n\t\tlastMoving(e) {\r\n\t\t\t// mouseupclick\r\n\t\t\tif (this.moving(e)) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tconst last = this._mouseEndPoint;\r\n\t\t\tif (!last) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tconst pt = _getMouseAbstractPoint(this._grid, e);\r\n\t\t\treturn pt.x === last.x && pt.y === last.y;\r\n\t\t}\r\n\t\t_bindMoveAndUp(e) {\r\n\t\t\tif (!isTouchEvent(e)) {\r\n\t\t\t\tthis._events.mousemove = this._handler.on(document.body, 'mousemove', (e) => this._mouseMove(e));\r\n\t\t\t\tthis._events.mouseup = this._handler.on(document.body, 'mouseup', (e) => this._mouseUp(e));\r\n\t\t\t} else {\r\n\t\t\t\tthis._events.touchmove = this._handler.on(document.body, 'touchmove', (e) => this._mouseMove(e), {passive: false});\r\n\t\t\t\tthis._events.touchend = this._handler.on(document.body, 'touchend', (e) => this._mouseUp(e));\r\n\t\t\t\tthis._events.touchcancel = this._handler.on(document.body, 'touchcancel', (e) => this._mouseUp(e));\r\n\t\t\t}\r\n\t\t\tthis._started = true;\r\n\t\t\tthis._moved = false;\r\n\t\t}\r\n\t\t_mouseMove(e) {\r\n\t\t\tif (!isTouchEvent(e)) {\r\n\t\t\t\tif (getMouseButtons(e) !== 1) {\r\n\t\t\t\t\tthis._mouseUp(e);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis._moved = this._moveInternal(e) || this._moved/*calculation on after*/;\r\n\r\n\t\t\tcancelEvent(e);\r\n\t\t}\r\n\t\t_moveInternal(e) {\r\n\t\t\t//protected\r\n\t\t}\r\n\t\t_mouseUp(e) {\r\n\t\t\tthis._handler.off(this._events.mousemove);\r\n\t\t\tthis._handler.off(this._events.touchmove);\r\n\t\t\tthis._handler.off(this._events.mouseup);\r\n\t\t\tthis._handler.off(this._events.touchend);\r\n\t\t\t// this._handler.off(this._events.mouseleave);\r\n\t\t\tthis._handler.off(this._events.touchcancel);\r\n\r\n\t\t\tthis._started = false;\r\n\r\n\t\t\tthis._upInternal(e);\r\n\r\n\t\t\t// mouseupclick\r\n\t\t\tif (this._moved) { //\r\n\t\t\t\tthis._mouseEndPoint = _getMouseAbstractPoint(this._grid, e);\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis._mouseEndPoint = null;\r\n\t\t\t\t}, 10);\r\n\t\t\t}\r\n\t\t}\r\n\t\t_upInternal(e) {\r\n\t\t\t//protected\r\n\t\t}\r\n\t\tdispose() {\r\n\t\t\tthis._handler.dispose();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * managing cell selection operation with mouse\r\n\t * @private\r\n\t */\r\n\tclass CellSelector extends BaseMouseDownMover {\r\n\t\tstart(e) {\r\n\t\t\tconst cell = this._getTargetCell(e);\r\n\t\t\tif (!cell) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t_moveFocusCell(this._grid, cell.col, cell.row, e.shiftKey);\r\n\r\n\t\t\tthis._bindMoveAndUp(e);\r\n\r\n\t\t\tthis._cell = cell;\r\n\r\n\t\t\tcancelEvent(e);\r\n\t\t\t_vibrate(e);\r\n\t\t}\r\n\t\tselect(e) {\r\n\t\t\tconst cell = this._getTargetCell(e);\r\n\t\t\tif (!cell) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t_moveFocusCell(this._grid, cell.col, cell.row, e.shiftKey);\r\n\t\t\tthis._cell = cell;\r\n\t\t}\r\n\t\t_moveInternal(e) {\r\n\t\t\tconst cell = this._getTargetCell(e);\r\n\t\t\tif (!cell || (this._cell.col === cell.col && this._cell.row === cell.row)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t_moveFocusCell(this._grid, cell.col, cell.row, true);\r\n\r\n\t\t\t//make visible\r\n\t\t\tconst makeVisibleCol = (() => {\r\n\t\t\t\tif (cell.col < this._cell.col && 0 < cell.col) {\r\n\t\t\t\t\t// move left\r\n\t\t\t\t\treturn cell.col - 1;\r\n\t\t\t\t} else if (this._cell.col < cell.col && cell.col + 1 < this._grid.colCount) {\r\n\t\t\t\t\t// move right\r\n\t\t\t\t\treturn cell.col + 1;\r\n\t\t\t\t}\r\n\t\t\t\treturn cell.col;\r\n\t\t\t})();\r\n\t\t\tconst makeVisibleRow = (() => {\r\n\t\t\t\tif (cell.row < this._cell.row && 0 < cell.row) {\r\n\t\t\t\t\t// move up\r\n\t\t\t\t\treturn cell.row - 1;\r\n\t\t\t\t} else if (this._cell.row < cell.row && cell.row + 1 < this._grid.rowCount) {\r\n\t\t\t\t\t// move down\r\n\t\t\t\t\treturn cell.row + 1;\r\n\t\t\t\t}\r\n\t\t\t\treturn cell.row;\r\n\t\t\t})();\r\n\t\t\tif (makeVisibleCol !== cell.col || makeVisibleRow !== cell.row) {\r\n\t\t\t\tthis._grid.makeVisibleCell(makeVisibleCol, makeVisibleRow);\r\n\t\t\t}\r\n\t\t\tthis._cell = cell;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t_getTargetCell(e) {\r\n\t\t\tconst abstractPos = _getMouseAbstractPoint(this._grid, e);\r\n\t\t\tif (!abstractPos) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tconst cell = this._grid.getCellAt(abstractPos.x, abstractPos.y);\r\n\t\t\tif (cell.col < 0 || cell.row < 0) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\treturn cell;\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t * managing row width changing operation with mouse\r\n\t * @private\r\n\t */\r\n\tclass ColumnResizer extends BaseMouseDownMover {\r\n\t\tconstructor(grid) {\r\n\t\t\tsuper(grid);\r\n\t\t\tthis._targetCol = -1;\r\n\t\t}\r\n\t\tstart(col, e) {\r\n\t\t\tlet pageX;\r\n\t\t\tif (!isTouchEvent(e)) {\r\n\t\t\t\tpageX = e.pageX;\r\n\t\t\t} else {\r\n\t\t\t\tpageX = e.changedTouches[0].pageX;\r\n\t\t\t}\r\n\r\n\t\t\tthis._x = pageX;\r\n\t\t\tthis._preX = 0;\r\n\r\n\t\t\tthis._bindMoveAndUp(e);\r\n\r\n\t\t\tthis._targetCol = col;\r\n\t\t\tthis._invalidateAbsoluteLeft = _getColsWidth(this._grid, 0, col - 1);\r\n\r\n\t\t\tcancelEvent(e);\r\n\t\t\t_vibrate(e);\r\n\t\t}\r\n\t\t_moveInternal(e) {\r\n\t\t\tconst pageX = isTouchEvent(e) ? e.changedTouches[0].pageX : e.pageX;\r\n\r\n\t\t\tconst x = pageX - this._x;\r\n\t\t\tconst moveX = x - this._preX;\r\n\t\t\tthis._preX = x;\r\n\t\t\tconst pre = this._grid.getColWidth(this._targetCol);\r\n\t\t\tlet afterSize = _adjustColWidth(this._grid, this._targetCol, pre + moveX);\r\n\t\t\tif (afterSize < 10 && moveX < 0) {\r\n\t\t\t\tafterSize = 10;\r\n\t\t\t}\r\n\t\t\t_setColWidth(this._grid, this._targetCol, afterSize);\r\n\r\n\t\t\tconst rect = _getVisibleRect(this._grid);\r\n\t\t\trect.left = this._invalidateAbsoluteLeft;\r\n\t\t\t_invalidateRect(this._grid, rect);\r\n\r\n\t\t\tthis._grid.fireListeners(EVENT_TYPE.RESIZE_COLUMN, {col: this._targetCol});\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t_upInternal(e) {\r\n\t\t\tthis._grid.updateScroll();\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\tfunction setSafeInputValue(input, value) {\r\n\t\tconst type = input.type;\r\n\t\tinput.type = '';\r\n\t\tinput.value = value;\r\n\t\tif (type) {\r\n\t\t\tinput.type = type;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Manage focus\r\n\t * @private\r\n\t */\r\n\tclass FocusControl extends EventTarget {\r\n\t\tconstructor(grid, parentElement, scrollable) {\r\n\t\t\tsuper();\r\n\t\t\tthis._grid = grid;\r\n\t\t\tthis._scrollable = scrollable;\r\n\t\t\tthis._handler = new EventHandler();\r\n\t\t\tthis._input = document.createElement('input');\r\n\t\t\tthis._input.classList.add('grid-focus-control');\r\n\t\t\tthis._input.readOnly = true;\r\n\t\t\tparentElement.appendChild(this._input);\r\n\r\n\t\t\tthis._handler.on(this._input, 'compositionstart', (e) => {\r\n\t\t\t\tthis._input.classList.add('composition');\r\n\t\t\t\tthis._isComposition = true;\r\n\t\t\t\tgrid.focus();\r\n\t\t\t});\r\n\t\t\tthis._handler.on(this._input, 'compositionend', (e) => {\r\n\t\t\t\tthis._isComposition = false;\r\n\t\t\t\tthis._input.classList.remove('composition');\r\n\t\t\t\tif (!this._input.readOnly) {\r\n\t\t\t\t\tthis.fireListeners('input', this._input.value);\r\n\t\t\t\t}\r\n\t\t\t\tsetSafeInputValue(this._input, '');\r\n\t\t\t});\r\n\t\t\tthis._handler.on(this._input, 'keypress', (e) => {\r\n\t\t\t\tif (this._isComposition) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!this._input.readOnly && e.key && e.key.length === 1) {\r\n\t\t\t\t\tif (e.key === 'c' && (e.ctrlKey || e.metaKey)) {\r\n\t\t\t\t\t\t//copy! for Firefox\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.fireListeners('input', e.key);\r\n\t\t\t\t\t\tcancelEvent(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tsetSafeInputValue(this._input, '');\r\n\t\t\t});\r\n\t\t\tthis._handler.on(this._input, 'keydown', (e) => {\r\n\t\t\t\tif (this._isComposition) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst keyCode = getKeyCode(e);\r\n\t\t\t\tthis.fireListeners('keydown', keyCode, e);\r\n\r\n\t\t\t\tif (this._input.value) {\r\n\t\t\t\t\t// for Safari\r\n\t\t\t\t\tthis.fireListeners('input', this._input.value);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsetSafeInputValue(this._input, '');\r\n\t\t\t});\r\n\t\t\tthis._handler.on(document, 'keydown', (e) => {\r\n\t\t\t\tif (!browser.IE) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (e.target !== this._input) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst keyCode = getKeyCode(e);\r\n\t\t\t\tif (keyCode === KEY_ALPHA_C && e.ctrlKey) {\r\n\t\t\t\t\tsetSafeInputValue(this._input, 'dummy');\r\n\t\t\t\t\tthis._input.select();\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tsetSafeInputValue(this._input, '');\r\n\t\t\t\t\t}, 100);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthis._handler.on(document, 'copy', (e) => {\r\n\t\t\t\tif (this._isComposition) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!isDescendantElement(parentElement, e.target)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tsetSafeInputValue(this._input, '');\r\n\t\t\t\tconst data = array.find(this.fireListeners('copy'), isDef);\r\n\t\t\t\tif (isDef(data)) {\r\n\t\t\t\t\tcancelEvent(e);\r\n\t\t\t\t\tif (browser.IE) {\r\n\t\t\t\t\t\twindow.clipboardData.setData('Text', data); // IE\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\te.clipboardData.setData('text/plain', data); // Chrome, Firefox\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tonKeyDownMove(fn) {\r\n\t\t\tthis._handler.on(this._input, 'keydown', (e) => {\r\n\t\t\t\tif (this._isComposition) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst keyCode = getKeyCode(e);\r\n\t\t\t\tif (keyCode === KEY_LEFT ||\r\n\t\t\t\t\tkeyCode === KEY_UP ||\r\n\t\t\t\t\tkeyCode === KEY_RIGHT ||\r\n\t\t\t\t\tkeyCode === KEY_DOWN ||\r\n\t\t\t\t\tkeyCode === KEY_HOME ||\r\n\t\t\t\t\tkeyCode === KEY_END\r\n\t\t\t\t) {\r\n\t\t\t\t\tfn(e);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tonInput(fn) {\r\n\t\t\treturn this.listen('input', fn);\r\n\t\t}\r\n\t\tonCopy(fn) {\r\n\t\t\treturn this.listen('copy', fn);\r\n\t\t}\r\n\t\tfocus() {\r\n\t\t\t// this._input.value = '';\r\n\t\t\tthis._input.focus();\r\n\t\t}\r\n\t\tsetFocusRect(rect) {\r\n\t\t\tconst top = this._scrollable.calcTop(rect.top);\r\n\t\t\tthis._input.style.top = (top - style.getScrollBarSize()).toFixed() + 'px';//position:relative IE position:relative\r\n\t\t\tthis._input.style.left = rect.left.toFixed() + 'px';\r\n\t\t\tthis._input.style.width = rect.width.toFixed() + 'px';\r\n\t\t\tthis._input.style.height = rect.height.toFixed() + 'px';\r\n\t\t}\r\n\t\tset editMode(editMode) {\r\n\t\t\tthis._input.readOnly = !editMode;\r\n\t\t}\r\n\t\tresetInputStatus() {\r\n\t\t\tconst el = this._input;\r\n\t\t\tconst composition = el.classList.contains('composition');\r\n\t\t\t\r\n\t\t\tconst atts = el.attributes;\r\n\t\t\tconst removeNames = [];\r\n\t\t\tfor (let i = 0, n = atts.length; i < n; i++) {\r\n\t\t\t\tconst att = atts[i];\r\n\t\t\t\tif (!this._inputStatus.hasOwnProperty(att.nodeName)) {\r\n\t\t\t\t\tremoveNames.push(att.name);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tremoveNames.forEach((removeName) => {\r\n\t\t\t\tel.removeAttribute(removeName);\r\n\t\t\t});\r\n\t\t\tfor (const name in this._inputStatus) {\r\n\t\t\t\tel.setAttribute(name, this._inputStatus[name]);\r\n\t\t\t}\r\n\t\t\tif (composition) {\r\n\t\t\t\tel.classList.add('composition');\r\n\t\t\t} else {\r\n\t\t\t\tel.classList.remove('composition');\r\n\t\t\t}\r\n\t\t}\r\n\t\tstoreInputStatus() {\r\n\t\t\tconst el = this._input;\r\n\t\t\tthis._inputStatus = {};\r\n\t\t\tconst atts = el.attributes;\r\n\t\t\tfor (let i = 0, n = atts.length; i < n; i++) {\r\n\t\t\t\tconst att = atts[i];\r\n\t\t\t\tthis._inputStatus[att.name] = att.value;\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetDefaultInputStatus() {\r\n\t\t\tthis._input.style.font = this._grid.font || '16px sans-serif';\r\n\t\t}\r\n\t\tget editMode() {\r\n\t\t\treturn !this._input.readOnly;\r\n\t\t}\r\n\t\tget input() {\r\n\t\t\treturn this._input;\r\n\t\t}\r\n\t\tdispose() {\r\n\t\t\tsuper.dispose();\r\n\t\t\tthis._handler.dispose();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Selected area management\r\n\t */\r\n\tclass Selection extends EventTarget {\r\n\t\tconstructor(grid) {\r\n\t\t\tsuper();\r\n\t\t\tthis._grid = grid;\r\n\r\n\t\t\tthis._sel = {col: 0, row: 0};\r\n\t\t\tthis._focus = {col: 0, row: 0};\r\n\t\t\t\r\n\t\t\tthis._start = {col: 0, row: 0};\r\n\t\t\tthis._end = {col: 0, row: 0};\r\n\t\t}\r\n\t\tget range() {\r\n\t\t\tconst startCol = Math.min(this._start.col, this._end.col);\r\n\t\t\tconst startRow = Math.min(this._start.row, this._end.row);\r\n\t\t\tconst endCol = Math.max(this._start.col, this._end.col);\r\n\t\t\tconst endRow = Math.max(this._start.row, this._end.row);\r\n\t\t\treturn {\r\n\t\t\t\tstart: {\r\n\t\t\t\t\tcol: startCol,\r\n\t\t\t\t\trow: startRow,\r\n\t\t\t\t},\r\n\t\t\t\tend: {\r\n\t\t\t\t\tcol: endCol,\r\n\t\t\t\t\trow: endRow,\r\n\t\t\t\t},\r\n\t\t\t\tinCell(col, row) {\r\n\t\t\t\t\treturn startCol <= col && col <= endCol &&\r\n\t\t\t\t\t\tstartRow <= row && row <= endRow;\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t}\r\n\t\tget select() {\r\n\t\t\treturn {\r\n\t\t\t\tcol: this._sel.col,\r\n\t\t\t\trow: this._sel.row\r\n\t\t\t};\r\n\t\t}\r\n\t\tset select(cell = {}) {\r\n\t\t\tthis._wrapFireSelectedEvent(() => {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tcol = 0,\r\n\t\t\t\t\trow = 0\r\n\t\t\t\t} = cell;\r\n\t\t\t\tthis._setSelectCell(col, row);\r\n\t\t\t\tthis._setFocusCell(col, row, true);\r\n\t\t\t});\r\n\t\t}\r\n\t\t_setSelectCell(col, row) {\r\n\t\t\tthis._wrapFireSelectedEvent(() => {\r\n\t\t\t\tthis._sel = {col, row};\r\n\t\t\t\tthis._start = {col, row};\r\n\t\t\t});\r\n\t\t}\r\n\t\t_setFocusCell(col, row, keepSelect) {\r\n\t\t\tthis._wrapFireSelectedEvent(() => {\r\n\t\t\t\tif (!keepSelect) {\r\n\t\t\t\t\tthis._setSelectCell(col, row);\r\n\t\t\t\t}\r\n\t\t\t\tthis._focus = {col, row};\r\n\t\t\t\tthis._end = {col, row};\r\n\t\t\t});\r\n\t\t}\r\n\t\t_wrapFireSelectedEvent(callback) {\r\n\t\t\tif (this._isWraped) {\r\n\t\t\t\tcallback();\r\n\t\t\t} else {\r\n\t\t\t\tthis._isWraped = true;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst before = {\r\n\t\t\t\t\t\tcol: this._sel.col,\r\n\t\t\t\t\t\trow: this._sel.row,\r\n\t\t\t\t\t\tselected: false,\r\n\t\t\t\t\t};\r\n\t\t\t\t\tcallback();\r\n\t\t\t\t\tthis.fireListeners(EVENT_TYPE.SELECTED_CELL, before);\r\n\t\t\t\t\tthis.fireListeners(EVENT_TYPE.SELECTED_CELL, {\r\n\t\t\t\t\t\tcol: this._sel.col,\r\n\t\t\t\t\t\trow: this._sel.row,\r\n\t\t\t\t\t\tselected: true\r\n\t\t\t\t\t});\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tthis._isWraped = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Context of cell drawing\r\n\t */\r\n\tclass DrawCellContext {\r\n\t\t/**\r\n\t\t * @private\r\n\t\t */\r\n\t\tconstructor(col, row, ctx, rect, drawRect, drawing, selection) {\r\n\t\t\tthis._col = col;\r\n\t\t\tthis._row = row;\r\n\t\t\tthis._mode = 0;\r\n\t\t\tthis._ctx = ctx;\r\n\t\t\tthis._rect = rect;\r\n\t\t\tthis._drawRect = drawRect;\r\n\t\t\tthis._drawing = drawing;\r\n\t\t\tthis._selection = selection;\r\n\t\t}\r\n\t\tget drawing() {\r\n\t\t\tif (this._mode === 0) {\r\n\t\t\t\treturn this._drawing;\r\n\t\t\t} else {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\tget row() {\r\n\t\t\treturn this._row;\r\n\t\t}\r\n\t\tget col() {\r\n\t\t\treturn this._col;\r\n\t\t}\r\n\t\t/**\r\n\t\t * select status.\r\n\t\t * @return {object} select status\r\n\t\t */\r\n\t\tgetSelectState() {\r\n\t\t\tconst sel = this._selection.select;\r\n\t\t\treturn {\r\n\t\t\t\tselected: sel.col === this._col && sel.row === this._row,\r\n\t\t\t\tselection: this._selection.range.inCell(this._col, this._row),\r\n\t\t\t};\r\n\t\t}\r\n\t\t/**\r\n\t\t * Canvas context.\r\n\t\t * @return {CanvasRenderingContext2D} Canvas context.\r\n\t\t */\r\n\t\tgetContext() {\r\n\t\t\tif (this._mode === 0) {\r\n\t\t\t\treturn this._ctx;\r\n\t\t\t} else {\r\n\t\t\t\treturn this._grid._getInitContext();\r\n\t\t\t}\r\n\t\t}\r\n\t\t/**\r\n\t\t * Rectangle of cell.\r\n\t\t * @return {Rect} rect Rectangle of cell.\r\n\t\t */\r\n\t\tgetRect() {\r\n\t\t\tif (this._mode === 0) {\r\n\t\t\t\treturn this._rect;\r\n\t\t\t} else {\r\n\t\t\t\tif (this._rect) {\r\n\t\t\t\t\treturn this._rect;\r\n\t\t\t\t}\r\n\t\t\t\treturn this._grid.getCellRelativeRect(this._col, this._row);\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetRect(rect) {\r\n\t\t\tthis._rect = rect;\r\n\t\t}\r\n\t\t/**\r\n\t\t * Rectangle of Drawing range.\r\n\t\t * @return {Rect} Rectangle of Drawing range.\r\n\t\t */\r\n\t\tgetDrawRect() {\r\n\t\t\tif (this._mode === 0) {\r\n\t\t\t\treturn this._drawRect;\r\n\t\t\t} else {\r\n\t\t\t\tconst absoluteRect = this._grid.getCellRect(this._col, this._row);\r\n\t\t\t\treturn this._toRelativeDrawRect(absoluteRect);\r\n\t\t\t}\r\n\t\t}\r\n\t\t/**\r\n\t\t * get Context of current state\r\n\t\t * @return {DrawCellContext} current DrawCellContext.\r\n\t\t */\r\n\t\ttoCurrentContext() {\r\n\t\t\tif (this._mode === 0) {\r\n\t\t\t\treturn this;\r\n\t\t\t} else {\r\n\t\t\t\tconst absoluteRect = this._grid.getCellRect(this._col, this._row);\r\n\t\t\t\tconst rect = _toRelativeRect(this._grid, absoluteRect);\r\n\t\t\t\tconst drawRect = this._toRelativeDrawRect(absoluteRect);\r\n\t\t\t\tconst context = new DrawCellContext(\r\n\t\t\t\t\t\tthis._col, this._row, this.getContext(), rect, drawRect, this.drawing, this._selection\r\n\t\t\t\t);\r\n\t\t\t\t// toCurrentContext  toCurrentContext\r\n\t\t\t\tcontext.toCurrentContext = this.toCurrentContext.bind(this);\r\n\t\t\t\treturn context;\r\n\t\t\t}\r\n\t\t}\r\n\t\t_toRelativeDrawRect(absoluteRect) {\r\n\t\t\tconst visibleRect = _getVisibleRect(this._grid);\r\n\t\t\tlet rect = absoluteRect.copy();\r\n\t\t\tif (!rect.intersection(visibleRect)) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\tconst isFrozenCell = this._grid.isFrozenCell(this._col, this._row);\r\n\t\t\tif (this._grid.frozenColCount >= 0 && (!isFrozenCell || !isFrozenCell.col)) {\r\n\t\t\t\tconst fRect = this._grid.getCellRect(this._grid.frozenColCount - 1, this._row);\r\n\t\t\t\trect = Rect.bounds(\r\n\t\t\t\t\t\tMath.max(rect.left, fRect.right),\r\n\t\t\t\t\t\trect.top,\r\n\t\t\t\t\t\trect.right,\r\n\t\t\t\t\t\trect.bottom\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tif (this._grid.frozenRowCount >= 0 && (!isFrozenCell || !isFrozenCell.row)) {\r\n\t\t\t\tconst fRect = this._grid.getCellRect(this._col, this._grid.frozenRowCount - 1);\r\n\t\t\t\trect = Rect.bounds(\r\n\t\t\t\t\t\trect.left,\r\n\t\t\t\t\t\tMath.max(rect.top, fRect.bottom),\r\n\t\t\t\t\t\trect.right,\r\n\t\t\t\t\t\trect.bottom\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\t\r\n\t\t\tif (!rect.intersection(visibleRect)) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\trect.offsetLeft(-visibleRect.left);\r\n\t\t\trect.offsetTop(-visibleRect.top);\r\n\r\n\t\t\treturn rect;\r\n\t\t}\r\n\t\t_delayMode(grid, onTerminate) {\r\n\t\t\tthis._mode = 1;\r\n\t\t\tthis._ctx = null;\r\n\t\t\tthis._rect = null;\r\n\t\t\tthis._drawRect = null;\r\n\t\t\tthis._grid = grid;\r\n\t\t\tthis._onTerminate = onTerminate;\r\n\t\t}\r\n\t\t/**\r\n\t\t * terminate\r\n\t\t * @return {void}\r\n\t\t */\r\n\t\tterminate() {\r\n\t\t\tif (this._mode !== 0) {\r\n\t\t\t\tthis._onTerminate();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t * DrawGrid\r\n\t * @classdesc cheetahGrid.core.DrawGrid\r\n\t * @extends EventTarget\r\n\t * @memberof cheetahGrid.core\r\n\t */\r\n\tclass DrawGrid extends EventTarget {\r\n\t\tstatic get EVENT_TYPE() {\r\n\t\t\treturn EVENT_TYPE;\r\n\t\t}\r\n\t\t/**\r\n\t\t * constructor\r\n\t\t *\r\n\t\t * <pre>\r\n\t\t * Constructor options\r\n\t\t * -----\r\n\t\t * rowCount: grid row count.default 10\r\n\t\t * colCount: grid col count.default 10\r\n\t\t * frozenColCount: default 0\r\n\t\t * frozenRowCount: default 0\r\n\t\t * defaultRowHeight: default grid row height. default 40\r\n\t\t * defaultColWidth: default grid col width. default 80\r\n\t\t * parentElement: canvas parentElement\r\n\t\t * font: default font\r\n\t\t * underlayBackgroundColor: underlay background color\r\n\t\t * -----\r\n\t\t * </pre>\r\n\t\t *\r\n\t\t * @constructor\r\n\t\t * @param  {Object} options Constructor options\r\n\t\t */\r\n\t\tconstructor(\r\n\t\t\t\t{\r\n\t\t\t\t\trowCount = 10,\r\n\t\t\t\t\tcolCount = 10,\r\n\t\t\t\t\tfrozenColCount = 0,\r\n\t\t\t\t\tfrozenRowCount = 0,\r\n\t\t\t\t\tdefaultRowHeight = 40,\r\n\t\t\t\t\tdefaultColWidth = 80,\r\n\t\t\t\t\tfont,\r\n\t\t\t\t\tunderlayBackgroundColor,\r\n\t\t\t\t\tparentElement,\r\n\t\t\t\t} = {}) {\r\n\t\t\tsuper();\r\n\t\t\tthis[_] = {};\r\n\t\t\tstyle.initDocument();\r\n\t\t\tthis[_].element = createRootElement();\r\n\t\t\tthis[_].scrollable = new Scrollable();\r\n\t\t\tthis[_].handler = new EventHandler();\r\n\t\t\tthis[_].selection = new Selection(this);\r\n\t\t\tthis[_].focusControl = new FocusControl(this, this[_].scrollable.getElement(), this[_].scrollable);\r\n\r\n\t\t\tthis[_].canvas = hiDPI.transform(document.createElement('canvas'));\r\n\t\t\tthis[_].context = this[_].canvas.getContext('2d', {alpha: false});\r\n\r\n\t\t\tthis[_].rowCount = rowCount;\r\n\t\t\tthis[_].colCount = colCount;\r\n\t\t\tthis[_].frozenColCount = frozenColCount;\r\n\t\t\tthis[_].frozenRowCount = frozenRowCount;\r\n\r\n\t\t\tthis[_].defaultRowHeight = defaultRowHeight;\r\n\t\t\tthis[_].defaultColWidth = defaultColWidth;\r\n\r\n\t\t\tthis[_].font = font;\r\n\t\t\tthis[_].underlayBackgroundColor = underlayBackgroundColor;\r\n\r\n\t\t\t/////\r\n\t\t\tthis[_].rowHeightsMap = new NumberMap();\r\n\t\t\tthis[_].colWidthsMap = new NumberMap();\r\n\t\t\tthis[_].colWidthsLimit = {};\r\n\t\t\tthis[_].calcWidthContext = {\r\n\t\t\t\t_: this[_],\r\n\t\t\t\tget full() {\r\n\t\t\t\t\treturn this._.canvas.width;\r\n\t\t\t\t},\r\n\t\t\t\tget em() {\r\n\t\t\t\t\treturn this._.context.measureText('').width;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tthis[_].columnResizer = new ColumnResizer(this);\r\n\t\t\tthis[_].cellSelector = new CellSelector(this);\r\n\r\n\t\t\tthis[_].drawCells = {};\r\n\r\n\t\t\tthis[_].element.appendChild(this[_].canvas);\r\n\t\t\tthis[_].element.appendChild(this[_].scrollable.getElement());\r\n\t\t\tthis.updateScroll();\r\n\t\t\tif (parentElement) {\r\n\t\t\t\tparentElement.appendChild(this[_].element);\r\n\t\t\t\tthis.updateSize();\r\n\t\t\t} else {\r\n\t\t\t\tthis.updateSize();\r\n\t\t\t}\r\n\t\t\t_bindEvents(this);\r\n\t\t}\r\n\t\tgetElement() {\r\n\t\t\treturn this[_].element;\r\n\t\t}\r\n\t\tget canvas() {\r\n\t\t\treturn this[_].canvas;\r\n\t\t}\r\n\t\tfocus() {\r\n\t\t\tconst {col, row} = this[_].selection.select;\r\n\t\t\tthis.focusCell(col, row);\r\n\t\t}\r\n\t\tget selection() {\r\n\t\t\treturn this[_].selection;\r\n\t\t}\r\n\t\tget rowCount() {\r\n\t\t\treturn this[_].rowCount;\r\n\t\t}\r\n\t\tset rowCount(rowCount) {\r\n\t\t\tthis[_].rowCount = rowCount;\r\n\t\t\tthis.updateScroll();\r\n\t\t}\r\n\t\tget colCount() {\r\n\t\t\treturn this[_].colCount;\r\n\t\t}\r\n\t\tset colCount(colCount) {\r\n\t\t\tthis[_].colCount = colCount;\r\n\t\t\tthis.updateScroll();\r\n\t\t}\r\n\t\tget frozenColCount() {\r\n\t\t\treturn this[_].frozenColCount;\r\n\t\t}\r\n\t\tset frozenColCount(frozenColCount) {\r\n\t\t\tthis[_].frozenColCount = frozenColCount;\r\n\t\t}\r\n\t\tget frozenRowCount() {\r\n\t\t\treturn this[_].frozenRowCount;\r\n\t\t}\r\n\t\tset frozenRowCount(frozenRowCount) {\r\n\t\t\tthis[_].frozenRowCount = frozenRowCount;\r\n\t\t}\r\n\t\tget defaultRowHeight() {\r\n\t\t\treturn this[_].rowCount;\r\n\t\t}\r\n\t\tset defaultRowHeight(defaultRowHeight) {\r\n\t\t\tthis[_].defaultRowHeight = defaultRowHeight;\r\n\t\t\tthis.updateScroll();\r\n\t\t}\r\n\t\tget defaultColWidth() {\r\n\t\t\treturn this[_].defaultColWidth;\r\n\t\t}\r\n\t\tset defaultColWidth(defaultColWidth) {\r\n\t\t\tthis[_].defaultColWidth = defaultColWidth;\r\n\t\t\tthis.updateScroll();\r\n\t\t}\r\n\t\tget font() {\r\n\t\t\treturn this[_].font;\r\n\t\t}\r\n\t\tset font(font) {\r\n\t\t\tthis[_].font = font;\r\n\t\t}\r\n\t\tget underlayBackgroundColor() {\r\n\t\t\treturn this[_].underlayBackgroundColor;\r\n\t\t}\r\n\t\tset underlayBackgroundColor(underlayBackgroundColor) {\r\n\t\t\tthis[_].underlayBackgroundColor = underlayBackgroundColor;\r\n\t\t}\r\n\t\tconfigure(name, value) {\r\n\t\t\tconst cfg = this[_].config || (this[_].config = {});\r\n\t\t\tif (isDef(value)) {\r\n\t\t\t\tcfg[name] = value;\r\n\t\t\t}\r\n\t\t\treturn cfg[name];\r\n\t\t}\r\n\t\tupdateSize() {\r\n\t\t\t//\r\n\t\t\tthis[_].canvas.style.width = '';\r\n\t\t\tthis[_].canvas.style.height = '';\r\n\t\t\tconst width = Math.floor(this[_].canvas.offsetWidth ||\r\n\t\t\t\t\t/*for legacy*/this[_].canvas.parentElement.offsetWidth - style.getScrollBarSize());\r\n\t\t\tconst height = Math.floor(this[_].canvas.offsetHeight ||\r\n\t\t\t\t\t/*for legacy*/this[_].canvas.parentElement.offsetHeight - style.getScrollBarSize());\r\n\r\n\t\t\tthis[_].canvas.width = width;\r\n\t\t\tthis[_].canvas.height = height;\r\n\r\n\t\t\t//style\r\n\t\t\tthis[_].canvas.style.width = `${width}px`;\r\n\t\t\tthis[_].canvas.style.height = `${height}px`;\r\n\r\n\t\t\tconst sel = this[_].selection.select;\r\n\t\t\tthis[_].focusControl.setFocusRect(this.getCellRect(sel.col, sel.row));\r\n\t\t}\r\n\t\tupdateScroll() {\r\n\t\t\tthis[_].scrollable.setScrollSize(_getScrollWidth(this), _getScrollHeight(this));\r\n\t\t\tthis[_].scroll = {\r\n\t\t\t\tleft: this[_].scrollable.scrollLeft,\r\n\t\t\t\ttop: this[_].scrollable.scrollTop,\r\n\t\t\t};\r\n\t\t}\r\n\t\tgetRowHeight(row) {\r\n\t\t\treturn _getRowHeight(this, row);\r\n\t\t}\r\n\t\tsetRowHeight(row, height) {\r\n\t\t\t_setRowHeight(this, row, height);\r\n\t\t\tthis.updateScroll();\r\n\t\t}\r\n\t\tgetColWidth(col) {\r\n\t\t\treturn _getColWidth(this, col);\r\n\t\t}\r\n\t\tsetColWidth(col, width) {\r\n\t\t\t_setColWidth(this, col, width);\r\n\t\t\tthis.updateScroll();\r\n\t\t}\r\n\t\tgetMaxColWidth(col) {\r\n\t\t\tconst obj = this[_].colWidthsLimit[col];\r\n\t\t\treturn obj && obj.max || undefined;\r\n\t\t}\r\n\t\tsetMaxColWidth(col, maxwidth) {\r\n\t\t\tconst obj = this[_].colWidthsLimit[col] || (this[_].colWidthsLimit[col] = {});\r\n\t\t\tobj.max = maxwidth;\r\n\t\t}\r\n\t\tgetMinColWidth(col) {\r\n\t\t\tconst obj = this[_].colWidthsLimit[col];\r\n\t\t\treturn obj && obj.min || undefined;\r\n\t\t}\r\n\t\tsetMinColWidth(col, minwidth) {\r\n\t\t\tconst obj = this[_].colWidthsLimit[col] || (this[_].colWidthsLimit[col] = {});\r\n\t\t\tobj.min = minwidth;\r\n\t\t}\r\n\t\tgetCellRect(col, row) {\r\n\t\t\tconst isFrozenCell = this.isFrozenCell(col, row);\r\n\r\n\t\t\tlet absoluteLeft = _getColsWidth(this, 0, col - 1);\r\n\t\t\tconst width = _getColWidth(this, col);\r\n\t\t\tif (isFrozenCell && isFrozenCell.col) {\r\n\t\t\t\tabsoluteLeft += this[_].scroll.left;\r\n\t\t\t}\r\n\r\n\t\t\tlet absoluteTop = _getRowsHeight(this, 0, row - 1);\r\n\t\t\tconst height = _getRowHeight(this, row);\r\n\t\t\tif (isFrozenCell && isFrozenCell.row) {\r\n\t\t\t\tabsoluteTop += this[_].scroll.top;\r\n\t\t\t}\r\n\t\t\treturn new Rect(\r\n\t\t\t\t\tabsoluteLeft,\r\n\t\t\t\t\tabsoluteTop,\r\n\t\t\t\t\twidth,\r\n\t\t\t\t\theight\r\n\t\t\t);\r\n\t\t}\r\n\t\tgetCellRelativeRect(col, row) {\r\n\t\t\treturn _toRelativeRect(this, this.getCellRect(col, row));\r\n\t\t}\r\n\t\tgetCellsRect(startCol, startRow, endCol, endRow) {\r\n\t\t\tconst isFrozenStartCell = this.isFrozenCell(startCol, startRow);\r\n\t\t\tconst isFrozenEndCell = this.isFrozenCell(endCol, endRow);\r\n\r\n\t\t\tlet absoluteLeft = _getColsWidth(this, 0, startCol - 1);\r\n\t\t\tlet width = _getColsWidth(this, startCol, endCol);\r\n\t\t\tif (isFrozenStartCell && isFrozenStartCell.col) {\r\n\t\t\t\tconst scrollLeft = this[_].scroll.left;\r\n\t\t\t\tabsoluteLeft += scrollLeft;\r\n\t\t\t\tif (!isFrozenEndCell || !isFrozenEndCell.col) {\r\n\t\t\t\t\twidth -= scrollLeft;\r\n\t\t\t\t\twidth = Math.max(width, _getColsWidth(this, startCol, this.frozenColCount - 1));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlet absoluteTop = _getRowsHeight(this, 0, startRow - 1);\r\n\t\t\tlet height = _getRowsHeight(this, startRow, endRow);\r\n\t\t\tif (isFrozenStartCell && isFrozenStartCell.row) {\r\n\t\t\t\tconst scrollTop = this[_].scroll.top;\r\n\t\t\t\tabsoluteTop += scrollTop;\r\n\t\t\t\tif (!isFrozenEndCell || !isFrozenEndCell.row) {\r\n\t\t\t\t\theight -= scrollTop;\r\n\t\t\t\t\theight = Math.max(height, _getColsWidth(this, startRow, this.frozenRowCount - 1));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn new Rect(\r\n\t\t\t\t\tabsoluteLeft,\r\n\t\t\t\t\tabsoluteTop,\r\n\t\t\t\t\twidth,\r\n\t\t\t\t\theight\r\n\t\t\t);\r\n\t\t}\r\n\t\tisFrozenCell(col, row) {\r\n\t\t\tconst isFrozenRow = this[_].frozenRowCount > 0 && row < this[_].frozenRowCount;\r\n\t\t\tconst isFrozenCol = this[_].frozenColCount > 0 && col < this[_].frozenColCount;\r\n\t\t\tif (isFrozenRow || isFrozenCol) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\trow: isFrozenRow,\r\n\t\t\t\t\tcol: isFrozenCol,\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\t\tgetRowAt(absoluteY) {\r\n\t\t\tconst frozen = _getTargetFrozenRowAt(this, absoluteY);\r\n\t\t\tif (frozen) {\r\n\t\t\t\treturn frozen.row;\r\n\t\t\t}\r\n\t\t\tconst row = _getTargetRowAt(this, absoluteY);\r\n\t\t\treturn row ? row.row : -1;\r\n\r\n\t\t}\r\n\t\tgetColAt(absoluteX) {\r\n\t\t\tconst frozen = _getTargetFrozenColAt(this, absoluteX);\r\n\t\t\tif (frozen) {\r\n\t\t\t\treturn frozen.col;\r\n\t\t\t}\r\n\t\t\tconst col = _getTargetColAt(this, absoluteX);\r\n\t\t\treturn col ? col.col : -1;\r\n\t\t}\r\n\t\tgetCellAt(absoluteX, absoluteY) {\r\n\t\t\treturn {\r\n\t\t\t\trow: this.getRowAt(absoluteY),\r\n\t\t\t\tcol: this.getColAt(absoluteX),\r\n\t\t\t};\r\n\t\t}\r\n\t\tmakeVisibleCell(col, row) {\r\n\t\t\tconst isFrozenCell = this.isFrozenCell(col, row);\r\n\t\t\tif (isFrozenCell && isFrozenCell.col && isFrozenCell.row) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst rect = this.getCellRect(col, row);\r\n\t\t\tconst visibleRect = _getScrollableVisibleRect(this);\r\n\t\t\tif (visibleRect.contains(rect)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!isFrozenCell || !isFrozenCell.col) {\r\n\t\t\t\tif (rect.left < visibleRect.left) {\r\n\t\t\t\t\tthis[_].scrollable.scrollLeft -= visibleRect.left - rect.left;\r\n\t\t\t\t} else if (visibleRect.right < rect.right) {\r\n\t\t\t\t\tthis[_].scrollable.scrollLeft -= visibleRect.right - rect.right;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!isFrozenCell || !isFrozenCell.row) {\r\n\t\t\t\tif (rect.top < visibleRect.top) {\r\n\t\t\t\t\tthis[_].scrollable.scrollTop -= visibleRect.top - rect.top;\r\n\t\t\t\t} else if (visibleRect.bottom < rect.bottom) {\r\n\t\t\t\t\tthis[_].scrollable.scrollTop -= visibleRect.bottom - rect.bottom;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tfocusCell(col, row) {\r\n\t\t\tconst oldEditMode = this[_].focusControl.editMode;\r\n\t\t\tif (oldEditMode) {\r\n\t\t\t\tthis[_].focusControl.resetInputStatus();\r\n\t\t\t}\r\n\r\n\t\t\tthis[_].focusControl.setFocusRect(this.getCellRect(col, row));\r\n\t\t\t\r\n\t\t\tconst {col: selCol, row: selRow} = this[_].selection.select;\r\n\t\t\tconst results = this.fireListeners(\r\n\t\t\t\t\tEVENT_TYPE.EDITABLEINPUT_CELL,\r\n\t\t\t\t\t{col: selCol, row: selRow}\r\n\t\t\t);\r\n\t\t\t\r\n\t\t\tconst editMode = (array.findIndex(results, (v) => !!v) >= 0);\r\n\t\t\tthis[_].focusControl.editMode = editMode;\r\n\t\t\t\r\n\t\t\tif (editMode) {\r\n\t\t\t\tthis[_].focusControl.storeInputStatus();\r\n\t\t\t\tthis[_].focusControl.setDefaultInputStatus();\r\n\t\t\t\tthis.fireListeners(\r\n\t\t\t\t\t\tEVENT_TYPE.MODIFY_STATUS_EDITABLEINPUT_CELL,\r\n\t\t\t\t\t\t{col: selCol, row: selRow, input: this[_].focusControl.input}\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\t// Failure occurs in IE if focus is not last\r\n\t\t\tthis[_].focusControl.focus();\r\n\t\t}\r\n\t\tinvalidateCell(col, row) {\r\n\t\t\tthis.invalidateGridRect(col, row);\r\n\t\t}\r\n\t\tinvalidateGridRect(startCol, startRow, endCol = startCol, endRow = startRow) {\r\n\t\t\tconst offset = this.getOffsetInvalidateCells();\r\n\t\t\tif (offset > 0) {\r\n\t\t\t\tstartCol -= offset;\r\n\t\t\t\tstartRow -= offset;\r\n\t\t\t\tendCol += offset;\r\n\t\t\t\tendRow += offset;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tconst visibleRect = _getVisibleRect(this);\r\n\t\t\tconst cellsRect = this.getCellsRect(startCol, startRow, endCol, endRow);\r\n\t\t\tconst invalidateTarget = visibleRect.intersection(cellsRect);\r\n\t\t\tif (invalidateTarget) {\r\n\r\n\t\t\t\tif (this[_].frozenColCount > 0 && endCol >= this[_].frozenColCount) {\r\n\t\t\t\t\tconst frozenRect = _getFrozenColsRect(this);\r\n\t\t\t\t\tif (frozenRect.intersection(invalidateTarget)) {\r\n\t\t\t\t\t\tinvalidateTarget.left = Math.min(frozenRect.right - 1, frozenRect.right);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this[_].frozenRowCount > 0 && endRow >= this[_].frozenRowCount) {\r\n\t\t\t\t\tconst frozenRect = _getFrozenRowsRect(this);\r\n\t\t\t\t\tif (frozenRect.intersection(invalidateTarget)) {\r\n\t\t\t\t\t\tinvalidateTarget.top = Math.min(frozenRect.bottom - 1, invalidateTarget.top);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t_invalidateRect(this, invalidateTarget);\r\n\t\t\t}\r\n\t\t}\r\n\t\tinvalidate() {\r\n\t\t\tconst visibleRect = _getVisibleRect(this);\r\n\t\t\t_invalidateRect(this, visibleRect);\r\n\t\t}\r\n\t\t/**\r\n\t\t * get cell value at copy action\r\n\t\t * <p>\r\n\t\t * Please implement\r\n\t\t * </p>\r\n\t\t *\r\n\t\t * @protected\r\n\t\t * @param  {number} col Column index of cell.\r\n\t\t * @param  {number} row Row index of cell.\r\n\t\t * @return {string}\r\n\t\t */\r\n\t\tgetCopyCellValue(col, row) {\r\n\t\t\t//Please implement get cell value!!\r\n\t\t}\r\n\t\t/**\r\n\t\t * Draw a cell\r\n\t\t * <p>\r\n\t\t * Please implement cell drawing.\r\n\t\t * </p>\r\n\t\t *\r\n\t\t * @protected\r\n\t\t * @param  {number} col Column index of cell.\r\n\t\t * @param  {number} row Row index of cell.\r\n\t\t * @param  {DrawCellContext} context context of cell drawing.\r\n\t\t * @return {void}\r\n\t\t */\r\n\t\tonDrawCell(col, row, context) {\r\n\t\t\t//Please implement cell drawing!!\r\n\t\t}\r\n\t\taddDisposable(disposable) {\r\n\t\t\tif (!disposable || !disposable.dispose || typeof disposable.dispose !== 'function') {\r\n\t\t\t\tthrow new Error('not disposable!');\r\n\t\t\t}\r\n\t\t\tconst disposables = this[_].disposables = this[_].disposables || [];\r\n\t\t\tdisposables.push(disposable);\r\n\t\t}\r\n\t\tdispose() {\r\n\t\t\tsuper.dispose();\r\n\t\t\tthis[_].handler.dispose();\r\n\t\t\tthis[_].scrollable.dispose();\r\n\t\t\tthis[_].focusControl.dispose();\r\n\t\t\tthis[_].columnResizer.dispose();\r\n\t\t\tthis[_].cellSelector.dispose();\r\n\t\t\tif (this[_].disposables) {\r\n\t\t\t\tthis[_].disposables.forEach((disposable) => disposable.dispose());\r\n\t\t\t\tthis[_].disposables = null;\r\n\t\t\t}\r\n\r\n\t\t\tconst parentElement = this[_].element.parentElement;\r\n\t\t\tif (parentElement) {\r\n\t\t\t\tparentElement.removeChild(this[_].element);\r\n\t\t\t}\r\n\t\t}\r\n\t\tgetAttachCellArea(col, row) {\r\n\t\t\treturn {\r\n\t\t\t\telement: this.getElement(),\r\n\t\t\t\trect: _toRelativeRect(this, this.getCellRect(col, row)),\r\n\t\t\t};\r\n\t\t}\r\n\t\tbindEventsInternal() {\r\n\t\t\t//nop\r\n\t\t}\r\n\t\tgetTargetRowAtInternal(absoluteY) {\r\n\t\t\t// \r\n\t\t}\r\n\t\tgetRowsHeightInternal(startRow, endRow) {\r\n\t\t\t// \r\n\t\t}\r\n\t\tgetRowHeightInternal(row) {\r\n\t\t\t// \r\n\t\t}\r\n\t\tgetScrollHeightInternal(row) {\r\n\t\t\t// \r\n\t\t}\r\n\t\tgetMoveLeftColByKeyDownInternal({col, row}) {\r\n\t\t\treturn col - 1;\r\n\t\t}\r\n\t\tgetMoveRightColByKeyDownInternal({col, row}) {\r\n\t\t\treturn col + 1;\r\n\t\t}\r\n\t\tgetMoveUpRowByKeyDownInternal({col, row}) {\r\n\t\t\treturn row - 1;\r\n\t\t}\r\n\t\tgetMoveDownRowByKeyDownInternal({col, row}) {\r\n\t\t\treturn row + 1;\r\n\t\t}\r\n\t\tgetOffsetInvalidateCells() {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\t_getInitContext() {\r\n\t\t\tconst ctx = this[_].context;\r\n\t\t\t//\r\n\t\t\tctx.fillStyle = 'white';\r\n\t\t\tctx.strokeStyle = 'black';\r\n\t\t\tctx.textAlign = 'left';\r\n\t\t\tctx.textBaseline = 'top';\r\n\t\t\tctx.lineWidth = 1;\r\n\t\t\tctx.font = this.font || '16px sans-serif';\r\n\t\t\treturn ctx;\r\n\t\t}\r\n\t}\r\n\r\n\tmodule.exports = DrawGrid;\r\n}","'use strict';\r\n{\r\n\tconst {obj: {each}} = require('./utils');\r\n\tlet nextId = 1;\r\n\r\n\tclass EventHandler {\r\n\t\tconstructor() {\r\n\t\t\tthis._listeners = {};\r\n\t\t}\r\n\t\ton(target, type, listener, ...options) {\r\n\t\t\tif (target.addEventListener) {\r\n\t\t\t\ttarget.addEventListener(type, listener, ...options);\r\n\t\t\t}\r\n\t\t\tconst obj = {\r\n\t\t\t\ttarget, type, listener, options\r\n\t\t\t};\r\n\t\t\tconst id = nextId++;\r\n\t\t\tthis._listeners[id] = obj;\r\n\t\t\treturn id;\r\n\t\t}\r\n\t\ttryWithOffEvents(target, type, call) {\r\n\t\t\tconst list = [];\r\n\t\t\ttry {\r\n\t\t\t\teach(this._listeners, (obj) => {\r\n\t\t\t\t\tif (obj.target === target && obj.type === type) {\r\n\t\t\t\t\t\tif (obj.target.removeEventListener) {\r\n\t\t\t\t\t\t\tobj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlist.push(obj);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tcall();\r\n\t\t\t} finally {\r\n\t\t\t\tlist.forEach((obj) => {\r\n\t\t\t\t\tif (obj.target.addEventListener) {\r\n\t\t\t\t\t\tobj.target.addEventListener(obj.type, obj.listener, ...obj.options);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\toff(id) {\r\n\t\t\tif (!id) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst obj = this._listeners[id];\r\n\t\t\tif (!obj) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tdelete this._listeners[id];\r\n\t\t\tif (obj.target.removeEventListener) {\r\n\t\t\t\tobj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\r\n\t\t\t}\r\n\t\t}\r\n\t\tfire(target, type, ...args) {\r\n\t\t\teach(this._listeners, (obj) => {\r\n\t\t\t\tif (obj.target === target && obj.type === type) {\r\n\t\t\t\t\tobj.listener.call(obj.target, ...args);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\thasListener(target, type) {\r\n\t\t\tlet result = false;\r\n\t\t\teach(this._listeners, (obj) => {\r\n\t\t\t\tif (obj.target === target && obj.type === type) {\r\n\t\t\t\t\tresult = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn result;\r\n\t\t}\r\n\t\tclear() {\r\n\t\t\teach(this._listeners, (obj) => {\r\n\t\t\t\tif (obj.target.removeEventListener) {\r\n\t\t\t\t\tobj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthis._listeners = {};\r\n\t\t}\r\n\t\tdispose() {\r\n\t\t\tthis.clear();\r\n\t\t\tthis._listeners = null;\r\n\t\t}\r\n\t}\r\n\r\n\tmodule.exports = EventHandler;\r\n}","'use strict';\r\n{\r\n\r\n\tfunction calcBasePosition(ctx, rect,\r\n\t\t\t{\r\n\t\t\t\toffset = 0,\r\n\t\t\t\tpadding: {\r\n\t\t\t\t\tleft: paddingLeft = 0,\r\n\t\t\t\t\tright: paddingRight = 0,\r\n\t\t\t\t} = {},\r\n\t\t\t} = {}) {\r\n\t\t// const textAlign = ctx.textAlign || 'left';\r\n\t\t// const textBaseline = ctx.textBaseline || 'middle';\r\n\t\t// ctx.textAlign = textAlign;\r\n\t\t// ctx.textBaseline = textBaseline;\r\n\r\n\t\t// let x = rect.left + offset + paddingLeft;\r\n\t\t// if (textAlign === 'right' || textAlign === 'end') {\r\n\t\t// \tx = rect.right - offset - paddingRight;\r\n\t\t// } else if (textAlign === 'center') {\r\n\t\t// \tx = rect.left + ((rect.width + paddingLeft - paddingRight) / 2);\r\n\t\t// }\r\n\t\t// let y = rect.top + offset;\r\n\t\t// if (textBaseline === 'bottom' || textBaseline === 'alphabetic' || textBaseline === 'ideographic') {\r\n\t\t// \ty = rect.bottom - offset;\r\n\t\t// } else if (textBaseline === 'middle') {\r\n\t\t// \ty = rect.top + (rect.height / 2);\r\n\t\t// }\r\n\t\t// return {x, y};\r\n\t\treturn calcStartPosition(ctx, rect, 0, 0, {\r\n\t\t\toffset,\r\n\t\t\tpadding: {\r\n\t\t\t\tleft: paddingLeft,\r\n\t\t\t\tright: paddingRight,\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\tfunction calcStartPosition(ctx, rect, width, height,\r\n\t\t\t{\r\n\t\t\t\toffset = 0,\r\n\t\t\t\tpadding: {\r\n\t\t\t\t\tleft: paddingLeft = 0,\r\n\t\t\t\t\tright: paddingRight = 0,\r\n\t\t\t\t} = {},\r\n\t\t\t} = {}) {\r\n\t\tconst textAlign = ctx.textAlign || 'left';\r\n\t\tconst textBaseline = ctx.textBaseline || 'middle';\r\n\t\tctx.textAlign = textAlign;\r\n\t\tctx.textBaseline = textBaseline;\r\n\r\n\t\tlet x = rect.left + offset + paddingLeft;\r\n\t\tif (textAlign === 'right' || textAlign === 'end') {\r\n\t\t\tx = rect.right - width - offset - paddingRight;\r\n\t\t} else if (textAlign === 'center') {\r\n\t\t\tx = rect.left + ((rect.width - width + paddingLeft - paddingRight) / 2);\r\n\t\t}\r\n\t\tlet y = rect.top + offset;\r\n\t\tif (textBaseline === 'bottom' || textBaseline === 'alphabetic' || textBaseline === 'ideographic') {\r\n\t\t\ty = rect.bottom - height - offset;\r\n\t\t} else if (textBaseline === 'middle') {\r\n\t\t\ty = rect.top + ((rect.height - height) / 2);\r\n\t\t}\r\n\t\treturn {x, y};\r\n\t}\r\n\r\n\tmodule.exports = {\r\n\t\tcalcBasePosition,\r\n\t\tcalcStartPosition,\r\n\t};\r\n}","'use strict';\r\n{\r\n\tconst Style = require('../style/Style');\r\n\tconst BaseColumn = require('./BaseColumn');\r\n\tconst utils = require('./columnUtils');\r\n\r\n\tclass Column extends BaseColumn {\r\n\t\tget StyleClass() {\r\n\t\t\treturn Style;\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new Column(this);\r\n\t\t}\r\n\t\tdrawInternal(value, context, style, helper, grid, {drawCellBase, getIcon}) {\r\n\t\t\tconst {\r\n\t\t\t\ttextAlign,\r\n\t\t\t\ttextBaseline,\r\n\t\t\t\tcolor,\r\n\t\t\t\tfont,\r\n\t\t\t\tbgColor,\r\n\t\t\t\tpadding,\r\n\t\t\t} = style;\r\n\t\t\tif (bgColor) {\r\n\t\t\t\tdrawCellBase({\r\n\t\t\t\t\tbgColor,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\thelper.testFontLoad(font, value, context);\r\n\t\t\tutils.loadIcons(getIcon(), context, helper, (icons, context) => {\r\n\t\t\t\thelper.text(value, context, {\r\n\t\t\t\t\ttextAlign,\r\n\t\t\t\t\ttextBaseline,\r\n\t\t\t\t\tcolor,\r\n\t\t\t\t\tfont,\r\n\t\t\t\t\ticons,\r\n\t\t\t\t\tpadding,\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tmodule.exports = Column;\r\n}","'use strict';\r\n{\r\n\tconst styleContents = require('../style');\r\n\tconst {isPromise, isDef, obj: {setReadonly}} = require('../../internal/utils');\r\n\tconst animate = require('../../internal/animate');\r\n\tconst BaseStyle = require('../style/Style');\r\n\tconst {COLUMN_FADEIN_STATE_ID} = require('../../internal/symbolManager');\r\n\r\n\tfunction isFadeinWhenCallbackInPromise(column, grid) {\r\n\t\tif (isDef(column._fadeinWhenCallbackInPromise)) {\r\n\t\t\treturn column._fadeinWhenCallbackInPromise;\r\n\t\t}\r\n\t\treturn !!grid.configure('fadeinWhenCallbackInPromise');\r\n\t}\r\n\r\n\tfunction getFadinState(grid) {\r\n\t\tif (!grid[COLUMN_FADEIN_STATE_ID]) {\r\n\t\t\tsetReadonly(grid, COLUMN_FADEIN_STATE_ID, {});\r\n\t\t}\r\n\t\treturn grid[COLUMN_FADEIN_STATE_ID];\r\n\t}\r\n\tfunction _generateFadinPointAction(grid, col, row, context, drawInternal, drawCellBase) {\r\n\t\treturn (point) => {\r\n\t\t\tconst state = getFadinState(grid);\r\n\t\t\tconst stateKey = col + ':' + row;\r\n\t\t\tif (point === 1) {\r\n\t\t\t\tdelete state[stateKey];\r\n\t\t\t} else {\r\n\t\t\t\tstate[stateKey] = {\r\n\t\t\t\t\topacity: point,\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tdrawCellBase();\r\n\r\n\t\t\tdrawInternal();\r\n\r\n\t\t\tconst cellState = state[stateKey];\r\n\t\t\tif (cellState) {\r\n\t\t\t\t//\r\n\t\t\t\tconst ctx = context.getContext();\r\n\t\t\t\tctx.globalAlpha = 1 - cellState.opacity;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tdrawCellBase();\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tctx.globalAlpha = 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\tconst fadinMgr = {\r\n\t\tanimate(grid, col, row, context, drawInternal, drawCellBase) {\r\n\t\t\t// fadein animation\r\n\t\t\tconst state = getFadinState(grid);\r\n\r\n\t\t\tconst activeFadeins = [\r\n\t\t\t\t_generateFadinPointAction(grid, col, row, context, drawInternal, drawCellBase),\r\n\t\t\t];\r\n\t\t\tstate.activeFadeins = activeFadeins;\r\n\t\t\t\r\n\t\t\tanimate(500, (point) => {\r\n\t\t\t\tactiveFadeins.forEach((f) => f(point));\r\n\t\t\t\tif (point === 1) {\r\n\t\t\t\t\tdelete state.activeFadeins;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tmargeAnimate(grid, col, row, context, drawInternal, drawCellBase) {\r\n\t\t\tconst state = getFadinState(grid);\r\n\t\t\tif (state.activeFadeins) {\r\n\t\t\t\tstate.activeFadeins.push(\r\n\t\t\t\t\t\t_generateFadinPointAction(grid, col, row, context, drawInternal, drawCellBase)\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tdrawInternal();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t};\r\n\r\n\tclass BaseColumn {\r\n\t\tconstructor(option = {}) {\r\n\t\t\tthis.onDrawCell = this.onDrawCell.bind(this);//\r\n\r\n\t\t\t//Promisecallback\r\n\t\t\tthis._fadeinWhenCallbackInPromise = option.fadeinWhenCallbackInPromise;\r\n\t\t}\r\n\t\tget StyleClass() {\r\n\t\t\treturn BaseStyle;\r\n\t\t}\r\n\t\tonDrawCell(cellValue, info, context, grid) {\r\n\t\t\tconst {style, getRecord, drawCellBase} = info;\r\n\t\t\tdelete info.getRecord;\r\n\t\t\tdelete info.style;\r\n\t\t\tconst helper = grid.getGridCanvasHelper();\r\n\t\t\tdrawCellBase();\r\n\r\n\t\t\t//\r\n\t\t\tif (isPromise(cellValue)) {\r\n\t\t\t\tif (context.drawing) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t\tconst start = Date.now();\r\n\t\t\t\treturn cellValue.then((val) => {\r\n\t\t\t\t\tconst currentContext = context.toCurrentContext();\r\n\t\t\t\t\tconst drawRect = currentContext.getDrawRect();\r\n\t\t\t\t\tif (!drawRect) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst time = Date.now() - start;\r\n\r\n\t\t\t\t\tconst drawInternal = () => {\r\n\t\t\t\t\t\tconst currentContext = context.toCurrentContext();\r\n\t\t\t\t\t\tconst drawRect = currentContext.getDrawRect();\r\n\t\t\t\t\t\tif (!drawRect) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.drawInternal(\r\n\t\t\t\t\t\t\t\tthis.convertInternal(val),\r\n\t\t\t\t\t\t\t\tcurrentContext,\r\n\t\t\t\t\t\t\t\tstyleContents.of(style, getRecord(), this.StyleClass),\r\n\t\t\t\t\t\t\t\thelper,\r\n\t\t\t\t\t\t\t\tgrid,\r\n\t\t\t\t\t\t\t\tinfo\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tif (!isFadeinWhenCallbackInPromise(this, grid)) {\r\n\t\t\t\t\t\tdrawInternal();//\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconst {col, row} = context;\r\n\t\t\t\t\t\tif (time < 80) {\r\n\t\t\t\t\t\t\t//80msPromiseCallback\r\n\t\t\t\t\t\t\tfadinMgr.margeAnimate(grid, col, row, context, drawInternal, drawCellBase);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t//\r\n\t\t\t\t\t\t\tfadinMgr.animate(grid, col, row, context, drawInternal, drawCellBase);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.drawInternal(\r\n\t\t\t\t\t\tthis.convertInternal(cellValue),\r\n\t\t\t\t\t\tcontext,\r\n\t\t\t\t\t\tstyleContents.of(style, getRecord(), this.StyleClass),\r\n\t\t\t\t\t\thelper,\r\n\t\t\t\t\t\tgrid,\r\n\t\t\t\t\t\tinfo\r\n\t\t\t\t);\r\n\t\t\t\t//\r\n\t\t\t\tconst {col, row} = context;\r\n\t\t\t\tconst stateKey = col + ':' + row;\r\n\t\t\t\tconst cellState = grid[COLUMN_FADEIN_STATE_ID] && grid[COLUMN_FADEIN_STATE_ID][stateKey];\r\n\t\t\t\tif (cellState) {\r\n\t\t\t\t\tconst ctx = context.getContext();\r\n\t\t\t\t\tctx.globalAlpha = 1 - cellState.opacity;\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tdrawCellBase();\r\n\t\t\t\t\t} finally {\r\n\t\t\t\t\t\tctx.globalAlpha = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new BaseColumn(this);\r\n\t\t}\r\n\t\tconvertInternal(value) {\r\n\t\t\treturn isDef(value) ? value : '';\r\n\t\t}\r\n\t\tdrawInternal(value, context, style, helper, grid, info) {\r\n\t\t\t\r\n\t\t}\r\n\t\tbindGridEvent(grid, col, util) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t}\r\n\tmodule.exports = BaseColumn;\r\n}","'use strict';\r\n\r\nconst {isDef} = require('../internal/utils');\r\nclass Inline {\r\n\tconstructor(content) {\r\n\t\tthis._content = isDef(content) ? content : '';\r\n\t}\r\n\twidth({ctx}) {\r\n\t\treturn ctx.measureText(this._content).width;\r\n\t}\r\n\tfont() {\r\n\t\treturn null;\r\n\t}\r\n\tcolor() {\r\n\t\treturn null;\r\n\t}\r\n\tcanDraw() {\r\n\t\treturn true;\r\n\t}\r\n\tonReady(fn) {\r\n\t\t\r\n\t}\r\n\tdraw({\r\n\t\tctx,\r\n\t\tcanvashelper,\r\n\t\trect,\r\n\t\toffset,\r\n\t\toffsetLeft,\r\n\t\toffsetRight,\r\n\t}) {\r\n\t\tcanvashelper.fillTextRect(ctx, this._content,\r\n\t\t\t\trect.left, rect.top, rect.width, rect.height,\r\n\t\t\t\t{\r\n\t\t\t\t\toffset: offset + 1,\r\n\t\t\t\t\tpadding: {\r\n\t\t\t\t\t\tleft: offsetLeft,\r\n\t\t\t\t\t\tright: offsetRight,\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t}\r\n}\r\nmodule.exports = Inline;","'use strict';\r\n{\r\n\tconst {isDef, obj: {each}} = require('../internal/utils');\r\n\t//private symbol\r\n\tconst {_} = require('../internal/symbolManager').get();\r\n\r\n\tlet nextId = 1;\r\n\t/**\r\n\t * event target.\r\n\t */\r\n\tclass EventTarget {\r\n\t\tconstructor() {\r\n\t\t\tthis[_] = {};\r\n\t\t\tthis[_].listeners = {};\r\n\t\t\tthis[_].listenerData = {};\r\n\t\t}\r\n\t\t/**\r\n\t\t * Adds an event listener.\r\n\t\t * @param  {string} type The event type id.\r\n\t\t * @param  {function} listener Callback method.\r\n\t\t * @return {number} unique id for the listener.\r\n\t\t */\r\n\t\tlisten(type, listener) {\r\n\t\t\tconst list = this[_].listeners[type] || (this[_].listeners[type] = []);\r\n\t\t\tlist.push(listener);\r\n\r\n\t\t\tconst id = nextId++;\r\n\t\t\tthis[_].listenerData[id] = {\r\n\t\t\t\ttype,\r\n\t\t\t\tlistener,\r\n\t\t\t\tremove: () => {\r\n\t\t\t\t\tdelete this[_].listenerData[id];\r\n\t\t\t\t\tconst index = list.indexOf(listener);\r\n\t\t\t\t\tlist.splice(index, 1);\r\n\t\t\t\t\tif (!this[_].listeners[type].length) {\r\n\t\t\t\t\t\tdelete this[_].listeners[type];\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t\treturn id;\r\n\r\n\t\t}\r\n\t\t/**\r\n\t\t * Removes an event listener which was added with listen() by the id returned by listen().\r\n\t\t * @param  {number} id the id returned by listen().\r\n\t\t * @return {void}\r\n\t\t */\r\n\t\tunlisten(id) {\r\n\t\t\tthis[_].listenerData[id].remove();\r\n\t\t}\r\n\t\taddEventListener(type, listener) {\r\n\t\t\tthis.listen(type, listener);\r\n\t\t}\r\n\t\tremoveEventListener(type, listener) {\r\n\t\t\teach(this[_].listenerData, (obj, id) => {\r\n\t\t\t\tif (obj.type === type && obj.listener === listener) {\r\n\t\t\t\t\tthis.unlisten(id);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\thasListeners(type) {\r\n\t\t\treturn !!this[_].listeners[type];\r\n\t\t}\r\n\t\t/**\r\n\t\t * Fires all registered listeners\r\n\t\t * @param  {string}    type The type of the listeners to fire.\r\n\t\t * @param  {...*} args fire arguments\r\n\t\t * @return {*} the result of the last listener\r\n\t\t */\r\n\t\tfireListeners(type, ...args) {\r\n\t\t\tconst list = this[_].listeners[type];\r\n\t\t\tif (!list) {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t\treturn list.\r\n\t\t\t\tmap((listener) => listener.call(this, ...args)).\r\n\t\t\t\tfilter(isDef);\r\n\t\t}\r\n\t\tdispose() {\r\n\t\t\tdelete this[_];\r\n\t\t}\r\n\t}\r\n\r\n\tmodule.exports = EventTarget;\r\n}","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target) {\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertInto + \" \" + options.insertAt.before);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\toptions.attrs.type = \"text/css\";\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\toptions.attrs.type = \"text/css\";\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","'use strict';\r\n{\r\n\t\r\n\tconst BaseAction = require('./BaseAction');\r\n\tclass Editor extends BaseAction {\r\n\t\tconstructor(option = {}) {\r\n\t\t\tsuper(option);\r\n\t\t\tthis._readOnly = option.readOnly;\r\n\t\t}\r\n\t\tget readOnly() {\r\n\t\t\treturn this._readOnly;\r\n\t\t}\r\n\t\tset readOnly(readOnly) {\r\n\t\t\tthis._readOnly = !!readOnly;\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new Editor(this);\r\n\t\t}\r\n\t\tbindGridEvent(grid, col, util) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t}\r\n\tmodule.exports = Editor;\r\n}","'use strict';\r\n{\r\n\tconst BaseStyle = require('./style/BaseStyle');\r\n\tconst Style = require('./style/Style');\r\n\r\n\tconst style = {\r\n\t\tget BaseStyle() {\r\n\t\t\treturn BaseStyle;\r\n\t\t},\r\n\t\tget Style() {\r\n\t\t\treturn Style;\r\n\t\t},\r\n\t\tof(columnStyle, StyleClass) {\r\n\t\t\tif (columnStyle) {\r\n\t\t\t\tif (columnStyle instanceof Style) {\r\n\t\t\t\t\treturn columnStyle;\r\n\t\t\t\t} else if (typeof columnStyle === 'function') {\r\n\t\t\t\t\treturn style.of(columnStyle(), StyleClass);\r\n\t\t\t\t}\r\n\t\t\t\treturn new StyleClass(columnStyle);\r\n\t\t\t} else {\r\n\t\t\t\treturn StyleClass.DEFAULT;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tmodule.exports = style;\r\n}","'use strict';\r\n\r\nfunction parse(calcStr) {\r\n\tfunction replacer(match, num, unit) {\r\n\t\tswitch (unit) {\r\n\t\tcase '%':\r\n\t\t\treturn `(${num} * this.full / 100)`;\r\n\t\tcase 'em':\r\n\t\t\treturn `(${num} * this.em)`;\r\n\t\tcase 'px':\r\n\t\t\treturn `(${num})`;\r\n\t\tdefault:\r\n\t\t\tthrow new Error('calc error');\r\n\t\t}\r\n\t}\r\n\tconst script = calcStr.replace(/^calc\\((.*)\\)$/, '$1').\r\n\t\treplace(/(\\d+)([A-Za-z%]+)/g, replacer).\r\n\t\treplace(/(\\d*\\.\\d+)([A-Za-z%]+)/g, replacer);\r\n\treturn {\r\n\t\teval(context) {\r\n\t\t\treturn (() => {\r\n\t\t\t\tfunction calc(v) { // eslint-disable-line no-unused-vars\r\n\t\t\t\t\treturn v;\r\n\t\t\t\t}\r\n\t\t\t\treturn eval(script);// eslint-disable-line no-eval\r\n\t\t\t}).call(context);\r\n\t\t}\r\n\t};\r\n}\r\nfunction toPx(value, context) {\r\n\tif (/^calc\\(.*\\)$/.test(value)) {\r\n\t\treturn parse(value).eval(context);\r\n\t}\r\n\tif (/^[+-]?\\d+\\.?\\d*%$/.test(value)) {\r\n\t\treturn context.full * value.substr(0, value.length - 1) / 100;\r\n\t}\r\n\tif (/^[+-]?\\d+\\.?\\d*px$/.test(value)) {\r\n\t\treturn value.substr(0, value.length - 2) - 0;\r\n\t}\r\n\tif (/^[+-]?\\d+\\.?\\d*em$/.test(value)) {\r\n\t\treturn context.em * (value.substr(0, value.length - 2) - 0);\r\n\t}\r\n\treturn value - 0;\r\n}\r\n\r\nmodule.exports = {\r\n\tparse,\r\n\ttoPx(value, context) {\r\n\t\tif (typeof value === 'string') {\r\n\t\t\treturn toPx(value.trim(), context);\r\n\t\t}\r\n\t\treturn value - 0;\r\n\t}\r\n};","'use strict';\r\n{\r\n\t\r\n\r\n\tclass BaseAction {\r\n\t\tconstructor(option = {}) {\r\n\t\t\tthis._disabled = option.disabled;\r\n\t\t}\r\n\t\tget disabled() {\r\n\t\t\treturn this._disabled;\r\n\t\t}\r\n\t\tset disabled(disabled) {\r\n\t\t\tthis._disabled = !!disabled;\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new BaseAction(this);\r\n\t\t}\r\n\t\tbindGridEvent(grid, col, util) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t}\r\n\tmodule.exports = BaseAction;\r\n}","'use strict';\r\n\r\nconst {isDef} = require('../../../internal/utils');\r\n\r\nfunction createElement(tagName, {classList, text, html} = {}) {\r\n\tconst element = document.createElement(tagName);\r\n\tif (classList) {\r\n\t\tif (Array.isArray(classList)) {\r\n\t\t\telement.classList.add(...classList);\r\n\t\t} else {\r\n\t\t\telement.classList.add(classList);\r\n\t\t}\r\n\t}\r\n\tif (text) {\r\n\t\telement.textContent = text;\r\n\t} else if (html) {\r\n\t\telement.innerHTML = html;\r\n\t}\r\n\treturn element;\r\n}\r\n\r\nfunction empty(dom) {\r\n\tlet c;\r\n\twhile ((c = dom.firstChild)) {\r\n\t\tdom.removeChild(c);\r\n\t}\r\n}\r\nfunction isNode(arg) {\r\n\treturn !!(arg.nodeType && arg.nodeName);\r\n}\r\nfunction toNode(arg) {\r\n\tif (isNode(arg)) {\r\n\t\treturn arg;\r\n\t}\r\n\tconst dom = createElement('div', {html: arg});\r\n\treturn Array.prototype.slice.call(dom.childNodes);\r\n}\r\nfunction toNodeList(arg) {\r\n\tif ((window.jQuery && arg instanceof window.jQuery)) {\r\n\t\treturn Array.prototype.map.call(arg, (a) => a);\r\n\t}\r\n\tif (Array.isArray(arg)) {\r\n\t\treturn arg.map(toNode);\r\n\t}\r\n\treturn [toNode(arg)];\r\n}\r\n\r\nfunction appendHtml(dom, inner) {\r\n\ttoNodeList(inner).forEach((node) => {\r\n\t\tdom.appendChild(node);\r\n\t});\r\n}\r\n\r\nfunction disableFocus(el) {\r\n\tel.dataset.disableBeforeTabIndex = el.tabIndex;\r\n\tel.tabIndex = -1;\r\n\tArray.prototype.slice.call(el.children, 0).forEach(disableFocus);\r\n}\r\nfunction enableFocus(el) {\r\n\tif ('disableBeforeTabIndex' in el.dataset) {\r\n\t\tel.tabIndex = el.dataset.disableBeforeTabIndex;\r\n\t}\r\n\tArray.prototype.slice.call(el.children, 0).forEach(enableFocus);\r\n}\r\n\r\nfunction isFocusable(el) {\r\n\treturn isDef(el.tabIndex) && el.tabIndex > -1;\r\n}\r\nfunction findPrevSiblingFocusable(el) {\r\n\tlet n = el.previousSibling;\r\n\twhile (n && !isFocusable(n)) {\r\n\t\tn = n.previousSibling;\r\n\t}\r\n\treturn n;\r\n}\r\nfunction findNextSiblingFocusable(el) {\r\n\tlet n = el.nextSibling;\r\n\twhile (n && !isFocusable(n)) {\r\n\t\tn = n.nextSibling;\r\n\t}\r\n\treturn n;\r\n}\r\n\r\nmodule.exports = {\r\n\tcreateElement,\r\n\tempty,\r\n\tisNode,\r\n\ttoNode,\r\n\ttoNodeList,\r\n\tappendHtml,\r\n\tdisableFocus,\r\n\tenableFocus,\r\n\tisFocusable,\r\n\tfindPrevSiblingFocusable,\r\n\tfindNextSiblingFocusable,\r\n};","'use strict';\r\n{\r\n\tconst BaseStyle = require('./BaseStyle');\r\n\r\n\tlet defaultStyle;\r\n\tclass StdBaseStyle extends BaseStyle {\r\n\t\tstatic get DEFAULT() {\r\n\t\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new StdBaseStyle());\r\n\t\t}\r\n\t\tconstructor(style = {}) {\r\n\t\t\tsuper(style);\r\n\t\t\tthis._textAlign = style.textAlign || 'left';\r\n\t\t\tthis._textBaseline = style.textBaseline || 'middle';\r\n\t\t}\r\n\t\tget textAlign() {\r\n\t\t\treturn this._textAlign;\r\n\t\t}\r\n\t\tset textAlign(textAlign) {\r\n\t\t\tthis._textAlign = textAlign;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t\tget textBaseline() {\r\n\t\t\treturn this._textBaseline;\r\n\t\t}\r\n\t\tset textBaseline(textBaseline) {\r\n\t\t\tthis._textBaseline = textBaseline;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new StdBaseStyle(this);\r\n\t\t}\r\n\t}\r\n\tmodule.exports = StdBaseStyle;\r\n}","'use strict';\r\n{\r\n\tconst EventTarget = require('../../core/EventTarget');\r\n\r\n\tconst EVENT_TYPE = {\r\n\t\tCHANGE_STYLE: 'change_style',\r\n\t};\r\n\r\n\tlet defaultStyle;\r\n\tclass BaseStyle extends EventTarget {\r\n\t\tstatic get EVENT_TYPE() {\r\n\t\t\treturn EVENT_TYPE;\r\n\t\t}\r\n\t\tstatic get DEFAULT() {\r\n\t\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new BaseStyle());\r\n\t\t}\r\n\t\tconstructor(\r\n\t\t\t\t{\r\n\t\t\t\t\tbgColor\r\n\t\t\t\t} = {}) {\r\n\t\t\tsuper();\r\n\t\t\tthis._bgColor = bgColor;\r\n\t\t}\r\n\t\tget bgColor() {\r\n\t\t\treturn this._bgColor;\r\n\t\t}\r\n\t\tset bgColor(bgColor) {\r\n\t\t\tthis._bgColor = bgColor;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t\tdoChangeStyle() {\r\n\t\t\tthis.fireListeners(EVENT_TYPE.CHANGE_STYLE);\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new BaseStyle(this);\r\n\t\t}\r\n\t}\r\n\tmodule.exports = BaseStyle;\r\n}","'use strict';\r\n{\r\n\tconst {isPromise} = require('../../internal/utils');\r\n\tconst icons = require('../../internal/icons');\r\n\r\n\r\n\tmodule.exports = {\r\n\t\tloadIcons(icon, context, helper, callback) {\r\n\t\t\tif (icon) {\r\n\t\t\t\tif (isPromise(icon)) {\r\n\t\t\t\t\ticon.then((i) => {\r\n\t\t\t\t\t\tthis.loadIcon(i, context.toCurrentContext(), callback);\r\n\t\t\t\t\t});\r\n\t\t\t\t\ticon = null;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst iconList = icons.toNormarizeArray(icon);\r\n\t\t\t\t\ticonList.forEach((i) => {\r\n\t\t\t\t\t\thelper.testFontLoad(i.font, i.content, context);\r\n\t\t\t\t\t});\r\n\t\t\t\t\ticon = iconList;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcallback(icon, context);\r\n\t\t}\r\n\t};\r\n}","'use strict';\r\n\r\nconst {isDef} = require('./utils');\r\n\r\nconst ICON_PROP_KEYS = [\r\n\t'content',\r\n\t'font',\r\n\t'color',\r\n\t'className',\r\n\t'isLiga',\r\n\t'width',\r\n\t'src',\r\n\t'svg',\r\n\t'name',\r\n\t'path'\r\n];\r\n\r\nfunction quote(name) {\r\n\tconst quoted = [];\r\n\tconst split = name.split(/,\\s*/);\r\n\tfor (let i = 0; i < split.length; i++) {\r\n\t\tconst part = split[i].replace(/['\"]/g, '');\r\n\t\tif (part.indexOf(' ') === -1 && !(/^\\d/.test(part))) {\r\n\t\t\tquoted.push(part);\r\n\t\t} else {\r\n\t\t\tquoted.push('\\'' + part + '\\'');\r\n\t\t}\r\n\t}\r\n\treturn quoted.join(',');\r\n}\r\n\r\nconst doms = {};\r\nconst props = {};\r\n\r\nfunction getIconProps(tagName, className) {\r\n\tconst tagProps = props[tagName] || (props[tagName] = {});\r\n\tif (tagProps[className]) {\r\n\t\treturn tagProps[className];\r\n\t}\r\n\tconst dom = doms[tagName] || (doms[tagName] = document.createElement(tagName));\r\n\tdom.className = className;\r\n\tdocument.body.appendChild(dom);\r\n\ttry {\r\n\t\tconst beforeStyle = document.defaultView.getComputedStyle(dom, '::before');\r\n\t\tlet content = beforeStyle.getPropertyValue('content');\r\n\t\tif (content.length >= 3 && (content[0] === '\"' || content[0] === '\\'')) {\r\n\t\t\tif (content[0] === content[content.length - 1]) {\r\n\t\t\t\tcontent = content.substr(1, content.length - 2);\r\n\t\t\t}\r\n\t\t}\r\n\t\tlet font = beforeStyle.getPropertyValue('font');\r\n\t\tif (!font) {\r\n\t\t\tfont = beforeStyle.getPropertyValue('font-style') + ' ' +\r\n\t\t\t\tbeforeStyle.getPropertyValue('font-variant') + ' ' +\r\n\t\t\t\tbeforeStyle.getPropertyValue('font-weight') + ' ' +\r\n\t\t\t\tbeforeStyle.getPropertyValue('font-size') + '/' +\r\n\t\t\t\tbeforeStyle.getPropertyValue('line-height') + ' ' +\r\n\t\t\t\tquote(beforeStyle.getPropertyValue('font-family'));\r\n\t\t}\r\n\t\tconst color = beforeStyle.getPropertyValue('color');\r\n\t\tconst width = dom.clientWidth;\r\n\t\tconst isLiga = (beforeStyle.getPropertyValue('font-feature-settings') || '').indexOf('liga') > -1;\r\n\t\t\r\n\t\treturn (tagProps[className] = {\r\n\t\t\tcontent,\r\n\t\t\tfont,\r\n\t\t\tcolor,\r\n\t\t\twidth,\r\n\t\t\tisLiga,\r\n\t\t});\r\n\t} finally {\r\n\t\tdocument.body.removeChild(dom);\r\n\t}\r\n}\r\n\r\nfunction toPropArray(prop, count) {\r\n\tconst result = [];\r\n\tif (Array.isArray(prop)) {\r\n\t\tresult.push(...prop);\r\n\t\tfor (let i = prop.length; i < count; i++) {\r\n\t\t\tresult.push(null);\r\n\t\t}\r\n\t} else {\r\n\t\tfor (let i = 0; i < count; i++) {\r\n\t\t\tresult.push(prop);\r\n\t\t}\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nfunction toSimpleArray(iconProps) {\r\n\tif (!iconProps) {\r\n\t\treturn iconProps;\r\n\t} else if (Array.isArray(iconProps)) {\r\n\t\treturn iconProps;\r\n\t}\r\n\r\n\tconst workData = {};\r\n\r\n\tlet count = 0;\r\n\tICON_PROP_KEYS.forEach((k) => {\r\n\t\tif (iconProps[k]) {\r\n\t\t\tif (Array.isArray(iconProps[k])) {\r\n\t\t\t\tcount = Math.max(count, iconProps[k].length);\r\n\t\t\t} else {\r\n\t\t\t\tcount = Math.max(count, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tICON_PROP_KEYS.forEach((k) => {\r\n\t\tworkData[k] = toPropArray(iconProps[k], count);\r\n\t});\r\n\r\n\tconst result = [];\r\n\tfor (let i = 0; i < count; i++) {\r\n\t\tconst data = {};\r\n\t\tICON_PROP_KEYS.forEach((k) => {\r\n\t\t\tdata[k] = workData[k][i];\r\n\t\t});\r\n\t\tresult.push(data);\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nfunction normarize(iconProps) {\r\n\tconst data = {};\r\n\tfor (const k in iconProps) {\r\n\t\tif (k === 'className') {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tdata[k] = iconProps[k];\r\n\t}\r\n\tif (iconProps.className) {\r\n\t\tconst prop = getIconProps(iconProps.tagName || 'i', iconProps.className);\r\n\t\tfor (const k in prop) {\r\n\t\t\tif (!isDef(iconProps[k])) {\r\n\t\t\t\tdata[k] = prop[k];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn data;\r\n}\r\n\r\nmodule.exports = {\r\n\ttoNormarizeArray(iconProps) {\r\n\t\tconst icons = toSimpleArray(iconProps);\r\n\t\tif (!icons) {\r\n\t\t\treturn icons;\r\n\t\t}\r\n\t\treturn icons.map((icon) => normarize(icon));\r\n\t},\r\n\tget iconPropKeys() {\r\n\t\treturn ICON_PROP_KEYS;\r\n\t},\r\n\tgetIconProps,\r\n};\r\n\r\n\r\n","'use strict';\r\n{\r\n\tconst {extend, getIgnoreCase} = require('./internal/utils');\r\n\tconst theme = require('./themes/theme');\r\n\tconst plugins = require('./plugins/themes');\r\n\tconst BASIC = theme.create(require('./themes/BASIC'));\r\n\tconst MATERIAL_DESIGN = theme.create(require('./themes/MATERIAL_DESIGN'));\r\n\r\n\tconst builtin = {\r\n\t\tBASIC,\r\n\t\tMATERIAL_DESIGN,\r\n\t};\r\n\tlet defTheme = theme.create({});\r\n\t/**\r\n\t * themes\r\n\t * @type {Object}\r\n\t * @namespace cheetahGrid.themes\r\n\t * @memberof cheetahGrid\r\n\t */\r\n\tconst themes = {\r\n\t\tget default() {\r\n\t\t\treturn defTheme;\r\n\t\t},\r\n\t\tset default(defaultTheme) {\r\n\t\t\tdefTheme = defaultTheme;\r\n\t\t},\r\n\t\ttheme,\r\n\t\tof(value) {\r\n\t\t\tif (!value) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tif (typeof value === 'string') {\r\n\t\t\t\tconst t = getIgnoreCase(themes.choices, value);\r\n\t\t\t\tif (t) {\r\n\t\t\t\t\treturn t;\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\treturn value;\r\n\t\t},\r\n\t\t/**\r\n\t\t * @namespace cheetahGrid.themes.choices\r\n\t\t */\r\n\t\tget choices() {\r\n\t\t\treturn extend(builtin, plugins);\r\n\t\t},\r\n\t};\r\n\tmodule.exports = themes;\r\n}","'use strict';\r\n\r\nfunction getPath2D() {\r\n\t//return require('./legacy/canvas/Path2D');\r\n\treturn window.Path2D || require('./legacy/canvas/Path2D');\r\n}\r\n\r\nmodule.exports = {\r\n\tfill(module, ctx, x, y, w, h) {\r\n\t\tctx.save();\r\n\t\ttry {\r\n\t\t\tconst {width, height} = module;\r\n\t\t\tconst {ud: upsideDown, x: offsetX = 0, y: offsetY = 0} = module;\r\n\t\t\tw = w || width;\r\n\t\t\th = h || height;\r\n\t\t\tconst xrate = w / width;\r\n\t\t\tconst yrate = h / (upsideDown ? -height : height);\r\n\t\t\tx = x || 0;\r\n\t\t\ty = upsideDown ? ((y || 0) + (-height * yrate)) : (y || 0);\r\n\r\n\t\t\tctx.translate(x, y);\r\n\t\t\tctx.scale(xrate, yrate);\r\n\t\t\tif (offsetX !== 0 || offsetY !== 0) {\r\n\t\t\t\tctx.translate(offsetX, offsetY);\r\n\t\t\t}\r\n\t\t\tconst Path2D = getPath2D();\r\n\t\t\tmodule.path2d = module.path2d || (new Path2D(module.d));\r\n\t\t\tctx.fill(module.path2d);\r\n\t\t} finally {\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t},\r\n\tget Path2D() {\r\n\t\treturn getPath2D();\r\n\t},\r\n};\r\n","'use strict';\r\n{\r\n\tclass Rect {\r\n\t\tconstructor(left, top, width, height) {\r\n\t\t\tthis._left = left;\r\n\t\t\tthis._top = top;\r\n\t\t\tthis._width = width;\r\n\t\t\tthis._height = height;\r\n\t\t}\r\n\t\tstatic bounds(left, top, right, bottom) {\r\n\t\t\treturn new Rect(left, top, right - left, bottom - top);\r\n\t\t}\r\n\t\tstatic max(rect1, rect2) {\r\n\t\t\treturn Rect.bounds(\r\n\t\t\t\t\tMath.min(rect1.left, rect2.left),\r\n\t\t\t\t\tMath.min(rect1.top, rect2.top),\r\n\t\t\t\t\tMath.max(rect1.right, rect2.right),\r\n\t\t\t\t\tMath.max(rect1.bottom, rect2.bottom)\r\n\t\t\t);\r\n\t\t}\r\n\t\tget left() {\r\n\t\t\treturn this._left;\r\n\t\t}\r\n\t\tset left(left) {\r\n\t\t\tconst right = this.right;\r\n\t\t\tthis._left = left;\r\n\t\t\tthis.right = right;\r\n\t\t}\r\n\t\tget top() {\r\n\t\t\treturn this._top;\r\n\t\t}\r\n\t\tset top(top) {\r\n\t\t\tconst bottom = this.bottom;\r\n\t\t\tthis._top = top;\r\n\t\t\tthis.bottom = bottom;\r\n\t\t}\r\n\t\tget width() {\r\n\t\t\treturn this._width;\r\n\t\t}\r\n\t\tset width(width) {\r\n\t\t\tthis._width = width;\r\n\t\t\tthis._right = undefined;\r\n\t\t}\r\n\t\tget height() {\r\n\t\t\treturn this._height;\r\n\t\t}\r\n\t\tset height(height) {\r\n\t\t\tthis._height = height;\r\n\t\t\tthis._bottom = undefined;\r\n\t\t}\r\n\t\tget right() {\r\n\t\t\treturn this._right !== undefined ? this._right : (this._right = this.left + this.width);\r\n\t\t}\r\n\t\tset right(right) {\r\n\t\t\tthis._right = right;\r\n\t\t\tthis.width = right - this.left;\r\n\t\t}\r\n\t\tget bottom() {\r\n\t\t\treturn this._bottom !== undefined ? this._bottom : (this._bottom = this.top + this.height);\r\n\t\t}\r\n\t\tset bottom(bottom) {\r\n\t\t\tthis._bottom = bottom;\r\n\t\t\tthis.height = bottom - this.top;\r\n\t\t}\r\n\t\toffsetLeft(offset) {\r\n\t\t\tthis._left += offset;\r\n\t\t\tthis._right = undefined;\r\n\t\t}\r\n\t\toffsetTop(offset) {\r\n\t\t\tthis._top += offset;\r\n\t\t\tthis._bottom = undefined;\r\n\t\t}\r\n\t\tcopy() {\r\n\t\t\treturn new Rect(this.left, this.top, this.width, this.height);\r\n\t\t}\r\n\t\tintersection(rect) {\r\n\t\t\tconst x0 = Math.max(this.left, rect.left);\r\n\t\t\tconst x1 = Math.min(this.left + this.width, rect.left + rect.width);\r\n\t\t\tif (x0 <= x1) {\r\n\t\t\t\tconst y0 = Math.max(this.top, rect.top);\r\n\t\t\t\tconst y1 = Math.min(this.top + this.height, rect.top + rect.height);\r\n\t\t\t\tif (y0 <= y1) {\r\n\t\t\t\t\treturn Rect.bounds(x0, y0, x1, y1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tcontains(another) {\r\n\t\t\treturn this.left <= another.left &&\r\n\t\t\t\t\tthis.left + this.width >= another.left + another.width &&\r\n\t\t\t\t\tthis.top <= another.top &&\r\n\t\t\t\t\tthis.top + this.height >= another.top + another.height;\r\n\t\t}\r\n\t\tinPoint(x, y) {\r\n\t\t\treturn this.left <= x &&\r\n\t\t\t\t\tthis.left + this.width >= x &&\r\n\t\t\t\t\tthis.top <= y &&\r\n\t\t\t\t\tthis.top + this.height >= y;\r\n\t\t}\r\n\t}\r\n\tmodule.exports = Rect;\r\n}","'use strict';\r\n{\r\n\tfunction getScrollBarWidth() {\r\n\t\tconst dummy = document.createElement('div');\r\n\t\tconst {style} = dummy;\r\n\t\tstyle.position = 'absolute';\r\n\t\tstyle.height = '9999px';\r\n\t\tstyle.width = 'calc(100vw - 100%)';\r\n\t\tstyle.opacity = 0;\r\n\t\tdummy.textContent = 'x';\r\n\t\tdocument.body.appendChild(dummy);\r\n\t\tconst {width} = document.defaultView.getComputedStyle(dummy, '');\r\n\t\tdocument.body.removeChild(dummy);\r\n\t\treturn parseInt(width, 10);\r\n\t}\r\n\r\n\tlet SCROLLBAR_SIZE;\r\n\tconst initDocument = () => {\r\n\t\trequire('./style.css');\r\n\t\tSCROLLBAR_SIZE = getScrollBarWidth() || 10;\r\n\t\tconst style = document.createElement('style');\r\n\t\tstyle.setAttribute('type', 'text/css');\r\n\t\tstyle.setAttribute('data-name', 'cheetah-grid');\r\n\t\tstyle.innerHTML =\r\n\t\t`\r\n.cheetah-grid .grid-scroll-end-point {\r\n\twidth: ${SCROLLBAR_SIZE}px;\r\n\theight: ${SCROLLBAR_SIZE}px;\r\n}\r\n.cheetah-grid > canvas {\r\n\twidth: -webkit-calc(100% - ${SCROLLBAR_SIZE}px);\r\n\twidth: calc(100% - ${SCROLLBAR_SIZE}px);\r\n\theight: -webkit-calc(100% - ${SCROLLBAR_SIZE}px);\r\n\theight: calc(100% - ${SCROLLBAR_SIZE}px);\r\n}\r\n\t\t`;\r\n\r\n\t\tdocument.head.appendChild(style);\r\n\t};\r\n\r\n\tconst style = {\r\n\t\tinitDocument() {\r\n\t\t\tstyle.initDocument = () => {};\r\n\t\t\tinitDocument();\r\n\t\t},\r\n\t\tgetScrollBarSize() {\r\n\t\t\treturn SCROLLBAR_SIZE;\r\n\t\t}\r\n\t};\r\n\r\n\tmodule.exports = style;\r\n}","'use strict';\r\n{\r\n\tconst {calcBasePosition, calcStartPosition} = require('../internal/canvases');\r\n\tconst {ceil, PI} = Math;\r\n\r\n\tfunction strokeColorsRect(ctx, borderColors, left, top, width, height) {\r\n\t\tfunction strokeRectLines(positions) {\r\n\t\t\tfor (let i = 0; i < borderColors.length; i++) {\r\n\t\t\t\tconst color = borderColors[i];\r\n\t\t\t\tconst preColor = borderColors[i - 1];\r\n\t\t\t\tif (color) {\r\n\t\t\t\t\tif (preColor !== color) {\r\n\t\t\t\t\t\tif (preColor) {\r\n\t\t\t\t\t\t\tctx.strokeStyle = preColor;\r\n\t\t\t\t\t\t\tctx.stroke();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconst pos1 = positions[i];\r\n\t\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\t\tctx.moveTo(pos1.x, pos1.y);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst pos2 = positions[i + 1];\r\n\t\t\t\t\tctx.lineTo(pos2.x, pos2.y);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (preColor) {\r\n\t\t\t\t\t\tctx.strokeStyle = preColor;\r\n\t\t\t\t\t\tctx.stroke();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconst preColor = borderColors[borderColors.length - 1];\r\n\t\t\tif (preColor) {\r\n\t\t\t\tctx.strokeStyle = preColor;\r\n\t\t\t\tctx.stroke();\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (borderColors[0] === borderColors[1] &&\r\n\t\t\tborderColors[0] === borderColors[2] &&\r\n\t\t\tborderColors[0] === borderColors[3]) {\r\n\t\t\tif (borderColors[0]) {\r\n\t\t\t\tctx.strokeStyle = borderColors[0];\r\n\t\t\t\tctx.strokeRect(left, top, width, height);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tstrokeRectLines([\r\n\t\t\t\t{x: left, y: top},\r\n\t\t\t\t{x: left + width, y: top},\r\n\t\t\t\t{x: left + width, y: top + height},\r\n\t\t\t\t{x: left, y: top + height},\r\n\t\t\t\t{x: left, y: top},\r\n\t\t\t]);\r\n\t\t}\r\n\t}\r\n\tfunction roundRect(ctx, left, top, width, height, radius) {\r\n\t\tctx.beginPath();\r\n\t\tctx.arc(left + radius, top + radius, radius, -PI, -0.5 * PI, false);\r\n\t\tctx.arc(left + width - radius, top + radius, radius, -0.5 * PI, 0, false);\r\n\t\tctx.arc(left + width - radius, top + height - radius, radius, 0, 0.5 * PI, false);\r\n\t\tctx.arc(left + radius, top + height - radius, radius, 0.5 * PI, PI, false);\r\n\t\tctx.closePath();\r\n\t}\r\n\tfunction fillRoundRect(ctx, left, top, width, height, radius) {\r\n\t\troundRect(ctx, left, top, width, height, radius);\r\n\t\tctx.fill();\r\n\t}\r\n\tfunction strokeRoundRect(ctx, left, top, width, height, radius) {\r\n\t\troundRect(ctx, left, top, width, height, radius);\r\n\t\tctx.stroke();\r\n\t}\r\n\tfunction fillTextRect(ctx, text, left, top, width, height,\r\n\t\t\t{\r\n\t\t\t\toffset = 2,\r\n\t\t\t\tpadding,\r\n\t\t\t} = {}) {\r\n\t\tconst rect = {\r\n\t\t\tleft,\r\n\t\t\ttop,\r\n\t\t\twidth,\r\n\t\t\theight,\r\n\t\t\tright: left + width,\r\n\t\t\tbottom: top + height,\r\n\t\t};\r\n\t\tctx.save();\r\n\t\ttry {\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\r\n\t\t\t//clip\r\n\t\t\tctx.clip();\r\n\r\n\t\t\t//\r\n\t\t\tconst pos = calcBasePosition(ctx, rect, {\r\n\t\t\t\toffset,\r\n\t\t\t\tpadding\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tctx.fillText(text, pos.x, pos.y);\r\n\t\t} finally {\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t}\r\n\tfunction drawInlineImageRect(ctx, image,\r\n\t\t\tsrcLeft, srcTop, srcWidth, srcHeight,\r\n\t\t\tdestWidth, destHeight,\r\n\t\t\tleft, top, width, height,\r\n\t\t\t{\r\n\t\t\t\toffset = 2,\r\n\t\t\t\tpadding,\r\n\t\t\t} = {}) {\r\n\t\tconst rect = {\r\n\t\t\tleft,\r\n\t\t\ttop,\r\n\t\t\twidth,\r\n\t\t\theight,\r\n\t\t\tright: left + width,\r\n\t\t\tbottom: top + height,\r\n\t\t};\r\n\t\tctx.save();\r\n\t\ttry {\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\r\n\t\t\t//clip\r\n\t\t\tctx.clip();\r\n\r\n\t\t\t//\r\n\t\t\tconst pos = calcStartPosition(ctx, rect, destWidth, destHeight, {\r\n\t\t\t\toffset,\r\n\t\t\t\tpadding\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tctx.drawImage(image,\r\n\t\t\t\t\tsrcLeft, srcTop, srcWidth, srcHeight,\r\n\t\t\t\t\tpos.x, pos.y, destWidth, destHeight\r\n\t\t\t);\r\n\t\t} finally {\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Returns an object containing the width of the checkbox.\r\n\t * @param  {CanvasRenderingContext2D} ctx canvas context\r\n\t * @return {Object} Object containing the width of the checkbox\r\n\t * @memberof cheetahGrid.tools.canvashelper\r\n\t */\r\n\tfunction measureCheckbox(ctx) {\r\n\t\treturn {\r\n\t\t\twidth: ctx.measureText('').width\r\n\t\t};\r\n\t}\r\n\t\t\r\n\t/**\r\n\t * draw Checkbox\r\n\t * @param  {CanvasRenderingContext2D} ctx canvas context\r\n\t * @param  {number} x The x coordinate where to start drawing the checkbox (relative to the canvas)\r\n\t * @param  {number} y The y coordinate where to start drawing the checkbox (relative to the canvas)\r\n\t * @param  {boolean|number} check checkbox check status\r\n\t * @param  {object} option option\r\n\t * @return {void}\r\n\t * @memberof cheetahGrid.tools.canvashelper\r\n\t */\r\n\tfunction drawCheckbox(ctx, x, y, check,\r\n\t\t\t{\r\n\t\t\t\tuncheckBgColor = '#FFF',\r\n\t\t\t\tcheckBgColor = 'rgb(76, 73, 72)',\r\n\t\t\t\tborderColor = '#000',\r\n\t\t\t\tboxSize = measureCheckbox(ctx).width,\r\n\t\t\t} = {}) {\r\n\t\tconst checkPoint = typeof check === 'number' ? (check > 1 ? 1 : check) : 1;\r\n\r\n\t\tctx.save();\r\n\t\ttry {\r\n\t\t\tctx.fillStyle = check ? checkBgColor : uncheckBgColor;\r\n\t\t\t\r\n\t\t\tfillRoundRect(\r\n\t\t\t\t\tctx,\r\n\t\t\t\t\tceil(x) - 1,\r\n\t\t\t\t\tceil(y) - 1,\r\n\t\t\t\t\tceil(boxSize + 1),\r\n\t\t\t\t\tceil(boxSize + 1),\r\n\t\t\t\t\tboxSize / 5\r\n\t\t\t);\r\n\t\t\tctx.lineWidth = 1;\r\n\t\t\tctx.strokeStyle = borderColor;\r\n\t\t\tstrokeRoundRect(\r\n\t\t\t\t\tctx,\r\n\t\t\t\t\tceil(x) - 0.5,\r\n\t\t\t\t\tceil(y) - 0.5,\r\n\t\t\t\t\tceil(boxSize),\r\n\t\t\t\t\tceil(boxSize),\r\n\t\t\t\t\tboxSize / 5\r\n\t\t\t);\r\n\t\t\tif (check) {\r\n\t\t\t\tctx.lineWidth = ceil(boxSize / 10);\r\n\t\t\t\tctx.strokeStyle = uncheckBgColor;\r\n\t\t\t\tlet leftWidth = boxSize / 4;\r\n\t\t\t\tlet rightWidth = boxSize / 2 * 0.9;\r\n\t\t\t\tconst leftLeftPos = x + boxSize * 0.2;\r\n\t\t\t\tconst leftTopPos = y + boxSize / 2;\r\n\r\n\t\t\t\tif (checkPoint < 0.5) {\r\n\t\t\t\t\tleftWidth = leftWidth * (checkPoint * 2);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.moveTo(leftLeftPos, leftTopPos);\r\n\t\t\t\tctx.lineTo(leftLeftPos + leftWidth, leftTopPos + leftWidth);\r\n\t\t\t\tif (checkPoint > 0.5) {\r\n\t\t\t\t\tif (checkPoint < 1) {\r\n\t\t\t\t\t\trightWidth = rightWidth * ((checkPoint - 0.5) * 2);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tctx.lineTo(leftLeftPos + leftWidth + rightWidth, leftTopPos + leftWidth - rightWidth);\r\n\t\t\t\t}\r\n\t\t\t\tctx.stroke();\r\n\t\t\t}\r\n\t\t} finally {\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t}\r\n\tfunction drawButton(ctx, left, top, width, height, option = {}) {\r\n\t\tconst {\r\n\t\t\tbackgroundColor = '#FFF',\r\n\t\t\tbgColor = backgroundColor,\r\n\t\t\tradius = 4,\r\n\t\t\tshadow = {},\r\n\t\t} = option;\r\n\t\tctx.save();\r\n\t\ttry {\r\n\t\t\tctx.fillStyle = bgColor;\r\n\r\n\t\t\tif (shadow) {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tcolor = 'rgba(0, 0, 0, 0.24)',\r\n\t\t\t\t\tblur = 1,\r\n\t\t\t\t\toffsetX = 0,\r\n\t\t\t\t\toffsetY = 2,\r\n\t\t\t\t\toffset: {\r\n\t\t\t\t\t\tx: ox = offsetX,\r\n\t\t\t\t\t\ty: oy = offsetY\r\n\t\t\t\t\t} = {},\r\n\t\t\t\t} = shadow;\r\n\t\t\t\tctx.shadowColor = color;\r\n\t\t\t\tctx.shadowBlur = blur; //\r\n\t\t\t\tctx.shadowOffsetX = ox;\r\n\t\t\t\tctx.shadowOffsetY = oy;\r\n\t\t\t}\r\n\r\n\t\t\tfillRoundRect(\r\n\t\t\t\t\tctx,\r\n\t\t\t\t\tceil(left),\r\n\t\t\t\t\tceil(top),\r\n\t\t\t\t\tceil(width),\r\n\t\t\t\t\tceil(height),\r\n\t\t\t\t\tradius\r\n\t\t\t);\r\n\t\t} finally {\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * canvashelper\r\n\t * @type {Object}\r\n\t * @namespace cheetahGrid.tools.canvashelper\r\n\t * @memberof cheetahGrid.tools\r\n\t */\r\n\tconst canvashelper = {\r\n\t\troundRect,\r\n\t\tfillRoundRect,\r\n\t\tstrokeRoundRect,\r\n\t\tdrawCheckbox,\r\n\t\tmeasureCheckbox,\r\n\t\tfillTextRect,\r\n\t\tdrawButton,\r\n\t\tdrawInlineImageRect,\r\n\t\tstrokeColorsRect,\r\n\t};\r\n\r\n\r\n\tmodule.exports = canvashelper;\r\n}","'use strict';\r\n{\r\n\tconst action = require('./columns/action');\r\n\tconst type = require('./columns/type');\r\n\tconst style = require('./columns/style');\r\n\r\n\t/**\r\n\t * columns\r\n\t * @type {Object}\r\n\t * @namespace cheetahGrid.columns\r\n\t * @memberof cheetahGrid\r\n\t */\r\n\tmodule.exports = {\r\n\t\taction,\r\n\t\ttype,\r\n\t\tstyle,\r\n\t};\r\n}","'use strict';\r\n{\r\n\t\r\n\tconst {bindCellClickAction, bindCellKeyAction} = require('./actionBind');\r\n\r\n\tconst BaseAction = require('./BaseAction');\r\n\r\n\tclass Action extends BaseAction {\r\n\t\tconstructor(option = {}) {\r\n\t\t\tsuper(option);\r\n\t\t\tthis._action = option.action;\r\n\t\t}\r\n\t\tget action() {\r\n\t\t\treturn this._action;\r\n\t\t}\r\n\t\tset action(action) {\r\n\t\t\tthis._action = action;\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new Action(this);\r\n\t\t}\r\n\t\tgetState(grid) {\r\n\t\t\treturn {};\r\n\t\t}\r\n\t\tbindGridEvent(grid, col, util) {\r\n\t\t\tconst state = this.getState(grid);\r\n\t\t\tconst action = (cell) => {\r\n\t\t\t\tif (this.disabled) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst record = grid.getRowRecord(cell.row);\r\n\t\t\t\tthis._action(record);\r\n\t\t\t};\r\n\r\n\t\t\treturn [\r\n\t\t\t\t...bindCellClickAction(grid, col, util, {\r\n\t\t\t\t\taction,\r\n\t\t\t\t\tmouseOver: (e) => {\r\n\t\t\t\t\t\tif (this.disabled) {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tstate.mouseActiveCell = {\r\n\t\t\t\t\t\t\tcol: e.col,\r\n\t\t\t\t\t\t\trow: e.row\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tgrid.invalidateCell(e.col, e.row);\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmouseOut: (e) => {\r\n\t\t\t\t\t\tdelete state.mouseActiveCell;\r\n\t\t\t\t\t\tgrid.invalidateCell(e.col, e.row);\r\n\t\t\t\t\t},\r\n\t\t\t\t}),\r\n\t\t\t\t...bindCellKeyAction(grid, col, util, {\r\n\t\t\t\t\taction\r\n\t\t\t\t})\r\n\t\t\t];\r\n\t\t}\r\n\t}\r\n\r\n\tmodule.exports = Action;\r\n}","'use strict';\r\n{\r\n\t\r\n\tconst {isPromise, event: {cancel}} = require('../../internal/utils');\r\n\tconst {EVENT_TYPE: {\r\n\t\tCLICK_CELL,\r\n\t\tMOUSEOVER_CELL,\r\n\t\tMOUSEOUT_CELL,\r\n\t\tKEYDOWN,\r\n\t}} = require('../../core/DrawGrid');\r\n\tconst KEY_ENTER = 13;\r\n\tfunction bindCellClickAction(grid, col, util, {\r\n\t\taction,\r\n\t\tmouseOver,\r\n\t\tmouseOut\r\n\t}) {\r\n\t\treturn [\r\n\t\t\t// click\r\n\t\t\tgrid.listen(CLICK_CELL, (e) => {\r\n\t\t\t\tif (!util.isTarget(e.col, e.row)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (isPromise(grid.getRowRecord(e.row))) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\taction({\r\n\t\t\t\t\tcol: e.col,\r\n\t\t\t\t\trow: e.row\r\n\t\t\t\t});\r\n\t\t\t}),\r\n\t\t\t// mouse move\r\n\t\t\tgrid.listen(MOUSEOVER_CELL, (e) => {\r\n\t\t\t\tif (!util.isTarget(e.col, e.row)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (isPromise(grid.getRowRecord(e.row))) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (mouseOver) {\r\n\t\t\t\t\tif (!mouseOver({\r\n\t\t\t\t\t\tcol: e.col,\r\n\t\t\t\t\t\trow: e.row\r\n\t\t\t\t\t})) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tgrid.getElement().style.cursor = 'pointer';\r\n\t\t\t}),\r\n\t\t\tgrid.listen(MOUSEOUT_CELL, (e) => {\r\n\t\t\t\tif (!util.isTarget(e.col, e.row)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (mouseOut) {\r\n\t\t\t\t\tmouseOut({\r\n\t\t\t\t\t\tcol: e.col,\r\n\t\t\t\t\t\trow: e.row\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tgrid.getElement().style.cursor = '';\r\n\t\t\t}),\r\n\t\t];\r\n\t}\r\n\tfunction bindCellKeyAction(grid, col, util, {action, acceptKeys = []}) {\r\n\t\tacceptKeys = [...acceptKeys, KEY_ENTER];\r\n\t\treturn [\r\n\t\t\t// enter key down\r\n\t\t\tgrid.listen(KEYDOWN, (keyCode, e) => {\r\n\t\t\t\tif (acceptKeys.indexOf(keyCode) === -1) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst sel = grid.selection.select;\r\n\t\t\t\tif (!util.isTarget(sel.col, sel.row)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (isPromise(grid.getRowRecord(sel.row))) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\taction({\r\n\t\t\t\t\tcol: sel.col,\r\n\t\t\t\t\trow: sel.row\r\n\t\t\t\t});\r\n\t\t\t\tcancel(e);\r\n\t\t\t}),\r\n\r\n\t\t];\r\n\t}\r\n\r\n\tmodule.exports = {\r\n\t\tbindCellClickAction,\r\n\t\tbindCellKeyAction,\r\n\t};\r\n}","'use strict';\r\n{\r\n\tfunction cubicBezier(x2, y2, x3, y3) {\r\n\t\tlet step;\r\n\t\tconst err = 0.0001;\r\n\r\n\t\tx2 *= 3;\r\n\t\ty2 *= 3;\r\n\t\tx3 *= 3;\r\n\t\ty3 *= 3;\r\n\t\t\t\r\n\t\treturn function(t) {\r\n\t\t\tlet p,\r\n\t\t\t\ta,\r\n\t\t\t\tb,\r\n\t\t\t\tc,\r\n\t\t\t\td,\r\n\t\t\t\tx,\r\n\t\t\t\ts;\r\n\t\t\tif (t < 0 || 1 < t) {\r\n\t\t\t\tthrow new Error(t);\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tp = step || t;\r\n\r\n\t\t\tdo {\r\n\t\t\t\ta = 1 - p;\r\n\t\t\t\tb = a * a;\r\n\t\t\t\tc = p * p;\r\n\t\t\t\td = c * p;\r\n\t\t\t\t\t\r\n\t\t\t\tx = x2 * b * p + x3 * a * c + d;\r\n\t\t\t\ts = t - x;\r\n\t\t\t\tp += s * 0.5;\r\n\t\t\t} while (err < Math.abs(s));\r\n\r\n\t\t\tstep = p;\r\n\t\t\treturn\ty2 * b * p + y3 * a * c + d;\r\n\t\t};\r\n\t}\r\n\tconst EASINGS = {\r\n\t\tlinear(p) {\r\n\t\t\treturn p;\r\n\t\t},\r\n\t\teaseIn: cubicBezier(0.420, 0.000, 1.000, 1.000),\r\n\t\teaseOut: cubicBezier(0.000, 0.000, 0.580, 1.000),\r\n\t\teaseInOut: cubicBezier(0.420, 0.000, 0.580, 1.000),\r\n\t};\r\n\r\n\tconst raf = window.requestAnimationFrame || setTimeout;\r\n\t\r\n\tfunction now() {\r\n\t\treturn Date.now();\r\n\t}\r\n\t/**\r\n\t * <pre>\r\n\t * Animates.\r\n\t * </pre>\r\n\t * @function\r\n\t * @param {number} duration animation time.\r\n\t * @param {function} step\r\n\t * @param {function|string} easing\r\n\t * @returns {object} Deferred object.\r\n\t */\r\n\tmodule.exports = (duration, step, easing) => {\r\n\t\tconst startedAt = now();\r\n\r\n\t\tif (!easing) {\r\n\t\t\teasing = EASINGS.easeInOut;\r\n\t\t} else if (typeof easing === 'string') {\r\n\t\t\teasing = EASINGS[easing];\r\n\t\t}\r\n\r\n\t\tlet canceledFlg = false;\r\n\t\tconst createAnim = (resolve, reject) => {\r\n\t\t\tconst anim = () => {\r\n\t\t\t\tconst point = now() - startedAt;\r\n\t\t\t\tif (canceledFlg) {\r\n\t\t\t\t\t//cancel\r\n\t\t\t\t\tif (reject) { reject(); }\r\n\t\t\t\t} else if (point >= duration) {\r\n\t\t\t\t\t//end\r\n\t\t\t\t\tstep(1);\r\n\t\t\t\t\tif (resolve) { resolve(); }\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstep(easing(point / duration));\r\n\r\n\t\t\t\t\traf(anim, 1);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\treturn anim;\r\n\t\t};\r\n\t\tconst cancel = () => {\r\n\t\t\tcanceledFlg = true;\r\n\t\t};\r\n\t\tif (window.Promise) {\r\n\t\t\tconst result = new window.Promise((resolve, reject) => {\r\n\t\t\t\tconst anim = createAnim(resolve, reject);\r\n\t\t\t\tstep(0);\r\n\t\t\t\tanim();\r\n\t\t\t});\r\n\t\t\tresult.cancel = cancel;\r\n\t\t\treturn result;\r\n\t\t} else {\r\n\t\t\tconst anim = createAnim(() => {}, () => {});\r\n\t\t\tstep(0);\r\n\t\t\tanim();\r\n\t\t\treturn {\r\n\t\t\t\tcancel,\r\n\t\t\t};\r\n\t\t}\r\n\t};\r\n}","'use strict';\r\n{\r\n\t\r\n\tconst Editor = require('./Editor');\r\n\tconst {EVENT_TYPE: {\r\n\t\tINPUT_CELL,\r\n\t\tEDITABLEINPUT_CELL,\r\n\t\tSELECTED_CELL,\r\n\t\tDBLCLICK_CELL,\r\n\t\tDBLTAP_CELL,\r\n\t\tKEYDOWN,\r\n\t\tMODIFY_STATUS_EDITABLEINPUT_CELL,\r\n\t\tSCROLL\r\n\t}} = require('../../core/DrawGrid');\r\n\tconst KEY_ENTER = 13;\r\n\tconst KEY_F2 = 113;\r\n\r\n\tclass BaseInputEditor extends Editor {\r\n\t\tconstructor(option = {}) {\r\n\t\t\tsuper(option);\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new BaseInputEditor(this);\r\n\t\t}\r\n\t\tonInputCellInternal(grid, cell, inputValue) {\r\n\t\t\tthrow new Error();\r\n\t\t}\r\n\t\tonOpenCellInternal(grid, cell) {\r\n\t\t\tthrow new Error();\r\n\t\t}\r\n\t\tonChangeSelectCellInternal(grid, cell, selected) {\r\n\t\t\tthrow new Error();\r\n\t\t}\r\n\t\tonSetInputAttrsInternal(grid, cell, input) {\r\n\t\t\tthrow new Error();\r\n\t\t}\r\n\t\tonGridScrollInternal(grid) {\r\n\t\t\tthrow new Error();\r\n\t\t}\r\n\t\tbindGridEvent(grid, col, util) {\r\n\t\t\tconst open = (cell) => {\r\n\t\t\t\tif (this.readOnly || this.disabled) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.onOpenCellInternal(grid, cell);\r\n\t\t\t};\r\n\r\n\t\t\tconst input = (cell, value) => {\r\n\t\t\t\tif (this.readOnly || this.disabled) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.onInputCellInternal(grid, cell, value);\r\n\t\t\t};\r\n\t\t\treturn [\r\n\t\t\t\tgrid.listen(INPUT_CELL, (e) => {\r\n\t\t\t\t\tif (!util.isTarget(e.col, e.row)) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tinput({\r\n\t\t\t\t\t\tcol: e.col,\r\n\t\t\t\t\t\trow: e.row\r\n\t\t\t\t\t}, e.value);\r\n\t\t\t\t}),\r\n\t\t\t\tgrid.listen(DBLCLICK_CELL, (cell) => {\r\n\t\t\t\t\tif (!util.isTarget(cell.col, cell.row)) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\topen({\r\n\t\t\t\t\t\tcol: cell.col,\r\n\t\t\t\t\t\trow: cell.row\r\n\t\t\t\t\t});\r\n\t\t\t\t}),\r\n\t\t\t\tgrid.listen(DBLTAP_CELL, (cell) => {\r\n\t\t\t\t\tif (!util.isTarget(cell.col, cell.row)) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\topen({\r\n\t\t\t\t\t\tcol: cell.col,\r\n\t\t\t\t\t\trow: cell.row\r\n\t\t\t\t\t});\r\n\t\t\t\t}),\r\n\t\t\t\tgrid.listen(KEYDOWN, (keyCode, e) => {\r\n\t\t\t\t\tif (keyCode !== KEY_F2 && keyCode !== KEY_ENTER) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst sel = grid.selection.select;\r\n\t\t\t\t\tif (!util.isTarget(sel.col, sel.row)) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\topen({\r\n\t\t\t\t\t\tcol: sel.col,\r\n\t\t\t\t\t\trow: sel.row\r\n\t\t\t\t\t});\r\n\t\t\t\t}),\r\n\t\t\t\tgrid.listen(SELECTED_CELL, (cell, selected) => {\r\n\t\t\t\t\tthis.onChangeSelectCellInternal(grid, cell, selected);\r\n\t\t\t\t}),\r\n\t\t\t\tgrid.listen(SCROLL, () => {\r\n\t\t\t\t\tthis.onGridScrollInternal(grid);\r\n\t\t\t\t}),\r\n\t\t\t\tgrid.listen(EDITABLEINPUT_CELL, (cell) => {\r\n\t\t\t\t\tif (!util.isTarget(cell.col, cell.row)) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.readOnly || this.disabled) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}),\r\n\t\t\t\tgrid.listen(MODIFY_STATUS_EDITABLEINPUT_CELL, (cell) => {\r\n\t\t\t\t\tif (!util.isTarget(cell.col, cell.row)) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.readOnly || this.disabled) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.onSetInputAttrsInternal(grid, {\r\n\t\t\t\t\t\tcol: cell.col,\r\n\t\t\t\t\t\trow: cell.row\r\n\t\t\t\t\t}, cell.input);\r\n\t\t\t\t}),\r\n\t\t\t\t\r\n\t\t\t];\r\n\t\t}\r\n\t}\r\n\r\n\tmodule.exports = BaseInputEditor;\r\n}","'use strict';\r\n\r\nfunction normalize(options) {\r\n\tif (!options) {\r\n\t\treturn [];\r\n\t}\r\n\tif (Array.isArray(options)) {\r\n\t\treturn options;\r\n\t}\r\n\tif (typeof options === 'string') {\r\n\t\treturn normalize(JSON.parse(options));\r\n\t}\r\n\tconst result = [];\r\n\tfor (const k in options) {\r\n\t\tresult.push({\r\n\t\t\tvalue: k,\r\n\t\t\tcaption: options[k]\r\n\t\t});\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nmodule.exports = {\r\n\tnormalize,\r\n};\r\n","'use strict';\r\n{\r\n\tconst BaseStyle = require('./style/BaseStyle');\r\n\tconst Style = require('./style/Style');\r\n\tconst NumberStyle = require('./style/NumberStyle');\r\n\tconst CheckStyle = require('./style/CheckStyle');\r\n\tconst ButtonStyle = require('./style/ButtonStyle');\r\n\tconst ImageStyle = require('./style/ImageStyle');\r\n\tconst IconStyle = require('./style/IconStyle');\r\n\tconst PercentCompleteBarStyle = require('./style/PercentCompleteBarStyle');\r\n\r\n\t/**\r\n\t * column styles\r\n\t * @type {Object}\r\n\t * @namespace cheetahGrid.columns.style\r\n\t * @memberof cheetahGrid.columns\r\n\t */\r\n\tconst style = {\r\n\t\tget EVENT_TYPE() {\r\n\t\t\treturn BaseStyle.EVENT_TYPE;\r\n\t\t},\r\n\t\tget BaseStyle() {\r\n\t\t\treturn BaseStyle;\r\n\t\t},\r\n\t\tget Style() {\r\n\t\t\treturn Style;\r\n\t\t},\r\n\t\tget NumberStyle() {\r\n\t\t\treturn NumberStyle;\r\n\t\t},\r\n\t\tget CheckStyle() {\r\n\t\t\treturn CheckStyle;\r\n\t\t},\r\n\t\tget ButtonStyle() {\r\n\t\t\treturn ButtonStyle;\r\n\t\t},\r\n\t\tget ImageStyle() {\r\n\t\t\treturn ImageStyle;\r\n\t\t},\r\n\t\tget IconStyle() {\r\n\t\t\treturn IconStyle;\r\n\t\t},\r\n\t\tget PercentCompleteBarStyle() {\r\n\t\t\treturn PercentCompleteBarStyle;\r\n\t\t},\r\n\t\tof(columnStyle, record, StyleClass) {\r\n\t\t\tif (columnStyle) {\r\n\t\t\t\tif (columnStyle instanceof Style) {\r\n\t\t\t\t\treturn columnStyle;\r\n\t\t\t\t} else if (typeof columnStyle === 'function') {\r\n\t\t\t\t\treturn style.of(columnStyle(record), record, StyleClass);\r\n\t\t\t\t} else if (record && columnStyle in record) {\r\n\t\t\t\t\treturn style.of(record[columnStyle], record, StyleClass);\r\n\t\t\t\t}\r\n\t\t\t\treturn new StyleClass(columnStyle);\r\n\t\t\t} else {\r\n\t\t\t\treturn StyleClass.DEFAULT;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tmodule.exports = style;\r\n}","'use strict';\r\n{\r\n\tconst Style = require('./Style');\r\n\r\n\tfunction adj(style) {\r\n\t\tconst {textAlign = 'right'} = style;\r\n\t\tstyle.textAlign = textAlign;\r\n\t\treturn style;\r\n\t}\r\n\tlet defaultStyle;\r\n\tclass NumberStyle extends Style {\r\n\t\tstatic get DEFAULT() {\r\n\t\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new NumberStyle());\r\n\t\t}\r\n\t\tconstructor(style = {}) {\r\n\t\t\tsuper(adj(style));\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new NumberStyle(this);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tmodule.exports = NumberStyle;\r\n}","'use strict';\r\n{\r\n\tconst StdBaseStyle = require('./StdBaseStyle');\r\n\r\n\tfunction adj(style) {\r\n\t\tconst {textAlign = 'center'} = style;\r\n\t\tstyle.textAlign = textAlign;\r\n\t\treturn style;\r\n\t}\r\n\tlet defaultStyle;\r\n\tclass CheckStyle extends StdBaseStyle {\r\n\t\tstatic get DEFAULT() {\r\n\t\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new CheckStyle());\r\n\t\t}\r\n\t\tconstructor(style = {}) {\r\n\t\t\tsuper(adj(style));\r\n\t\t\tconst {\r\n\t\t\t\tuncheckBgColor,\r\n\t\t\t\tcheckBgColor,\r\n\t\t\t\tborderColor,\r\n\t\t\t} = style;\r\n\t\t\tthis._uncheckBgColor = uncheckBgColor;\r\n\t\t\tthis._checkBgColor = checkBgColor;\r\n\t\t\tthis._borderColor = borderColor;\r\n\t\t}\r\n\t\tget uncheckBgColor() {\r\n\t\t\treturn this._uncheckBgColor;\r\n\t\t}\r\n\t\tset uncheckBgColor(uncheckBgColor) {\r\n\t\t\tthis._uncheckBgColor = uncheckBgColor;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t\tget checkBgColor() {\r\n\t\t\treturn this._checkBgColor;\r\n\t\t}\r\n\t\tset checkBgColor(checkBgColor) {\r\n\t\t\tthis._checkBgColor = checkBgColor;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t\tget borderColor() {\r\n\t\t\treturn this._borderColor;\r\n\t\t}\r\n\t\tset borderColor(borderColor) {\r\n\t\t\tthis._borderColor = borderColor;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new CheckStyle(this);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tmodule.exports = CheckStyle;\r\n}","'use strict';\r\n{\r\n\tconst Style = require('./Style');\r\n\r\n\tfunction adj(style) {\r\n\t\tconst {textAlign = 'center'} = style;\r\n\t\tstyle.textAlign = textAlign;\r\n\t\treturn style;\r\n\t}\r\n\tlet defaultStyle;\r\n\tclass ButtonStyle extends Style {\r\n\t\tstatic get DEFAULT() {\r\n\t\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new ButtonStyle());\r\n\t\t}\r\n\t\tconstructor(style = {}) {\r\n\t\t\tsuper(adj(style));\r\n\t\t\tconst {\r\n\t\t\t\tbuttonBgColor,\r\n\t\t\t} = style;\r\n\t\t\tthis._buttonBgColor = buttonBgColor;\r\n\t\t}\r\n\t\tget buttonBgColor() {\r\n\t\t\treturn this._buttonBgColor;\r\n\t\t}\r\n\t\tset buttonBgColor(buttonBgColor) {\r\n\t\t\tthis._buttonBgColor = buttonBgColor;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new ButtonStyle(this);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tmodule.exports = ButtonStyle;\r\n}","'use strict';\r\n{\r\n\tconst StdBaseStyle = require('./StdBaseStyle');\r\n\tlet defaultStyle;\r\n\tfunction adj(style) {\r\n\t\tconst {textAlign = 'center'} = style;\r\n\t\tstyle.textAlign = textAlign;\r\n\t\treturn style;\r\n\t}\r\n\tclass ImageStyle extends StdBaseStyle {\r\n\t\tstatic get DEFAULT() {\r\n\t\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new ImageStyle());\r\n\t\t}\r\n\t\tconstructor(style = {}) {\r\n\t\t\tsuper(adj(style));\r\n\t\t\tthis._imageSizing = style.imageSizing;\r\n\t\t\tthis._margin = style.margin || 4;\r\n\t\t}\r\n\t\tget imageSizing() {\r\n\t\t\treturn this._imageSizing;\r\n\t\t}\r\n\t\tset imageSizing(imageSizing) {\r\n\t\t\tthis._imageSizing = imageSizing;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t\tget margin() {\r\n\t\t\treturn this._margin;\r\n\t\t}\r\n\t\tset margin(margin) {\r\n\t\t\tthis._margin = margin;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new ImageStyle(this);\r\n\t\t}\r\n\t}\r\n\tmodule.exports = ImageStyle;\r\n}","'use strict';\r\n{\r\n\tconst Style = require('./Style');\r\n\r\n\tfunction adj(style) {\r\n\t\tconst {textAlign = 'center'} = style;\r\n\t\tstyle.textAlign = textAlign;\r\n\t\treturn style;\r\n\t}\r\n\tlet defaultStyle;\r\n\tclass IconStyle extends Style {\r\n\t\tstatic get DEFAULT() {\r\n\t\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new IconStyle());\r\n\t\t}\r\n\t\tconstructor(style = {}) {\r\n\t\t\tsuper(adj(style));\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new IconStyle(this);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tmodule.exports = IconStyle;\r\n}","'use strict';\r\n{\r\n\tconst Style = require('./Style');\r\n\tlet defaultStyle;\r\n\tconst DEFAULT_BAR_COLOR = (num) => {\r\n\t\tif (num > 80) {\r\n\t\t\treturn '#20a8d8';\r\n\t\t}\r\n\t\tif (num > 50) {\r\n\t\t\treturn '#4dbd74';\r\n\t\t}\r\n\t\tif (num > 20) {\r\n\t\t\treturn '#ffc107';\r\n\t\t}\r\n\t\treturn '#f86c6b';\r\n\t};\r\n\tclass PercentCompleteBarStyle extends Style {\r\n\t\tstatic get DEFAULT() {\r\n\t\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new PercentCompleteBarStyle());\r\n\t\t}\r\n\t\tconstructor(style = {}) {\r\n\t\t\tsuper(style);\r\n\t\t\tthis._barColor = style.barColor || DEFAULT_BAR_COLOR;\r\n\t\t\tthis._barBgColor = style.barBgColor || '#f0f3f5';\r\n\t\t\tthis._barHeight = style.barHeight || 3;\r\n\t\t}\r\n\t\tget barColor() {\r\n\t\t\treturn this._barColor;\r\n\t\t}\r\n\t\tset barColor(barColor) {\r\n\t\t\tthis._barColor = barColor;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t\tget barBgColor() {\r\n\t\t\treturn this._barBgColor;\r\n\t\t}\r\n\t\tset barBgColor(barBgColor) {\r\n\t\t\tthis._barBgColor = barBgColor;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t\tget barHeight() {\r\n\t\t\treturn this._barHeight;\r\n\t\t}\r\n\t\tset barHeight(barHeight) {\r\n\t\t\tthis._barHeight = barHeight;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new PercentCompleteBarStyle(this);\r\n\t\t}\r\n\t}\r\n\tmodule.exports = PercentCompleteBarStyle;\r\n}","'use strict';\r\n\r\nconst {isPromise} = require('./utils');\r\nconst LRUCache = require('./LRUCache');\r\n\r\nconst allCache = {};\r\n\r\nfunction isDataUrl(url) {\r\n\treturn url.search(/^(data:)/) !== -1;\r\n}\r\n\r\nfunction loadImage(src) {\r\n\tif (!window.Promise) {\r\n\t\tconsole.error('Promise is not loaded. load Promise before this process.');\r\n\t\treturn {\r\n\t\t\tthen() {\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\tconst img = new Image();\r\n\tconst result = new window.Promise((resolve) => {\r\n\t\timg.onload = () => {\r\n\t\t\tresolve(img);\r\n\t\t};\r\n\t});\r\n\timg.onerror = (e) => {\r\n\t\tconst url = src.length > 200 ? `${src.substr(0, 200)}...` : src;\r\n\t\tconsole.warn(`cannot load: ${url}`);\r\n\t\tthrow new Error(`IMAGE LOAD ERROR: ${url}`);\r\n\t};\r\n\timg.src = isDataUrl(src) ? src : `${src}?${Date.now()}`;\r\n\treturn result;\r\n}\r\n\r\nfunction getCacheOrLoad0(cache, src) {\r\n\tif (isPromise(src)) {\r\n\t\treturn src.then((u) => getCacheOrLoad0(cache, u));\r\n\t}\r\n\tconst c = cache.get(src);\r\n\tif (c) {\r\n\t\treturn c;\r\n\t}\r\n\tconst result = loadImage(src).then((img) => {\r\n\t\tcache.put(src, img);\r\n\t\treturn img;\r\n\t});\r\n\tcache.put(src, result);\r\n\treturn result;\r\n}\r\n\r\nfunction getCacheOrLoad(cacheName, cacheSize, src) {\r\n\tconst cache = allCache[cacheName] || (allCache[cacheName] = new LRUCache(cacheSize));\r\n\treturn getCacheOrLoad0(cache, src);\r\n}\r\n\r\nmodule.exports = {\r\n\tloadImage,\r\n\tgetCacheOrLoad,\r\n};\r\n","/*eslint no-bitwise:0*/\r\n'use strict';\r\n\r\nfunction FROZEN_ROWS_BORDER_COLOR(args) {\r\n\tconst {\r\n\t\trow,\r\n\t\tgrid: {frozenRowCount}\r\n\t} = args;\r\n\tif (frozenRowCount - 1 === row) {\r\n\t\treturn ['#f2f2f2', '#f2f2f2', '#ccc7c7', '#f2f2f2'];\r\n\t} else {\r\n\t\treturn ['#f2f2f2'];\r\n\t}\r\n}\r\nfunction BORDER_COLOR(args) {\r\n\tconst {\r\n\t\tcol,\r\n\t\tgrid: {colCount}\r\n\t} = args;\r\n\tif (colCount - 1 === col) {\r\n\t\treturn ['#ccc7c7', '#f2f2f2', '#ccc7c7', null];\r\n\t} else {\r\n\t\treturn ['#ccc7c7', null];\r\n\t}\r\n}\r\n/**\r\n * material design theme\r\n * @name MATERIAL_DESIGN\r\n * @type {Object}\r\n * @memberof cheetahGrid.themes.choices\r\n */\r\nmodule.exports = {\r\n\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\tdefaultBgColor: '#FFF',\r\n\tfrozenRowsBgColor: '#FFF',\r\n\tfrozenRowsColor: 'rgba(0, 0, 0, 0.54)',\r\n\thiliteBorderColor: '#5E9ED6',\r\n\tselectionBgColor: '#CCE0FF',\r\n\tborderColor: BORDER_COLOR,\r\n\tfrozenRowsBorderColor: FROZEN_ROWS_BORDER_COLOR,\r\n\tcheckbox: {\r\n\t\tuncheckBgColor: '#FFF',\r\n\t\tcheckBgColor: 'rgb(76, 73, 72)',\r\n\t\tborderColor: 'rgba(0, 0, 0, 0.26)',\r\n\t},\r\n\tbutton: {\r\n\t\tcolor: '#FFF',\r\n\t\tbgColor: '#2196F3',\r\n\t},\r\n\tunderlayBackgroundColor: '#FFF',\r\n};","'use strict';\r\n\r\nmodule.exports = {};","'use strict';\r\n{\r\n\tconst DataSource = require('./data/DataSource');\r\n\tconst CachedDataSource = require('./data/CachedDataSource');\r\n\t\r\n\r\n\t/**\r\n\t * data modules\r\n\t * @type {Object}\r\n\t * @namespace cheetahGrid.data\r\n\t * @memberof cheetahGrid\r\n\t */\r\n\tmodule.exports = {\r\n\t\tDataSource,\r\n\t\tCachedDataSource\r\n\t};\r\n}","'use strict';\r\n{\r\n\tconst {array, isDef, isPromise, getOrApply, applyChainSafe, emptyFn} = require('../internal/utils');\r\n\tconst sort = require('../internal/sort');\r\n\tconst EventTarget = require('../core/EventTarget');\r\n\r\n\tconst EVENT_TYPE = {\r\n\t\tUPDATE_LENGTH: 'update_length',\r\n\t\tUPDATED_LENGTH: 'updated_length',\r\n\t\tUPDATED_ORDER: 'updated_order',\r\n\t};\r\n\r\n\tfunction getValue(value, setPromiseBack) {\r\n\t\tvalue = getOrApply(value);\r\n\t\tif (isPromise(value)) {\r\n\t\t\tvalue = value.then((r) => {\r\n\t\t\t\tif (!isPromise(r)) {\r\n\t\t\t\t\tsetPromiseBack(r);\r\n\t\t\t\t}\r\n\t\t\t\treturn getValue(r, setPromiseBack);\r\n\t\t\t});\r\n\t\t\t//\r\n\t\t\tsetPromiseBack(value);\r\n\t\t}\r\n\t\treturn value;\r\n\t}\r\n\r\n\tfunction getField(record, field, setPromiseBack) {\r\n\t\tif (!isDef(record)) {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t\tif (isPromise(record)) {\r\n\t\t\treturn record.then((r) => getField(r, field, setPromiseBack));\r\n\t\t}\r\n\t\tif (field in record) {\r\n\t\t\treturn getValue(record[field], setPromiseBack);\r\n\t\t}\r\n\t\tif (typeof field === 'function') {\r\n\t\t\treturn getValue(field(record), setPromiseBack);\r\n\t\t}\r\n\r\n\t\tconst ss = (field + '').split('.');\r\n\t\tif (ss.length <= 1) {\r\n\t\t\treturn getValue(record[field], setPromiseBack);\r\n\t\t}\r\n\t\treturn getValue(applyChainSafe(record, (val, name) => getField(val, name, emptyFn), ...ss), setPromiseBack);\r\n\t}\r\n\tfunction setField(record, field, value) {\r\n\t\tif (field in record) {\r\n\t\t\trecord[field] = value;\r\n\t\t} else if (typeof field === 'function') {\r\n\t\t\treturn field(record, value);\r\n\t\t} else if (typeof field === 'string') {\r\n\t\t\tconst ss = (field + '').split('.');\r\n\t\t\tlet obj = record;\r\n\t\t\tconst {length} = ss;\r\n\t\t\tfor (let i = 0; i < length; i++) {\r\n\t\t\t\tconst f = ss[i];\r\n\t\t\t\tif (i === length - 1) {\r\n\t\t\t\t\tobj[f] = value;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tobj = obj[f] || (obj[f] = {});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\trecord[field] = value;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\tfunction _getIndex(dataSource, index) {\r\n\t\tif (!dataSource._sortedIndexMap) {\r\n\t\t\treturn index;\r\n\t\t}\r\n\t\tconst mapIndex = dataSource._sortedIndexMap[index];\r\n\t\treturn isDef(mapIndex) ? mapIndex : index;\r\n\t}\r\n\r\n\t/**\r\n\t * grid data source\r\n\t *\r\n\t * @classdesc cheetahGrid.data.DataSource\r\n\t * @extends EventTarget\r\n\t * @memberof cheetahGrid.data\r\n\t */\r\n\tclass DataSource extends EventTarget {\r\n\t\tstatic get EVENT_TYPE() {\r\n\t\t\treturn EVENT_TYPE;\r\n\t\t}\r\n\t\tstatic ofArray(array) {\r\n\t\t\treturn new DataSource({\r\n\t\t\t\tget: (index) => array[index],\r\n\t\t\t\tlength: array.length\r\n\t\t\t});\r\n\t\t}\r\n\t\tconstructor({get, length = 0} = {}) {\r\n\t\t\tsuper();\r\n\t\t\tthis._get = get;\r\n\t\t\tthis._length = length;\r\n\t\t\tthis._sortedIndexMap = false;\r\n\t\t}\r\n\t\tget(index) {\r\n\t\t\treturn this.getOriginal(_getIndex(this, index));\r\n\t\t}\r\n\t\tgetField(index, field) {\r\n\t\t\treturn this.getOriginalField(_getIndex(this, index), field);\r\n\t\t}\r\n\t\thasField(index, field) {\r\n\t\t\treturn this.hasOriginalField(_getIndex(this, index), field);\r\n\t\t}\r\n\t\tsetField(index, field, value) {\r\n\t\t\treturn this.setOriginalField(_getIndex(this, index), field, value);\r\n\t\t}\r\n\t\tsort(field, order) {\r\n\t\t\tconst sortedIndexMap = new Array(this._length);\r\n\r\n\t\t\tconst orderFn = order !== 'desc'\r\n\t\t\t\t? (v1, v2) => v1 === v2 ? 0 : v1 > v2 ? 1 : -1\r\n\t\t\t\t: (v1, v2) => v1 === v2 ? 0 : v1 < v2 ? 1 : -1;\r\n\r\n\t\t\treturn sort.sortPromise(\r\n\t\t\t\t\t(index) => isDef(sortedIndexMap[index])\r\n\t\t\t\t\t\t? sortedIndexMap[index]\r\n\t\t\t\t\t\t: (sortedIndexMap[index] = index),\r\n\t\t\t\t\t(index, rel) => {\r\n\t\t\t\t\t\tsortedIndexMap[index] = rel;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tthis._length,\r\n\t\t\t\t\torderFn,\r\n\t\t\t\t\t(index) => this.getOriginalField(index, field)\r\n\t\t\t).then(() => {\r\n\t\t\t\tthis._sortedIndexMap = sortedIndexMap;\r\n\t\t\t\tthis.fireListeners(EVENT_TYPE.UPDATED_ORDER);\r\n\t\t\t});\r\n\t\t}\r\n\t\tget length() {\r\n\t\t\treturn this._length;\r\n\t\t}\r\n\t\tset length(length) {\r\n\t\t\tconst results = this.fireListeners(EVENT_TYPE.UPDATE_LENGTH, length);\r\n\t\t\tif (array.findIndex(results, (v) => !v) >= 0) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis._length = length;\r\n\t\t\tthis.fireListeners(EVENT_TYPE.UPDATED_LENGTH, this._length);\r\n\t\t}\r\n\t\tdispose() {\r\n\t\t\tsuper.dispose();\r\n\t\t}\r\n\t\tgetOriginal(index) {\r\n\t\t\treturn getValue(this._get(index), (val) => {\r\n\t\t\t\tthis.recordPromiseCallBackInternal(index, val);\r\n\t\t\t});\r\n\t\t}\r\n\t\tgetOriginalField(index, field) {\r\n\t\t\tif (!isDef(field)) {\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\t\t\tconst record = this.getOriginal(index);\r\n\t\t\treturn getField(record, field, (val) => {\r\n\t\t\t\tthis.fieldPromiseCallBackInternal(index, field, val);\r\n\t\t\t});\r\n\t\t}\r\n\t\thasOriginalField(index, field) {\r\n\t\t\tif (!isDef(field)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (typeof field === 'function') {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tconst record = this.getOriginal(index);\r\n\t\t\treturn field in record;\r\n\t\t}\r\n\t\tsetOriginalField(index, field, value) {\r\n\t\t\tif (!isDef(field)) {\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\t\t\tconst record = this.getOriginal(index);\r\n\t\t\treturn setField(record, field, value);\r\n\t\t}\r\n\t\tfieldPromiseCallBackInternal(index, field, val) {\r\n\t\t\t//\r\n\t\t}\r\n\t\trecordPromiseCallBackInternal(index, val) {\r\n\t\t\t//\r\n\t\t}\r\n\t}\r\n\tDataSource.EMPTY = new DataSource({\r\n\t\tlength: 0,\r\n\t});\r\n\r\n\tmodule.exports = DataSource;\r\n}","'use strict';\r\n{\r\n\tconst {isPromise} = require('./utils');\r\n\r\n\tfunction wait(val) {\r\n\t\treturn val.then((v) => {\r\n\t\t\tif (isPromise(v)) {\r\n\t\t\t\treturn wait(v);\r\n\t\t\t} else {\r\n\t\t\t\treturn v;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\tfunction createArray(get, length) {\r\n\t\tconst array = new Array(length);\r\n\t\tfor (let i = 0; i < length; i++) {\r\n\t\t\tarray[i] = get(i);\r\n\t\t}\r\n\t\treturn array;\r\n\t}\r\n\tfunction createArrayPromise(get, getField, length) {\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\tconst plist = [];\r\n\t\t\tconst array = new Array(length);\r\n\t\t\tfor (let i = 0; i < length; i++) {\r\n\t\t\t\tconst data = get(i);\r\n\t\t\t\tconst record = {\r\n\t\t\t\t\tv: data,\r\n\t\t\t\t\tf: data\r\n\t\t\t\t};\r\n\t\t\t\tarray[i] = record;\r\n\t\t\t\tif (isPromise(data)) {\r\n\t\t\t\t\tplist.push(wait(data).then((v) => {\r\n\t\t\t\t\t\trecord.v = v;\r\n\t\t\t\t\t\trecord.f = v;\r\n\t\t\t\t\t}));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tPromise.all(plist).then(\r\n\t\t\t\t\t() => setArrayField(array, getField)\r\n\t\t\t).then(resolve);\r\n\t\t});\r\n\t}\r\n\tfunction setArrayField(array, getField) {\r\n\t\tif (!getField) {\r\n\t\t\treturn Promise.resolve(array);\r\n\t\t}\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\tconst length = array.length;\r\n\t\t\tconst plist = [];\r\n\t\t\tfor (let i = 0; i < length; i++) {\r\n\t\t\t\tconst record = array[i];\r\n\t\t\t\trecord.f = getField(record.v);\r\n\t\t\t\tif (isPromise(record.f)) {\r\n\t\t\t\t\tplist.push(wait(record.f).then((v) => {\r\n\t\t\t\t\t\trecord.f = v;\r\n\t\t\t\t\t}));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tPromise.all(plist).then(() => resolve(array));\r\n\t\t});\r\n\t}\r\n\tconst sort = {\r\n\t\tsort(get, set, length, compare, getField) {\r\n\t\t\tconst old = createArray(get, length);\r\n\t\t\tif (getField) {\r\n\t\t\t\told.sort((r1, r2) => compare(getField(r1), getField(r2)));\r\n\t\t\t} else {\r\n\t\t\t\told.sort(compare);\r\n\t\t\t}\r\n\t\t\tfor (let i = 0; i < length; i++) {\r\n\t\t\t\tset(i, old[i]);\r\n\t\t\t}\r\n\t\t},\r\n\t\tsortArray(array, compare) {\r\n\t\t\tArray.prototype.sort.call(array, compare);\r\n\t\t},\r\n\t\tsortPromise(get, set, length, compare, getField) {\r\n\t\t\tif (window.Promise) {\r\n\t\t\t\treturn createArrayPromise(get, getField, length).then((array) => {\r\n\t\t\t\t\tarray.sort((r1, r2) => compare(r1.f, r2.f));\r\n\t\t\t\t\tfor (let i = 0; i < length; i++) {\r\n\t\t\t\t\t\tset(i, array[i].v);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tsort.sort(get, set, length, compare, getField);\r\n\t\t\t\tconst dummyPromise = {\r\n\t\t\t\t\tthen(fn) {\r\n\t\t\t\t\t\tfn();\r\n\t\t\t\t\t\treturn dummyPromise;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcatch() {\r\n\t\t\t\t\t\treturn dummyPromise;\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\treturn dummyPromise;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tmodule.exports = sort;\r\n}","/*eslint no-bitwise:0*/\r\n'use strict';\r\n{\r\n\tconst {calcStartPosition} = require('./internal/canvases');\r\n\tconst inlines = require('./element/inlines');\r\n\tconst canvashelper = require('./tools/canvashelper');\r\n\tconst themes = require('./themes');\r\n\tconst {colorToRGB} = require('./internal/color');\r\n\tconst Rect = require('./internal/Rect');\r\n\tconst {getChainSafe, getOrApply, style: {toBoxArray}} = require('./internal/utils');\r\n\tconst fonts = require('./internal/fonts');\r\n\tconst calc = require('./internal/calc');\r\n\r\n\tfunction invalidateCell(context, grid) {\r\n\t\tconst {col, row} = context;\r\n\t\tgrid.invalidateCell(col, row);\r\n\t}\r\n\tfunction getColor(color, col, row, grid, context) {\r\n\t\treturn getOrApply(color, {\r\n\t\t\tcol,\r\n\t\t\trow,\r\n\t\t\tgrid,\r\n\t\t\tcontext,\r\n\t\t});\r\n\t}\r\n\tfunction getThemeColor(grid, ...names) {\r\n\t\treturn getChainSafe(grid.theme, ...names) || getChainSafe(themes.default, ...names);\r\n\t}\r\n\tfunction testFontLoad(font, value, context, grid) {\r\n\t\tif (font) {\r\n\t\t\tif (!fonts.check(font, value)) {\r\n\t\t\t\tfonts.load(font, value, () => invalidateCell(context, grid));\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tfunction drawInlines(ctx, inlines, rect, offset, col, row, grid) {\r\n\t\tfunction drawInline(inline, offsetLeft, offsetRight) {\r\n\t\t\tif (inline.canDraw()) {\r\n\t\t\t\tctx.save();\r\n\t\t\t\ttry {\r\n\t\t\t\t\tctx.fillStyle = getColor(inline.color() || ctx.fillStyle, col, row, grid, ctx);\r\n\t\t\t\t\tctx.font = inline.font() || ctx.font;\r\n\t\t\t\t\tinline.draw({\r\n\t\t\t\t\t\tctx,\r\n\t\t\t\t\t\tcanvashelper,\r\n\t\t\t\t\t\trect,\r\n\t\t\t\t\t\toffset,\r\n\t\t\t\t\t\toffsetLeft,\r\n\t\t\t\t\t\toffsetRight,\r\n\t\t\t\t\t});\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tctx.restore();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tinline.onReady(() => grid.invalidateCell(col, row));\r\n\t\t\t\t//noop\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (inlines.length === 1) {\r\n\t\t\t//1\r\n\t\t\tconst inline = inlines[0];\r\n\t\t\tdrawInline(inline, 0, 0);\r\n\t\t} else {\r\n\t\t\tconst inlineWidths = inlines.map((inline) => (inline.width({ctx}) || 0) - 0);\r\n\t\t\tlet offsetRight = inlineWidths.reduce((a, b) => a + b);\r\n\r\n\t\t\tlet offsetLeft = 0;\r\n\t\t\tinlines.forEach((inline, index) => {\r\n\t\t\t\tconst inlineWidth = inlineWidths[index];\r\n\t\t\t\toffsetRight -= inlineWidth;\r\n\t\t\t\tdrawInline(inline, offsetLeft, offsetRight);\r\n\t\t\t\toffsetLeft += inlineWidth;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tfunction _inlineRect(grid, ctx, inline, rect, col, row,\r\n\t\t\t{\r\n\t\t\t\toffset,\r\n\t\t\t\tcolor,\r\n\t\t\t\ttextAlign,\r\n\t\t\t\ttextBaseline,\r\n\t\t\t\tfont,\r\n\t\t\t\ticons,\r\n\t\t\t} = {}) {\r\n\r\n\t\t//style\r\n\t\tctx.fillStyle = getColor(color, col, row, grid, ctx);\r\n\t\tctx.textAlign = textAlign;\r\n\t\tctx.textBaseline = textBaseline;\r\n\t\tctx.font = font || ctx.font;\r\n\r\n\t\tconst actInlines = inlines.buildInlines(icons, inline);\r\n\t\tdrawInlines(ctx, actInlines, rect, offset, col, row, grid);\r\n\t}\r\n\r\n\r\n\tfunction drawCheckbox(ctx, rect, check, helper,\r\n\t\t\t{\r\n\t\t\t\tanimElapsedTime = 1,\r\n\t\t\t\tuncheckBgColor = helper.theme.checkbox.uncheckBgColor,\r\n\t\t\t\tcheckBgColor = helper.theme.checkbox.checkBgColor,\r\n\t\t\t\tborderColor = helper.theme.checkbox.borderColor,\r\n\t\t\t\ttextAlign = 'center',\r\n\t\t\t\ttextBaseline = 'middle',\r\n\t\t\t} = {}) {\r\n\t\tconst boxWidth = canvashelper.measureCheckbox(ctx).width;\r\n\t\tctx.textAlign = textAlign;\r\n\t\tctx.textBaseline = textBaseline;\r\n\t\tconst pos = calcStartPosition(ctx, rect, boxWidth + 1/*+1*/, boxWidth + 1/*+1*/);\r\n\t\tif (0 < animElapsedTime && animElapsedTime < 1) {\r\n\t\t\tconst uncheckBgRGB = colorToRGB(uncheckBgColor);\r\n\t\t\tconst checkBgRGB = colorToRGB(checkBgColor);\r\n\t\t\tconst checkRGB = (colorName) => {\r\n\t\t\t\tconst start = uncheckBgRGB[colorName];\r\n\t\t\t\tconst end = checkBgRGB[colorName];\r\n\t\t\t\tif (animElapsedTime >= 1) {\r\n\t\t\t\t\treturn end;\r\n\t\t\t\t}\r\n\t\t\t\tconst diff = start - end;\r\n\t\t\t\treturn Math.ceil(start - diff * animElapsedTime);\r\n\t\t\t};\r\n\t\t\tconst uncheckRGB = (colorName) => {\r\n\t\t\t\tconst end = uncheckBgRGB[colorName];\r\n\t\t\t\tconst start = checkBgRGB[colorName];\r\n\t\t\t\tif (animElapsedTime >= 1) {\r\n\t\t\t\t\treturn end;\r\n\t\t\t\t}\r\n\t\t\t\tconst diff = end - start;\r\n\t\t\t\treturn Math.ceil(start + diff * animElapsedTime);\r\n\t\t\t};\r\n\t\t\tuncheckBgColor = check ? uncheckBgColor : `rgb(${uncheckRGB('r')} , ${uncheckRGB('g')}, ${uncheckRGB('b')})`;\r\n\t\t\tcheckBgColor = `rgb(${checkRGB('r')} , ${checkRGB('g')}, ${checkRGB('b')})`;\r\n\t\t}\r\n\r\n\t\tcanvashelper.drawCheckbox(ctx, pos.x, pos.y, check ? animElapsedTime : false, {\r\n\t\t\tuncheckBgColor,\r\n\t\t\tcheckBgColor,\r\n\t\t\tborderColor,\r\n\t\t});\r\n\t}\r\n\r\n\tclass Theme {\r\n\t\tconstructor(grid) {\r\n\t\t\tthis._grid = grid;\r\n\t\t}\r\n\t\tgetThemeColor(...name) {\r\n\t\t\treturn getThemeColor(this._grid, ...name);\r\n\t\t}\r\n\t\tget font() {\r\n\t\t\treturn getThemeColor(this._grid, 'font');\r\n\t\t}\r\n\t\tget underlayBackgroundColor() {\r\n\t\t\treturn getThemeColor(this._grid, 'underlayBackgroundColor');\r\n\t\t}\r\n\t\t// color\r\n\t\tget color() {\r\n\t\t\treturn getThemeColor(this._grid, 'color');\r\n\t\t}\r\n\t\tget frozenRowsColor() {\r\n\t\t\treturn getThemeColor(this._grid, 'frozenRowsColor');\r\n\t\t}\r\n\t\t// background\r\n\t\tget defaultBgColor() {\r\n\t\t\treturn getThemeColor(this._grid, 'defaultBgColor');\r\n\t\t}\r\n\t\tget frozenRowsBgColor() {\r\n\t\t\treturn getThemeColor(this._grid, 'frozenRowsBgColor');\r\n\t\t}\r\n\t\tget selectionBgColor() {\r\n\t\t\treturn getThemeColor(this._grid, 'selectionBgColor');\r\n\t\t}\r\n\t\t// border\r\n\t\tget borderColor() {\r\n\t\t\treturn getThemeColor(this._grid, 'borderColor');\r\n\t\t}\r\n\t\tget frozenRowsBorderColor() {\r\n\t\t\treturn getThemeColor(this._grid, 'frozenRowsBorderColor');\r\n\t\t}\r\n\t\tget hiliteBorderColor() {\r\n\t\t\treturn getThemeColor(this._grid, 'hiliteBorderColor');\r\n\t\t}\r\n\t\tget checkbox() {\r\n\t\t\tconst grid = this._grid;\r\n\t\t\treturn this._checkbox || (this._checkbox = {\r\n\t\t\t\tget uncheckBgColor() {\r\n\t\t\t\t\treturn getThemeColor(grid, 'checkbox', 'uncheckBgColor');\r\n\t\t\t\t},\r\n\t\t\t\tget checkBgColor() {\r\n\t\t\t\t\treturn getThemeColor(grid, 'checkbox', 'checkBgColor');\r\n\t\t\t\t},\r\n\t\t\t\tget borderColor() {\r\n\t\t\t\t\treturn getThemeColor(grid, 'checkbox', 'borderColor');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tget button() {\r\n\t\t\tconst grid = this._grid;\r\n\t\t\treturn this._button || (this._button = {\r\n\t\t\t\tget color() {\r\n\t\t\t\t\treturn getThemeColor(grid, 'button', 'color');\r\n\t\t\t\t},\r\n\t\t\t\tget bgColor() {\r\n\t\t\t\t\treturn getThemeColor(grid, 'button', 'bgColor');\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t}\r\n\t\r\n\r\n\tfunction strokeRect(ctx, color, left, top, width, height) {\r\n\t\tif (!Array.isArray(color)) {\r\n\t\t\tif (color) {\r\n\t\t\t\tctx.strokeStyle = color;\r\n\t\t\t\tctx.strokeRect(left, top, width, height);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconst borderColors = toBoxArray(color);\r\n\t\t\tcanvashelper.strokeColorsRect(ctx, borderColors, left, top, width, height);\r\n\t\t}\r\n\t}\r\n\r\n\tclass GridCanvasHelper {\r\n\t\tconstructor(grid) {\r\n\t\t\tthis._grid = grid;\r\n\t\t\tthis._theme = new Theme(grid);\r\n\t\t}\r\n\t\tcreateCalculator(context) {\r\n\t\t\treturn {\r\n\t\t\t\tcalcWidth(width) {\r\n\t\t\t\t\treturn calc.toPx(width, {\r\n\t\t\t\t\t\tget full() {\r\n\t\t\t\t\t\t\tconst rect = context.getRect();\r\n\t\t\t\t\t\t\treturn rect.width;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tget em() {\r\n\t\t\t\t\t\t\tconst ctx = context.getContext();\r\n\t\t\t\t\t\t\treturn ctx.measureText('').width;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tcalcHeight(height) {\r\n\t\t\t\t\treturn calc.toPx(height, {\r\n\t\t\t\t\t\tget full() {\r\n\t\t\t\t\t\t\tconst rect = context.getRect();\r\n\t\t\t\t\t\t\treturn rect.height;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tget em() {\r\n\t\t\t\t\t\t\tconst ctx = context.getContext();\r\n\t\t\t\t\t\t\treturn ctx.measureText('').width;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t\tgetColor(color, col, row, ctx) {\r\n\t\t\treturn getColor(color, col, row, this._grid, ctx);\r\n\t\t}\r\n\t\ttoBoxArray(obj) {\r\n\t\t\treturn toBoxArray(obj);\r\n\t\t}\r\n\t\ttoBoxPixelArray(value, context) {\r\n\t\t\tif (typeof value === 'string' || Array.isArray(value)) {\r\n\t\t\t\tconst calculator = this.createCalculator(context);\r\n\t\t\t\tconst box = toBoxArray(value);\r\n\t\t\t\treturn [\r\n\t\t\t\t\tcalculator.calcHeight(box[0]),\r\n\t\t\t\t\tcalculator.calcWidth(box[1]),\r\n\t\t\t\t\tcalculator.calcHeight(box[2]),\r\n\t\t\t\t\tcalculator.calcWidth(box[3]),\r\n\t\t\t\t];\r\n\t\t\t}\r\n\t\t\treturn toBoxArray(value);\r\n\t\t}\r\n\t\tget theme() {\r\n\t\t\treturn this._theme;\r\n\t\t}\r\n\t\tdrawWithClip(context, draw) {\r\n\t\t\tconst drawRect = context.getDrawRect();\r\n\t\t\tif (!drawRect) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst ctx = context.getContext();\r\n\r\n\t\t\tctx.save();\r\n\t\t\ttry {\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.rect(drawRect.left, drawRect.top, drawRect.width, drawRect.height);\r\n\t\t\t\t//clip\r\n\t\t\t\tctx.clip();\r\n\r\n\t\t\t\tdraw(ctx);\r\n\t\t\t} finally {\r\n\t\t\t\tctx.restore();\r\n\t\t\t}\r\n\t\t}\r\n\t\tdrawBorderWithClip(context, draw) {\r\n\t\t\tconst drawRect = context.getDrawRect();\r\n\t\t\tif (!drawRect) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst rect = context.getRect();\r\n\t\t\tconst ctx = context.getContext();\r\n\t\t\tctx.save();\r\n\t\t\ttry {\r\n\t\t\t\t//clip\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tlet clipLeft = drawRect.left;\r\n\t\t\t\tlet clipWidth = drawRect.width;\r\n\t\t\t\tif (drawRect.left === rect.left) {\r\n\t\t\t\t\tclipLeft += -1;\r\n\t\t\t\t\tclipWidth += 1;\r\n\t\t\t\t}\r\n\t\t\t\tlet clipTop = drawRect.top;\r\n\t\t\t\tlet clipHeight = drawRect.height;\r\n\t\t\t\tif (drawRect.top === rect.top) {\r\n\t\t\t\t\tclipTop += -1;\r\n\t\t\t\t\tclipHeight += 1;\r\n\t\t\t\t}\r\n\t\t\t\tctx.rect(clipLeft, clipTop, clipWidth, clipHeight);\r\n\t\t\t\tctx.clip();\r\n\r\n\t\t\t\tdraw(ctx);\r\n\t\t\t} finally {\r\n\t\t\t\tctx.restore();\r\n\t\t\t}\r\n\t\t}\r\n\t\ttext(text, context,\r\n\t\t\t\t{\r\n\t\t\t\t\tpadding,\r\n\t\t\t\t\toffset = 2,\r\n\t\t\t\t\tcolor,\r\n\t\t\t\t\ttextAlign = 'left',\r\n\t\t\t\t\ttextBaseline = 'middle',\r\n\t\t\t\t\tfont,\r\n\t\t\t\t\ticons,\r\n\t\t\t\t} = {}) {\r\n\t\t\tlet rect = context.getRect();\r\n\r\n\t\t\tconst {col, row} = context;\r\n\r\n\t\t\tif (!color) {\r\n\t\t\t\tcolor = this.theme.color;\r\n\t\t\t\t// header color\r\n\t\t\t\tconst isFrozenCell = this._grid.isFrozenCell(col, row);\r\n\t\t\t\tif (isFrozenCell && isFrozenCell.row) {\r\n\t\t\t\t\tcolor = this.theme.frozenRowsColor;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.drawWithClip(context, (ctx) => {\r\n\t\t\t\tif (padding) {\r\n\t\t\t\t\tpadding = this.toBoxPixelArray(padding, context);\r\n\t\t\t\t\tconst left = rect.left + padding[3];\r\n\t\t\t\t\tconst top = rect.top + padding[0];\r\n\t\t\t\t\tconst width = rect.width - padding[1] - padding[3];\r\n\t\t\t\t\tconst height = rect.height - padding[0] - padding[2];\r\n\t\t\t\t\trect = new Rect(left, top, width, height);\r\n\t\t\t\t}\r\n\t\t\t\t_inlineRect(this._grid, ctx, text, rect, col, row,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\toffset,\r\n\t\t\t\t\t\t\tcolor,\r\n\t\t\t\t\t\t\ttextAlign,\r\n\t\t\t\t\t\t\ttextBaseline,\r\n\t\t\t\t\t\t\tfont,\r\n\t\t\t\t\t\t\ticons,\r\n\t\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t\tfillCell(context,\r\n\t\t\t\t{\r\n\t\t\t\t\tfillColor = this.theme.defaultBgColor,\r\n\t\t\t\t} = {}) {\r\n\t\t\tconst rect = context.getRect();\r\n\r\n\t\t\tthis.drawWithClip(context, (ctx) => {\r\n\t\t\t\tconst {col, row} = context;\r\n\t\t\t\tctx.fillStyle = getColor(fillColor, col, row, this._grid, ctx);\r\n\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\r\n\t\t\t\tctx.fill();\r\n\t\t\t});\r\n\t\t}\r\n\t\tfillCellWithState(context, option = {}) {\r\n\t\t\tconst state = context.getSelectState();\r\n\t\t\tconst {col, row} = context;\r\n\r\n\t\t\toption.fillColor = (() => {\r\n\t\t\t\tif (!state.selected && state.selection) {\r\n\t\t\t\t\treturn this.theme.selectionBgColor;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst isFrozenCell = this._grid.isFrozenCell(col, row);\r\n\t\t\t\t\tif (isFrozenCell && isFrozenCell.row) {\r\n\t\t\t\t\t\treturn this.theme.frozenRowsBgColor;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn option.fillColor || this.theme.defaultBgColor;\r\n\t\t\t})();\r\n\r\n\t\t\tthis.fillCell(context, option);\r\n\t\t}\r\n\t\tborder(context,\r\n\t\t\t\t{\r\n\t\t\t\t\tborderColor = this.theme.borderColor,\r\n\t\t\t\t\tlineWidth = 1,\r\n\t\t\t\t} = {}) {\r\n\t\t\tconst rect = context.getRect();\r\n\r\n\t\t\tthis.drawBorderWithClip(context, (ctx) => {\r\n\t\t\t\tconst {col, row} = context;\r\n\t\t\t\tconst borderColors = getColor(borderColor, col, row, this._grid, ctx);\r\n\t\t\t\t\r\n\t\t\t\tif (lineWidth === 1) {\r\n\t\t\t\t\tctx.lineWidth = 1;\r\n\t\t\t\t\tstrokeRect(ctx, borderColors, rect.left - 0.5, rect.top - 0.5, rect.width, rect.height);\r\n\t\t\t\t} else if (lineWidth === 2) {\r\n\t\t\t\t\tctx.lineWidth = 2;\r\n\t\t\t\t\tstrokeRect(ctx, borderColors, rect.left, rect.top, rect.width - 1, rect.height - 1);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tctx.lineWidth = lineWidth;\r\n\t\t\t\t\tconst startOffset = (lineWidth / 2) - 1;\r\n\t\t\t\t\tstrokeRect(ctx, borderColors,\r\n\t\t\t\t\t\t\trect.left + startOffset,\r\n\t\t\t\t\t\t\trect.top + startOffset,\r\n\t\t\t\t\t\t\trect.width - lineWidth + 1,\r\n\t\t\t\t\t\t\trect.height - lineWidth + 1\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tborderWithState(context, option = {}) {\r\n\t\t\tconst rect = context.getRect();\r\n\t\t\tconst state = context.getSelectState();\r\n\t\t\tconst {col, row} = context;\r\n\r\n\t\t\t//\r\n\t\t\tif (state.selected) {\r\n\t\t\t\toption.borderColor = this.theme.hiliteBorderColor;\r\n\t\t\t\toption.lineWidth = 2;\r\n\t\t\t\tthis.border(context, option);\r\n\t\t\t} else {\r\n\t\t\t\t// header color\r\n\t\t\t\tconst isFrozenCell = this._grid.isFrozenCell(col, row);\r\n\t\t\t\tif (isFrozenCell && isFrozenCell.row) {\r\n\t\t\t\t\toption.borderColor = this.theme.frozenRowsBorderColor;\r\n\t\t\t\t}\r\n\r\n\t\t\t\toption.lineWidth = 1;\r\n\t\t\t\tthis.border(context, option);\r\n\r\n\t\t\t\t//\r\n\t\t\t\tconst sel = this._grid.selection.select;\r\n\t\t\t\tif (sel.col + 1 === col && sel.row === row) {\r\n\t\t\t\t\t//\r\n\t\t\t\t\tthis.drawBorderWithClip(context, (ctx) => {\r\n\t\t\t\t\t\tconst borderColors = toBoxArray(\r\n\t\t\t\t\t\t\t\tgetColor(this.theme.hiliteBorderColor, sel.col, sel.row, this._grid, ctx)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tctx.lineWidth = 1;\r\n\t\t\t\t\t\tctx.strokeStyle = borderColors[1];\r\n\t\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\t\tctx.moveTo(rect.left - 0.5, rect.top);\r\n\t\t\t\t\t\tctx.lineTo(rect.left - 0.5, rect.bottom);\r\n\t\t\t\t\t\tctx.stroke();\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (sel.col === col && sel.row + 1 === row) {\r\n\t\t\t\t\t//\r\n\t\t\t\t\tthis.drawBorderWithClip(context, (ctx) => {\r\n\t\t\t\t\t\tconst borderColors = toBoxArray(\r\n\t\t\t\t\t\t\t\tgetColor(this.theme.hiliteBorderColor, sel.col, sel.row, this._grid, ctx)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tctx.lineWidth = 1;\r\n\t\t\t\t\t\tctx.strokeStyle = borderColors[0];\r\n\t\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\t\tctx.moveTo(rect.left, rect.top - 0.5);\r\n\t\t\t\t\t\tctx.lineTo(rect.right, rect.top - 0.5);\r\n\t\t\t\t\t\tctx.stroke();\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tcheckbox(check, context, option = {}) {\r\n\t\t\tthis.drawWithClip(context, (ctx) => {\r\n\t\t\t\tdrawCheckbox(ctx, context.getRect(), check, this, option);\r\n\t\t\t});\r\n\t\t}\r\n\t\tbutton(caption, context,\r\n\t\t\t\t{\r\n\t\t\t\t\tbgColor = this.theme.button.bgColor,\r\n\t\t\t\t\tpadding,\r\n\t\t\t\t\toffset = 2,\r\n\t\t\t\t\tcolor = this.theme.button.color,\r\n\t\t\t\t\ttextAlign = 'center',\r\n\t\t\t\t\ttextBaseline = 'middle',\r\n\t\t\t\t\tshadow,\r\n\t\t\t\t\tfont,\r\n\t\t\t\t\ticons,\r\n\t\t\t\t} = {}) {\r\n\t\t\tconst rect = context.getRect();\r\n\r\n\t\t\tthis.drawWithClip(context, (ctx) => {\r\n\t\t\t\tconst {col, row} = context;\r\n\t\t\t\tpadding = this.toBoxPixelArray(padding || rect.height / 8, context);\r\n\t\t\t\tconst left = rect.left + padding[3];\r\n\t\t\t\tconst top = rect.top + padding[0];\r\n\t\t\t\tconst width = rect.width - padding[1] - padding[3];\r\n\t\t\t\tconst height = rect.height - padding[0] - padding[2];\r\n\r\n\t\t\t\tcanvashelper.drawButton(ctx, left, top, width, height, {\r\n\t\t\t\t\tbgColor,\r\n\t\t\t\t\tradius: rect.height / 8,\r\n\t\t\t\t\toffset,\r\n\t\t\t\t\tshadow,\r\n\t\t\t\t});\r\n\t\t\t\t_inlineRect(this._grid, ctx, caption, new Rect(left, top, width, height),\r\n\t\t\t\t\t\tcol, row,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\toffset,\r\n\t\t\t\t\t\t\tcolor,\r\n\t\t\t\t\t\t\ttextAlign,\r\n\t\t\t\t\t\t\ttextBaseline,\r\n\t\t\t\t\t\t\tfont,\r\n\t\t\t\t\t\t\ticons,\r\n\t\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t\ttestFontLoad(font, value, context) {\r\n\t\t\treturn testFontLoad(font, value, context, this._grid);\r\n\t\t}\r\n\t}\r\n\r\n\tmodule.exports = GridCanvasHelper;\r\n}","'use strict';\r\n{\r\n\tconst loads = {};\r\n\tconst legacy = !document.fonts;\r\n\tconst load = legacy ? function(font, testStr, callback) {\r\n\t\t//for legacy(IE)\r\n\t\tif (loads[font + ' @ ' + testStr]) {\r\n\t\t\tcallback();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\trequire('./legacy/fontwatch/FontWatchRunner').load(font, testStr, () => {\r\n\t\t\tloads[font + ' @ ' + testStr] = true;\r\n\t\t\tcallback();\r\n\t\t}, () => {\r\n\t\t\tloads[font + ' @ ' + testStr] = true;\r\n\t\t\tcallback();\r\n\t\t});\r\n\t} : function(font, testStr, callback) {\r\n\t\tif (loads.all || loads[font]) {\r\n\t\t\tcallback();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tdocument.fonts.ready.then(() => {\r\n\t\t\tloads.all = true;\r\n\t\t});\r\n\t\tdocument.fonts.load(font).then(() => {\r\n\t\t\tloads[font] = true;\r\n\t\t\tcallback();\r\n\t\t});\r\n\t};\r\n\tconst check = legacy ? function(font, testStr) {\r\n\t\t//for legacy(IE)\r\n\t\tif (loads[font + ' @ ' + testStr]) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tload(font, testStr, () => {});\r\n\t\treturn false;\r\n\t} : function(font, testStr) {\r\n\t\tif (loads.all || loads[font]) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif (!document.fonts.check(font)) {\r\n\t\t\tload(font, testStr, () => {});\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\r\n\t\r\n\tmodule.exports = {\r\n\t\tcheck,\r\n\t\tload\r\n\t};\r\n}","'use strict';\r\n\r\nconst Inline = require('./Inline');\r\nconst {getCacheOrLoad} = require('../internal/imgs');\r\nconst {isPromise} = require('../internal/utils');\r\n\r\nclass InlineImage extends Inline {\r\n\tconstructor(\r\n\t\t\t{\r\n\t\t\t\tsrc,\r\n\t\t\t\twidth,\r\n\t\t\t\theight,\r\n\t\t\t\timageLeft,\r\n\t\t\t\timageTop,\r\n\t\t\t\timageWidth,\r\n\t\t\t\timageHeight,\r\n\t\t\t}) {\r\n\t\tsuper();\r\n\t\tthis._src = src;\r\n\t\tthis._width = width;\r\n\t\tthis._height = height;\r\n\t\tthis._imageLeft = imageLeft;\r\n\t\tthis._imageTop = imageTop;\r\n\t\tthis._imageWidth = imageWidth;\r\n\t\tthis._imageHeight = imageHeight;\r\n\r\n\t\tthis._onloaded = [];\r\n\r\n\r\n\t\tthis._loaded = false;\r\n\t\tif (isPromise(src)) {\r\n\t\t\tsrc.then((s) => {\r\n\t\t\t\tthis._src = s;\r\n\t\t\t\tthis._loadImage(s);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis._loadImage(src);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t_loadImage(src) {\r\n\t\tconst img = this._inlineImg = getCacheOrLoad('InlineImage', 50, src);\r\n\t\tif (isPromise(img)) {\r\n\t\t\timg.then((i) => {\r\n\t\t\t\tthis._loaded = true;\r\n\t\t\t\tthis._inlineImg = i;\r\n\r\n\t\t\t\tthis._onloaded.forEach((fn) => fn());\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis._loaded = true;\r\n\t\t}\r\n\t}\r\n\twidth({ctx}) {\r\n\t\treturn this._width || (this._loaded ? this._inlineImg.width : 0);\r\n\t}\r\n\tfont() {\r\n\t\treturn null;\r\n\t}\r\n\tcolor() {\r\n\t\treturn null;\r\n\t}\r\n\tcanDraw() {\r\n\t\treturn this._loaded;\r\n\t}\r\n\tonReady(callback) {\r\n\t\tif (isPromise(this._src) || isPromise(this._inlineImg)) {\r\n\t\t\tthis._onloaded.push(() => callback());\r\n\t\t}\r\n\t}\r\n\tdraw(\r\n\t\t\t{\r\n\t\t\t\tctx,\r\n\t\t\t\tcanvashelper,\r\n\t\t\t\trect,\r\n\t\t\t\toffset,\r\n\t\t\t\toffsetLeft,\r\n\t\t\t\toffsetRight,\r\n\t\t\t}) {\r\n\t\tconst img = this._inlineImg;\r\n\t\tcanvashelper.drawInlineImageRect(ctx, img,\r\n\t\t\t\tthis._imageLeft || 0, this._imageTop || 0,\r\n\t\t\t\tthis._imageWidth || img.width, this._imageHeight || img.height,\r\n\t\t\t\tthis._width || img.width, this._height || img.height,\r\n\t\t\t\trect.left, rect.top, rect.width, rect.height,\r\n\t\t\t\t{\r\n\t\t\t\t\toffset: offset + 1,\r\n\t\t\t\t\tpadding: {\r\n\t\t\t\t\t\tleft: offsetLeft,\r\n\t\t\t\t\t\tright: offsetRight,\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t}\r\n}\r\n\r\nmodule.exports = InlineImage;","/*eslint-disable camelcase*/\r\n'use strict';\r\n\r\nconst {extend} = require('./internal/utils');\r\nconst plugins = require('./plugins/icons');\r\nconst builtins = {\r\n\tget arrow_upward() {\r\n\t\treturn require('../../webpack-loader/svg-to-icon-js-loader!material-design-icons/navigation/svg/production/ic_arrow_upward_48px.svg');\r\n\t},\r\n\tget arrow_downward() {\r\n\t\treturn require('../../webpack-loader/svg-to-icon-js-loader!material-design-icons/navigation/svg/production/ic_arrow_downward_48px.svg');\r\n\t},\r\n\tget edit() {\r\n\t\treturn require('../../webpack-loader/svg-to-icon-js-loader!material-design-icons/image/svg/production/ic_edit_48px.svg');\r\n\t},\r\n\tget add() {\r\n\t\treturn require('../../webpack-loader/svg-to-icon-js-loader!material-design-icons/content/svg/production/ic_add_48px.svg');\r\n\t},\r\n\tget star() {\r\n\t\treturn require('../../webpack-loader/svg-to-icon-js-loader!material-design-icons/toggle/svg/production/ic_star_24px.svg');\r\n\t},\r\n\tget star_border() {\r\n\t\treturn require('../../webpack-loader/svg-to-icon-js-loader!material-design-icons/toggle/svg/production/ic_star_border_24px.svg');\r\n\t},\r\n\tget star_half() {\r\n\t\treturn require('../../webpack-loader/svg-to-icon-js-loader!material-design-icons/toggle/svg/production/ic_star_half_24px.svg');\r\n\t},\r\n};\r\n\r\nmodule.exports = {\r\n\tget() {\r\n\t\treturn extend(builtins, plugins);\r\n\t}\r\n};","'use strict';\r\n\r\nmodule.exports = {};","'use strict';\r\n{\r\n\tconst rgbMap = {};\r\n\tfunction styleColorToRGB(color) {\r\n\t\tconst dummy = document.createElement('div');\r\n\t\tconst {style} = dummy;\r\n\t\tstyle.color = color;\r\n\t\tstyle.position = 'fixed';\r\n\t\tstyle.height = '1px';\r\n\t\tstyle.width = '1px';\r\n\t\tstyle.opacity = 0;\r\n\t\tdocument.body.appendChild(dummy);\r\n\t\tconst {color: styleColor} = document.defaultView.getComputedStyle(dummy, '');\r\n\t\tdocument.body.removeChild(dummy);\r\n\t\treturn colorToRGB0(styleColor);\r\n\t}\r\n\r\n\tfunction hexToNum(hex) {\r\n\t\treturn parseInt(hex, 16);\r\n\t}\r\n\tfunction createRGB(r, g, b, a = 1) {\r\n\t\treturn {r, g, b, a};\r\n\t}\r\n\tfunction tripleHexToRGB({1: r, 2: g, 3: b}) {\r\n\t\treturn createRGB(hexToNum(r + r), hexToNum(g + g), hexToNum(b + b));\r\n\t}\r\n\tfunction sextupleHexToRGB({1: r1, 2: r2, 3: g1, 4: g2, 5: b1, 6: b2}) {\r\n\t\treturn createRGB(hexToNum(r1 + r2), hexToNum(g1 + g2), hexToNum(b1 + b2));\r\n\t}\r\n\t\r\n\tfunction testRGB({r, g, b, a}) {\r\n\t\treturn 0 <= r && r <= 255 &&\r\n\t\t0 <= g && g <= 255 &&\r\n\t\t0 <= b && b <= 255 &&\r\n\t\t0 <= a && a <= 1;\r\n\t}\r\n\tfunction rateToByte(r) {\r\n\t\treturn Math.ceil(r * 255 / 100);\r\n\t}\r\n\tfunction colorToRGB0(color) {\r\n\t\tif (color.match(/^#[0-9a-f]{3}$/i)) {\r\n\t\t\treturn tripleHexToRGB(color);\r\n\t\t}\r\n\t\tif (color.match(/^#[0-9a-f]{6}$/i)) {\r\n\t\t\treturn sextupleHexToRGB(color);\r\n\t\t}\r\n\t\tlet ret = color.match(/^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/i);\r\n\t\tif (ret) {\r\n\t\t\tconst rgb = createRGB(ret[1] - 0, ret[2] - 0, ret[3] - 0);\r\n\t\t\tif (testRGB(rgb)) {\r\n\t\t\t\treturn rgb;\r\n\t\t\t}\r\n\t\t}\r\n\t\tret = color.match(/^rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d(\\.\\d)?)\\s*\\)$/i);\r\n\t\tif (ret) {\r\n\t\t\tconst rgb = createRGB(ret[1] - 0, ret[2] - 0, ret[3] - 0, ret[4] - 0);\r\n\t\t\tif (testRGB(rgb)) {\r\n\t\t\t\treturn rgb;\r\n\t\t\t}\r\n\t\t}\r\n\t\tret = color.match(/^rgb\\(\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*\\)$/i);\r\n\t\tif (ret) {\r\n\t\t\tconst rgb = createRGB(rateToByte(ret[1]), rateToByte(ret[3]), rateToByte(ret[5]));\r\n\t\t\tif (testRGB(rgb)) {\r\n\t\t\t\treturn rgb;\r\n\t\t\t}\r\n\t\t}\r\n\t\tret = color.match(/^rgba\\(\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d(\\.\\d)?)\\s*\\)$/i);\r\n\t\tif (ret) {\r\n\t\t\tconst rgb = createRGB(rateToByte(ret[1]), rateToByte(ret[3]), rateToByte(ret[5]), ret[7] - 0);\r\n\t\t\tif (testRGB(rgb)) {\r\n\t\t\t\treturn rgb;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\tfunction colorToRGB(color) {\r\n\t\tif (typeof color !== 'string') {\r\n\t\t\treturn createRGB(0, 0, 0, 0);\r\n\t\t}\r\n\t\tcolor = color.toLowerCase().trim();\r\n\t\tif (rgbMap[color]) {\r\n\t\t\treturn rgbMap[color];\r\n\t\t}\r\n\t\treturn colorToRGB0(color) || (rgbMap[color] = styleColorToRGB(color));\r\n\t}\r\n\r\n\tmodule.exports = {\r\n\t\tcolorToRGB\r\n\t};\r\n}","'use strict';\r\n{\r\n\tconst EventTarget = require('../../core/EventTarget');\r\n\r\n\tconst EVENT_TYPE = {\r\n\t\tCHANGE_STYLE: 'change_style',\r\n\t};\r\n\r\n\tlet defaultStyle;\r\n\tclass BaseStyle extends EventTarget {\r\n\t\tstatic get EVENT_TYPE() {\r\n\t\t\treturn EVENT_TYPE;\r\n\t\t}\r\n\t\tstatic get DEFAULT() {\r\n\t\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new BaseStyle());\r\n\t\t}\r\n\t\tconstructor(\r\n\t\t\t\t{\r\n\t\t\t\t\ttextAlign = 'left',\r\n\t\t\t\t\ttextBaseline = 'middle',\r\n\t\t\t\t\tbgColor\r\n\t\t\t\t} = {}) {\r\n\t\t\tsuper();\r\n\t\t\tthis._textAlign = textAlign;\r\n\t\t\tthis._textBaseline = textBaseline;\r\n\t\t\tthis._bgColor = bgColor;\r\n\t\t}\r\n\t\tget textAlign() {\r\n\t\t\treturn this._textAlign;\r\n\t\t}\r\n\t\tset textAlign(textAlign) {\r\n\t\t\tthis._textAlign = textAlign;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t\tget textBaseline() {\r\n\t\t\treturn this._textBaseline;\r\n\t\t}\r\n\t\tset textBaseline(textBaseline) {\r\n\t\t\tthis._textBaseline = textBaseline;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t\tget bgColor() {\r\n\t\t\treturn this._bgColor;\r\n\t\t}\r\n\t\tset bgColor(bgColor) {\r\n\t\t\tthis._bgColor = bgColor;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t\tdoChangeStyle() {\r\n\t\t\tthis.fireListeners(EVENT_TYPE.CHANGE_STYLE);\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new BaseStyle(this);\r\n\t\t}\r\n\t}\r\n\tmodule.exports = BaseStyle;\r\n}","'use strict';\r\n{\r\n\tconst styleContents = require('../style');\r\n\tconst {Style} = styleContents;\r\n\r\n\tclass BaseHeader {\r\n\t\tconstructor(headerCell) {\r\n\t\t\tthis._headerCell = headerCell;\r\n\t\t\tthis.onDrawCell = this.onDrawCell.bind(this);//\r\n\t\t}\r\n\t\tget StyleClass() {\r\n\t\t\treturn Style;\r\n\t\t}\r\n\t\tonDrawCell(cellValue, info, context, grid) {\r\n\t\t\tconst {style, drawCellBase} = info;\r\n\t\t\tdelete info.getRecord;\r\n\t\t\tdelete info.style;\r\n\t\t\tconst helper = grid.getGridCanvasHelper();\r\n\t\t\tdrawCellBase();\r\n\t\t\t//\r\n\t\t\tthis.drawInternal(\r\n\t\t\t\t\tcellValue,\r\n\t\t\t\t\tcontext,\r\n\t\t\t\t\tstyleContents.of(style, this.StyleClass),\r\n\t\t\t\t\thelper,\r\n\t\t\t\t\tgrid,\r\n\t\t\t\t\tinfo\r\n\t\t\t);\r\n\t\t}\r\n\t\tdrawInternal(value, context, style, helper, grid, info) {\r\n\t\t\t\r\n\t\t}\r\n\t\tbindGridEvent(grid) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t}\r\n\tmodule.exports = BaseHeader;\r\n}","'use strict';\r\n\r\n{\r\n\tconst core = require('./core');\r\n\tconst tools = require('./tools');\r\n\tconst columns = require('./columns');\r\n\tconst themes = require('./themes');\r\n\tconst data = require('./data');\r\n\t\r\n\tconst ListGrid = require('./ListGrid');\r\n\tconst GridCanvasHelper = require('./GridCanvasHelper');\r\n\t\r\n\tconst icons = require('./icons');\r\n\tconst register = require('./register');\r\n\t\r\n\t/**\r\n\t * Cheetah Grid\r\n\t * @type {Object}\r\n\t * @namespace cheetahGrid\r\n\t */\r\n\tmodule.exports = {\r\n\t\tcore,\r\n\t\ttools,\r\n\r\n\t\t// impl Grids\r\n\t\tListGrid,\r\n\r\n\t\t// objects\r\n\t\tcolumns,\r\n\t\tthemes,\r\n\t\tdata,\r\n\r\n\t\t// helper\r\n\t\tGridCanvasHelper,\r\n\t\tget icons() {\r\n\t\t\treturn icons.get();\r\n\t\t},\r\n\r\n\t\t//plugin registers\r\n\t\tregister,\r\n\r\n\t\tget _internal() {\r\n\t\t\tconsole.warn('use internal!!');\r\n\t\t\treturn {\r\n\t\t\t\tcolor: require('./internal/color'),\r\n\t\t\t\tsort: require('./internal/sort'),\r\n\t\t\t\tcalc: require('./internal/calc'),\r\n\t\t\t\tsymbolManager: require('./internal/symbolManager'),\r\n\t\t\t\tpath2DManager: require('./internal/path2DManager'),\r\n\t\t\t};\r\n\t\t}\r\n\t};\r\n}","'use strict';\r\n{\r\n\tconst DrawGrid = require('./core/DrawGrid');\r\n\r\n\t/**\r\n\t * core modules\r\n\t * @type {Object}\r\n\t * @namespace cheetahGrid.core\r\n\t * @memberof cheetahGrid\r\n\t */\r\n\tmodule.exports = {\r\n\t\tDrawGrid\r\n\t};\r\n}","'use strict';\r\n{\r\n\tconst EventHandler = require('./EventHandler');\r\n\tconst style = require('./style');\r\n\tconst {browser} = require('./utils');\r\n\t\r\n\tconst MAX_SCROLL = browser.heightLimit - 1000;\r\n\r\n\tfunction _update(scrollable) {\r\n\t\tlet domHeight;\r\n\t\tif (scrollable._height > MAX_SCROLL) {\r\n\t\t\tconst sbSize = style.getScrollBarSize();\r\n\t\t\tconst offsetHeight = scrollable._scrollable.offsetHeight;\r\n\t\t\tconst vScrollRange = MAX_SCROLL - offsetHeight + sbSize;\r\n\t\t\tconst rScrollRange = scrollable._height - offsetHeight + sbSize;\r\n\t\t\tscrollable._p = vScrollRange / rScrollRange;\r\n\t\t\tdomHeight = MAX_SCROLL;\r\n\t\t} else {\r\n\t\t\tscrollable._p = 1;\r\n\t\t\tdomHeight = scrollable._height;\r\n\t\t}\r\n\r\n\t\tscrollable._endPointElement.style.top = domHeight.toFixed() + 'px';\r\n\t\tscrollable._endPointElement.style.left = scrollable._width.toFixed() + 'px';\r\n\t\t\r\n\t}\r\n\r\n\tclass Scrollable {\r\n\t\tconstructor() {\r\n\t\t\tthis._handler = new EventHandler();\r\n\r\n\t\t\tthis._scrollable = document.createElement('div');\r\n\t\t\tthis._scrollable.classList.add('grid-scrollable');\r\n\t\t\tthis._height = 0;\r\n\t\t\tthis._width = 0;\r\n\r\n\t\t\tthis._endPointElement = document.createElement('div');\r\n\t\t\tthis._endPointElement.classList.add('grid-scroll-end-point');\r\n\t\t\t_update(this);\r\n\t\t\tthis._scrollable.appendChild(this._endPointElement);\r\n\r\n\t\t\t// const mousewheelevt = (/Firefox/i.test(navigator.userAgent)) ? 'DOMMouseScroll' : 'mousewheel'; //FF doesn't recognize mousewheel as of FF3.x\r\n\t\t\t// this._handler.on(this._scrollable, mousewheelevt, (evt) => {\r\n\t\t\t// const delta = evt.detail ? evt.detail * (-120) : evt.wheelDelta;\r\n\t\t\t// const point = Math.min(Math.abs(delta) / 12, this.scrollHeight / 5);\r\n\t\t\t// this.scrollTop += delta < 0 ? point : -point;\r\n\t\t\t// });\r\n\t\t}\r\n\t\tcalcTop(top) {\r\n\t\t\tconst relativeTop = top - this.scrollTop;\r\n\t\t\treturn this._scrollable.scrollTop + relativeTop;\r\n\t\t}\r\n\t\tgetElement() {\r\n\t\t\treturn this._scrollable;\r\n\t\t}\r\n\t\tsetScrollSize(width, height) {\r\n\t\t\tthis._width = width;\r\n\t\t\tthis._height = height;\r\n\t\t\t_update(this);\r\n\t\t}\r\n\t\tget scrollWidth() {\r\n\t\t\treturn this._width;\r\n\t\t}\r\n\t\tset scrollWidth(width) {\r\n\t\t\tthis._width = width;\r\n\t\t\t_update(this);\r\n\t\t}\r\n\t\tget scrollHeight() {\r\n\t\t\treturn this._height;\r\n\t\t}\r\n\t\tset scrollHeight(height) {\r\n\t\t\tthis._height = height;\r\n\t\t\t_update(this);\r\n\t\t}\r\n\t\tget scrollLeft() {\r\n\t\t\treturn Math.ceil(this._scrollable.scrollLeft);\r\n\t\t}\r\n\t\tset scrollLeft(scrollLeft) {\r\n\t\t\tthis._scrollable.scrollLeft = scrollLeft;\r\n\t\t}\r\n\t\tget scrollTop() {\r\n\t\t\treturn Math.ceil(this._scrollable.scrollTop / this._p);\r\n\t\t}\r\n\t\tset scrollTop(scrollTop) {\r\n\t\t\tthis._scrollable.scrollTop = scrollTop * this._p;\r\n\t\t}\r\n\t\tonScroll(fn) {\r\n\t\t\tthis._handler.on(this._scrollable, 'scroll', fn);\r\n\t\t}\r\n\t\tdispose() {\r\n\t\t\tthis._handler.dispose();\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tmodule.exports = Scrollable;\r\n}","\nvar content = require(\"!!../../../node_modules/css-loader/index.js?minimize!./style.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?minimize!./style.css\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?minimize!./style.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".cheetah-grid .grid-scrollable{height:100%;width:100%;position:absolute;overflow:scroll}.cheetah-grid .grid-scroll-end-point{opacity:0;position:relative}.cheetah-grid{position:relative;width:100%;height:100%}.cheetah-grid>canvas{position:absolute;width:0;height:0}.cheetah-grid .grid-focus-control{position:relative!important;width:1px;height:1px;opacity:0;padding:0;margin:0;box-sizing:border-box;pointer-events:none;max-width:0;max-height:0;float:none!important}.cheetah-grid input.grid-focus-control::-ms-clear{visibility:hidden}.cheetah-grid input.grid-focus-control.composition{opacity:1;max-width:none;max-height:none}\", \"\"]);\n\n// exports\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","'use strict';\r\n{\r\n\tconst indexFirst = (ary, elm) => {\r\n\t\tlet low = 0;\r\n\t\tlet high = ary.length - 1;\r\n\t\twhile (low <= high) {\r\n\t\t\tconst i = Math.floor((low + high) / 2);\r\n\t\t\tif (ary[i] === elm) {\r\n\t\t\t\treturn i;\r\n\t\t\t} else if (ary[i] > elm) {\r\n\t\t\t\thigh = i - 1;\r\n\t\t\t} else {\r\n\t\t\t\tlow = i + 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn high < 0 ? 0 : high;\r\n\t};\r\n\r\n\r\n\tclass NumberMap {\r\n\t\tconstructor() {\r\n\t\t\tthis._keys = [];\r\n\t\t\tthis._vals = {};\r\n\t\t\tthis._sorted = false;\r\n\t\t}\r\n\t\tput(key, value) {\r\n\t\t\tif (!(key in this._vals)) {\r\n\t\t\t\tthis._keys.push(key);\r\n\t\t\t\tthis._sorted = false;\r\n\t\t\t}\r\n\t\t\tthis._vals[key] = value;\r\n\t\t}\r\n\t\tget(key) {\r\n\t\t\treturn this._vals[key];\r\n\t\t}\r\n\t\teachAll(fn) {\r\n\t\t\tthis._keys.forEach((key) => {\r\n\t\t\t\tfn(this.get(key), key);\r\n\t\t\t});\r\n\t\t}\r\n\t\teach(keyFrom, keyTo, fn) {\r\n\t\t\tconst {_keys: keys} = this;\r\n\t\t\tconst {length} = keys;\r\n\t\t\tif (!this._sorted) {\r\n\t\t\t\tkeys.sort((a, b) => {\r\n\t\t\t\t\tif (a < b) { return -1; }\r\n\t\t\t\t\tif (a > b) { return 1; }\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t});\r\n\t\t\t\tthis._sorted = true;\r\n\t\t\t}\r\n\r\n\t\t\tfor (let i = indexFirst(keys, keyFrom); i < length; i++) {\r\n\t\t\t\tconst key = keys[i];\r\n\t\t\t\tif (keyFrom <= key && key <= keyTo) {\r\n\t\t\t\t\tfn(this.get(key), key);\r\n\t\t\t\t} else if (keyTo < key) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tmodule.exports = NumberMap;\r\n}","'use strict';\r\n\r\nconst EventHandler = require('./EventHandler');\r\nconst handler = new EventHandler();\r\n\r\nlet ratio;\r\nfunction setRatio() {\r\n\tratio = Math.ceil(window.devicePixelRatio || 1);\r\n\tif (ratio > 1 && (ratio % 2) !== 0) {\r\n\t\tratio += 1;\r\n\t}\r\n}\r\nsetRatio();\r\nhandler.on(window, 'resize', setRatio);\r\n\r\nmodule.exports = {\r\n\ttransform(canvas) {\r\n\t\tconst ctx = canvas.getContext('2d');\r\n\r\n\t\tconst getAttribute = canvas.getAttribute;\r\n\t\tcanvas.getAttribute = function(name, ...args) {\r\n\t\t\tlet result = getAttribute.call(this, name, ...args);\r\n\t\t\tif (name === 'width' || name === 'height') {\r\n\t\t\t\tresult /= ratio;\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t};\r\n\t\tconst setAttribute = canvas.setAttribute;\r\n\t\tcanvas.setAttribute = function(name, val, ...args) {\r\n\t\t\tconst wh = name === 'width' || name === 'height';\r\n\t\t\tif (wh) {\r\n\t\t\t\tval *= ratio;\r\n\t\t\t}\r\n\t\t\tconst result = setAttribute.call(this, name, val, ...args);\r\n\t\t\tif (wh) {\r\n\t\t\t\tctx.scale(ratio, ratio);\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t};\r\n\r\n\t\tObject.defineProperty(canvas, 'width', {\r\n\t\t\tget() {\r\n\t\t\t\treturn canvas.getAttribute('width');\r\n\t\t\t},\r\n\t\t\tset: (val) => {\r\n\t\t\t\tcanvas.setAttribute('width', Math.floor(val));\r\n\t\t\t},\r\n\t\t\tconfigurable: true,\r\n\t\t\tenumerable: true,\r\n\t\t});\r\n\t\tObject.defineProperty(canvas, 'height', {\r\n\t\t\tget() {\r\n\t\t\t\treturn canvas.getAttribute('height');\r\n\t\t\t},\r\n\t\t\tset: (val) => {\r\n\t\t\t\tcanvas.setAttribute('height', Math.floor(val));\r\n\t\t\t},\r\n\t\t\tconfigurable: true,\r\n\t\t\tenumerable: true,\r\n\t\t});\r\n\t\tconst drawImage = ctx.drawImage;\r\n\t\tctx.drawImage = function(img, ...args) {\r\n\t\t\tif (img !== canvas || ratio === 1) {\r\n\t\t\t\treturn drawImage.call(this, img, ...args);\r\n\t\t\t}\r\n\t\t\tthis.save();\r\n\t\t\ttry {\r\n\t\t\t\tthis.scale(1 / ratio, 1 / ratio);\r\n\t\t\t\tif (args.length > 4) {\r\n\t\t\t\t\targs[4] = args[4] * ratio;\r\n\t\t\t\t\targs[5] = args[5] * ratio;\r\n\t\t\t\t} else {\r\n\t\t\t\t\targs[0] = args[0] * ratio;\r\n\t\t\t\t\targs[1] = args[1] * ratio;\r\n\t\t\t\t}\r\n\t\t\t\treturn drawImage.call(this, img, ...args);\r\n\t\t\t} finally {\r\n\t\t\t\tthis.restore();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn canvas;\r\n\t}\r\n};","'use strict';\r\n{\r\n\tconst canvashelper = require('./tools/canvashelper');\r\n\r\n\t/**\r\n\t * tools\r\n\t * @type {Object}\r\n\t * @namespace cheetahGrid.tools\r\n\t * @memberof cheetahGrid\r\n\t */\r\n\tmodule.exports = {\r\n\t\tcanvashelper,\r\n\t};\r\n}","'use strict';\r\n{\r\n\tconst BaseAction = require('./action/BaseAction');\r\n\tconst Action = require('./action/Action');\r\n\tconst Editor = require('./action/Editor');\r\n\tconst CheckEditor = require('./action/CheckEditor');\r\n\tconst ButtonAction = require('./action/ButtonAction');\r\n\tconst SmallDialogInputEditor = require('./action/SmallDialogInputEditor');\r\n\tconst InlineInputEditor = require('./action/InlineInputEditor');\r\n\tconst InlineMenuEditor = require('./action/InlineMenuEditor');\r\n\r\n\tclass ImmutableCheckEditor extends CheckEditor {\r\n\t\tget disabled() {\r\n\t\t\treturn this._disabled;\r\n\t\t}\r\n\t\tget readOnly() {\r\n\t\t\treturn this._readOnly;\r\n\t\t}\r\n\t}\r\n\tclass ImmutableInputEditor extends SmallDialogInputEditor {\r\n\t\tget disabled() {\r\n\t\t\treturn this._disabled;\r\n\t\t}\r\n\t\tget readOnly() {\r\n\t\t\treturn this._readOnly;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * column actions\r\n\t * @type {Object}\r\n\t * @namespace cheetahGrid.columns.action\r\n\t * @memberof cheetahGrid.columns\r\n\t */\r\n\tconst action = {\r\n\t\tACTIONS: {\r\n\t\t\tCHECK: new ImmutableCheckEditor(),\r\n\t\t\tINPUT: new ImmutableInputEditor(),\r\n\t\t},\r\n\t\tget BaseAction() {\r\n\t\t\treturn BaseAction;\r\n\t\t},\r\n\t\tget Editor() {\r\n\t\t\treturn Editor;\r\n\t\t},\r\n\t\tget Action() {\r\n\t\t\treturn Action;\r\n\t\t},\r\n\t\tget CheckEditor() {\r\n\t\t\treturn CheckEditor;\r\n\t\t},\r\n\t\tget ButtonAction() {\r\n\t\t\treturn ButtonAction;\r\n\t\t},\r\n\t\tget SmallDialogInputEditor() {\r\n\t\t\treturn SmallDialogInputEditor;\r\n\t\t},\r\n\t\tget InlineInputEditor() {\r\n\t\t\treturn InlineInputEditor;\r\n\t\t},\r\n\t\tget InlineMenuEditor() {\r\n\t\t\treturn InlineMenuEditor;\r\n\t\t},\r\n\t\tof(columnAction) {\r\n\t\t\tif (!columnAction) {\r\n\t\t\t\treturn action.ACTIONS.DEFAULT;\r\n\t\t\t} else if (typeof columnAction === 'string') {\r\n\t\t\t\treturn action.ACTIONS[columnAction.toUpperCase()] || action.of(null);\r\n\t\t\t} else {\r\n\t\t\t\treturn columnAction;\r\n\t\t\t}\r\n\t\t},\r\n\t};\r\n\tmodule.exports = action;\r\n}","'use strict';\r\n{\r\n\tconst {obj: {setReadonly}, isPromise} = require('../../internal/utils');\r\n\tconst {bindCellClickAction, bindCellKeyAction} = require('./actionBind');\r\n\tconst animate = require('../../internal/animate');\r\n\r\n\tconst Editor = require('./Editor');\r\n\tconst {CHECK_COLUMN_STATE_ID} = require('../../internal/symbolManager');\r\n\r\n\tconst KEY_ENTER = 13;\r\n\tconst KEY_SPACE = 32;\r\n\r\n\tfunction toggleValue(val) {\r\n\t\tif (typeof val === 'number') {\r\n\t\t\tif (val === 0) {\r\n\t\t\t\treturn 1;\r\n\t\t\t} else {\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t} else if (typeof val === 'string') {\r\n\t\t\tif (val === 'false') {\r\n\t\t\t\treturn 'true';\r\n\t\t\t} else if (val === 'off') {\r\n\t\t\t\treturn 'on';\r\n\t\t\t} else if (val.match(/^0+$/)) {\r\n\t\t\t\treturn val.replace(/^(0*)0$/, '$11');\r\n\t\t\t} else if (val === 'true') {\r\n\t\t\t\treturn 'false';\r\n\t\t\t} else if (val === 'on') {\r\n\t\t\t\treturn 'off';\r\n\t\t\t} else if (val.match(/^0*1$/)) {\r\n\t\t\t\treturn val.replace(/^(0*)1$/, '$10');\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn !val;\r\n\t}\r\n\r\n\tclass CheckEditor extends Editor {\r\n\t\tclone() {\r\n\t\t\treturn new CheckEditor(this);\r\n\t\t}\r\n\t\tbindGridEvent(grid, col, util) {\r\n\t\t\tif (!grid[CHECK_COLUMN_STATE_ID]) {\r\n\t\t\t\tsetReadonly(grid, CHECK_COLUMN_STATE_ID, {});\r\n\t\t\t}\r\n\t\t\tconst state = grid[CHECK_COLUMN_STATE_ID];\r\n\t\t\t\r\n\t\t\tconst action = (cell) => {\r\n\t\t\t\tconst key = cell.col + ':' + cell.row;\r\n\t\t\t\tconst blockKey = key + '::block';\r\n\t\t\t\tif (this.readOnly || this.disabled || state[blockKey]) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst ret = grid.doChangeValue(cell.col, cell.row, toggleValue);\r\n\t\t\t\tif (ret) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst onChange = () => {\r\n\t\t\t\t\t\t// checkbox animation\r\n\t\t\t\t\t\tanimate(200, (point) => {\r\n\t\t\t\t\t\t\tif (point === 1) {\r\n\t\t\t\t\t\t\t\tdelete state[key];\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tstate[key] = {\r\n\t\t\t\t\t\t\t\t\telapsed: point,\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tgrid.invalidateCell(cell.col, cell.row);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t};\r\n\t\t\t\t\tif (isPromise(ret)) {\r\n\t\t\t\t\t\tstate[blockKey] = true;\r\n\t\t\t\t\t\tret.then(() => {\r\n\t\t\t\t\t\t\tdelete state[blockKey];\r\n\t\t\t\t\t\t\tonChange();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tonChange();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\treturn [\r\n\t\t\t\t...bindCellClickAction(grid, col, util, {\r\n\t\t\t\t\taction,\r\n\t\t\t\t\tmouseOver: (e) => {\r\n\t\t\t\t\t\tif (this.disabled) {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tstate.mouseActiveCell = {\r\n\t\t\t\t\t\t\tcol: e.col,\r\n\t\t\t\t\t\t\trow: e.row\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tgrid.invalidateCell(e.col, e.row);\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmouseOut: (e) => {\r\n\t\t\t\t\t\tdelete state.mouseActiveCell;\r\n\t\t\t\t\t\tgrid.invalidateCell(e.col, e.row);\r\n\t\t\t\t\t},\r\n\t\t\t\t}),\r\n\t\t\t\t...bindCellKeyAction(grid, col, util, {\r\n\t\t\t\t\taction: (e) => {\r\n\t\t\t\t\t\tconst selrange = grid.selection.range;\r\n\t\t\t\t\t\tconst col = grid.selection.select.col;\r\n\t\t\t\t\t\tfor (let row = selrange.start.row; row <= selrange.end.row; row++) {\r\n\t\t\t\t\t\t\tif (!util.isTarget(col, row)) {\r\n\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\taction({\r\n\t\t\t\t\t\t\t\tcol,\r\n\t\t\t\t\t\t\t\trow,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tacceptKeys: [KEY_ENTER, KEY_SPACE],\r\n\t\t\t\t})\r\n\t\t\t];\r\n\t\t}\r\n\t}\r\n\r\n\tmodule.exports = CheckEditor;\r\n}","'use strict';\r\n{\r\n\tconst {obj: {setReadonly}} = require('../../internal/utils');\r\n\tconst Action = require('./Action');\r\n\tconst {BUTTON_COLUMN_STATE_ID} = require('../../internal/symbolManager');\r\n\tclass ButtonAction extends Action {\r\n\t\tgetState(grid) {\r\n\t\t\tif (!grid[BUTTON_COLUMN_STATE_ID]) {\r\n\t\t\t\tsetReadonly(grid, BUTTON_COLUMN_STATE_ID, {});\r\n\t\t\t}\r\n\t\t\treturn grid[BUTTON_COLUMN_STATE_ID];\r\n\t\t}\r\n\t}\r\n\r\n\tmodule.exports = ButtonAction;\r\n}","'use strict';\r\nconst {obj: {setReadonly}} = require('../../internal/utils');\r\n\t\r\nconst SmallDialogInputElement = require('./internal/SmallDialogInputElement');\r\nconst {SMALL_DIALOG_INPUT_EDITOR_STATE_ID: _} = require('../../internal/symbolManager');\r\n\r\nlet globalElement = null;\r\nlet bindGridCount = 0;\r\nfunction attachInput(grid, cell, editor, value) {\r\n\tif (!grid[_]) {\r\n\t\tsetReadonly(grid, _, {});\r\n\t}\r\n\tif (!globalElement) {\r\n\t\tglobalElement = new SmallDialogInputElement();\r\n\t}\r\n\tconst state = grid[_];\r\n\tif (!state.element) {\r\n\t\tstate.element = globalElement;\r\n\t\tbindGridCount++;\r\n\t\tgrid.addDisposable({\r\n\t\t\tdispose() {\r\n\t\t\t\tbindGridCount--;\r\n\t\t\t\tif (!bindGridCount) {\r\n\t\t\t\t\tglobalElement.dispose();\r\n\t\t\t\t\tglobalElement = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tglobalElement.attach(grid, editor, cell.col, cell.row, value);\r\n}\r\nfunction detachInput(grid) {\r\n\tif (globalElement) {\r\n\t\tglobalElement.detach();\r\n\t}\r\n}\r\nconst BaseInputEditor = require('./BaseInputEditor');\r\nclass SmallDialogInputEditor extends BaseInputEditor {\r\n\tconstructor(option = {}) {\r\n\t\tsuper(option);\r\n\t\tthis._helperText = option.helperText;\r\n\t\tthis._inputValidator = option.inputValidator;\r\n\t\tthis._validator = option.validator;\r\n\t\tthis._classList = option.classList;\r\n\t\tthis._type = option.type;\r\n\t}\r\n\tdispose() {\r\n\t\tthis._inputDialogManager.dispose();\r\n\t\tthis._inputDialogManager = null;\r\n\t}\r\n\tget classList() {\r\n\t\treturn this._classList && (Array.isArray(this._classList) ? this._classList : [this._classList]);\r\n\t}\r\n\tset classList(classList) {\r\n\t\tthis._classList = classList;\r\n\t}\r\n\tget type() {\r\n\t\treturn this._type;\r\n\t}\r\n\tset type(type) {\r\n\t\tthis._type = type;\r\n\t}\r\n\tget helperText() {\r\n\t\treturn this._helperText;\r\n\t}\r\n\tget inputValidator() {\r\n\t\treturn this._inputValidator;\r\n\t}\r\n\tget validator() {\r\n\t\treturn this._validator;\r\n\t}\r\n\tclone() {\r\n\t\treturn new SmallDialogInputEditor(this);\r\n\t}\r\n\tonInputCellInternal(grid, cell, inputValue) {\r\n\t\tattachInput(grid, cell, this, inputValue);\r\n\t}\r\n\tonOpenCellInternal(grid, cell) {\r\n\t\tgrid.doGetCellValue(cell.col, cell.row, (value) => {\r\n\t\t\tattachInput(grid, cell, this, value);\r\n\t\t});\r\n\t}\r\n\tonChangeSelectCellInternal(grid, cell, selected) {\r\n\t\t// cancel input\r\n\t\tdetachInput();\r\n\t}\r\n\tonGridScrollInternal(grid) {\r\n\t\t// cancel input\r\n\t\tdetachInput();\r\n\t}\r\n\tonSetInputAttrsInternal(grid, cell, input) {\r\n\t\tSmallDialogInputElement.setInputAttrs(this, grid, input);\r\n\t}\r\n}\r\n\r\nmodule.exports = SmallDialogInputEditor;","'use strict';\r\nconst {\r\n\tevent: {\r\n\t\tgetKeyCode,\r\n\t\tcancel: cancelEvent,\r\n\t},\r\n} = require('../../../internal/utils');\r\n\t\r\nconst EventHandler = require('../../../internal/EventHandler');\r\nconst {\r\n\tcreateElement,\r\n} = require('./dom');\r\n\r\nconst CLASSNAME = 'cheetah-grid__small-dialog-input';\r\nconst INPUT_CLASSNAME = CLASSNAME + '__input';\r\nconst HIDDEN_CLASSNAME = CLASSNAME + '--hidden';\r\nconst SHOWN_CLASSNAME = CLASSNAME + '--shown';\r\n\r\nconst KEY_ENTER = 13;\r\nconst KEY_ESC = 27;\r\n\r\nfunction _focus(input, handler) {\r\n\tconst focus = () => {\r\n\t\tinput.focus();\r\n\r\n\t\tconst end = input.value.length;\r\n\t\ttry {\r\n\t\t\tif (typeof (input.selectionStart) !== 'undefined') {\r\n\t\t\t\tinput.selectionStart = end;\r\n\t\t\t\tinput.selectionEnd = end;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\t//ignore\r\n\t\t}\r\n\t\tif (document.selection) {\r\n\t\t\tconst range = input.createTextRange();\r\n\t\t\trange.collapse();\r\n\t\t\trange.moveEnd('character', end);\r\n\t\t\trange.moveStart('character', end);\r\n\t\t\trange.select();\r\n\t\t}\r\n\t};\r\n\thandler.tryWithOffEvents(input, 'blur', () => {\r\n\t\tfocus();\r\n\t});\r\n}\r\n\r\nfunction createDialogElement() {\r\n\trequire('./SmallDialogInputElement.css');\r\n\tconst element = createElement('div', {classList: [CLASSNAME, HIDDEN_CLASSNAME]});\r\n\tconst input = createElement('input', {classList: INPUT_CLASSNAME});\r\n\tinput.readonly = true;\r\n\tinput.tabIndex = -1;\r\n\telement.appendChild(input);\r\n\treturn element;\r\n}\r\n\r\nfunction bindProps(grid, dialog, input, editor) {\r\n\tconst {classList, helperText} = editor;\r\n\tif (classList) {\r\n\t\tdialog.classList.add(...classList);\r\n\t}\r\n\tif (helperText && typeof helperText !== 'function') {\r\n\t\tdialog.dataset.helperText = helperText;\r\n\t}\r\n\tsetInputAttrs(editor, grid, input);\r\n}\r\n\r\nfunction unbindProps(grid, dialog, input, editor) {\r\n\tconst {classList} = editor;\r\n\tif (classList) {\r\n\t\tdialog.classList.remove(...classList);\r\n\t}\r\n\tdelete dialog.dataset.helperText;\r\n\tinput.type = '';\r\n}\r\n\r\nfunction setInputAttrs(editor, grid, input) {\r\n\tconst {type} = editor;\r\n\tinput.type = type || '';\r\n}\r\n\r\nclass SmallDialogInputElement {\r\n\tstatic setInputAttrs(...args) {\r\n\t\tsetInputAttrs(...args);\r\n\t}\r\n\tconstructor() {\r\n\t\tthis._handler = new EventHandler();\r\n\t\tthis._dialog = createDialogElement();\r\n\t\tthis._input = this._dialog.querySelector('.' + INPUT_CLASSNAME);\r\n\t\tthis._bindDialogEvents();\r\n\t}\r\n\tdispose() {\r\n\t\tthis.detach();\r\n\t\tthis._handler.dispose();\r\n\t\tthis._dialog = null;\r\n\t\tthis._input = null;\r\n\t\tthis._beforePropEditor = null;\r\n\t}\r\n\tattach(grid, editor, col, row, value) {\r\n\t\tconst handler = this._handler;\r\n\t\tconst dialog = this._dialog;\r\n\t\tconst input = this._input;\r\n\r\n\t\tif (this._beforePropEditor) {\r\n\t\t\tunbindProps(grid, dialog, input, this._beforePropEditor);\r\n\t\t}\r\n\r\n\t\tdelete dialog.dataset.errorMessage;\r\n\t\tdialog.classList.remove(SHOWN_CLASSNAME);\r\n\t\tdialog.classList.add(HIDDEN_CLASSNAME);\r\n\t\tinput.readonly = false;\r\n\t\tinput.tabIndex = 0;\r\n\t\tconst {element, rect} = grid.getAttachCellArea(col, row);\r\n\t\tdialog.style.top = rect.top.toFixed() + 'px';\r\n\t\tdialog.style.left = rect.left.toFixed() + 'px';\r\n\t\tdialog.style.width = rect.width.toFixed() + 'px';\r\n\t\tdialog.style.height = rect.height.toFixed() + 'px';\r\n\t\telement.appendChild(dialog);\r\n\t\t\t\r\n\t\tinput.value = value;\r\n\t\tinput.style.font = grid.font || '16px sans-serif';\r\n\t\tconst activeData = {grid, col, row, editor};\r\n\t\tthis._onInputValue(input, activeData);\r\n\t\t_focus(input, handler);\r\n\t\tdialog.classList.add(SHOWN_CLASSNAME);\r\n\t\tdialog.classList.remove(HIDDEN_CLASSNAME);\r\n\t\tinput.readonly = true;\r\n\r\n\t\t\r\n\t\tbindProps(grid, dialog, input, editor);\r\n\r\n\t\tthis._activeData = activeData;\r\n\t\tthis._beforePropEditor = editor;\r\n\t}\r\n\tdetach(gridFocus) {\r\n\t\tif (this._isActive()) {\r\n\t\t\tconst dialog = this._dialog;\r\n\t\t\tconst input = this._input;\r\n\r\n\t\t\tdialog.classList.remove(SHOWN_CLASSNAME);\r\n\t\t\tdialog.classList.add(HIDDEN_CLASSNAME);\r\n\t\t\tinput.readonly = false;\r\n\t\t\tinput.tabIndex = -1;\r\n\r\n\t\t\tconst {grid, col, row} = this._activeData;\r\n\t\t\t\r\n\t\t\tgrid.invalidateCell(col, row);\r\n\t\t\tif (gridFocus) {\r\n\t\t\t\tgrid.focus();\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis._activeData = null;\r\n\t\tthis._beforeValue = null;\r\n\t}\r\n\t_doChangeValue() {\r\n\t\tif (!this._isActive()) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tconst input = this._input;\r\n\t\tconst value = input.value;\r\n\t\tif (!this._validate(value)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tconst {grid, col, row} = this._activeData;\r\n\t\tgrid.doChangeValue(col, row, () => value);\r\n\t\treturn true;\r\n\t}\r\n\t_isActive() {\r\n\t\tconst dialog = this._dialog;\r\n\t\tif (!dialog || !dialog.parentElement) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (!this._activeData) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t_bindDialogEvents() {\r\n\t\tconst handler = this._handler;\r\n\t\tconst dialog = this._dialog;\r\n\t\tconst input = this._input;\r\n\t\tconst stopPropagationOnly = (e) => e.stopPropagation();// grid\r\n\t\thandler.on(dialog, 'click', stopPropagationOnly);\r\n\t\thandler.on(dialog, 'dblclick', stopPropagationOnly);\r\n\t\thandler.on(dialog, 'mousedown', stopPropagationOnly);\r\n\t\thandler.on(dialog, 'touchstart', stopPropagationOnly);\r\n\t\t\t\r\n\t\thandler.on(input, 'compositionstart', (e) => {\r\n\t\t\tinput.classList.add('composition');\r\n\t\t});\r\n\t\thandler.on(input, 'compositionend', (e) => {\r\n\t\t\tinput.classList.remove('composition');\r\n\t\t\tthis._onInputValue(input);\r\n\t\t});\r\n\t\tconst onKeyupAndPress = (e) => {\r\n\t\t\tif (input.classList.contains('composition')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis._onInputValue(input);\r\n\t\t};\r\n\t\thandler.on(input, 'keyup', onKeyupAndPress);\r\n\t\thandler.on(input, 'keypress', onKeyupAndPress);\r\n\t\thandler.on(input, 'keydown', (e) => {\r\n\t\t\tif (input.classList.contains('composition')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst keyCode = getKeyCode(e);\r\n\t\t\tif (keyCode === KEY_ESC) {\r\n\t\t\t\tthis.detach(true);\r\n\t\t\t\tcancelEvent(e);\r\n\t\t\t} else if (keyCode === KEY_ENTER) {\r\n\t\t\t\tif (this._doChangeValue()) {\r\n\t\t\t\t\tthis.detach(true);\r\n\t\t\t\t}\r\n\t\t\t\tcancelEvent(e);\r\n\t\t\t} else {\r\n\t\t\t\tthis._onInputValue(input);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t_onInputValue(input, activeData) {\r\n\t\tconst before = this._beforeValue;\r\n\t\tconst value = input.value;\r\n\t\tif (before !== value) {\r\n\t\t\tthis._onInputValueChange(value, before, activeData);\r\n\t\t}\r\n\t\tthis._beforeValue = value;\r\n\t}\r\n\t_onInputValueChange(after, before, activeData) {\r\n\t\tactiveData = activeData || this._activeData;\r\n\t\tconst dialog = this._dialog;\r\n\t\tconst {grid, col, row, editor} = activeData;\r\n\t\tif (typeof editor.helperText === 'function') {\r\n\t\t\tconst helperText = editor.helperText(after, {grid, col, row});\r\n\t\t\tif (helperText) {\r\n\t\t\t\tdialog.dataset.helperText = helperText;\r\n\t\t\t} else {\r\n\t\t\t\tdelete dialog.dataset.helperText;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif ('errorMessage' in dialog.dataset) {\r\n\t\t\tthis._validate(after, true);\r\n\t\t}\r\n\t}\r\n\t_validate(value, inputOnly) {\r\n\t\tconst dialog = this._dialog;\r\n\t\tconst {grid, col, row, editor} = this._activeData;\r\n\t\tlet message = null;\r\n\t\tif (editor.inputValidator) {\r\n\t\t\tmessage = editor.inputValidator(value, {grid, col, row});\r\n\t\t}\r\n\t\tif (!message && editor.validator && !inputOnly) {\r\n\t\t\tmessage = editor.validator(value, {grid, col, row});\r\n\t\t}\r\n\t\tif (message) {\r\n\t\t\tdialog.dataset.errorMessage = message;\r\n\t\t\treturn false;\r\n\t\t} else {\r\n\t\t\tdelete dialog.dataset.errorMessage;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nmodule.exports = SmallDialogInputElement;","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./SmallDialogInputElement.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js?minimize!./SmallDialogInputElement.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./SmallDialogInputElement.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".cheetah-grid__small-dialog-input__input::-ms-clear{visibility:hidden}@keyframes cheetah-grid__small-dialog-input--hidden-animation{0%{opacity:1}99%{opacity:1}to{opacity:0}}.cheetah-grid__small-dialog-input{position:absolute;box-sizing:content-box;margin:-1px auto auto -1px;border-radius:3px;background-color:#fafafa;transition:padding .15s ease-out,box-shadow .15s ease-out}.cheetah-grid__small-dialog-input--hidden{box-shadow:none;padding:0;pointer-events:none;animation:cheetah-grid__small-dialog-input--hidden-animation .15s ease-out;opacity:0}.cheetah-grid__small-dialog-input--shown{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);padding:8px 24px 26px}.cheetah-grid__small-dialog-input__input{width:100%;height:100%;box-sizing:border-box;padding:3px 2px 0 4px;border:none;border-bottom:1px solid rgba(0,0,0,.87);outline:none;background-color:transparent;transition:all .3s ease-out}.cheetah-grid__small-dialog-input__input:focus{border-bottom:1px solid #2196f3;box-shadow:0 1px 0 0 #2196f3}.cheetah-grid__small-dialog-input.helper-text--right-justified:after{text-align:right}.cheetah-grid__small-dialog-input[data-error-message]:after,.cheetah-grid__small-dialog-input[data-helper-text]:after{font-size:12px;line-height:1;display:block;width:100%;padding-top:8px}.cheetah-grid__small-dialog-input[data-helper-text]:after{content:attr(data-helper-text);color:rgba(0,0,0,.87)}.cheetah-grid__small-dialog-input[data-error-message] input{border-bottom:1px solid #dd2c00;box-shadow:0 1px 0 0 #dd2c00}.cheetah-grid__small-dialog-input[data-error-message]:after{content:attr(data-error-message);color:#dd2c00;text-align:left}\", \"\"]);\n\n// exports\n","'use strict';\r\n\r\nconst {obj: {setReadonly}} = require('../../internal/utils');\r\nconst BaseInputEditor = require('./BaseInputEditor');\r\nconst InlineInputElement = require('./internal/InlineInputElement');\r\nconst {INLINE_INPUT_EDITOR_STATE_ID: _} = require('../../internal/symbolManager');\r\n\r\n\t\r\nlet globalElement = null;\r\nlet bindGridCount = 0;\r\nfunction attachInput(grid, cell, editor, value) {\r\n\tif (!grid[_]) {\r\n\t\tsetReadonly(grid, _, {});\r\n\t}\r\n\tif (!globalElement) {\r\n\t\tglobalElement = new InlineInputElement();\r\n\t}\r\n\tconst state = grid[_];\r\n\tif (!state.element) {\r\n\t\tstate.element = globalElement;\r\n\t\tbindGridCount++;\r\n\t\tgrid.addDisposable({\r\n\t\t\tdispose() {\r\n\t\t\t\tbindGridCount--;\r\n\t\t\t\tif (!bindGridCount) {\r\n\t\t\t\t\tglobalElement.dispose();\r\n\t\t\t\t\tglobalElement = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tglobalElement.attach(grid, editor, cell.col, cell.row, value);\r\n}\r\nfunction detachInput(grid) {\r\n\tif (globalElement) {\r\n\t\tglobalElement.detach();\r\n\t}\r\n}\r\nfunction doChangeValue(grid) {\r\n\tif (globalElement) {\r\n\t\tglobalElement.doChangeValue();\r\n\t}\r\n}\r\n\r\n\r\nclass InlineInputEditor extends BaseInputEditor {\r\n\tconstructor(option = {}) {\r\n\t\tsuper(option);\r\n\t\tthis._classList = option.classList;\r\n\t\tthis._type = option.type;\r\n\t}\r\n\tget classList() {\r\n\t\treturn this._classList && (Array.isArray(this._classList) ? this._classList : [this._classList]);\r\n\t}\r\n\tset classList(classList) {\r\n\t\tthis._classList = classList;\r\n\t}\r\n\tget type() {\r\n\t\treturn this._type;\r\n\t}\r\n\tset type(type) {\r\n\t\tthis._type = type;\r\n\t}\r\n\tclone() {\r\n\t\treturn new InlineInputEditor(this);\r\n\t}\r\n\tonInputCellInternal(grid, cell, inputValue) {\r\n\t\tattachInput(grid, cell, this, inputValue);\r\n\t}\r\n\tonOpenCellInternal(grid, cell) {\r\n\t\tgrid.doGetCellValue(cell.col, cell.row, (value) => {\r\n\t\t\tattachInput(grid, cell, this, value);\r\n\t\t});\r\n\t}\r\n\tonChangeSelectCellInternal(grid, cell, selected) {\r\n\t\tdoChangeValue(grid);\r\n\t\tdetachInput(grid);\r\n\t}\r\n\tonGridScrollInternal(grid) {\r\n\t\tdoChangeValue(grid);\r\n\t\tdetachInput(grid);\r\n\t}\r\n\tonSetInputAttrsInternal(grid, cell, input) {\r\n\t\tInlineInputElement.setInputAttrs(this, grid, input);\r\n\t}\r\n}\r\n\r\nmodule.exports = InlineInputEditor;","'use strict';\r\nconst {\r\n\tevent: {\r\n\t\tgetKeyCode,\r\n\t\tcancel: cancelEvent,\r\n\t},\r\n} = require('../../../internal/utils');\r\n\t\r\nconst EventHandler = require('../../../internal/EventHandler');\r\nconst {\r\n\tcreateElement,\r\n} = require('./dom');\r\nconst KEY_ENTER = 13;\r\n\r\nconst CLASSNAME = 'cheetah-grid__inline-input';\r\n\r\nfunction createInputElement() {\r\n\trequire('./InlineInputElement.css');\r\n\treturn createElement('input', {classList: CLASSNAME});\r\n}\r\n\r\nfunction setInputAttrs(editor, grid, input) {\r\n\tconst {classList, type} = editor;\r\n\tif (classList) {\r\n\t\tinput.classList.add(...classList);\r\n\t}\r\n\tinput.type = type || '';\r\n}\r\n\r\nclass InlineInputElement {\r\n\tstatic setInputAttrs(...args) {\r\n\t\tsetInputAttrs(...args);\r\n\t}\r\n\tconstructor() {\r\n\t\tthis._handler = new EventHandler();\r\n\t\tthis._input = createInputElement();\r\n\t\tthis._bindInputEvents();\r\n\t}\r\n\tdispose() {\r\n\t\tthis.detach();\r\n\t\tthis._handler.dispose();\r\n\t\tthis._input = null;\r\n\t\tthis._beforePropEditor = null;\r\n\t}\r\n\tattach(grid, editor, col, row, value) {\r\n\t\tconst input = this._input;\r\n\t\tconst handler = this._handler;\r\n\r\n\t\tif (this._beforePropEditor) {\r\n\t\t\tconst {classList} = this._beforePropEditor;\r\n\t\t\tif (classList) {\r\n\t\t\t\tinput.classList.remove(...classList);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tinput.style.font = grid.font || '16px sans-serif';\r\n\r\n\t\tconst {element, rect} = grid.getAttachCellArea(col, row);\r\n\t\tinput.style.top = rect.top.toFixed() + 'px';\r\n\t\tinput.style.left = rect.left.toFixed() + 'px';\r\n\t\tinput.style.width = rect.width.toFixed() + 'px';\r\n\t\tinput.style.height = rect.height.toFixed() + 'px';\r\n\t\telement.appendChild(input);\r\n\r\n\t\tsetInputAttrs(editor, grid, input);\r\n\t\tinput.value = value;\r\n\r\n\t\tthis._activeData = {grid, col, row, editor};\r\n\t\tthis._beforePropEditor = editor;\r\n\r\n\t\tconst focus = () => {\r\n\t\t\tinput.focus();\r\n\r\n\t\t\tconst end = input.value.length;\r\n\t\t\ttry {\r\n\t\t\t\tif (typeof (input.selectionStart) !== 'undefined') {\r\n\t\t\t\t\tinput.selectionStart = end;\r\n\t\t\t\t\tinput.selectionEnd = end;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t//ignore\r\n\t\t\t}\r\n\t\t\tif (document.selection) {\r\n\t\t\t\tconst range = input.createTextRange();\r\n\t\t\t\trange.collapse();\r\n\t\t\t\trange.moveEnd('character', end);\r\n\t\t\t\trange.moveStart('character', end);\r\n\t\t\t\trange.select();\r\n\t\t\t}\r\n\t\t};\r\n\t\thandler.tryWithOffEvents(input, 'blur', () => {\r\n\t\t\tfocus();\r\n\t\t});\r\n\t}\r\n\tdetach() {\r\n\t\tif (this._isActive()) {\r\n\t\t\tconst {grid, col, row} = this._activeData;\r\n\t\t\tconst input = this._input;\r\n\t\t\tthis._handler.tryWithOffEvents(input, 'blur', () => {\r\n\t\t\t\tinput.parentElement.removeChild(input);\r\n\t\t\t});\r\n\t\t\tgrid.invalidateCell(col, row);\r\n\t\t}\r\n\t\tthis._activeData = null;\r\n\t}\r\n\tdoChangeValue() {\r\n\t\tif (!this._isActive()) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst input = this._input;\r\n\t\tconst value = input.value;\r\n\t\tconst {grid, col, row} = this._activeData;\r\n\t\tgrid.doChangeValue(col, row, () => value);\r\n\t}\r\n\t_isActive() {\r\n\t\tconst input = this._input;\r\n\t\tif (!input || !input.parentElement) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (!this._activeData) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t_bindInputEvents() {\r\n\t\tconst handler = this._handler;\r\n\t\tconst input = this._input;\r\n\t\tconst stopPropagationOnly = (e) => e.stopPropagation();// grid\r\n\t\thandler.on(input, 'click', stopPropagationOnly);\r\n\t\thandler.on(input, 'mousedown', stopPropagationOnly);\r\n\t\thandler.on(input, 'touchstart', stopPropagationOnly);\r\n\t\thandler.on(input, 'dblclick', stopPropagationOnly);\r\n\t\t\r\n\t\thandler.on(input, 'compositionstart', (e) => {\r\n\t\t\tinput.classList.add('composition');\r\n\t\t});\r\n\t\thandler.on(input, 'compositionend', (e) => {\r\n\t\t\tinput.classList.remove('composition');\r\n\t\t});\r\n\t\thandler.on(input, 'keydown', (e) => {\r\n\t\t\tif (input.classList.contains('composition')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (getKeyCode(e) === KEY_ENTER) {\r\n\t\t\t\tif (!this._isActive()) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst {grid} = this._activeData;\r\n\r\n\t\t\t\tthis.doChangeValue();\r\n\t\t\t\tif (grid) {\r\n\t\t\t\t\tgrid.focus();\r\n\t\t\t\t}\r\n\t\t\t\tthis.detach();\r\n\t\t\t\tcancelEvent(e);\r\n\t\t\t}\r\n\t\t});\r\n\t\thandler.on(input, 'blur', (e) => {\r\n\t\t\tthis.doChangeValue();\r\n\t\t\tthis.detach();\r\n\t\t});\r\n\t}\r\n}\r\n\r\nmodule.exports = InlineInputElement;","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./InlineInputElement.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js?minimize!./InlineInputElement.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./InlineInputElement.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".cheetah-grid__inline-input::-ms-clear{visibility:hidden}.cheetah-grid__inline-input{position:absolute;box-sizing:border-box}\", \"\"]);\n\n// exports\n","'use strict';\r\nconst {obj: {setReadonly}} = require('../../internal/utils');\r\nconst {normalize} = require('../../internal/menu-items');\r\n\t\r\nconst Editor = require('./Editor');\r\nconst {EVENT_TYPE: {\r\n\tSELECTED_CELL,\r\n\tCLICK_CELL,\r\n\tKEYDOWN,\r\n\tSCROLL,\r\n\tMOUSEOVER_CELL,\r\n\tMOUSEOUT_CELL,\r\n\tMOUSEMOVE_CELL,\r\n}} = require('../../core/DrawGrid');\r\nconst InlineMenuElement = require('./internal/InlineMenuElement');\r\nconst {INLINE_MENU_EDITOR_STATE_ID: _} = require('../../internal/symbolManager');\r\n\t\r\nlet globalElement = null;\r\nlet bindGridCount = 0;\r\nfunction attachMenu(grid, cell, editor, value) {\r\n\tif (!grid[_]) {\r\n\t\tsetReadonly(grid, _, {});\r\n\t}\r\n\tif (!globalElement) {\r\n\t\tglobalElement = new InlineMenuElement();\r\n\t}\r\n\tconst state = grid[_];\r\n\tif (!state.element) {\r\n\t\tstate.element = globalElement;\r\n\t\tbindGridCount++;\r\n\t\tgrid.addDisposable({\r\n\t\t\tdispose() {\r\n\t\t\t\tbindGridCount--;\r\n\t\t\t\tif (!bindGridCount) {\r\n\t\t\t\t\tglobalElement.dispose();\r\n\t\t\t\t\tglobalElement = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tglobalElement.attach(grid, editor, cell.col, cell.row, value);\r\n}\r\nfunction detachMenu(grid) {\r\n\tif (globalElement) {\r\n\t\tglobalElement.detach();\r\n\t}\r\n}\r\n\r\nconst KEY_ENTER = 13;\r\nconst KEY_F2 = 113;\r\n\r\nclass InlineMenuEditor extends Editor {\r\n\tconstructor(option = {}) {\r\n\t\tsuper(option);\r\n\t\tthis._classList = option.classList;\r\n\t\tthis._options = normalize(option.options);\r\n\t}\r\n\tdispose() {\r\n\t}\r\n\tget classList() {\r\n\t\treturn this._classList && (Array.isArray(this._classList) ? this._classList : [this._classList]);\r\n\t}\r\n\tset classList(classList) {\r\n\t\tthis._classList = classList;\r\n\t}\r\n\tget options() {\r\n\t\treturn this._options;\r\n\t}\r\n\tset options(options) {\r\n\t\tthis._options = normalize(options);\r\n\t}\r\n\tclone() {\r\n\t\treturn new InlineMenuEditor(this);\r\n\t}\r\n\tbindGridEvent(grid, col, util) {\r\n\t\tconst open = (cell) => {\r\n\t\t\tif (this.readOnly || this.disabled) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tgrid.doGetCellValue(cell.col, cell.row, (value) => {\r\n\t\t\t\tattachMenu(grid, cell, this, value);\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\treturn [\r\n\t\t\tgrid.listen(CLICK_CELL, (cell) => {\r\n\t\t\t\tif (!util.isTarget(cell.col, cell.row)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\topen({\r\n\t\t\t\t\tcol: cell.col,\r\n\t\t\t\t\trow: cell.row\r\n\t\t\t\t});\r\n\t\t\t}),\r\n\t\t\tgrid.listen(KEYDOWN, (keyCode, e) => {\r\n\t\t\t\tif (keyCode !== KEY_F2 && keyCode !== KEY_ENTER) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst sel = grid.selection.select;\r\n\t\t\t\tif (!util.isTarget(sel.col, sel.row)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\topen({\r\n\t\t\t\t\tcol: sel.col,\r\n\t\t\t\t\trow: sel.row\r\n\t\t\t\t});\r\n\t\t\t}),\r\n\t\t\tgrid.listen(SELECTED_CELL, (cell, selected) => {\r\n\t\t\t\tdetachMenu(grid);\r\n\t\t\t}),\r\n\t\t\tgrid.listen(SCROLL, () => {\r\n\t\t\t\tdetachMenu(grid);\r\n\t\t\t}),\r\n\r\n\t\t\t// mouse move\r\n\t\t\tgrid.listen(MOUSEOVER_CELL, (e) => {\r\n\t\t\t\tif (this.readOnly || this.disabled) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!util.isTarget(e.col, e.row)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tgrid.getElement().style.cursor = 'pointer';\r\n\t\t\t}),\r\n\t\t\tgrid.listen(MOUSEMOVE_CELL, (e) => {\r\n\t\t\t\tif (this.readOnly || this.disabled) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!util.isTarget(e.col, e.row)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!grid.getElement().style.cursor) {\r\n\t\t\t\t\tgrid.getElement().style.cursor = 'pointer';\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\tgrid.listen(MOUSEOUT_CELL, (e) => {\r\n\t\t\t\tif (!util.isTarget(e.col, e.row)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tgrid.getElement().style.cursor = '';\r\n\t\t\t}),\r\n\t\t];\r\n\t}\r\n}\r\n\r\nmodule.exports = InlineMenuEditor;","'use strict';\r\nconst {\r\n\tisDef,\r\n\tevent: {\r\n\t\tgetKeyCode,\r\n\t\tcancel: cancelEvent,\r\n\t}\r\n} = require('../../../internal/utils');\r\n\r\nconst EventHandler = require('../../../internal/EventHandler');\r\nconst {\r\n\tcreateElement,\r\n\tappendHtml,\r\n\tempty,\r\n\tdisableFocus,\r\n\tisFocusable,\r\n\tfindPrevSiblingFocusable,\r\n\tfindNextSiblingFocusable,\r\n} = require('./dom');\r\n\t\r\nconst KEY_TAB = 9;\r\nconst KEY_ENTER = 13;\r\nconst KEY_UP = 38;\r\nconst KEY_DOWN = 40;\r\nconst KEY_ESC = 27;\r\n\r\nconst CLASSNAME = 'cheetah-grid__inline-menu';\r\nconst ITEM_CLASSNAME = CLASSNAME + '__menu-item';\r\nconst HIDDEN_CLASSNAME = CLASSNAME + '--hidden';\r\nconst SHOWN_CLASSNAME = CLASSNAME + '--shown';\r\nconst EMPTY_ITEM_CLASSNAME = ITEM_CLASSNAME + '--empty';\r\n\r\nfunction findItemParents(target) {\r\n\tlet el = target;\r\n\twhile (!el.classList.contains(ITEM_CLASSNAME)) {\r\n\t\tel = el.parentElement;\r\n\t\tif (!el || el.classList.contains(CLASSNAME)) {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t}\r\n\treturn el;\r\n}\r\n\r\nfunction createMenuElement() {\r\n\trequire('./InlineMenuElement.css');\r\n\treturn createElement('ul', {classList: CLASSNAME});\r\n}\r\nfunction attachElement(element, rect, menu) {\r\n\tmenu.style.top = rect.top.toFixed() + 'px';\r\n\tmenu.style.left = rect.left.toFixed() + 'px';\r\n\tmenu.style.width = rect.width.toFixed() + 'px';\r\n\tmenu.style['line-height'] = rect.height.toFixed() + 'px';\r\n\telement.appendChild(menu);\r\n}\r\n\r\nfunction optionToLi({classList, caption, value, html}, index) {\r\n\tconst item = createElement('li', {classList: ITEM_CLASSNAME});\r\n\titem.tabIndex = 0;\r\n\titem.dataset.valueindex = index;\r\n\tif (classList) {\r\n\t\titem.classList.add(...(Array.isArray(classList) ? classList : [classList]));\r\n\t}\r\n\r\n\tif (caption) {\r\n\t\tconst span = createElement('span', {text: caption});\r\n\t\titem.appendChild(span);\r\n\t} else if (html) {\r\n\t\tappendHtml(item, html);\r\n\t}\r\n\r\n\tif (value === '' || !isDef(value)) {\r\n\t\titem.classList.add(EMPTY_ITEM_CLASSNAME);\r\n\t}\r\n\r\n\treturn item;\r\n}\r\n\r\nfunction openMenu(grid, editor, col, row, value, menu) {\r\n\tconst {options, classList} = editor;\r\n\tmenu.classList.remove(SHOWN_CLASSNAME);\r\n\tmenu.classList.add(HIDDEN_CLASSNAME);\r\n\tempty(menu);\r\n\tmenu.style.font = grid.font || '16px sans-serif';\r\n\tlet emptyItemEl = null;\r\n\tlet valueItemEl = null;\r\n\t\t\r\n\toptions.forEach((option, i) => {\r\n\t\tconst item = optionToLi(option, i);\r\n\t\tmenu.appendChild(item);\r\n\t\tif (option.value === value) {\r\n\t\t\tvalueItemEl = item;\r\n\t\t\titem.dataset.select = true;\r\n\t\t}\r\n\t\tif (item.classList.contains(EMPTY_ITEM_CLASSNAME)) {\r\n\t\t\temptyItemEl = item;\r\n\t\t}\r\n\t});\r\n\tconst focusEl = valueItemEl || emptyItemEl || menu.children[0];\r\n\tif (classList) {\r\n\t\tmenu.classList.add(...classList);\r\n\t}\r\n\tconst children = Array.prototype.slice.call(menu.children, 0);\r\n\tconst focusIndex = children.indexOf(focusEl);\r\n\tconst {element, rect} = grid.getAttachCellArea(col, row);\r\n\r\n\t// Cover the right line\r\n\trect.width++;\r\n\r\n\t// append for calculation\r\n\tattachElement(element, rect, menu);\r\n\r\n\t// Make the selection item at the middle\r\n\tlet offset = 0;\r\n\tlet allHeight = 0;\r\n\tfor (let i = 0; i < children.length; i++) {\r\n\t\tconst offsetHeight = children[i].offsetHeight;\r\n\t\tif (i < focusIndex) {\r\n\t\t\toffset += offsetHeight;\r\n\t\t}\r\n\t\tallHeight += offsetHeight;\r\n\t}\r\n\trect.offsetTop(-offset);\r\n\tmenu.style['transform-origin'] = `center ${offset + Math.ceil(children[focusIndex].offsetHeight / 2)}px 0px`;\r\n\tattachElement(element, rect, menu);\r\n\r\n\t// Control not to overflow the screen range\r\n\tconst menuClientRect = menu.getBoundingClientRect();\r\n\tconst scaleDiff = ((allHeight - menuClientRect.height) / 2);\r\n\tconst orgMenuTop = menuClientRect.top - scaleDiff;\r\n\tlet menuTop = orgMenuTop;\r\n\tconst menuBottom = menuTop + allHeight;\r\n\tconst winBottom = window.innerHeight;\r\n\tconst winMargin = 20;\r\n\tif (menuBottom > (winBottom - winMargin)) {\r\n\t\tconst diff = menuBottom - winBottom + winMargin;\r\n\t\tmenuTop -= diff;\r\n\t}\r\n\tif (menuTop < 0/*winTop*/ + winMargin) {\r\n\t\tmenuTop = winMargin;\r\n\t}\r\n\tif (menuTop !== orgMenuTop) {\r\n\t\trect.offsetTop(-(orgMenuTop - menuTop));\r\n\t\t// re update\r\n\t\tattachElement(element, rect, menu);\r\n\t}\r\n\t\t\r\n\tif (focusEl) {\r\n\t\tfocusEl.focus();\r\n\t}\r\n\tmenu.classList.remove(HIDDEN_CLASSNAME);\r\n\tmenu.classList.add(SHOWN_CLASSNAME);\r\n}\r\n\r\nfunction closeMenu(grid, col, row, menu, valueindex) {\r\n\tmenu.classList.remove(SHOWN_CLASSNAME);\r\n\tmenu.classList.add(HIDDEN_CLASSNAME);\r\n\tdisableFocus(menu);\r\n}\r\n\r\nclass InlineMenuElement {\r\n\tconstructor() {\r\n\t\tthis._handler = new EventHandler();\r\n\t\tthis._menu = createMenuElement();\r\n\t\tthis._bindMenuEvents();\r\n\t}\r\n\tdispose() {\r\n\t\tthis.detach();\r\n\t\tthis._handler.dispose();\r\n\t\tthis._menu = null;\r\n\t\tthis._beforePropEditor = null;\r\n\t}\r\n\tattach(grid, editor, col, row, value) {\r\n\t\tconst menu = this._menu;\r\n\r\n\t\tif (this._beforePropEditor) {\r\n\t\t\tconst {classList} = this._beforePropEditor;\r\n\t\t\tif (classList) {\r\n\t\t\t\tmenu.classList.remove(...classList);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\topenMenu(grid, editor, col, row, value, menu);\r\n\t\tthis._activeData = {grid, col, row, editor};\r\n\t\tthis._beforePropEditor = editor;\r\n\t}\r\n\tdetach(gridFocus, valueindex) {\r\n\t\tif (this._isActive()) {\r\n\t\t\tconst {grid, col, row} = this._activeData;\r\n\t\t\tconst menu = this._menu;\r\n\t\t\tcloseMenu(grid, col, row, menu, valueindex);\r\n\r\n\t\t\tgrid.invalidateCell(col, row);\r\n\t\t\tif (gridFocus) {\r\n\t\t\t\tgrid.focus();\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis._activeData = null;\r\n\t}\r\n\t_doChangeValue(valueindex) {\r\n\t\tif (!this._isActive()) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst {grid, col, row, editor} = this._activeData;\r\n\t\tconst value = editor.options[valueindex].value;\r\n\t\tgrid.doChangeValue(col, row, () => value);\r\n\t}\r\n\t_isActive() {\r\n\t\tconst menu = this._menu;\r\n\t\tif (!menu || !menu.parentElement) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (!this._activeData) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t_bindMenuEvents() {\r\n\t\tconst handler = this._handler;\r\n\t\tconst menu = this._menu;\r\n\r\n\t\tconst stopPropagationOnly = (e) => e.stopPropagation();// grid\r\n\t\t\r\n\t\thandler.on(menu, 'mousedown', stopPropagationOnly);\r\n\t\thandler.on(menu, 'touchstart', stopPropagationOnly);\r\n\t\thandler.on(menu, 'dblclick', stopPropagationOnly);\r\n\r\n\t\thandler.on(menu, 'click', (e) => {\r\n\t\t\te.stopPropagation();\r\n\t\t\tconst item = findItemParents(e.target);\r\n\t\t\tif (!item) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst valueindex = item.dataset.valueindex;\r\n\t\t\tthis._doChangeValue(item.dataset.valueindex);\r\n\t\t\tthis.detach(true, valueindex);\r\n\t\t});\r\n\t\thandler.on(menu, 'keydown', (e) => {\r\n\t\t\tconst item = findItemParents(e.target);\r\n\t\t\tif (!item) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst keyCode = getKeyCode(e);\r\n\t\t\tif (keyCode === KEY_ENTER) {\r\n\t\t\t\tconst valueindex = item.dataset.valueindex;\r\n\t\t\t\tthis._doChangeValue(valueindex);\r\n\t\t\t\tthis.detach(true, valueindex);\r\n\t\t\t\tcancelEvent(e);\r\n\t\t\t} else if (keyCode === KEY_ESC) {\r\n\t\t\t\tthis.detach(true);\r\n\t\t\t\tcancelEvent(e);\r\n\t\t\t} else if (keyCode === KEY_UP) {\r\n\t\t\t\tconst n = findPrevSiblingFocusable(item);\r\n\t\t\t\tif (n) {\r\n\t\t\t\t\tn.focus();\r\n\t\t\t\t\tcancelEvent(e);\r\n\t\t\t\t}\r\n\t\t\t} else if (keyCode === KEY_DOWN) {\r\n\t\t\t\tconst n = findNextSiblingFocusable(item);\r\n\t\t\t\tif (n) {\r\n\t\t\t\t\tn.focus();\r\n\t\t\t\t\tcancelEvent(e);\r\n\t\t\t\t}\r\n\t\t\t} else if (keyCode === KEY_TAB) {\r\n\t\t\t\tif (!e.shiftKey) {\r\n\t\t\t\t\tif (!findNextSiblingFocusable(item)) {\r\n\t\t\t\t\t\tlet n = menu.querySelector('.' + ITEM_CLASSNAME);\r\n\t\t\t\t\t\tif (!isFocusable(n)) {\r\n\t\t\t\t\t\t\tn = findNextSiblingFocusable(n);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (n) {\r\n\t\t\t\t\t\t\tn.focus();\r\n\t\t\t\t\t\t\tcancelEvent(e);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (!findPrevSiblingFocusable(item)) {\r\n\t\t\t\t\t\tconst items = menu.querySelectorAll('.' + ITEM_CLASSNAME);\r\n\t\t\t\t\t\tlet n = items[items.length - 1];\r\n\t\t\t\t\t\tif (!isFocusable(n)) {\r\n\t\t\t\t\t\t\tn = findPrevSiblingFocusable(n);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (n) {\r\n\t\t\t\t\t\t\tn.focus();\r\n\t\t\t\t\t\t\tcancelEvent(e);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nmodule.exports = InlineMenuElement;","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./InlineMenuElement.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js?minimize!./InlineMenuElement.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./InlineMenuElement.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".cheetah-grid__inline-menu{position:absolute;color:rgba(0,0,0,.87);box-sizing:content-box;margin:-1px auto auto -1px;padding:0;background-color:#fafafa;list-style-type:none;border-radius:2px;max-height:calc(100vh - 40px);overflow-y:auto}.cheetah-grid__inline-menu--hidden{padding:0;transform:scale(.9);box-shadow:none;opacity:0;pointer-events:none;transition:padding 50ms ease-out,transform 50ms ease-out,box-shadow 50ms ease-out,opacity 50ms ease-out}.cheetah-grid__inline-menu--hidden *{pointer-events:none}.cheetah-grid__inline-menu--shown{padding:8px 0;transform:translateY(-7px);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);opacity:1;transition:padding .15s ease-out,transform .15s ease-out,box-shadow .15s ease-out,opacity .15s ease-out}.cheetah-grid__inline-menu__menu-item{background-color:#fafafa;height:100%;box-sizing:border-box;display:flex;align-items:center;justify-content:flex-start;outline:none;cursor:pointer;position:relative;overflow:hidden;padding:0 16px}.cheetah-grid__inline-menu__menu-item--empty{color:rgba(0,0,0,.38)}.cheetah-grid__inline-menu__menu-item:before{content:\\\"\\\";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background-color:#000;opacity:0;pointer-events:none;transition:opacity 15ms linear}.cheetah-grid__inline-menu__menu-item:hover:before,.cheetah-grid__inline-menu__menu-item[data-select]:before{opacity:.04}.cheetah-grid__inline-menu__menu-item:focus:before{opacity:.12}\", \"\"]);\n\n// exports\n","'use strict';\r\n{\r\n\tconst Column = require('./type/Column');\r\n\tconst NumberColumn = require('./type/NumberColumn');\r\n\tconst CheckColumn = require('./type/CheckColumn');\r\n\tconst ButtonColumn = require('./type/ButtonColumn');\r\n\tconst ImageColumn = require('./type/ImageColumn');\r\n\tconst PercentCompleteBarColumn = require('./type/PercentCompleteBarColumn');\r\n\tconst IconColumn = require('./type/IconColumn');\r\n\tconst BranchGraphColumn = require('./type/BranchGraphColumn');\r\n\tconst MenuColumn = require('./type/MenuColumn');\r\n\r\n\t/**\r\n\t * column types\r\n\t * @type {Object}\r\n\t * @namespace cheetahGrid.columns.type\r\n\t * @memberof cheetahGrid.columns\r\n\t */\r\n\tconst type = {\r\n\t\tTYPES: {\r\n\t\t\tDEFAULT: new Column(),\r\n\t\t\tNUMBER: new NumberColumn(),\r\n\t\t\tCHECK: new CheckColumn(),\r\n\t\t\tBUTTON: new ButtonColumn(),\r\n\t\t\tIMAGE: new ImageColumn(),\r\n\t\t},\r\n\t\tget Column() {\r\n\t\t\treturn Column;\r\n\t\t},\r\n\t\tget NumberColumn() {\r\n\t\t\treturn NumberColumn;\r\n\t\t},\r\n\t\tget CheckColumn() {\r\n\t\t\treturn CheckColumn;\r\n\t\t},\r\n\t\tget ButtonColumn() {\r\n\t\t\treturn ButtonColumn;\r\n\t\t},\r\n\t\tget ImageColumn() {\r\n\t\t\treturn ImageColumn;\r\n\t\t},\r\n\t\tget PercentCompleteBarColumn() {\r\n\t\t\treturn PercentCompleteBarColumn;\r\n\t\t},\r\n\t\tget IconColumn() {\r\n\t\t\treturn IconColumn;\r\n\t\t},\r\n\t\tget BranchGraphColumn() {\r\n\t\t\treturn BranchGraphColumn;\r\n\t\t},\r\n\t\tget MenuColumn() {\r\n\t\t\treturn MenuColumn;\r\n\t\t},\r\n\t\tof(columnType) {\r\n\t\t\tif (!columnType) {\r\n\t\t\t\treturn type.TYPES.DEFAULT;\r\n\t\t\t} else if (typeof columnType === 'string') {\r\n\t\t\t\treturn type.TYPES[columnType.toUpperCase()] || type.of(null);\r\n\t\t\t} else {\r\n\t\t\t\treturn columnType;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tmodule.exports = type;\r\n}","'use strict';\r\n{\r\n\tconst Column = require('./Column');\r\n\tconst NumberStyle = require('../style/NumberStyle');\r\n\tlet defaultFotmat;\r\n\tclass NumberColumn extends Column {\r\n\t\tstatic get defaultFotmat() {\r\n\t\t\treturn defaultFotmat || (defaultFotmat = new Intl.NumberFormat());\r\n\t\t}\r\n\t\tstatic set defaultFotmat(fmt) {\r\n\t\t\tdefaultFotmat = fmt;\r\n\t\t}\r\n\t\tconstructor(option = {}) {\r\n\t\t\tsuper(option);\r\n\t\t\tthis._format = option.format;\r\n\t\t}\r\n\t\tget StyleClass() {\r\n\t\t\treturn NumberStyle;\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new NumberColumn(this);\r\n\t\t}\r\n\t\tget format() {\r\n\t\t\treturn this._format;\r\n\t\t}\r\n\t\twithFormat(format) {\r\n\t\t\tconst c = this.clone();\r\n\t\t\tc._format = format;\r\n\t\t\treturn c;\r\n\t\t}\r\n\t\tconvertInternal(value) {\r\n\t\t\tif (isNaN(value - 0)) {\r\n\t\t\t\treturn value;\r\n\t\t\t}\r\n\t\t\tconst format = this._format || NumberColumn.defaultFotmat;\r\n\t\t\treturn format.format(value - 0);\r\n\t\t}\r\n\t}\r\n\r\n\tmodule.exports = NumberColumn;\r\n}","'use strict';\r\n{\r\n\tconst BaseColumn = require('./BaseColumn');\r\n\tconst CheckStyle = require('../style/CheckStyle');\r\n\tconst {CHECK_COLUMN_STATE_ID} = require('../../internal/symbolManager');\r\n\t\r\n\r\n\tfunction toBoolean(val) {\r\n\t\tif (typeof val === 'string') {\r\n\t\t\tif (val === 'false') {\r\n\t\t\t\treturn false;\r\n\t\t\t} else if (val === 'off') {\r\n\t\t\t\treturn false;\r\n\t\t\t} else if (val.match(/^0+$/)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn val;\r\n\t}\r\n\r\n\tclass CheckColumn extends BaseColumn {\r\n\t\tget StyleClass() {\r\n\t\t\treturn CheckStyle;\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new CheckColumn(this);\r\n\t\t}\r\n\t\tconvertInternal(value) {\r\n\t\t\treturn toBoolean(value);\r\n\t\t}\r\n\t\tdrawInternal(value, context, style, helper, grid, {drawCellBase}) {\r\n\t\t\tconst {\r\n\t\t\t\ttextAlign,\r\n\t\t\t\ttextBaseline,\r\n\t\t\t\tborderColor,\r\n\t\t\t\tcheckBgColor,\r\n\t\t\t\tuncheckBgColor,\r\n\t\t\t\tbgColor,\r\n\t\t\t} = style;\r\n\t\t\tif (bgColor) {\r\n\t\t\t\tdrawCellBase({\r\n\t\t\t\t\tbgColor,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tconst {col, row} = context;\r\n\t\t\tconst key = col + ':' + row;\r\n\t\t\tconst state = grid[CHECK_COLUMN_STATE_ID] && grid[CHECK_COLUMN_STATE_ID][key];\r\n\t\t\t\r\n\t\t\tconst opt = {\r\n\t\t\t\ttextAlign,\r\n\t\t\t\ttextBaseline,\r\n\t\t\t\tborderColor,\r\n\t\t\t\tcheckBgColor,\r\n\t\t\t\tuncheckBgColor,\r\n\t\t\t};\r\n\t\t\tif (state) {\r\n\t\t\t\topt.animElapsedTime = state.elapsed;\r\n\t\t\t}\r\n\t\t\thelper.checkbox(value, context, opt);\r\n\t\t}\r\n\t\tbindGridEvent(grid, col, util) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t}\r\n\r\n\tmodule.exports = CheckColumn;\r\n}","'use strict';\r\n{\r\n\tconst Column = require('./Column');\r\n\tconst ButtonStyle = require('../style/ButtonStyle');\r\n\tconst {BUTTON_COLUMN_STATE_ID} = require('../../internal/symbolManager');\r\n\tconst utils = require('./columnUtils');\r\n\t\r\n\r\n\tclass ButtonColumn extends Column {\r\n\t\tconstructor(option = {}) {\r\n\t\t\tsuper(option);\r\n\t\t\tthis._caption = option.caption;\r\n\t\t}\r\n\t\tget StyleClass() {\r\n\t\t\treturn ButtonStyle;\r\n\t\t}\r\n\t\tget caption() {\r\n\t\t\treturn this._caption;\r\n\t\t}\r\n\t\twithCaption(caption) {\r\n\t\t\tconst c = this.clone();\r\n\t\t\tc._caption = caption;\r\n\t\t\treturn c;\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new ButtonColumn(this);\r\n\t\t}\r\n\t\tconvertInternal(value) {\r\n\t\t\treturn this._caption || value;\r\n\t\t}\r\n\t\tdrawInternal(value, context, style, helper, grid, {drawCellBase, getIcon}) {\r\n\t\t\tconst {textAlign, textBaseline, bgColor, color, buttonBgColor, font, padding} = style;\r\n\t\t\tif (bgColor) {\r\n\t\t\t\tdrawCellBase({\r\n\t\t\t\t\tbgColor,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\thelper.testFontLoad(font, value, context);\r\n\t\t\tconst {col, row} = context;\r\n\t\t\tlet active = false;\r\n\t\t\tconst state = grid[BUTTON_COLUMN_STATE_ID];\r\n\t\t\tif (state) {\r\n\t\t\t\tif (state.mouseActiveCell &&\r\n\t\t\t\t\tstate.mouseActiveCell.col === col &&\r\n\t\t\t\t\tstate.mouseActiveCell.row === row) {\r\n\t\t\t\t\tactive = true;\r\n\t\t\t\t} else if (context.getSelectState().selected) {\r\n\t\t\t\t\tactive = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tutils.loadIcons(getIcon(), context, helper, (icons, context) => {\r\n\t\t\t\thelper.button(value, context, {\r\n\t\t\t\t\ttextAlign,\r\n\t\t\t\t\ttextBaseline,\r\n\t\t\t\t\tbgColor: buttonBgColor,\r\n\t\t\t\t\tcolor,\r\n\t\t\t\t\tfont,\r\n\t\t\t\t\tpadding,\r\n\t\t\t\t\tshadow: active ? {\r\n\t\t\t\t\t\tcolor: 'rgba(0, 0, 0, 0.48)',\r\n\t\t\t\t\t\tblur: 6,\r\n\t\t\t\t\t\toffsetY: 3,\r\n\t\t\t\t\t} : true,\r\n\t\t\t\t\ticons,\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tmodule.exports = ButtonColumn;\r\n}","'use strict';\r\n{\r\n\tconst ImageStyle = require('../style/ImageStyle');\r\n\tconst {getCacheOrLoad} = require('../../internal/imgs');\r\n\tconst {calcStartPosition} = require('../../internal/canvases');\r\n\tconst BaseColumn = require('./BaseColumn');\r\n\r\n\tconst MAX_LRU_CACHE_SIZE = 50;\r\n\tfunction getImage(url) {\r\n\t\treturn getCacheOrLoad('ImageColumn', MAX_LRU_CACHE_SIZE, url);\r\n\t}\r\n\r\n\tfunction calcKeepAspectRatioSize(width, height, maxWidth, maxHeight) {\r\n\t\tlet newWidth = width;\r\n\t\tlet newHeight = height;\r\n\t\tif (newWidth > maxWidth) {\r\n\t\t\tnewWidth = maxWidth;\r\n\t\t\tnewHeight = (newWidth * height) / width;\r\n\t\t}\r\n\t\tif (newHeight > maxHeight) {\r\n\t\t\tnewHeight = maxHeight;\r\n\t\t\tnewWidth = (newHeight * width) / height;\r\n\t\t}\r\n\t\treturn {\r\n\t\t\twidth: newWidth,\r\n\t\t\theight: newHeight,\r\n\t\t};\r\n\t}\r\n\r\n\tclass ImageColumn extends BaseColumn {\r\n\t\tget StyleClass() {\r\n\t\t\treturn ImageStyle;\r\n\t\t}\r\n\t\tonDrawCell(cellValue, info, context, grid) {\r\n\t\t\treturn super.onDrawCell(getImage(cellValue), info, context, grid);\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new ImageColumn(this);\r\n\t\t}\r\n\t\tdrawInternal(value, context, style, helper, grid, {drawCellBase}) {\r\n\t\t\tif (value) {\r\n\t\t\t\tconst {\r\n\t\t\t\t\ttextAlign,\r\n\t\t\t\t\ttextBaseline,\r\n\t\t\t\t\tmargin,\r\n\t\t\t\t\tbgColor,\r\n\t\t\t\t} = style;\r\n\t\t\t\tif (bgColor) {\r\n\t\t\t\t\tdrawCellBase({\r\n\t\t\t\t\t\tbgColor,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\thelper.drawWithClip(context, (ctx) => {\r\n\t\t\t\t\t\r\n\t\t\t\t\tctx.textAlign = textAlign;\r\n\t\t\t\t\tctx.textBaseline = textBaseline;\r\n\t\t\t\t\tconst rect = context.getRect();\r\n\t\t\t\t\tif (style.imageSizing === 'keep-aspect-ratio') {\r\n\t\t\t\t\t\tconst {width, height} = calcKeepAspectRatioSize(\r\n\t\t\t\t\t\t\t\tvalue.width, value.height,\r\n\t\t\t\t\t\t\t\trect.width - margin * 2, rect.height - margin * 2\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tconst pos = calcStartPosition(ctx, rect, width, height, {\r\n\t\t\t\t\t\t\toffset: margin,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tctx.drawImage(value,\r\n\t\t\t\t\t\t\t\t0, 0, value.width, value.height,\r\n\t\t\t\t\t\t\t\tpos.x, pos.y, width, height\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tctx.drawImage(value,\r\n\t\t\t\t\t\t\t\t0, 0, value.width, value.height,\r\n\t\t\t\t\t\t\t\trect.left + margin, rect.top + margin, rect.width - margin * 2, rect.height - margin * 2\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tmodule.exports = ImageColumn;\r\n}","'use strict';\r\n\r\nclass LRUCache {\r\n\tconstructor(cacheSize) {\r\n\t\tthis._list = [];\r\n\t\tthis._map = {};\r\n\t\tthis._cacheSize = cacheSize || 50;\r\n\t}\r\n\tget(key) {\r\n\t\tconst val = this._map[key];\r\n\t\tif (val) {\r\n\t\t\tconst idx = this._list.indexOf(key);\r\n\t\t\tthis._list.splice(idx, 1);\r\n\t\t\tthis._list.push(key);\r\n\t\t}\r\n\t\treturn val;\r\n\t}\r\n\tput(key, value) {\r\n\t\tif (this._map[key]) {\r\n\t\t\tconst idx = this._list.indexOf(key);\r\n\t\t\tthis._list.splice(idx, 1);\r\n\t\t}\r\n\t\tthis._map[key] = value;\r\n\t\tthis._list.push(key);\r\n\t\tif (this._list.length > this._cacheSize) {\r\n\t\t\tconst remKey = this._list.shift();\r\n\t\t\tdelete this._map[remKey];\r\n\t\t}\r\n\t}\r\n}\r\nmodule.exports = LRUCache;","'use strict';\r\n{\r\n\tconst PercentCompleteBarStyle = require('../style/PercentCompleteBarStyle');\r\n\tconst {getOrApply, str} = require('../../internal/utils');\r\n\tconst Column = require('./Column');\r\n\t\r\n\r\n\tconst MARGIN = 2;\r\n\r\n\tclass PercentCompleteBarColumn extends Column {\r\n\t\tconstructor(option = {}) {\r\n\t\t\tsuper(option);\r\n\t\t\tthis._min = option.min || 0;\r\n\t\t\tthis._max = option.max || (this._min + 100);\r\n\t\t\tthis._formatter = option.formatter || ((v) => v);\r\n\t\t}\r\n\t\tget StyleClass() {\r\n\t\t\treturn PercentCompleteBarStyle;\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new PercentCompleteBarColumn(this);\r\n\t\t}\r\n\t\tdrawInternal(value, context, style, helper, grid, info) {\r\n\t\t\tsuper.drawInternal(this._formatter(value), context, style, helper, grid, info);\r\n\t\t\tconst {\r\n\t\t\t\tbarColor,\r\n\t\t\t\tbarBgColor,\r\n\t\t\t\tbarHeight,\r\n\t\t\t} = style;\r\n\r\n\t\t\tlet svalue = value + '';\r\n\t\t\tif (str.endsWith(svalue, '%')) {\r\n\t\t\t\tsvalue = svalue.substr(0, svalue.length - 1);\r\n\t\t\t}\r\n\t\t\tconst num = svalue - 0;\r\n\t\t\tconst rate = num < this._min ? 0\r\n\t\t\t\t: num > this._max ? 1\r\n\t\t\t\t: (num - this._min) / (this._max - this._min);\r\n\t\t\t\r\n\t\t\thelper.drawWithClip(context, (ctx) => {\r\n\t\t\t\tconst rect = context.getRect();\r\n\r\n\t\t\t\tconst barMaxWidth = rect.width - MARGIN * 2 - 1/**/;\r\n\t\t\t\tconst barTop = rect.bottom - MARGIN - barHeight - 1/**/;\r\n\t\t\t\tconst barLeft = rect.left + MARGIN;\r\n\t\t\t\tctx.fillStyle = getOrApply(barBgColor, rate * 100) || '#f0f3f5';\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.rect(barLeft, barTop, barMaxWidth, barHeight);\r\n\t\t\t\tctx.fill();\r\n\r\n\r\n\t\t\t\tconst barSize = Math.min(barMaxWidth * rate, barMaxWidth);\r\n\t\t\t\tctx.fillStyle = getOrApply(barColor, rate * 100) || '#20a8d8';\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.rect(barLeft, barTop, barSize, barHeight);\r\n\t\t\t\tctx.fill();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tmodule.exports = PercentCompleteBarColumn;\r\n}","'use strict';\r\n{\r\n\tconst IconStyle = require('../style/IconStyle');\r\n\tconst Column = require('./Column');\r\n\tconst icons = require('../../internal/icons');\r\n\r\n\tfunction repeatArray(val, count) {\r\n\t\tif (count === Infinity) {\r\n\t\t\tcount = 0;\r\n\t\t}\r\n\t\tconst a = [];\r\n\t\tfor (let i = 0; i < count; i++) {\r\n\t\t\ta.push(val);\r\n\t\t}\r\n\t\treturn a;\r\n\t}\r\n\r\n\tclass IconColumn extends Column {\r\n\t\tconstructor(option = {}) {\r\n\t\t\tsuper(option);\r\n\t\t\tthis._tagName = option.tagName || 'i';\r\n\t\t\tthis._className = option.className;\r\n\t\t\tthis._content = option.content;\r\n\t\t\tthis._name = option.name;\r\n\t\t\tthis._iconWidth = option.iconWidth;\r\n\t\t}\r\n\t\tget StyleClass() {\r\n\t\t\treturn IconStyle;\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new IconColumn(this);\r\n\t\t}\r\n\t\tdrawInternal(value, context, style, helper, grid, info) {\r\n\t\t\tconst num = value - 0;\r\n\t\t\tif (!isNaN(num)) {\r\n\t\t\t\tconst icon = {};\r\n\t\t\t\ticons.iconPropKeys.forEach((k) => {\r\n\t\t\t\t\ticon[k] = style[k];\r\n\t\t\t\t});\r\n\t\t\t\ticon.className = this._className;\r\n\t\t\t\ticon.tagName = this._tagName;\r\n\t\t\t\ticon.content = this._content;\r\n\t\t\t\ticon.name = this._name;\r\n\t\t\t\tif (this._iconWidth) {\r\n\t\t\t\t\ticon.width = this._iconWidth;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tinfo.getIcon = () => repeatArray(icon, num);\r\n\t\t\t} else {\r\n\t\t\t\tinfo.getIcon = () => null;\r\n\t\t\t}\r\n\t\t\tsuper.drawInternal('', context, style, helper, grid, info);\r\n\t\t}\r\n\t}\r\n\tmodule.exports = IconColumn;\r\n}","'use strict';\r\nconst {isDef, getOrApply, isPromise, obj: {isObject}} = require('../../internal/utils');\r\nconst BranchGraphStyle = require('../style/BranchGraphStyle');\r\nconst BaseColumn = require('./BaseColumn');\r\nconst {BRANCH_GRAPH_COLUMN_STATE_ID: _} = require('../../internal/symbolManager');\r\n\r\nfunction getAllColumnData(grid, col, callback) {\r\n\tconst dataSource = grid.dataSource;\r\n\tlet field = grid.getField(col);\r\n\tif (isObject(field) && field.get && field.set) {\r\n\t\tfield = field.get;\r\n\t}\r\n\tconst allData = [];\r\n\tlet promise;\r\n\tfor (let index = 0; index < dataSource.length; index++) {\r\n\t\tconst data = dataSource.getField(index, field);\r\n\t\tif (isPromise(data)) {\r\n\t\t\tconst dataIndex = allData.length;\r\n\t\t\tallData.push(data);\r\n\t\t\tif (!promise) {\r\n\t\t\t\tpromise = data.then((d) => {\r\n\t\t\t\t\tallData[dataIndex] = d;\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tpromise = promise.then(() => data).then((d) => {\r\n\t\t\t\t\tallData[dataIndex] = d;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tallData.push(data);\r\n\t\t}\r\n\t}\r\n\r\n\tif (promise) {\r\n\t\tpromise.then(() => callback(allData));\r\n\t} else {\r\n\t\tcallback(allData);\r\n\t}\r\n}\r\n\r\nclass BranchLine {\r\n\tconstructor({fromIndex, toIndex, colorIndex, point}) {\r\n\t\tthis.fromIndex = fromIndex;\r\n\t\tthis.toIndex = toIndex;\r\n\t\tthis.colorIndex = colorIndex;\r\n\t\tthis.point = point;\r\n\t}\r\n}\r\nclass BranchPoint {\r\n\tconstructor({index, commit = false, lines = [], tag}) {\r\n\t\tthis.index = index;\r\n\t\tthis.commit = commit;\r\n\t\tthis.lines = lines;\r\n\t\tthis.tag = tag;\r\n\t}\r\n\tstatic mergeLines(lines) {\r\n\t\tconst result = lines.filter(((l) => isDef(l.fromIndex) && isDef(l.toIndex)));\r\n\t\t\r\n\t\tconst froms = lines.filter(((l) => isDef(l.fromIndex) && !isDef(l.toIndex)));\r\n\t\tconst tos = lines.filter(((l) => !isDef(l.fromIndex) && isDef(l.toIndex)));\r\n\r\n\t\tfroms.forEach((f) => {\r\n\t\t\tfor (let i = 0; i < tos.length; i++) {\r\n\t\t\t\tconst t = tos[i];\r\n\t\t\t\tif (t.point) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tif (f.colorIndex === t.colorIndex) {\r\n\t\t\t\t\tf.toIndex = t.toIndex;\r\n\t\t\t\t\ttos.splice(i, 1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tresult.push(f);\r\n\t\t});\r\n\r\n\t\treturn result.concat(tos);\r\n\t}\r\n\tstatic merge(a, b) {\r\n\t\tif (!a) {\r\n\t\t\treturn b;\r\n\t\t}\r\n\t\treturn new BranchPoint({\r\n\t\t\tindex: a.index,\r\n\t\t\tcommit: a.commit || b.commit,\r\n\t\t\tlines: BranchPoint.mergeLines(a.lines.concat(b.lines)),\r\n\t\t\ttag: a.tag || b.tag\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction joinLine(timeline, branchIndex) {\r\n\tconst reverse = [...timeline].reverse();\r\n\tfor (let i = 0; i < reverse.length; i++) {\r\n\t\tconst f = reverse[i][branchIndex];\r\n\t\tif (f) {\r\n\t\t\tf.lines = BranchPoint.mergeLines(f.lines.concat([new BranchLine({\r\n\t\t\t\ttoIndex: branchIndex,\r\n\t\t\t\tcolorIndex: branchIndex,\r\n\t\t\t})]));\r\n\r\n\t\t\tfor (let j = 0; j < i; j++) {\r\n\t\t\t\tconst tl = reverse[j];\r\n\t\t\t\ttl[branchIndex] = new BranchPoint({\r\n\t\t\t\t\tindex: branchIndex,\r\n\t\t\t\t\tlines: [new BranchLine({\r\n\t\t\t\t\t\tfromIndex: branchIndex,\r\n\t\t\t\t\t\ttoIndex: branchIndex,\r\n\t\t\t\t\t\tcolorIndex: branchIndex\r\n\t\t\t\t\t})]\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n}\r\n\r\nfunction branch({timeline, branches}, from, to) {\r\n\tconst fromIndex = branches.indexOf(from);\r\n\tlet toIndex = branches.indexOf(to);\r\n\tif (toIndex < 0) {\r\n\t\ttoIndex = branches.length;\r\n\t\tbranches.push(to);\r\n\t}\r\n\t\r\n\tfunction findBranchRootIndex() {\r\n\t\tfor (let index = timeline.length - 1; index >= 0; index--) {\r\n\t\t\tconst tl = timeline[index];\r\n\t\t\tconst from = tl[fromIndex];\r\n\t\t\tif (from && from.commit) {\r\n\t\t\t\treturn index;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn -1;\r\n\t}\r\n\r\n\tif (fromIndex < 0) {\r\n\t\treturn new BranchPoint({\r\n\t\t\tindex: toIndex,\r\n\t\t});\r\n\t} else {\r\n\t\tconst fromTargetIndex = findBranchRootIndex();\r\n\t\tif (fromTargetIndex === -1) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tconst branchTargetFromIndex = fromTargetIndex + 1;\r\n\t\tconst branchPoint = new BranchPoint({\r\n\t\t\tindex: toIndex,\r\n\t\t\tlines: [new BranchLine({\r\n\t\t\t\tfromIndex,\r\n\t\t\t\tcolorIndex: toIndex\r\n\t\t\t})]\r\n\t\t});\r\n\t\tlet point;\r\n\t\tlet result;\r\n\t\tif (branchTargetFromIndex < timeline.length) {\r\n\t\t\tconst targetLine = timeline[branchTargetFromIndex];\r\n\t\t\tpoint = targetLine[toIndex] = BranchPoint.merge(targetLine[toIndex], branchPoint);\r\n\t\t} else {\r\n\t\t\tpoint = branchPoint;\r\n\t\t\tresult = branchPoint;\r\n\t\t}\r\n\t\tconst from = timeline[fromTargetIndex][fromIndex];\r\n\t\tfrom.lines = BranchPoint.mergeLines(from.lines.concat([new BranchLine({\r\n\t\t\ttoIndex,\r\n\t\t\tcolorIndex: toIndex,\r\n\t\t\tpoint,\r\n\t\t})]));\r\n\t\treturn result;\r\n\t}\r\n\t\r\n}\r\n\r\nfunction commit({timeline, branches}, name) {\r\n\tconst index = branches.indexOf(name);\r\n\tif (index < 0) {\r\n\t\treturn null;\r\n\t}\r\n\tconst result = new BranchPoint({\r\n\t\tindex,\r\n\t\tcommit: true,\r\n\t});\r\n\t\t\r\n\tif (joinLine(timeline, index)) {\r\n\t\tresult.lines = BranchPoint.mergeLines(result.lines.concat([new BranchLine({\r\n\t\t\tfromIndex: index,\r\n\t\t\tcolorIndex: index\r\n\t\t})]));\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nfunction commitTag({timeline, branches}, name, tag) {\r\n\tlet index = branches.indexOf(name);\r\n\tif (index < 0) {\r\n\t\tindex = branches.length;\r\n\t\tbranches.push(name);\r\n\t}\r\n\treturn new BranchPoint({\r\n\t\tindex,\r\n\t\ttag\r\n\t});\r\n}\r\n\r\nfunction commitMerge({timeline, branches}, from, to) {\r\n\tconst fromIndex = branches.indexOf(from);\r\n\tconst toIndex = branches.indexOf(to);\r\n\tif (toIndex < 0 || fromIndex < 0) {\r\n\t\treturn new BranchPoint({\r\n\t\t\tindex: toIndex,\r\n\t\t\tcommit: true,\r\n\t\t});\r\n\t}\r\n\tconst result = new BranchPoint({\r\n\t\tindex: toIndex,\r\n\t\tcommit: true,\r\n\t\tlines: [\r\n\t\t\tnew BranchLine({\r\n\t\t\t\tfromIndex,\r\n\t\t\t\tcolorIndex: fromIndex\r\n\t\t\t}),\r\n\t\t\tnew BranchLine({\r\n\t\t\t\tfromIndex: toIndex,\r\n\t\t\t\tcolorIndex: toIndex\r\n\t\t\t})],\r\n\t});\r\n\tconst froms = [...timeline];\r\n\tconst fromTargetLine = froms.pop();\r\n\tif (fromTargetLine) {\r\n\t\tfromTargetLine[fromIndex] = BranchPoint.merge(fromTargetLine[fromIndex], new BranchPoint({\r\n\t\t\tindex: toIndex,\r\n\t\t\tlines: [new BranchLine({\r\n\t\t\t\ttoIndex,\r\n\t\t\t\tcolorIndex: fromIndex\r\n\t\t\t})]\r\n\t\t}));\r\n\t}\r\n\r\n\tjoinLine(froms, fromIndex);\r\n\r\n\tjoinLine(timeline, toIndex);\r\n\r\n\treturn result;\r\n}\r\n\r\nfunction calcCommand(info, command) {\r\n\tconst {timeline} = info;\r\n\tconst timelineData = [];\r\n\t// const last = timeline.length > 0 ? timeline[timeline.length - 1] : null;\r\n\tconst commands = Array.isArray(command) ? command : [command];\r\n\tcommands.forEach((cmd) => {\r\n\t\tif (!cmd) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet point;\r\n\t\tif (cmd.command === 'branch') {\r\n\t\t\tconst from = isObject(cmd.branch) ? cmd.branch.from : null;\r\n\t\t\tconst to = isObject(cmd.branch) ? cmd.branch.to : cmd.branch;\r\n\t\t\tpoint = branch(info, from, to);\r\n\t\t} else if (cmd.command === 'commit') {\r\n\t\t\tconst {branch} = cmd;\r\n\t\t\tpoint = commit(info, branch);\r\n\t\t} else if (cmd.command === 'merge') {\r\n\t\t\tconst from = cmd.branch.from;\r\n\t\t\tconst to = cmd.branch.to;\r\n\t\t\tpoint = commitMerge(info, from, to);\r\n\t\t} else if (cmd.command === 'tag') {\r\n\t\t\tconst {branch, tag} = cmd;\r\n\t\t\tpoint = commitTag(info, branch, tag);\r\n\t\t}\r\n\t\tif (point && point.index > -1) {\r\n\t\t\ttimelineData[point.index] = BranchPoint.merge(timelineData[point.index], point);\r\n\t\t}\r\n\t});\r\n\ttimeline.push(timelineData);\r\n}\r\n\r\nfunction calcBranchesInfo(start, grid, col) {\r\n\tconst result = {\r\n\t\tbranches: [],\r\n\t\ttimeline: []\r\n\t};\r\n\tgetAllColumnData(grid, col, (data) => {\r\n\t\tif (start !== 'top') {\r\n\t\t\tdata = [...data].reverse();\r\n\t\t}\r\n\t\tdata.forEach((command) => {\r\n\t\t\tcalcCommand(result, command);\r\n\t\t});\r\n\r\n\t});\r\n\treturn result;\r\n}\r\n\r\nfunction calcBranchXPoints(ctx, left, width, radius, branches, timeline) {\r\n\tlet w = Math.max(width / branches.length + 1, 5);\r\n\ttimeline.forEach((tl) => {\r\n\t\ttl.forEach((p, index) => {\r\n\t\t\tif (index <= 0) {\r\n\t\t\t\t// \r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (p.tag) {\r\n\t\t\t\tconst textWidth = ctx.measureText(p.tag).width;\r\n\t\t\t\tif (((w * index) + (radius * 2) + 4 + textWidth) > width) {\r\n\t\t\t\t\tw = Math.max((width - (radius * 2) - 4 - textWidth) / index, 5);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\tconst result = [];\r\n\tlet x = left;\r\n\tbranches.forEach(() => {\r\n\t\tresult.push(Math.ceil(x + radius));\r\n\t\tx += w;\r\n\t});\r\n\treturn result;\r\n}\r\n\r\nfunction renderMerge(grid, ctx, x, y, upLineIndex, downLineIndex, colorIndex, {\r\n\tbranchXPoints, margin, branchColors, branchLineWidth, mergeStyle\r\n}, {\r\n\twidth, col, row, branches\r\n}) {\r\n\tif (isDef(upLineIndex) || isDef(downLineIndex)) {\r\n\t\tctx.strokeStyle = getOrApply(branchColors, branches[colorIndex], colorIndex);\r\n\t\tctx.lineWidth = branchLineWidth;\r\n\t\tctx.lineCap = 'round';\r\n\t\tctx.beginPath();\r\n\r\n\r\n\t\tif (isDef(upLineIndex)) {\r\n\t\t\tconst upX = branchXPoints[upLineIndex];\r\n\t\t\tconst upRect = grid.getCellRelativeRect(col, row - 1);\r\n\t\t\tconst upY = upRect.top + upRect.height / 2;\r\n\t\t\tctx.moveTo(upX, upY);\r\n\t\t\tif (mergeStyle === 'bezier') {\r\n\t\t\t\tctx.bezierCurveTo(\r\n\t\t\t\t\t\tupX, (y + upY) / 2,\r\n\t\t\t\t\t\tx, (y + upY) / 2,\r\n\t\t\t\t\t\tx, y\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tctx.lineTo(x, y);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tctx.moveTo(x, y);\r\n\t\t}\r\n\r\n\t\tif (isDef(downLineIndex)) {\r\n\t\t\tconst downX = branchXPoints[downLineIndex];\r\n\t\t\tconst downRect = grid.getCellRelativeRect(col, row + 1);\r\n\t\t\tconst downY = downRect.top + downRect.height / 2;\r\n\t\t\tif (mergeStyle === 'bezier') {\r\n\t\t\t\tctx.bezierCurveTo(\r\n\t\t\t\t\t\tx, (y + downY) / 2,\r\n\t\t\t\t\t\tdownX, (y + downY) / 2,\r\n\t\t\t\t\t\tdownX, downY\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tctx.lineTo(downX, downY);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tctx.stroke();\r\n\t}\r\n}\r\n\r\n/**\r\n * BranchGraphColumn<br>\r\n * <br>\r\n * # Data command<br>\r\n * ## mastar branch or orphan branch<br>\r\n * <pre><code class=\"js\">\r\n * {\r\n * \tcommand: 'branch',\r\n * \tbranch: 'branch name A',\r\n * }\r\n * </code></pre>\r\n * ## commit<br>\r\n * <pre><code class=\"js\">\r\n * {\r\n * \tcommand: 'commit',\r\n * \tbranch: 'branch name A'\r\n * }\r\n * </code></pre>\r\n * ## branch<br>\r\n * <pre><code class=\"js\">\r\n * {\r\n * \tcommand: 'branch',\r\n * \tbranch: {\r\n * \t\tfrom: 'branch name A',\r\n * \t\tto: 'branch name B'\r\n * \t}\r\n * }\r\n * </code></pre>\r\n * ## merge<br>\r\n * <pre><code class=\"js\">\r\n * {\r\n * \tcommand: 'merge',\r\n * \tbranch: {\r\n * \t\tfrom: 'branch name B',\r\n * \t\tto: 'branch name A'\r\n * \t}\r\n * }\r\n * </code></pre>\r\n * ## tag<br>\r\n * <pre><code class=\"js\">\r\n * {\r\n * \tcommand: 'tag',\r\n * \tbranch: 'branch name A',\r\n * \ttag: 'tag name'\r\n * }\r\n * </code></pre>\r\n *\r\n *\r\n * @memberof cheetahGrid.columns.type\r\n */\r\nclass BranchGraphColumn extends BaseColumn {\r\n\tconstructor(option = {}) {\r\n\t\tsuper(option);\r\n\t\tthis._start = option.start || 'bottom';\r\n\t\tthis._cache = isDef(option.cache) ? option.cache : false;\r\n\t}\r\n\tget StyleClass() {\r\n\t\treturn BranchGraphStyle;\r\n\t}\r\n\tclearCache(grid) {\r\n\t\tdelete grid[_];\r\n\t}\r\n\tonDrawCell(cellValue, info, context, grid) {\r\n\t\tif (this._cache) {\r\n\t\t\tconst state = grid[_] || (grid[_] = {});\r\n\t\t\tconst {col} = context;\r\n\t\t\tif (!state[col]) {\r\n\t\t\t\tstate[col] = calcBranchesInfo(this._start, grid, col);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn super.onDrawCell(cellValue, info, context, grid);\r\n\t}\r\n\tclone() {\r\n\t\treturn new BranchGraphColumn(this);\r\n\t}\r\n\tdrawInternal(value, context, style, helper, grid, {drawCellBase}) {\r\n\t\tconst {col, row} = context;\r\n\t\tconst {timeline, branches} = (this._cache && grid[_]) ? grid[_][col] : calcBranchesInfo(this._start, grid, col);\r\n\t\t\r\n\t\tconst {upLineIndexKey, downLineIndexKey} = this._start !== 'top' ? {upLineIndexKey: 'toIndex', downLineIndexKey: 'fromIndex'} : {upLineIndexKey: 'fromIndex', downLineIndexKey: 'toIndex'};\r\n\t\tconst data = this._start !== 'top' ? timeline[timeline.length - (row - grid.frozenRowCount) - 1] : timeline[row - grid.frozenRowCount];\r\n\r\n\t\tconst {\r\n\t\t\tbranchColors,\r\n\t\t\tbranchLineWidth,\r\n\t\t\tcircleSize,\r\n\t\t\tmergeStyle,\r\n\t\t\tmargin,\r\n\t\t\tbgColor,\r\n\t\t} = style;\r\n\t\tif (bgColor) {\r\n\t\t\tdrawCellBase({\r\n\t\t\t\tbgColor,\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\tconst rect = context.getRect();\r\n\t\tconst radius = circleSize / 2;\r\n\t\tconst width = rect.width - margin * 2;\r\n\r\n\t\thelper.drawWithClip(context, (ctx) => {\r\n\t\t\tctx.textAlign = 'left';\r\n\t\t\tctx.textBaseline = 'middle';\r\n\t\t\tconst branchXPoints = calcBranchXPoints(ctx, rect.left + margin, width, radius, branches, timeline);\r\n\t\t\t\r\n\t\t\tconst y = rect.top + rect.height / 2;\r\n\r\n\t\t\t// draw join lines\r\n\t\t\tdata.\r\n\t\t\t\tmap((point, index) => point ? point.lines.map((line) => ({\r\n\t\t\t\t\tcolorIndex: line.colorIndex,\r\n\t\t\t\t\tupLineIndex: line[upLineIndexKey],\r\n\t\t\t\t\tdownLineIndex: line[downLineIndexKey],\r\n\t\t\t\t\tpointIndex: index,\r\n\t\t\t\t})) : []).\r\n\t\t\t\treduce((p, c) => p.concat(c), []).// flatMap\r\n\t\t\t\t// order of overlap\r\n\t\t\t\tsort((a, b) => b.colorIndex - a.colorIndex).\r\n\t\t\t\tforEach((line) => {\r\n\t\t\t\t\tconst x = branchXPoints[line.pointIndex];\r\n\t\t\t\t\trenderMerge(grid, ctx, x, y, line.upLineIndex, line.downLineIndex, line.colorIndex, {\r\n\t\t\t\t\t\tmargin,\r\n\t\t\t\t\t\tbranchXPoints,\r\n\t\t\t\t\t\tbranchLineWidth,\r\n\t\t\t\t\t\tbranchColors,\r\n\t\t\t\t\t\tmergeStyle,\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\twidth, col, row, branches\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t// draw commit points\r\n\t\t\tdata.forEach((p, index) => {\r\n\t\t\t\tif (p && p.commit) {\r\n\t\t\t\t\tconst x = branchXPoints[index];\r\n\t\t\t\t\tctx.fillStyle = getOrApply(branchColors, branches[index], index);\r\n\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\tctx.arc(x, y, radius, 0, Math.PI * 2, true);\r\n\t\t\t\t\tctx.fill();\r\n\t\t\t\t\tctx.closePath();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// draw tags\r\n\t\t\tdata.forEach((p, index) => {\r\n\t\t\t\tif (p && p.tag) {\r\n\t\t\t\t\tctx.fillStyle = getOrApply(branchColors, branches[index], index);\r\n\t\t\t\t\tctx.fillText(p.tag, branchXPoints[index] + radius + 4, y);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\nmodule.exports = BranchGraphColumn;","'use strict';\r\nconst BaseStyle = require('./BaseStyle');\r\nlet defaultStyle;\r\nfunction adj(style) {\r\n\tconst {textAlign = 'center'} = style;\r\n\tstyle.textAlign = textAlign;\r\n\treturn style;\r\n}\r\nconst DEFAULT_BRANCH_COLORS = (name, index) => {\r\n\tswitch (index % 3) {\r\n\tcase 0:\r\n\t\treturn '#979797';\r\n\tcase 1:\r\n\t\treturn '#008fb5';\r\n\tcase 2:\r\n\t\treturn '#f1c109';\r\n\tdefault:\r\n\t}\r\n\treturn '#979797';\r\n};\r\nclass BranchGraphStyle extends BaseStyle {\r\n\tstatic get DEFAULT() {\r\n\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new BranchGraphStyle());\r\n\t}\r\n\tconstructor(style = {}) {\r\n\t\tsuper(adj(style));\r\n\t\tthis._branchColors = style.branchColors || DEFAULT_BRANCH_COLORS;\r\n\t\tthis._margin = style.margin || 4;\r\n\t\tthis._circleSize = style.circleSize || 16;\r\n\t\tthis._branchLineWidth = style.branchLineWidth || 4;\r\n\t\tthis._mergeStyle = style.mergeStyle === 'straight' ? 'straight' : 'bezier';\r\n\t}\r\n\tget branchColors() {\r\n\t\treturn this._branchColors;\r\n\t}\r\n\tset branchColors(branchColors) {\r\n\t\tthis._branchColors = branchColors;\r\n\t\tthis.doChangeStyle();\r\n\t}\r\n\tget margin() {\r\n\t\treturn this._margin;\r\n\t}\r\n\tset margin(margin) {\r\n\t\tthis._margin = margin;\r\n\t\tthis.doChangeStyle();\r\n\t}\r\n\tget circleSize() {\r\n\t\treturn this._circleSize;\r\n\t}\r\n\tset circleSize(circleSize) {\r\n\t\tthis._circleSize = circleSize;\r\n\t\tthis.doChangeStyle();\r\n\t}\r\n\tget branchLineWidth() {\r\n\t\treturn this._branchLineWidth;\r\n\t}\r\n\tset branchLineWidth(branchLineWidth) {\r\n\t\tthis._branchLineWidth = branchLineWidth;\r\n\t\tthis.doChangeStyle();\r\n\t}\r\n\tget mergeStyle() {\r\n\t\treturn this._mergeStyle;\r\n\t}\r\n\tset mergeStyle(mergeStyle) {\r\n\t\tthis._mergeStyle = mergeStyle;\r\n\t\tthis.doChangeStyle();\r\n\t}\r\n\tclone() {\r\n\t\treturn new BranchGraphStyle(this);\r\n\t}\r\n}\r\nmodule.exports = BranchGraphStyle;","'use strict';\r\n{\r\n\tconst {normalize} = require('../../internal/menu-items');\r\n\tconst {isDef} = require('../../internal/utils');\r\n\tconst BaseColumn = require('./BaseColumn');\r\n\tconst Style = require('../style/Style');\r\n\tconst utils = require('./columnUtils');\r\n\r\n\tclass MenuColumn extends BaseColumn {\r\n\t\tconstructor(option = {}) {\r\n\t\t\tsuper(option);\r\n\t\t\tthis._options = normalize(option.options);\r\n\t\t}\r\n\t\tget StyleClass() {\r\n\t\t\treturn Style;\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new MenuColumn(this);\r\n\t\t}\r\n\t\tget options() {\r\n\t\t\treturn this._options;\r\n\t\t}\r\n\t\twithOptions(options) {\r\n\t\t\tconst c = this.clone();\r\n\t\t\tc._options = normalize(options);\r\n\t\t\treturn c;\r\n\t\t}\r\n\t\tdrawInternal(value, context, style, helper, grid, {drawCellBase, getIcon}) {\r\n\t\t\tconst {\r\n\t\t\t\ttextAlign,\r\n\t\t\t\ttextBaseline,\r\n\t\t\t\tfont,\r\n\t\t\t\tbgColor,\r\n\t\t\t\tpadding,\r\n\t\t\t} = style;\r\n\t\t\tlet {\r\n\t\t\t\tcolor,\r\n\t\t\t} = style;\r\n\t\t\tif (bgColor) {\r\n\t\t\t\tdrawCellBase({\r\n\t\t\t\t\tbgColor,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tconst text = this._convertInternal(value);\r\n\t\t\thelper.testFontLoad(font, text, context);\r\n\t\t\tutils.loadIcons(getIcon(), context, helper, (icons, context) => {\r\n\t\t\t\tconst basePadding = helper.toBoxPixelArray(padding || 0, context);\r\n\t\t\t\tconst textPadding = basePadding.slice(0);\r\n\t\t\t\ttextPadding[1] += 26;// icon padding\r\n\t\t\t\tconst iconPadding = basePadding.slice(0);\r\n\t\t\t\ticonPadding[1] += 8;\r\n\t\t\t\tif (!isDef(color) && (!isDef(value) || value === '')) {\r\n\t\t\t\t\tcolor = 'rgba(0, 0, 0, .38)';\r\n\t\t\t\t}\r\n\t\t\t\thelper.text(text, context, {\r\n\t\t\t\t\ttextAlign,\r\n\t\t\t\t\ttextBaseline,\r\n\t\t\t\t\tcolor,\r\n\t\t\t\t\tfont,\r\n\t\t\t\t\ticons,\r\n\t\t\t\t\tpadding: textPadding,\r\n\t\t\t\t});\r\n\t\t\t\t// draw icon\r\n\t\t\t\thelper.text('', context, {\r\n\t\t\t\t\ttextAlign: 'right',\r\n\t\t\t\t\ttextBaseline,\r\n\t\t\t\t\tcolor,\r\n\t\t\t\t\tfont,\r\n\t\t\t\t\ticons: [{\r\n\t\t\t\t\t\tpath: 'M0 2 5 7 10 2z',\r\n\t\t\t\t\t\twidth: 10,\r\n\t\t\t\t\t\tcolor: 'rgba(0, 0, 0, .54)',\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tpadding: iconPadding,\r\n\t\t\t\t});\r\n\r\n\t\t\t});\r\n\t\t}\r\n\t\tconvertInternal(value) {\r\n\t\t\treturn value;\r\n\t\t}\r\n\t\t_convertInternal(value) {\r\n\t\t\tconst options = this._options;\r\n\t\t\tfor (let i = 0; i < options.length; i++) {\r\n\t\t\t\tconst option = options[i];\r\n\t\t\t\tif (option.value === value) {\r\n\t\t\t\t\tvalue = option.caption;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn super.convertInternal(value);\r\n\t\t}\r\n\t}\r\n\r\n\tmodule.exports = MenuColumn;\r\n}","/*eslint no-bitwise:0*/\r\n'use strict';\r\n{\r\n\tconst {getChainSafe} = require('../internal/utils');\r\n\tconst defaultTheme = require('./MATERIAL_DESIGN');\r\n\r\n\tfunction getProp(obj, superObj, names, defNames) {\r\n\t\treturn getChainSafe(obj, ...names) ||\r\n\t\t(defNames && getChainSafe(obj, ...defNames)) ||\r\n\t\tgetChainSafe(superObj, ...names);\r\n\t}\r\n\tfunction createTheme(obj = {}, superTheme = defaultTheme) {\r\n\t\treturn {\r\n\t\t\tget font() {\r\n\t\t\t\treturn getProp(obj, superTheme, ['font']);\r\n\t\t\t},\r\n\t\t\tget underlayBackgroundColor() {\r\n\t\t\t\treturn getProp(obj, superTheme, ['underlayBackgroundColor']);\r\n\t\t\t},\r\n\t\t\t// color\r\n\t\t\tget color() {\r\n\t\t\t\treturn getProp(obj, superTheme, ['color']);\r\n\t\t\t},\r\n\t\t\tget frozenRowsColor() {\r\n\t\t\t\treturn getProp(obj, superTheme, ['frozenRowsColor'], ['color']);\r\n\t\t\t},\r\n\t\t\t// background\r\n\t\t\tget defaultBgColor() {\r\n\t\t\t\treturn getProp(obj, superTheme, ['defaultBgColor']);\r\n\t\t\t},\r\n\t\t\tget frozenRowsBgColor() {\r\n\t\t\t\treturn getProp(obj, superTheme, ['frozenRowsBgColor'], ['defaultBgColor']);\r\n\t\t\t},\r\n\t\t\tget selectionBgColor() {\r\n\t\t\t\treturn getProp(obj, superTheme, ['selectionBgColor'], ['defaultBgColor']);\r\n\t\t\t},\r\n\t\t\t// border\r\n\t\t\tget borderColor() {\r\n\t\t\t\treturn getProp(obj, superTheme, ['borderColor']);\r\n\t\t\t},\r\n\t\t\tget frozenRowsBorderColor() {\r\n\t\t\t\treturn getProp(obj, superTheme, ['frozenRowsBorderColor'], ['borderColor']);\r\n\t\t\t},\r\n\t\t\tget hiliteBorderColor() {\r\n\t\t\t\treturn getProp(obj, superTheme, ['hiliteBorderColor'], ['borderColor']);\r\n\t\t\t},\r\n\t\t\tget checkbox() {\r\n\t\t\t\treturn this._checkbox || (this._checkbox = {\r\n\t\t\t\t\tget uncheckBgColor() {\r\n\t\t\t\t\t\treturn getProp(obj, superTheme, ['checkbox', 'uncheckBgColor'], ['defaultBgColor']);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tget checkBgColor() {\r\n\t\t\t\t\t\treturn getProp(obj, superTheme, ['checkbox', 'checkBgColor'], ['defaultBgColor']);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tget borderColor() {\r\n\t\t\t\t\t\treturn getProp(obj, superTheme, ['checkbox', 'borderColor'], ['borderColor']);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tget button() {\r\n\t\t\t\treturn this._button || (this._button = {\r\n\t\t\t\t\tget color() {\r\n\t\t\t\t\t\treturn getProp(obj, superTheme, ['button', 'color'], ['color']);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tget bgColor() {\r\n\t\t\t\t\t\treturn getProp(obj, superTheme, ['button', 'bgColor'], ['defaultBgColor']);\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\textends(obj) {\r\n\t\t\t\treturn createTheme(obj, this);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\t/**\r\n\t * theme object\r\n\t * @type {Object}\r\n\t * @namespace cheetahGrid.themes.theme\r\n\t * @memberof cheetahGrid.themes\r\n\t */\r\n\tmodule.exports = {\r\n\t\tcreate(obj) {\r\n\t\t\treturn createTheme(obj);\r\n\t\t}\r\n\t};\r\n}","/*eslint no-bitwise:0*/\r\n'use strict';\r\nfunction DEFAULT_BG_COLOR(args) {\r\n\tconst {\r\n\t\trow,\r\n\t\tgrid: {frozenRowCount}\r\n\t} = args;\r\n\tif (!((row - frozenRowCount) & 1)) {\r\n\t\treturn '#FFF';\r\n\t} else {\r\n\t\treturn '#F6F6F6';\r\n\t}\r\n}\r\nconst cacheLinearGradient = {};\r\nfunction getLinearGradient(context, left, top, right, bottom, colorStops) {\r\n\tlet stop;\r\n\tconst stopsKey = [];\r\n\tfor (stop in colorStops) {\r\n\t\tstopsKey.push(`${stop}@${colorStops[stop]}`);\r\n\t}\r\n\tconst key = `${left}/${top}/${right}/${bottom}/${stopsKey.join(',')}`;\r\n\tconst ret = cacheLinearGradient[key];\r\n\tif (ret) {\r\n\t\treturn ret;\r\n\t}\r\n\tconst grad = context.createLinearGradient(left, top, left, bottom);\r\n\tfor (stop in colorStops) {\r\n\t\tgrad.addColorStop(stop, colorStops[stop]);\r\n\t}\r\n\treturn (cacheLinearGradient[key] = grad);\r\n}\r\nfunction FROZEN_ROWS_BG_COLOR(args) {\r\n\tconst {\r\n\t\tcol,\r\n\t\tgrid,\r\n\t\tgrid: {frozenRowCount},\r\n\t\tcontext\r\n\t} = args;\r\n\tconst {left, top} = grid.getCellRelativeRect(col, 0);\r\n\tconst {bottom} = grid.getCellRelativeRect(col, frozenRowCount - 1);\r\n\r\n\treturn getLinearGradient(context, left, top, left, bottom, {0: '#FFF', 1: '#D3D3D3'});\r\n}\r\n/**\r\n * basic theme\r\n * @name BASIC\r\n * @type {Object}\r\n * @memberof cheetahGrid.themes.choices\r\n */\r\nmodule.exports = {\r\n\tcolor: '#000',\r\n\tdefaultBgColor: DEFAULT_BG_COLOR,\r\n\tfrozenRowsBgColor: FROZEN_ROWS_BG_COLOR,\r\n\thiliteBorderColor: '#5E9ED6',\r\n\tselectionBgColor: '#CCE0FF',\r\n\tborderColor: '#000',\r\n\tcheckbox: {\r\n\t\tuncheckBgColor: '#FFF',\r\n\t\tcheckBgColor: 'rgb(76, 73, 72)',\r\n\t},\r\n\tbutton: {\r\n\t\tcolor: '#FFF',\r\n\t\tbgColor: '#2196F3',\r\n\t},\r\n\tunderlayBackgroundColor: '#F6F6F6',\r\n};","'use strict';\r\n{\r\n\tconst {getChainSafe} = require('../internal/utils');\r\n\tconst DataSource = require('./DataSource');\r\n\r\n\tfunction _setFieldCache({_fCache}, index, field, value) {\r\n\t\tconst recCache = _fCache[index] || (_fCache[index] = {});\r\n\t\trecCache[field] = value;\r\n\t}\r\n\t/**\r\n\t * grid data source\r\n\t *\r\n\t * @classdesc cheetahGrid.data.CachedDataSource\r\n\t * @extends cheetahGrid.data.DataSource\r\n\t * @memberof cheetahGrid.data\r\n\t */\r\n\tclass CachedDataSource extends DataSource {\r\n\t\tstatic get EVENT_TYPE() {\r\n\t\t\treturn DataSource.EVENT_TYPE;\r\n\t\t}\r\n\t\tstatic ofArray(array) {\r\n\t\t\treturn new CachedDataSource({\r\n\t\t\t\tget: (index) => array[index],\r\n\t\t\t\tlength: array.length\r\n\t\t\t});\r\n\t\t}\r\n\t\tconstructor(opt = {}) {\r\n\t\t\tsuper(opt);\r\n\t\t\tthis._rCache = {};\r\n\t\t\tthis._fCache = {};\r\n\t\t}\r\n\t\tgetOriginal(index) {\r\n\t\t\tif (this._rCache && this._rCache[index]) {\r\n\t\t\t\treturn this._rCache[index];\r\n\t\t\t}\r\n\t\t\treturn super.getOriginal(index);\r\n\t\t}\r\n\t\tgetOriginalField(index, field) {\r\n\t\t\tconst cache = getChainSafe(this._fCache, index, field);\r\n\t\t\tif (cache) {\r\n\t\t\t\treturn cache;\r\n\t\t\t}\r\n\t\t\treturn super.getOriginalField(index, field);\r\n\t\t}\r\n\t\tsetOriginalField(index, field, value) {\r\n\t\t\tconst cache = getChainSafe(this._fCache, index, field);\r\n\t\t\tif (cache) {\r\n\t\t\t\t_setFieldCache(this, index, field, value);\r\n\t\t\t}\r\n\t\t\treturn super.setOriginalField(index, field, value);\r\n\t\t}\r\n\t\tclearCache() {\r\n\t\t\tif (this._rCache) {\r\n\t\t\t\tthis._rCache = {};\r\n\t\t\t}\r\n\t\t\tif (this._fCache) {\r\n\t\t\t\tthis._fCache = {};\r\n\t\t\t}\r\n\t\t}\r\n\t\tfieldPromiseCallBackInternal(index, field, val) {\r\n\t\t\t_setFieldCache(this, index, field, val);\r\n\t\t}\r\n\t\trecordPromiseCallBackInternal(index, val) {\r\n\t\t\tthis._rCache[index] = val;\r\n\t\t}\r\n\t\tdispose() {\r\n\t\t\tsuper.dispose();\r\n\t\t}\r\n\t}\r\n\r\n\tmodule.exports = CachedDataSource;\r\n}","'use strict';\r\n{\r\n\tconst {extend, array: {find: arrayFind}, isDef, isPromise, obj: {isObject}} = require('./internal/utils');\r\n\tconst GridCanvasHelper = require('./GridCanvasHelper');\r\n\tconst columns = require('./columns');\r\n\tconst {BaseStyle} = columns.style;\r\n\tconst headerType = require('./header/type');\r\n\tconst {BaseStyle: HeaderBaseStyle} = require('./header/style');\r\n\tconst DrawGrid = require('./core/DrawGrid');\r\n\tconst {DataSource, CachedDataSource} = require('./data');\r\n\tconst themes = require('./themes');\r\n\tconst icons = require('./internal/icons');\r\n\t//protected symbol\r\n\tconst {PROTECTED_SYMBOL: _} = require('./internal/symbolManager');\r\n\r\n\tlet headerId = 0;\r\n\t//private methods\r\n\tfunction _getHeaderCellRange(grid, col, row) {\r\n\t\treturn grid[_].headerMap.getHeaderCellRange(col, row);\r\n\t}\r\n\tfunction _updateRect(grid, col, row, context) {\r\n\t\tconst rect = context.getRect();\r\n\t\tconst {\r\n\t\t\tstartCol,\r\n\t\t\tendCol,\r\n\t\t\tstartRow,\r\n\t\t\tendRow,\r\n\t\t} = _getHeaderCellRange(grid, col, row);\r\n\t\tfor (let c = col - 1; c >= startCol; c--) {\r\n\t\t\trect.left -= grid.getColWidth(c);\r\n\t\t}\r\n\t\tfor (let c = col + 1; c <= endCol; c++) {\r\n\t\t\trect.right += grid.getColWidth(c);\r\n\t\t}\r\n\t\tfor (let r = row - 1; r >= startRow; r--) {\r\n\t\t\trect.top -= grid.getRowHeight(r);\r\n\t\t}\r\n\t\tfor (let r = row + 1; r <= endRow; r++) {\r\n\t\t\trect.bottom += grid.getRowHeight(r);\r\n\t\t}\r\n\t\tcontext.setRect(rect);\r\n\t}\r\n\tfunction _getCellValue(grid, col, row) {\r\n\t\tif (row < grid[_].headerMap.rowCount) {\r\n\t\t\treturn grid[_].headerMap.getCell(col, row).caption;\r\n\t\t} else {\r\n\t\t\tlet {field} = grid[_].headerMap.columns[col];\r\n\t\t\tif (isObject(field) && field.get && field.set) {\r\n\t\t\t\tfield = field.get;\r\n\t\t\t}\r\n\t\t\treturn _getField(grid, field, row);\r\n\t\t}\r\n\t}\r\n\tfunction _setCellValue(grid, col, row, value) {\r\n\t\tif (row < grid[_].headerMap.rowCount) {\r\n\t\t\t// nop\r\n\t\t\treturn false;\r\n\t\t} else {\r\n\t\t\tlet {field} = grid[_].headerMap.columns[col];\r\n\t\t\tif (isObject(field) && field.get && field.set) {\r\n\t\t\t\tfield = field.set;\r\n\t\t\t}\r\n\t\t\tif (grid.hasListeners(EVENT_TYPE.SET_VALUE)) {\r\n\t\t\t\tconst ret = grid.fireListeners(EVENT_TYPE.SET_VALUE, grid.getRowRecord(row), field, value);\r\n\t\t\t\tgrid[_].dataSource.clearCache();\r\n\t\t\t\treturn arrayFind(ret, isDef);\r\n\t\t\t} else {\r\n\t\t\t\tconst index = _getRowRecordIndex(grid, row);\r\n\t\t\t\tconst res = grid[_].dataSource.setField(index, field, value);\r\n\t\t\t\treturn isPromise(res) ? res : true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tfunction _getCellIcon0(grid, icon, row) {\r\n\t\tif (!isDef(icon)) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif (Array.isArray(icon)) {\r\n\t\t\treturn icon.map((i) => _getCellIcon0(grid, i, row));\r\n\t\t}\r\n\t\tif (!isObject(icon)) {\r\n\t\t\treturn _getField(grid, icon, row);\r\n\t\t}\r\n\t\tconst retIcon = {};\r\n\t\ticons.iconPropKeys.forEach((k) => {\r\n\t\t\tif (icon[k]) {\r\n\t\t\t\tconst f = _getField(grid, icon[k], row);\r\n\t\t\t\tif (isDef(f)) {\r\n\t\t\t\t\tretIcon[k] = f;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (!_hasField(grid, icon[k], row)) {\r\n\t\t\t\t\t\tretIcon[k] = icon[k];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn retIcon;\r\n\t}\r\n\tfunction _getCellIcon(grid, col, row, name) {\r\n\t\tconst {[name]: icon} = grid[_].headerMap.columns[col];\r\n\t\treturn _getCellIcon0(grid, icon, row);\r\n\t}\r\n\tfunction _getField(grid, field, row) {\r\n\t\tif (!isDef(field)) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif (row < grid[_].headerMap.rowCount) {\r\n\t\t\treturn null;\r\n\t\t} else {\r\n\t\t\tconst index = _getRowRecordIndex(grid, row);\r\n\t\t\treturn grid[_].dataSource.getField(index, field);\r\n\t\t}\r\n\t}\r\n\tfunction _hasField(grid, field, row) {\r\n\t\tif (!isDef(field)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (row < grid[_].headerMap.rowCount) {\r\n\t\t\treturn false;\r\n\t\t} else {\r\n\t\t\tconst index = _getRowRecordIndex(grid, row);\r\n\t\t\treturn grid[_].dataSource.hasField(index, field);\r\n\t\t}\r\n\t}\r\n\tfunction _onDrawValue(grid, cellValue, context, {col, row}, style, draw) {\r\n\t\tconst helper = grid[_].gridCanvasHelper;\r\n\r\n\t\tconst drawCellBase = ({bgColor} = {}) => {\r\n\t\t\tconst fillOpt = {\r\n\t\t\t\tfillColor: bgColor,\r\n\t\t\t};\r\n\t\t\t//cell\r\n\t\t\thelper.fillCellWithState(context, fillOpt);\r\n\r\n\t\t\tif (context.col === grid.frozenColCount - 1) {\r\n\t\t\t\t//\r\n\t\t\t\tconst rect = context.getRect();\r\n\t\t\t\thelper.drawWithClip(context, (ctx) => {\r\n\t\t\t\t\tconst borderColor = context.row >= grid.frozenRowCount ? helper.theme.borderColor\r\n\t\t\t\t\t\t: helper.theme.frozenRowsBorderColor;\r\n\r\n\t\t\t\t\tconst borderColors = helper.toBoxArray(\r\n\t\t\t\t\t\t\thelper.getColor(borderColor, context.col, context.row, ctx)\r\n\t\t\t\t\t);\r\n\t\t\t\t\tif (borderColors[1]) {\r\n\t\t\t\t\t\tctx.lineWidth = 1;\r\n\t\t\t\t\t\tctx.strokeStyle = borderColors[1];\r\n\t\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\t\tctx.moveTo(rect.right - 2.5, rect.top);\r\n\t\t\t\t\t\tctx.lineTo(rect.right - 2.5, rect.bottom);\r\n\t\t\t\t\t\tctx.stroke();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tif (context.row < grid[_].headerMap.rowCount) {\r\n\t\t\t\t_headerBorderWithState(grid, helper, context);\r\n\t\t\t} else {\r\n\t\t\t\thelper.borderWithState(context);\r\n\t\t\t}\r\n\t\t};\r\n\t\tconst info = {\r\n\t\t\tgetRecord: () => grid.getRowRecord(row),\r\n\t\t\tgetIcon: () => _getCellIcon(grid, col, row, 'icon'),\r\n\t\t\tstyle,\r\n\t\t\tdrawCellBase,\r\n\t\t};\r\n\r\n\t\treturn draw(cellValue, info, context, grid);\r\n\t}\r\n\tfunction _headerBorderWithState(grid, helper, context) {\r\n\t\tconst {col, row} = context;\r\n\t\tconst sel = grid.selection.select;\r\n\t\tif (sel.row >= grid[_].headerMap.rowCount) {\r\n\t\t\t//\r\n\t\t\thelper.borderWithState(context);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst {id} = grid[_].headerMap.getCell(col, row);\r\n\r\n\t\tconst rect = context.getRect();\r\n\t\tconst option = {};\r\n\r\n\t\tconst {id: selId} = grid[_].headerMap.getCell(sel.col, sel.row);\r\n\t\t//\r\n\t\tif (selId === id) {\r\n\t\t\toption.borderColor = helper.theme.hiliteBorderColor;\r\n\t\t\toption.lineWidth = 2;\r\n\t\t\thelper.border(context, option);\r\n\t\t} else {\r\n\t\t\toption.lineWidth = 1;\r\n\t\t\t// header color\r\n\t\t\tconst isFrozenCell = grid.isFrozenCell(col, row);\r\n\t\t\tif (isFrozenCell && isFrozenCell.row) {\r\n\t\t\t\toption.borderColor = helper.theme.frozenRowsBorderColor;\r\n\t\t\t}\r\n\t\t\thelper.border(context, option);\r\n\r\n\t\t\t//\r\n\t\t\tif (col > 0 && grid[_].headerMap.getCell(col - 1, row).id === selId) {\r\n\t\t\t\t//\r\n\t\t\t\thelper.drawBorderWithClip(context, (ctx) => {\r\n\t\t\t\t\tconst borderColors = helper.toBoxArray(\r\n\t\t\t\t\t\t\thelper.getColor(helper.theme.hiliteBorderColor, sel.col, sel.row, ctx)\r\n\t\t\t\t\t);\r\n\t\t\t\t\tif (borderColors[1]) {\r\n\t\t\t\t\t\tctx.lineWidth = 1;\r\n\t\t\t\t\t\tctx.strokeStyle = borderColors[1];\r\n\t\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\t\tctx.moveTo(rect.left - 0.5, rect.top);\r\n\t\t\t\t\t\tctx.lineTo(rect.left - 0.5, rect.bottom);\r\n\t\t\t\t\t\tctx.stroke();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else if (row > 0 &&\r\n\t\t\t\t\t\tgrid[_].headerMap.getCell(col, row - 1).id === selId) {\r\n\t\t\t\t//\r\n\t\t\t\thelper.drawBorderWithClip(context, (ctx) => {\r\n\t\t\t\t\tconst borderColors = helper.toBoxArray(\r\n\t\t\t\t\t\t\thelper.getColor(helper.theme.hiliteBorderColor, sel.col, sel.row, ctx)\r\n\t\t\t\t\t);\r\n\t\t\t\t\tif (borderColors[0]) {\r\n\t\t\t\t\t\tctx.lineWidth = 1;\r\n\t\t\t\t\t\tctx.strokeStyle = borderColors[0];\r\n\t\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\t\tctx.moveTo(rect.left, rect.top - 0.5);\r\n\t\t\t\t\t\tctx.lineTo(rect.right, rect.top - 0.5);\r\n\t\t\t\t\t\tctx.stroke();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tfunction _refreshHeader(grid) {\r\n\t\tif (grid[_].headerEvents) {\r\n\t\t\tgrid[_].headerEvents.forEach((id) => grid.unlisten(id));\r\n\t\t}\r\n\t\tgrid[_].headerMap = new HeaderMap(grid[_].header);\r\n\t\tgrid[_].headerEvents = [];\r\n\t\tgrid[_].headerMap.headerObjects.forEach((cell) => {\r\n\t\t\tconst ids = cell.headerType.bindGridEvent(grid);\r\n\t\t\tgrid[_].headerEvents.push(...ids);\r\n\t\t\tif (cell.style) {\r\n\t\t\t\tif (cell.style instanceof HeaderBaseStyle) {\r\n\t\t\t\t\tconst id = cell.style.listen(HeaderBaseStyle.EVENT_TYPE.CHANGE_STYLE, () => {\r\n\t\t\t\t\t\tgrid.invalidate();\r\n\t\t\t\t\t});\r\n\t\t\t\t\tgrid[_].headerEvents.push(id);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tgrid[_].headerMap.columns.forEach((col, index) => {\r\n\t\t\tif (col.action) {\r\n\t\t\t\tconst ids = col.action.bindGridEvent(grid, index, {\r\n\t\t\t\t\tisTarget(col, row) {\r\n\t\t\t\t\t\treturn index === col && grid.frozenRowCount <= row;\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\tgrid[_].headerEvents.push(...ids);\r\n\t\t\t}\r\n\t\t\tif (col.columnType) {\r\n\t\t\t\tconst ids = col.columnType.bindGridEvent(grid, index, {\r\n\t\t\t\t\tisTarget(col, row) {\r\n\t\t\t\t\t\treturn index === col && grid.frozenRowCount <= row;\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\tgrid[_].headerEvents.push(...ids);\r\n\t\t\t}\r\n\t\t\tif (col.style) {\r\n\t\t\t\tif (col.style instanceof BaseStyle) {\r\n\t\t\t\t\tconst id = col.style.listen(columns.style.EVENT_TYPE.CHANGE_STYLE, () => {\r\n\t\t\t\t\t\tgrid.invalidate();\r\n\t\t\t\t\t});\r\n\t\t\t\t\tgrid[_].headerEvents.push(id);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tgrid.colCount = grid[_].headerMap.columns.length;\r\n\t\t_refreshRowCount(grid);\r\n\t\tgrid.frozenRowCount = grid[_].headerMap.rowCount;\r\n\t\tfor (let col = 0; col < grid[_].headerMap.columns.length; col++) {\r\n\t\t\tconst column = grid[_].headerMap.columns[col];\r\n\t\t\tconst width = column.width;\r\n\t\t\tif (width && (width > 0 || typeof width === 'string')) {\r\n\t\t\t\tgrid.setColWidth(col, width);\r\n\t\t\t}\r\n\t\t\tconst minWidth = column.minWidth;\r\n\t\t\tif (minWidth && (minWidth > 0 || typeof minWidth === 'string')) {\r\n\t\t\t\tgrid.setMinColWidth(col, minWidth);\r\n\t\t\t}\r\n\t\t\tconst maxWidth = column.maxWidth;\r\n\t\t\tif (maxWidth && (maxWidth > 0 || typeof maxWidth === 'string')) {\r\n\t\t\t\tgrid.setMaxColWidth(col, maxWidth);\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst isArrayHeaderRowHeight = Array.isArray(grid[_].headerRowHeight);\r\n\t\tfor (let row = 0; row < grid[_].headerMap.rowCount; row++) {\r\n\t\t\tconst height = isArrayHeaderRowHeight ? grid[_].headerRowHeight[row] : grid[_].headerRowHeight;\r\n\t\t\tif (height && height > 0) {\r\n\t\t\t\tgrid.setRowHeight(row, height);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction _refreshRowCount(grid) {\r\n\t\tgrid.rowCount = grid[_].dataSource.length + grid[_].headerMap.rowCount;\r\n\t}\r\n\tfunction _tryWithUpdateDataSource(grid, fn) {\r\n\t\tif (grid[_].dataSourceEventIds) {\r\n\t\t\tgrid[_].dataSourceEventIds.forEach((id) => grid[_].handler.off(id));\r\n\t\t}\r\n\r\n\t\tfn(grid);\r\n\r\n\t\tgrid[_].dataSourceEventIds = [\r\n\t\t\tgrid[_].handler.on(grid[_].dataSource, DataSource.EVENT_TYPE.UPDATED_LENGTH, () => {\r\n\t\t\t\t_refreshRowCount(grid);\r\n\t\t\t\tgrid.invalidate();\r\n\t\t\t}),\r\n\t\t\tgrid[_].handler.on(grid[_].dataSource, DataSource.EVENT_TYPE.UPDATED_ORDER, () => {\r\n\t\t\t\tgrid.invalidate();\r\n\t\t\t}),\r\n\t\t];\r\n\t}\r\n\tfunction _setRecords(grid, records = []) {\r\n\t\t_tryWithUpdateDataSource(grid, () => {\r\n\t\t\tgrid[_].records = records;\r\n\t\t\tgrid[_].dataSource = CachedDataSource.ofArray(grid[_].records);\r\n\t\t});\r\n\t}\r\n\tfunction _setDataSource(grid, dataSource) {\r\n\t\t_tryWithUpdateDataSource(grid, () => {\r\n\t\t\tif (dataSource) {\r\n\t\t\t\tif (dataSource instanceof DataSource) {\r\n\t\t\t\t\tgrid[_].dataSource = dataSource;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgrid[_].dataSource = new CachedDataSource(dataSource);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tgrid[_].dataSource = DataSource.EMPTY;\r\n\t\t\t}\r\n\t\t\tgrid[_].records = null;\r\n\t\t});\r\n\t}\r\n\r\n\tfunction _getRowRecordIndex(grid, row) {\r\n\t\tif (row < grid[_].headerMap.rowCount) {\r\n\t\t\treturn undefined;\r\n\t\t} else {\r\n\t\t\treturn row - grid[_].headerMap.rowCount;\r\n\t\t}\r\n\t}\r\n\t//end private methods\r\n\t//\r\n\t//\r\n\t//\r\n\r\n\tclass HeaderMap {\r\n\t\tconstructor(header) {\r\n\t\t\tthis._columns = [];\r\n\t\t\tthis._headerCells = [];\r\n\t\t\tthis._headerObjects = [];\r\n\r\n\t\t\tthis._addHeaders(0, header, []);\r\n\t\t\tthis._setupHeaderType();\r\n\t\t}\r\n\t\tget columns() {\r\n\t\t\treturn this._columns;\r\n\t\t}\r\n\t\tget rowCount() {\r\n\t\t\treturn this._headerCells.length;\r\n\t\t}\r\n\t\tget headerObjects() {\r\n\t\t\treturn this._headerObjects;\r\n\t\t}\r\n\t\tgetCell(col, row) {\r\n\t\t\treturn this._headerCells[row][col];\r\n\t\t}\r\n\t\tgetHeaderCellRangeById(id) {\r\n\t\t\tfor (let r = 0; r < this.rowCount; r++) {\r\n\t\t\t\tfor (let c = 0; c < this.columns.length; c++) {\r\n\t\t\t\t\tif (id === this.getCell(c, r).id) {\r\n\t\t\t\t\t\treturn this.getHeaderCellRange(c, r);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t\tgetHeaderCellRange(col, row) {\r\n\t\t\tconst result = {\r\n\t\t\t\tstartCol: col,\r\n\t\t\t\tstartRow: row,\r\n\t\t\t\tendCol: col,\r\n\t\t\t\tendRow: row,\r\n\t\t\t\tisCellInRange(col, row) {\r\n\t\t\t\t\treturn this.startCol <= col && col <= this.endCol &&\r\n\t\t\t\t\t\t\tthis.startRow <= row && row <= this.endRow;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tconst {id} = this.getCell(col, row);\r\n\t\t\tfor (let c = col - 1; c >= 0; c--) {\r\n\t\t\t\tif (id !== this.getCell(c, row).id) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tresult.startCol = c;\r\n\t\t\t}\r\n\t\t\tfor (let c = col + 1; c < this.columns.length; c++) {\r\n\t\t\t\tif (id !== this.getCell(c, row).id) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tresult.endCol = c;\r\n\t\t\t}\r\n\t\t\tfor (let r = row - 1; r >= 0; r--) {\r\n\t\t\t\tif (id !== this.getCell(col, r).id) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tresult.startRow = r;\r\n\t\t\t}\r\n\t\t\tfor (let r = row + 1; r < this.rowCount; r++) {\r\n\t\t\t\tif (id !== this.getCell(col, r).id) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tresult.endRow = r;\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t}\r\n\t\t_addHeaders(row, header, roots) {\r\n\t\t\tconst rowCells = this._headerCells[row] || this._newRow(row);\r\n\t\t\theader.forEach((hd) => {\r\n\t\t\t\tconst col = this._columns.length;\r\n\t\t\t\tconst cell = {\r\n\t\t\t\t\tid: headerId++,\r\n\t\t\t\t\tcaption: hd.caption,\r\n\t\t\t\t\tstyle: hd.headerStyle,\r\n\t\t\t\t\tsort: hd.sort,\r\n\t\t\t\t};\r\n\t\t\t\tthis._headerObjects.push(cell);\r\n\t\t\t\trowCells[col] = cell;\r\n\t\t\t\tfor (let r = row - 1; r >= 0; r--) {\r\n\t\t\t\t\tthis._headerCells[r][col] = roots[r];\r\n\t\t\t\t}\r\n\t\t\t\tif (hd.columns) {\r\n\t\t\t\t\tthis._addHeaders(row + 1, hd.columns, [...roots, cell]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis._columns.push({\r\n\t\t\t\t\t\twidth: hd.width,\r\n\t\t\t\t\t\tminWidth: hd.minWidth,\r\n\t\t\t\t\t\tmaxWidth: hd.maxWidth,\r\n\t\t\t\t\t\tfield: hd.field,\r\n\t\t\t\t\t\ticon: hd.icon,\r\n\t\t\t\t\t\tcolumnType: columns.type.of(hd.columnType),\r\n\t\t\t\t\t\taction: columns.action.of(hd.action),\r\n\t\t\t\t\t\tstyle: hd.style,\r\n\t\t\t\t\t\tdefine: hd,\r\n\t\t\t\t\t});\r\n\t\t\t\t\tfor (let r = row + 1; r < this._headerCells.length; r++) {\r\n\t\t\t\t\t\tthis._headerCells[r][col] = cell;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\t_setupHeaderType() {\r\n\t\t\tthis._headerObjects.forEach((cell) => {\r\n\t\t\t\tcell.range = this.getHeaderCellRangeById(cell.id);\r\n\t\t\t\tcell.headerType = headerType.create(cell);\r\n\t\t\t});\r\n\t\t}\r\n\t\t_newRow(row) {\r\n\t\t\tconst newRow = this._headerCells[row] = [];\r\n\t\t\tif (!this._columns.length) {\r\n\t\t\t\treturn newRow;\r\n\t\t\t}\r\n\t\t\tconst prev = this._headerCells[row - 1];\r\n\t\t\tfor (let col = 0; col < prev.length; col++) {\r\n\t\t\t\tnewRow[col] = prev[col];\r\n\t\t\t}\r\n\t\t\treturn newRow;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction adjustListGridOption(options) {\r\n\t\tif (options) {\r\n\t\t\tdelete options.frozenRowCount;\r\n\t\t\tdelete options.colCount;\r\n\t\t\tdelete options.rowCount;\r\n\t\t}\r\n\t\treturn options;\r\n\t}\r\n\t\r\n\tconst EVENT_TYPE = extend(DrawGrid.EVENT_TYPE, {\r\n\t\tSET_VALUE: 'set_value',\r\n\t});\r\n\r\n\t/**\r\n\t * ListGrid\r\n\t * @classdesc cheetahGrid.ListGrid\r\n\t * @extends cheetahGrid.core.DrawGrid\r\n\t * @memberof cheetahGrid\r\n\t */\r\n\tclass ListGrid extends DrawGrid {\r\n\t\tstatic get EVENT_TYPE() {\r\n\t\t\treturn EVENT_TYPE;\r\n\t\t}\r\n\t\t/**\r\n\t\t * constructor\r\n\t\t *\r\n\t\t * <pre>\r\n\t\t * Constructor options\r\n\t\t * -----\r\n\t\t * header: see header property\r\n\t\t * records {array}: records data\r\n\t\t * dataSource {DataSource}: records data source\r\n\t\t * frozenColCount {number}: default 0\r\n\t\t * defaultRowHeight {number}: default grid row height. default 40\r\n\t\t * defaultColWidth {number}: default grid col width. default 80\r\n\t\t * borderColor: border color\r\n\t\t * parentElement {Element}: canvas parentElement\r\n\t\t * theme {object}: theme\r\n\t\t * -----\r\n\t\t * </pre>\r\n\t\t *\r\n\t\t * @constructor\r\n\t\t * @param  {Object} options Constructor options\r\n\t\t */\r\n\t\tconstructor(options = {}) {\r\n\t\t\tsuper(adjustListGridOption(options));\r\n\t\t\tthis[_].header = options.header || [];\r\n\t\t\tthis[_].headerRowHeight = options.headerRowHeight || [];\r\n\t\t\tif (options.dataSource) {\r\n\t\t\t\t_setDataSource(this, options.dataSource);\r\n\t\t\t} else {\r\n\t\t\t\t_setRecords(this, options.records);\r\n\t\t\t}\r\n\t\t\t_refreshHeader(this);\r\n\t\t\tthis[_].sortState = {\r\n\t\t\t\tcol: -1,\r\n\t\t\t\torder: undefined,\r\n\t\t\t};\r\n\t\t\tthis[_].gridCanvasHelper = new GridCanvasHelper(this);\r\n\t\t\tthis[_].theme = themes.of(options.theme);\r\n\t\t\tthis.invalidate();\r\n\t\t\tthis[_].handler.on(window, 'resize', () => {\r\n\t\t\t\tthis.updateSize();\r\n\t\t\t\tthis.updateScroll();\r\n\t\t\t\tthis.invalidate();\r\n\t\t\t});\r\n\t\t}\r\n\t\t/**\r\n\t\t * header define\r\n\t\t * @type {Array}\r\n\t\t */\r\n\t\tget header() {\r\n\t\t\treturn this[_].header;\r\n\t\t}\r\n\t\t/**\r\n\t\t * header define\r\n\t\t * <pre>\r\n\t\t * column options\r\n\t\t * -----\r\n\t\t * caption: header caption\r\n\t\t * field: field name\r\n\t\t * width: column width\r\n\t\t * columnType: ColumnType\r\n\t\t * action: ColumnAction\r\n\t\t * style\r\n\t\t * -----\r\n\t\t *\r\n\t\t * multiline header\r\n\t\t * -----\r\n\t\t * caption: header caption\r\n\t\t * columns: columns define\r\n\t\t * -----\r\n\t\t * </pre>\r\n\t\t *\r\n\t\t * @type {Array}\r\n\t\t */\r\n\t\tset header(header) {\r\n\t\t\tthis[_].header = header;\r\n\t\t\t_refreshHeader(this);\r\n\t\t}\r\n\t\tget records() {\r\n\t\t\treturn this[_].records;\r\n\t\t}\r\n\t\tset records(records) {\r\n\t\t\t_setRecords(this, records);\r\n\t\t\t_refreshRowCount(this);\r\n\t\t\tthis.invalidate();\r\n\t\t}\r\n\t\tget dataSource() {\r\n\t\t\treturn this[_].dataSource;\r\n\t\t}\r\n\t\tset dataSource(dataSource) {\r\n\t\t\t_setDataSource(this, dataSource);\r\n\t\t\t_refreshRowCount(this);\r\n\t\t\tthis.invalidate();\r\n\t\t}\r\n\t\tget theme() {\r\n\t\t\treturn this[_].theme;\r\n\t\t}\r\n\t\tset theme(theme) {\r\n\t\t\tthis[_].theme = themes.of(theme);\r\n\t\t\tthis.invalidate();\r\n\t\t}\r\n\t\tget font() {\r\n\t\t\treturn super.font || this[_].gridCanvasHelper.theme.font;\r\n\t\t}\r\n\t\tset font(font) {\r\n\t\t\tsuper.font = font;\r\n\t\t}\r\n\t\tget underlayBackgroundColor() {\r\n\t\t\treturn super.underlayBackgroundColor || this[_].gridCanvasHelper.theme.underlayBackgroundColor;\r\n\t\t}\r\n\t\tset underlayBackgroundColor(underlayBackgroundColor) {\r\n\t\t\tsuper.underlayBackgroundColor = underlayBackgroundColor;\r\n\t\t}\r\n\t\tget sortState() {\r\n\t\t\treturn this[_].sortState;\r\n\t\t}\r\n\t\tset sortState(sortState) {\r\n\t\t\tthis[_].sortState = sortState;\r\n\t\t}\r\n\t\tgetField(col) {\r\n\t\t\treturn this[_].headerMap.columns[col].field;\r\n\t\t}\r\n\t\tgetRowRecord(row) {\r\n\t\t\tif (row < this[_].headerMap.rowCount) {\r\n\t\t\t\treturn undefined;\r\n\t\t\t} else {\r\n\t\t\t\treturn this[_].dataSource.get(_getRowRecordIndex(this, row));\r\n\t\t\t}\r\n\t\t}\r\n\t\tgetGridCanvasHelper() {\r\n\t\t\treturn this[_].gridCanvasHelper;\r\n\t\t}\r\n\t\tgetCopyCellValue(col, row) {\r\n\t\t\tif (row < this[_].headerMap.rowCount) {\r\n\t\t\t\tconst {startCol, startRow} = _getHeaderCellRange(this, col, row);\r\n\t\t\t\tif (startCol !== col || startRow !== row) {\r\n\t\t\t\t\treturn '';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn _getCellValue(this, col, row);\r\n\t\t}\r\n\t\tonDrawCell(col, row, context) {\r\n\t\t\tconst column = this[_].headerMap.columns[col];\r\n\r\n\t\t\tlet draw;\r\n\t\t\tlet style;\r\n\t\t\tif (row < this[_].headerMap.rowCount) {\r\n\t\t\t\tconst hd = this[_].headerMap.getCell(col, row);\r\n\t\t\t\tdraw = hd.headerType.onDrawCell;\r\n\t\t\t\tstyle = hd.style;\r\n\t\t\t\t_updateRect(this, col, row, context);\r\n\t\t\t} else {\r\n\t\t\t\tdraw = column.columnType.onDrawCell;\r\n\t\t\t\tstyle = column.style;\r\n\t\t\t}\r\n\t\t\tconst cellValue = _getCellValue(this, col, row);\r\n\t\t\treturn _onDrawValue(this, cellValue, context, {col, row}, style, draw);\r\n\t\t}\r\n\t\tdoGetCellValue(col, row, valueCallback) {\r\n\t\t\tif (row < this[_].headerMap.rowCount) {\r\n\t\t\t\t// nop\r\n\t\t\t\treturn false;\r\n\t\t\t} else {\r\n\t\t\t\tconst value = _getCellValue(this, col, row);\r\n\t\t\t\tif (isPromise(value)) {\r\n\t\t\t\t\t//\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tvalueCallback(value);\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tdoChangeValue(col, row, changeValueCallback) {\r\n\t\t\tif (row < this[_].headerMap.rowCount) {\r\n\t\t\t\t// nop\r\n\t\t\t\treturn false;\r\n\t\t\t} else {\r\n\t\t\t\tconst before = _getCellValue(this, col, row);\r\n\t\t\t\tif (isPromise(before)) {\r\n\t\t\t\t\t//\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tconst after = changeValueCallback(before);\r\n\t\t\t\tif (after === undefined) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\treturn _setCellValue(this, col, row, after);\r\n\t\t\t}\r\n\t\t}\r\n\t\tbindEventsInternal() {\r\n\t\t\tthis.listen(EVENT_TYPE.SELECTED_CELL, (cell, selected) => {\r\n\t\t\t\tif (cell.row < this[_].headerMap.rowCount) {\r\n\t\t\t\t\tconst {startCol, endCol, startRow, endRow} = _getHeaderCellRange(this, cell.col, cell.row);\r\n\t\t\t\t\tif (startCol !== endCol || startRow !== endRow) {\r\n\t\t\t\t\t\tthis.invalidateGridRect(startCol, startRow, endCol, endRow);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tgetMoveLeftColByKeyDownInternal({col, row}) {\r\n\t\t\tif (row < this[_].headerMap.rowCount) {\r\n\t\t\t\tconst {startCol} = _getHeaderCellRange(this, col, row);\r\n\t\t\t\tcol = startCol;\r\n\t\t\t}\r\n\t\t\treturn super.getMoveLeftColByKeyDownInternal({col, row});\r\n\t\t}\r\n\t\tgetMoveRightColByKeyDownInternal({col, row}) {\r\n\t\t\tif (row < this[_].headerMap.rowCount) {\r\n\t\t\t\tconst {endCol} = _getHeaderCellRange(this, col, row);\r\n\t\t\t\tcol = endCol;\r\n\t\t\t}\r\n\t\t\treturn super.getMoveRightColByKeyDownInternal({col, row});\r\n\t\t}\r\n\t\tgetMoveUpRowByKeyDownInternal({col, row}) {\r\n\t\t\tif (row < this[_].headerMap.rowCount) {\r\n\t\t\t\tconst {startRow} = _getHeaderCellRange(this, col, row);\r\n\t\t\t\trow = startRow;\r\n\t\t\t}\r\n\t\t\treturn super.getMoveUpRowByKeyDownInternal({col, row});\r\n\t\t}\r\n\t\tgetMoveDownRowByKeyDownInternal({col, row}) {\r\n\t\t\tif (row < this[_].headerMap.rowCount) {\r\n\t\t\t\tconst {endRow} = _getHeaderCellRange(this, col, row);\r\n\t\t\t\trow = endRow;\r\n\t\t\t}\r\n\t\t\treturn super.getMoveDownRowByKeyDownInternal({col, row});\r\n\t\t}\r\n\t\tgetOffsetInvalidateCells() {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\tgetColumnIndexByField(field) {\r\n\t\t\tfor (const columnIndex in this[_].headerMap.columns) {\r\n\t\t\t\tif (this[_].headerMap.columns[columnIndex].field === field) {\r\n\t\t\t\t\treturn columnIndex - 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tfocusGridCell(field, index) {\r\n\t\t\tconst {\r\n\t\t\t\tstart: {col: startCol, row: startRow},\r\n\t\t\t\tend: {col: endCol, row: endRow}\r\n\t\t\t} = this.selection.range;\r\n\r\n\t\t\tconst newCol = this.getColumnIndexByField(field);\r\n\t\t\tconst newRow = index + this[_].headerMap.rowCount;\r\n\t\t\tthis.focusCell(newCol, newRow);\r\n\t\t\tthis.selection.select = {\r\n\t\t\t\tcol: newCol,\r\n\t\t\t\trow: newRow\r\n\t\t\t};\r\n\t\t\tthis.invalidateGridRect(startCol, startRow, endCol, endRow);\r\n\t\t\tthis.invalidateCell(newCol, newRow);\r\n\t\t}\r\n\t\tmakeVisibleGridCell(field, index) {\r\n\t\t\tthis.makeVisibleCell(this.getColumnIndexByField(field), index + this[_].headerMap.rowCount);\r\n\t\t}\r\n\t}\r\n\tmodule.exports = ListGrid;\r\n}","'use strict';\r\n\r\n\r\nconst Inline = require('./Inline');\r\nconst InlineIcon = require('./InlineIcon');\r\nconst InlineImage = require('./InlineImage');\r\nconst InlineSvg = require('./InlineSvg');\r\nconst InlineDrawer = require('./InlineDrawer');\r\nconst InlinePath2D = require('./InlinePath2D');\r\nconst {isDef} = require('../internal/utils');\r\nconst {calcStartPosition} = require('../internal/canvases');\r\nconst icons = require('../icons');\r\nconst path2DManager = require('../internal/path2DManager');\r\n\r\nfunction drawRegisteredIcon(ctx, icon,\r\n\t\tdrawWidth, drawHeight,\r\n\t\tleft, top, width, height,\r\n\t\t{\r\n\t\t\toffset = 2,\r\n\t\t\tpadding,\r\n\t\t} = {}) {\r\n\tconst rect = {\r\n\t\tleft,\r\n\t\ttop,\r\n\t\twidth,\r\n\t\theight,\r\n\t\tright: left + width,\r\n\t\tbottom: top + height,\r\n\t};\r\n\tctx.save();\r\n\ttry {\r\n\t\tctx.beginPath();\r\n\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\r\n\t\t//clip\r\n\t\tctx.clip();\r\n\r\n\t\t//\r\n\t\tconst pos = calcStartPosition(ctx, rect, drawWidth, drawHeight, {\r\n\t\t\toffset,\r\n\t\t\tpadding\r\n\t\t});\r\n\t\tpath2DManager.fill(icon, ctx, pos.x, pos.y, drawWidth, drawHeight);\r\n\t} finally {\r\n\t\tctx.restore();\r\n\t}\r\n}\r\n\r\n\r\nmodule.exports = {\r\n\ticonOf(icon) {\r\n\t\tif (icon instanceof Inline) {\r\n\t\t\treturn icon;\r\n\t\t}\r\n\t\tif (!icon) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif (icon.font && icon.content) {\r\n\t\t\treturn new InlineIcon(icon);\r\n\t\t}\r\n\t\tif (icon.src) {\r\n\t\t\treturn new InlineImage({\r\n\t\t\t\tsrc: icon.src,\r\n\t\t\t\twidth: icon.width,\r\n\t\t\t\theight: icon.width,\r\n\t\t\t});\r\n\t\t}\r\n\t\tif (icon.svg) {\r\n\t\t\treturn new InlineSvg({\r\n\t\t\t\tsvg: icon.svg,\r\n\t\t\t\twidth: icon.width,\r\n\t\t\t\theight: icon.width,\r\n\t\t\t});\r\n\t\t}\r\n\t\tif (icon.path) {\r\n\t\t\treturn new InlinePath2D({\r\n\t\t\t\tpath: icon.path,\r\n\t\t\t\twidth: icon.width,\r\n\t\t\t\theight: icon.width,\r\n\t\t\t\tcolor: icon.color,\r\n\t\t\t});\r\n\t\t}\r\n\t\tconst regedIcons = icons.get();\r\n\t\tif (icon.name && regedIcons[icon.name]) {\r\n\t\t\tconst regedIcon = regedIcons[icon.name];\r\n\t\t\tconst width = icon.width || Math.max(regedIcon.width, regedIcon.height);\r\n\t\t\treturn new InlineDrawer({\r\n\t\t\t\tdraw({\r\n\t\t\t\t\tctx,\r\n\t\t\t\t\tcanvashelper,\r\n\t\t\t\t\trect,\r\n\t\t\t\t\toffset,\r\n\t\t\t\t\toffsetLeft,\r\n\t\t\t\t\toffsetRight,\r\n\t\t\t\t}) {\r\n\t\t\t\t\tdrawRegisteredIcon(ctx, regedIcon,\r\n\t\t\t\t\t\t\twidth, width,\r\n\t\t\t\t\t\t\trect.left, rect.top, rect.width, rect.height,\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\toffset: offset + 1,\r\n\t\t\t\t\t\t\t\tpadding: {\r\n\t\t\t\t\t\t\t\t\tleft: offsetLeft,\r\n\t\t\t\t\t\t\t\t\tright: offsetRight,\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\twidth,\r\n\t\t\t\theight: width,\r\n\t\t\t\tcolor: icon.color,\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn new InlineIcon(icon);\r\n\t},\r\n\tof(content) {\r\n\t\tif (!isDef(content)) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif (content instanceof Inline) {\r\n\t\t\treturn content;\r\n\t\t}\r\n\t\treturn new Inline(content);\r\n\t},\r\n\tbuildInlines(icons, inline) {\r\n\t\tconst result = [];\r\n\t\tif (icons) {\r\n\t\t\tresult.push(...(icons.map((icon) => this.iconOf(icon)).filter((e) => !!e)));\r\n\t\t}\r\n\t\tif (Array.isArray(inline) && inline.filter((il) => il instanceof Inline).length) {\r\n\t\t\tresult.push(...(inline.map((il) => this.of(il)).filter((e) => !!e)));\r\n\t\t} else {\r\n\t\t\tconst il = this.of(inline);\r\n\t\t\tif (il) {\r\n\t\t\t\tresult.push(il);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n};","'use strict';\r\n\r\n\r\nconst Inline = require('./Inline');\r\nconst fonts = require('../internal/fonts');\r\n\r\nclass InlineIcon extends Inline {\r\n\tconstructor(icon) {\r\n\t\tsuper();\r\n\t\tthis._icon = icon || {};\r\n\t}\r\n\twidth({ctx}) {\r\n\t\tconst icon = this._icon;\r\n\t\tif (icon.width) {\r\n\t\t\treturn icon.width;\r\n\t\t}\r\n\t\tif (icon.font && fonts.check(icon.font, icon.content)) {\r\n\t\t\tctx.save();\r\n\t\t\ttry {\r\n\t\t\t\tctx.font = icon.font || ctx.font;\r\n\t\t\t\treturn ctx.measureText(icon.content).width;\r\n\t\t\t} finally {\r\n\t\t\t\tctx.restore();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\tfont() {\r\n\t\treturn this._icon.font;\r\n\t}\r\n\tcolor() {\r\n\t\treturn this._icon.color;\r\n\t}\r\n\tcanDraw() {\r\n\t\tconst icon = this._icon;\r\n\t\treturn icon.font ? fonts.check(icon.font, icon.content) : true;\r\n\t}\r\n\tonReady(callback) {\r\n\t\tconst icon = this._icon;\r\n\t\tif (icon.font && !fonts.check(icon.font, icon.content)) {\r\n\t\t\tfonts.load(icon.font, icon.content, callback);\r\n\t\t}\r\n\t}\r\n\tdraw(\r\n\t\t\t{\r\n\t\t\t\tctx,\r\n\t\t\t\tcanvashelper,\r\n\t\t\t\trect,\r\n\t\t\t\toffset,\r\n\t\t\t\toffsetLeft,\r\n\t\t\t\toffsetRight,\r\n\t\t\t}) {\r\n\t\tconst icon = this._icon;\r\n\t\tif (icon.content) {\r\n\t\t\tcanvashelper.fillTextRect(ctx, icon.content,\r\n\t\t\t\t\trect.left, rect.top, rect.width, rect.height,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\toffset: offset + 1,\r\n\t\t\t\t\t\tpadding: {\r\n\t\t\t\t\t\t\tleft: offsetLeft,\r\n\t\t\t\t\t\t\tright: offsetRight,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nmodule.exports = InlineIcon;","'use strict';\r\n\r\n//see https://github.com/typekit/webfontloader\r\n\r\n//http://defghi1977.html.xdomain.jp/tech/canvasMemo/canvasMemo.htm\r\nconst FontRuler = require('./FontRuler');\r\n\r\n\r\nconst LastResortFonts = {\r\n\tSERIF: 'serif',\r\n\tSANS_SERIF: 'sans-serif'\r\n};\r\n\r\n\r\nconst watchRunners = {};\r\n\r\nclass FontWatchRunner {\r\n\tstatic load(font, testStr, activeCallback, inactiveCallback) {\r\n\t\tconst c = watchRunners[font] || (watchRunners[font] = {});\r\n\t\ttestStr = testStr + '';\r\n\t\tlet runner;\r\n\t\tif (c[testStr]) {\r\n\t\t\trunner = c[testStr];\r\n\t\t} else {\r\n\t\t\trunner = (c[testStr] = new FontWatchRunner(font, testStr));\r\n\t\t}\r\n\t\trunner.then(activeCallback, inactiveCallback);\r\n\t}\r\n\tconstructor(font, testStr) {\r\n\t\tthis.activeCallbacks = [];\r\n\t\tthis.inactiveCallbacks = [];\r\n\t\tthis.status = null;\r\n\t\tthis.lastResortWidths_ = {};\r\n\r\n\t\tthis.fontRulerA_ = new FontRuler(font + ',' + LastResortFonts.SERIF, testStr);\r\n\t\tthis.fontRulerB_ = new FontRuler(font + ',' + LastResortFonts.SANS_SERIF, testStr);\r\n\t\tconst lastResortRulerA = new FontRuler('4px ' + LastResortFonts.SERIF, testStr);\r\n\t\tconst lastResortRulerB = new FontRuler('4px ' + LastResortFonts.SANS_SERIF, testStr);\r\n\r\n\t\t//start\r\n\t\tthis.lastResortWidths_[LastResortFonts.SERIF] = lastResortRulerA.getWidth();\r\n\t\tthis.lastResortWidths_[LastResortFonts.SANS_SERIF] = lastResortRulerB.getWidth();\r\n\r\n\t\tlastResortRulerA.remove();\r\n\t\tlastResortRulerB.remove();\r\n\r\n\t\tthis.started_ = Date.now();\r\n\r\n\t\tthis.check_();\r\n\t}\r\n\tthen(activeCallback, inactiveCallback) {\r\n\t\tif (this.status) {\r\n\t\t\tif (this.status !== 'ng') {\r\n\t\t\t\tactiveCallback();\r\n\t\t\t} else {\r\n\t\t\t\tinactiveCallback();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.activeCallbacks.push(activeCallback);\r\n\t\t\tthis.inactiveCallbacks.push(inactiveCallback);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\tcheck_() {\r\n\t\tconst widthA = this.fontRulerA_.getWidth();\r\n\t\tconst widthB = this.fontRulerB_.getWidth();\r\n\r\n\t\tif (this.isFallbackFont_(widthA, widthB) || this.isLastResortFont_(widthA, widthB)) {\r\n\t\t\tif (Date.now() - this.started_ >= 3000) { // timeout\r\n\t\t\t\tif (this.isLastResortFont_(widthA, widthB)) {\r\n\t\t\t\t\tthis.finish_(this.activeCallbacks);\r\n\t\t\t\t\tthis.status = 'ok';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.finish_(this.inactiveCallbacks);\r\n\t\t\t\t\tthis.status = 'ng';\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.check_();\r\n\t\t\t\t}, 50);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.finish_(this.activeCallbacks);\r\n\t\t\tthis.status = 'ok';\r\n\t\t}\r\n\t}\r\n\tisFallbackFont_(a, b) {\r\n\t\treturn this.widthMatches_(a, LastResortFonts.SERIF) && this.widthMatches_(b, LastResortFonts.SANS_SERIF);\r\n\t}\r\n\twidthsMatchLastResortWidths_(a, b) {\r\n\t\tfor (const font in LastResortFonts) {\r\n\t\t\tif (LastResortFonts.hasOwnProperty(font)) {\r\n\t\t\t\tif (this.widthMatches_(a, LastResortFonts[font]) &&\r\n\t\t\t\t\t\tthis.widthMatches_(b, LastResortFonts[font])) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\twidthMatches_(width, lastResortFont) {\r\n\t\treturn width === this.lastResortWidths_[lastResortFont];\r\n\t}\r\n\tisLastResortFont_(a, b) {\r\n\t\treturn hasWebKitFallbackBug() && this.widthsMatchLastResortWidths_(a, b);\r\n\t}\r\n\tfinish_(callbacks) {\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.fontRulerA_.remove();\r\n\t\t\tthis.fontRulerB_.remove();\r\n\t\t\tcallbacks.forEach((cb) => cb());\r\n\t\t}, 0);\r\n\t}\r\n}\r\n\r\nlet HAS_WEBKIT_FALLBACK_BUG = null;\r\nfunction hasWebKitFallbackBug() {\r\n\tif (HAS_WEBKIT_FALLBACK_BUG === null) {\r\n\t\tconst match = /AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent);\r\n\r\n\t\tHAS_WEBKIT_FALLBACK_BUG = !!match &&\r\n\t\t\t(parseInt(match[1], 10) < 536 ||\r\n\t\t\t(parseInt(match[1], 10) === 536 &&\r\n\t\t\tparseInt(match[2], 10) <= 11));\r\n\t}\r\n\treturn HAS_WEBKIT_FALLBACK_BUG;\r\n}\r\n\r\nmodule.exports = FontWatchRunner;\r\n","'use strict';\r\n\r\n//see https://github.com/typekit/webfontloader\r\nfunction computeStyle(font) {\r\n\treturn [{\r\n\t\tdisplay: 'block',\r\n\t\tposition: 'absolute',\r\n\t\ttop: '-9999px',\r\n\t\tleft: '-9999px',\r\n\t\twidth: 'auto',\r\n\t\theight: 'auto',\r\n\t\tmargin: '0',\r\n\t\tpadding: '0',\r\n\t\t'white-space': 'nowrap',\r\n\t\tfont,\r\n\t}, {\r\n\t\t'font-variant': 'normal',\r\n\t\t'font-size': '300px',\r\n\t\t'font-style': 'normal',\r\n\t\t'font-weight': '400',\r\n\t\t'line-height': 'normal',\r\n\t}];\r\n}\r\n\r\nclass FontRuler {\r\n\tconstructor(font, testStr) {\r\n\t\tconst e = document.createElement('span');\r\n\t\te.setAttribute('aria-hidden', 'true');\r\n\t\te.textContent = testStr || 'BESbswy';\r\n\r\n\t\tcomputeStyle(font).forEach((style) => {\r\n\t\t\tfor (const key in style) {\r\n\t\t\t\te.style[key] = style[key];\r\n\t\t\t}\r\n\t\t});\r\n\t\tdocument.body.appendChild(e);\r\n\t\tthis.el_ = e;\r\n\t}\r\n\tgetWidth() {\r\n\t\treturn this.el_.offsetWidth;\r\n\t}\r\n\tremove() {\r\n\t\tdocument.body.removeChild(this.el_);\r\n\t}\r\n}\r\n\r\nmodule.exports = FontRuler;\r\n\r\n\r\n","'use strict';\r\n\r\nconst InlineImage = require('./InlineImage');\r\nconst {isPromise} = require('../internal/utils');\r\n\r\nfunction buildSvgDataUrl(svg) {\r\n\tif (isPromise(svg)) {\r\n\t\treturn svg.then(buildSvgDataUrl);\r\n\t} else {\r\n\t\tconst data = (typeof svg === 'string') ? svg : new XMLSerializer().serializeToString(svg);\r\n\t\tconst url = 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(data); //svgbase64\r\n\t\treturn url;\r\n\t}\r\n}\r\nfunction getSvgElement(svg) {\r\n\tif (isPromise(svg)) {\r\n\t\treturn svg.then(getSvgElement);\r\n\t} else if (typeof svg === 'string') {\r\n\t\tconst parser = new DOMParser();\r\n\t\treturn parser.parseFromString(svg, 'image/svg+xml');\r\n\t} else {\r\n\t\treturn svg;\r\n\t}\r\n}\r\n\r\nclass InlineSvg extends InlineImage {\r\n\tconstructor(\r\n\t\t\t{\r\n\t\t\t\tsvg,\r\n\t\t\t\twidth,\r\n\t\t\t\theight,\r\n\t\t\t\timageLeft,\r\n\t\t\t\timageTop,\r\n\t\t\t\timageWidth,\r\n\t\t\t\timageHeight,\r\n\t\t\t}) {\r\n\t\tconst svgElem = getSvgElement(svg);\r\n\t\tconst elmWidth = svgElem.getAttribute ? svgElem.getAttribute('width') : null;\r\n\t\tconst elmHeight = svgElem.getAttribute ? svgElem.getAttribute('height') : null;\r\n\t\tsuper({\r\n\t\t\tsrc: buildSvgDataUrl(svg),\r\n\t\t\twidth: width || elmWidth,\r\n\t\t\theight: height || elmHeight,\r\n\t\t\timageWidth: elmWidth,\r\n\t\t\timageHeight: elmHeight,\r\n\t\t});\r\n\t}\r\n}\r\n\r\nmodule.exports = InlineSvg;","'use strict';\r\n\r\n\r\nconst Inline = require('./Inline');\r\n\r\nclass InlineDrawer extends Inline {\r\n\tconstructor(\r\n\t\t\t{\r\n\t\t\t\tdraw,\r\n\t\t\t\twidth,\r\n\t\t\t\theight,\r\n\t\t\t\tcolor,\r\n\t\t\t}) {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis._draw = draw;\r\n\t\tthis._width = width;\r\n\t\tthis._height = height;\r\n\t\tthis._color = color;\r\n\t}\r\n\twidth({ctx}) {\r\n\t\treturn this._width;\r\n\t}\r\n\tfont() {\r\n\t\treturn null;\r\n\t}\r\n\tcolor() {\r\n\t\treturn this._color;\r\n\t}\r\n\tcanDraw() {\r\n\t\treturn true;\r\n\t}\r\n\tonReady(callback) {\r\n\t}\r\n\tdraw(\r\n\t\t\t{\r\n\t\t\t\tctx,\r\n\t\t\t\tcanvashelper,\r\n\t\t\t\trect,\r\n\t\t\t\toffset,\r\n\t\t\t\toffsetLeft,\r\n\t\t\t\toffsetRight,\r\n\t\t\t}) {\r\n\t\tthis._draw({\r\n\t\t\tctx,\r\n\t\t\tcanvashelper,\r\n\t\t\trect,\r\n\t\t\toffset,\r\n\t\t\toffsetLeft,\r\n\t\t\toffsetRight,\r\n\t\t});\r\n\t}\r\n}\r\n\r\nmodule.exports = InlineDrawer;","'use strict';\r\n\r\nconst Inline = require('./Inline');\r\nconst {calcStartPosition} = require('../internal/canvases');\r\nconst path2DManager = require('../internal/path2DManager');\r\n\r\nclass InlinePath2D extends Inline {\r\n\tconstructor(\r\n\t\t\t{\r\n\t\t\t\tpath,\r\n\t\t\t\twidth,\r\n\t\t\t\theight,\r\n\t\t\t\tcolor,\r\n\t\t\t}) {\r\n\t\tsuper();\r\n\t\t// IEPath2Dpolyfill\r\n\t\tthis._path = new path2DManager.Path2D(path);\r\n\t\tthis._width = width;\r\n\t\tthis._height = height;\r\n\t\tthis._color = color;\r\n\t}\r\n\twidth({ctx}) {\r\n\t\treturn this._width;\r\n\t}\r\n\tfont() {\r\n\t\treturn null;\r\n\t}\r\n\tcolor() {\r\n\t\treturn this._color;\r\n\t}\r\n\tcanDraw() {\r\n\t\treturn true;\r\n\t}\r\n\tonReady(callback) {\r\n\t}\r\n\tdraw({\r\n\t\tctx,\r\n\t\tcanvashelper,\r\n\t\trect,\r\n\t\toffset,\r\n\t\toffsetLeft,\r\n\t\toffsetRight\r\n\t}) {\r\n\t\toffset++;\r\n\t\tconst padding = {\r\n\t\t\tleft: offsetLeft,\r\n\t\t\tright: offsetRight,\r\n\t\t};\r\n\t\tctx.save();\r\n\t\ttry {\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\r\n\t\t\t//clip\r\n\t\t\tctx.clip();\r\n\r\n\t\t\t//\r\n\t\t\tconst pos = calcStartPosition(ctx, rect, this._width, this._height, {\r\n\t\t\t\toffset,\r\n\t\t\t\tpadding\r\n\t\t\t});\r\n\t\t\tctx.translate(pos.x, pos.y);\r\n\t\t\tctx.fill(this._path);\r\n\t\t} finally {\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t}\r\n}\r\n\r\nmodule.exports = InlinePath2D;","'use strict';\r\n\r\nconst PathCommandsParser = require('./PathCommandsParser');\r\nconst parser = new PathCommandsParser();\r\n\r\nclass Path2D {\r\n\tconstructor(arg) {\r\n\t\tthis._ops = [];\r\n\t\t[\r\n\t\t\t'closePath',\r\n\t\t\t'moveTo',\r\n\t\t\t'lineTo',\r\n\t\t\t'bezierCurveTo',\r\n\t\t\t'quadraticCurveTo',\r\n\t\t\t'arc',\r\n\t\t\t'rect'\r\n\t\t].forEach((name) => {\r\n\t\t\tthis[name] = (...args) => {\r\n\t\t\t\tthis._ops.push({op: name, args});\r\n\t\t\t};\r\n\t\t});\r\n\t\tif (arg === undefined) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (typeof arg === 'string') {\r\n\t\t\ttry {\r\n\t\t\t\tthis._ops = parser.parse(arg);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tthrow e;\r\n\t\t\t}\r\n\t\t} else if (arg.hasOwnProperty('_ops')) {\r\n\t\t\tthis._ops = [...this._ops];\r\n\t\t} else {\r\n\t\t\tthrow new Error(`Error: ${typeof arg} is not a valid argument to Path`);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst CanvasRenderingContext2D = window.CanvasRenderingContext2D;\r\n\r\nconst originalFill = CanvasRenderingContext2D.prototype.fill;\r\n\r\nCanvasRenderingContext2D.prototype.fill = function(...args) {\r\n\tif (args[0] instanceof Path2D) {\r\n\t\tconst path = args[0];\r\n\t\tthis.beginPath();\r\n\t\tpath._ops.forEach((op) => {\r\n\t\t\tthis[op.op](...op.args);\r\n\t\t});\r\n\t\toriginalFill.apply(this, Array.prototype.slice.call(args, 1));\r\n\t} else {\r\n\t\toriginalFill.apply(this, args);\r\n\t}\r\n};\r\n\r\nmodule.exports = Path2D;\r\n","'use strict';\r\n\r\nconst PathCommands = require('./PathCommands');\r\n\r\nfunction pathTokens(d) {\r\n\tlet idx = 0;\r\n\treturn {\r\n\t\tnext() {\r\n\t\t\tlet s = '';\r\n\t\t\twhile (d.length > idx) {\r\n\t\t\t\tconst c = d[idx];\r\n\t\t\t\tidx++;\r\n\t\t\t\tif (' ,\\n\\r\\t'.indexOf(c) > -1) {\r\n\t\t\t\t\tif (s) {\r\n\t\t\t\t\t\treturn s;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst type = '.+-1234567890'.indexOf(c) > -1 ? 'num' : 'str';\r\n\t\t\t\t\tif (type === 'str') {\r\n\t\t\t\t\t\tif (s) {\r\n\t\t\t\t\t\t\tidx--;\r\n\t\t\t\t\t\t\treturn s;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn c;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ('-+'.indexOf(c) > -1) {\r\n\t\t\t\t\t\tif (s) {\r\n\t\t\t\t\t\t\tidx--;\r\n\t\t\t\t\t\t\treturn s;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (c === '.') {\r\n\t\t\t\t\t\tif (s.indexOf('.') > -1) {\r\n\t\t\t\t\t\t\tidx--;\r\n\t\t\t\t\t\t\treturn s;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\ts += c;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn s || null;\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction command(builder, cmd, argsProvider) {\r\n\tif (cmd.toUpperCase() === 'M' || cmd.toUpperCase() === 'L' || cmd.toUpperCase() === 'T') {\r\n\t\tbuilder.command(cmd, argsProvider.next(), argsProvider.next());\r\n\t\treturn cmd === 'M' ? 'L'\r\n\t\t\t: cmd === 'm' ? 'l'\r\n\t\t\t: cmd;\r\n\t} else if (cmd.toUpperCase() === 'H' || cmd.toUpperCase() === 'V') {\r\n\t\tbuilder.command(cmd, argsProvider.next());\r\n\t\treturn cmd;\r\n\t} else if (cmd.toUpperCase() === 'Z') {\r\n\t\tbuilder.command(cmd);\r\n\t\treturn cmd;\r\n\t} else if (cmd.toUpperCase() === 'C') {\r\n\t\tbuilder.command(cmd,\r\n\t\t\t\targsProvider.next(), argsProvider.next(),\r\n\t\t\t\targsProvider.next(), argsProvider.next(),\r\n\t\t\t\targsProvider.next(), argsProvider.next()\r\n\t\t);\r\n\t\treturn cmd;\r\n\t} else if (cmd.toUpperCase() === 'S' || cmd.toUpperCase() === 'Q') {\r\n\t\tbuilder.command(cmd,\r\n\t\t\t\targsProvider.next(), argsProvider.next(),\r\n\t\t\t\targsProvider.next(), argsProvider.next()\r\n\t\t);\r\n\t\treturn cmd;\r\n\t} else if (cmd.toUpperCase() === 'A') {\r\n\t\tbuilder.command(cmd,\r\n\t\t\t\targsProvider.next(), argsProvider.next(),\r\n\t\t\t\targsProvider.next(), argsProvider.next(), argsProvider.next(),\r\n\t\t\t\targsProvider.next(), argsProvider.next()\r\n\t\t);\r\n\t\treturn cmd;\r\n\t} else {\r\n\t\t// https://developer.mozilla.org/ja/docs/Web/SVG/Tutorial/Paths\r\n\t\tconsole.warn('unsupported:' + cmd);\r\n\t}\r\n\treturn null;\r\n}\r\n\r\nconst canvasOperations = window.CanvasRenderingContext2D ? Object.keys(window.CanvasRenderingContext2D.prototype) : [\r\n\t'save',\r\n\t'restore',\r\n\t'beginPath',\r\n\t'closePath',\r\n\t'moveTo',\r\n\t'lineTo',\r\n\t'bezierCurveTo',\r\n\t'quadraticCurveTo',\r\n\t'arc',\r\n\t'arcTo',\r\n\t'ellipse',\r\n\t'rect',\r\n\t'translate',\r\n\t'rotate',\r\n\t'scale',\r\n];\r\n\r\nclass PathCommandsParser {\r\n\tconstructor() {\r\n\t\tthis._commands = new PathCommands(this);\r\n\t\tcanvasOperations.forEach((op) => {\r\n\t\t\tthis[op] = (...args) => {\r\n\t\t\t\tthis._ops.push({\r\n\t\t\t\t\top,\r\n\t\t\t\t\targs,\r\n\t\t\t\t});\r\n\t\t\t};\r\n\t\t});\r\n\t}\r\n\tcommand(name, ...args) {\r\n\t\targs = args || [];\r\n\t\tfor (let i = 0; i < args.length; i++) {\r\n\t\t\targs[i] = args[i] - 0;\r\n\t\t}\r\n\t\tthis._commands[name](...(args));\r\n\t}\r\n\tparse(d) {\r\n\t\tconst ops = this._ops = [];\r\n\t\tconst tokens = pathTokens(d);\r\n\t\ttry {\r\n\t\t\tlet cmd;\r\n\t\t\tlet subsequentCommand;\r\n\t\t\twhile ((cmd = tokens.next())) {\r\n\t\t\t\tif (!isNaN(cmd - 0)) {\r\n\t\t\t\t\tlet fst = true;\r\n\t\t\t\t\tconst argsProvider = {\r\n\t\t\t\t\t\tnext() {\r\n\t\t\t\t\t\t\tif (fst) {\r\n\t\t\t\t\t\t\t\tfst = false;\r\n\t\t\t\t\t\t\t\treturn cmd;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn tokens.next();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t\tsubsequentCommand = command(this, subsequentCommand, argsProvider);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsubsequentCommand = command(this, cmd, tokens);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log('Error: ' + d);\r\n\t\t\tthrow e;\r\n\t\t}\r\n\t\treturn ops;\r\n\t}\r\n}\r\n\r\nmodule.exports = PathCommandsParser;","'use strict';\r\n\r\nfunction mag(v) {\r\n\treturn Math.sqrt(Math.pow(v[0], 2) + Math.pow(v[1], 2));\r\n}\r\n    \r\nfunction dot(u, v) {\r\n\treturn (u[0] * v[0] + u[1] * v[1]);\r\n}\r\n    \r\nfunction ratio(u, v) {\r\n\treturn dot(u, v) / (mag(u) * mag(v));\r\n}\r\n\r\nfunction clamp(value, min, max) {\r\n\treturn Math.min(Math.max(value, min), max);\r\n}\r\n    \r\nfunction angle(u, v) {\r\n\tlet sign = 1.0;\r\n\tif ((u[0] * v[1] - u[1] * v[0]) < 0) {\r\n\t\tsign = -1.0;\r\n\t}\r\n\treturn sign * Math.acos(clamp(ratio(u, v)), -1, 1);\r\n}\r\n    \r\nfunction rotClockwise(v, angle) {\r\n\tconst cost = Math.cos(angle);\r\n\tconst sint = Math.sin(angle);\r\n\treturn [cost * v[0] + sint * v[1], -1 * sint * v[0] + cost * v[1]];\r\n}\r\n    \r\nfunction rotCounterClockwise(v, angle) {\r\n\tconst cost = Math.cos(angle);\r\n\tconst sint = Math.sin(angle);\r\n\treturn [cost * v[0] - sint * v[1], sint * v[0] + cost * v[1]];\r\n}\r\n    \r\nfunction midPoint(u, v) {\r\n\treturn [(u[0] - v[0]) / 2.0, (u[1] - v[1]) / 2.0];\r\n}\r\n    \r\nfunction meanVec(u, v) {\r\n\treturn [(u[0] + v[0]) / 2.0, (u[1] + v[1]) / 2.0];\r\n}\r\n    \r\nfunction pointMul(u, v) {\r\n\treturn [u[0] * v[0], u[1] * v[1]];\r\n}\r\n    \r\nfunction scale(c, v) {\r\n\treturn [c * v[0], c * v[1]];\r\n}\r\n    \r\nfunction sum(u, v) {\r\n\treturn [u[0] + v[0], u[1] + v[1]];\r\n}\r\n// Convert an SVG elliptical arc to a series of canvas commands.\r\n//\r\n// x1, y1, x2, y2: start and stop coordinates of the ellipse.\r\n// rx, ry: radii of the ellipse.\r\n// phi: rotation of the ellipse.\r\n// fA: large arc flag.\r\n// fS: sweep flag.\r\nfunction ellipseFromEllipticalArc(ctx, x1, y1, rx, ry, phi, fA, fS, x2, y2) {\r\n\t// Convert from endpoint to center parametrization, as detailed in:\r\n\t//   http://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\r\n\tif (rx === 0 || ry === 0) {\r\n\t\tctx.lineTo(x2, x1);\r\n\t\treturn;\r\n\t}\r\n\tphi = phi * (Math.PI / 180.0);\r\n\trx = Math.abs(rx);\r\n\try = Math.abs(ry);\r\n\tconst xPrime = rotClockwise(midPoint(x1, x2), phi); // F.6.5.1\r\n\tconst xPrime2 = pointMul(xPrime, xPrime);\r\n\tlet rx2 = Math.pow(rx, 2);\r\n\tlet ry2 = Math.pow(ry, 2);\r\n    \r\n\tconst lambda = Math.sqrt(xPrime2[0] / rx2 + xPrime2[1] / ry2);\r\n\tif (lambda > 1) {\r\n\t\trx *= lambda;\r\n\t\try *= lambda;\r\n\t\trx2 = Math.pow(rx, 2);\r\n\t\try2 = Math.pow(ry, 2);\r\n\t}\r\n\tlet factor = Math.sqrt(Math.abs(rx2 * ry2 - rx2 * xPrime2[1] - ry2 * xPrime2[0]) /\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(rx2 * xPrime2[1] + ry2 * xPrime2[0]));\r\n\tif (fA === fS) {\r\n\t\tfactor *= -1.0;\r\n\t}\r\n\tconst cPrime = scale(factor, [rx * xPrime[1] / ry, -ry * xPrime[0] / rx]); // F.6.5.2\r\n\tconst c = sum(rotCounterClockwise(cPrime, phi), meanVec(x1, x2)); // F.6.5.3\r\n\tconst x1UnitVector = [(xPrime[0] - cPrime[0]) / rx, (xPrime[1] - cPrime[1]) / ry];\r\n\tconst x2UnitVector = [(-1.0 * xPrime[0] - cPrime[0]) / rx, (-1.0 * xPrime[1] - cPrime[1]) / ry];\r\n\tconst theta = angle([1, 0], x1UnitVector); // F.6.5.5\r\n\tconst deltaTheta = angle(x1UnitVector, x2UnitVector); // F.6.5.6\r\n\tconst start = theta;\r\n\tconst end = theta + deltaTheta;\r\n\tctx.save();\r\n\tctx.translate(c[0], c[1]);\r\n\tctx.rotate(phi);\r\n\tctx.scale(rx, ry);\r\n\tctx.arc(0, 0, 1, start, end, 1 - fS);\r\n\tctx.restore();\r\n}\r\n\r\nclass PathCommands {\r\n\tconstructor(ctx) {\r\n\t\tlet lMx;\r\n\t\tlet lMy;\r\n\t\tlet lx = 0;\r\n\t\tlet ly = 0;\r\n\t\tlet reflected;\r\n\t\tlet lastCommand = '';\r\n\t\tfunction makeReflected() {\r\n\t\t\tif ('CcSsQqTt'.indexOf(lastCommand) < 0) {\r\n\t\t\t\treturn {x: lx, y: ly};\r\n\t\t\t}\r\n\t\t\treturn reflected;\r\n\t\t}\r\n\r\n\t\tthis.M = (px, py) => {\r\n\t\t\tctx.moveTo(px, py);\r\n\t\t\tlMx = px;\r\n\t\t\tlMy = py;\r\n\t\t\tlx = px;\r\n\t\t\tly = py;\r\n\t\t\tlastCommand = 'M';\r\n\t\t\treturn this;\r\n\t\t};\r\n\t\tthis.m = (px, py) => this.M(px + lx, py + ly);\r\n\t\tthis.L = (px, py) => {\r\n\t\t\tctx.lineTo(px, py);\r\n\t\t\tlx = px;\r\n\t\t\tly = py;\r\n\t\t\tlastCommand = 'L';\r\n\t\t\treturn this;\r\n\t\t};\r\n\t\tthis.l = (px, py) => this.L(px + lx, py + ly);\r\n\t\tthis.H = (px) => this.L(px, ly);\r\n\t\tthis.h = (px) => this.H(px + lx);\r\n\t\tthis.V = (py) => this.L(lx, py);\r\n\t\tthis.v = (py) => this.V(py + ly);\r\n\t\tthis.Z = () => {\r\n\t\t\tctx.closePath();\r\n\t\t\tlx = lMx;\r\n\t\t\tly = lMy;\r\n\t\t\tlastCommand = 'Z';\r\n\t\t\treturn this;\r\n\t\t};\r\n\t\tthis.z = () => this.Z();\r\n\t\t//C x1 y1, x2 y2, x y (or c dx1 dy1, dx2 dy2, dx dy)\r\n\t\tthis.C = (cp1x, cp1y, cp2x, cp2y, px, py) => {\r\n\t\t\tctx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, px, py);\r\n\t\t\tlx = px;\r\n\t\t\tly = py;\r\n\t\t\treflected = {\r\n\t\t\t\tx: 2 * px - cp2x,\r\n\t\t\t\ty: 2 * py - cp2y,\r\n\t\t\t};\r\n\t\t\tlastCommand = 'C';\r\n\t\t\treturn this;\r\n\t\t};\r\n\t\tthis.c = (cp1x, cp1y, cp2x, cp2y, px, py) => this.C(\r\n\t\t\t\tcp1x + lx, cp1y + ly,\r\n\t\t\t\tcp2x + lx, cp2y + ly,\r\n\t\t\t\tpx + lx, py + ly\r\n\t\t);\r\n\t\t//S x2 y2, x y (or s dx2 dy2, dx dy)\r\n\t\tthis.S = (cpx, cpy, px, py) => {\r\n\t\t\tconst {x: cp1x, y: cp1y} = makeReflected(lastCommand);\r\n\t\t\treturn this.C(cp1x, cp1y, cpx, cpy, px, py);\r\n\t\t};\r\n\t\tthis.s = (cpx, cpy, px, py) => this.S(cpx + lx, cpy + ly, px + lx, py + ly);\r\n\t\t//Q x1 y1, x y (or q dx1 dy1, dx dy)\r\n\t\tthis.Q = (cpx, cpy, px, py) => {\r\n\t\t\tctx.quadraticCurveTo(cpx, cpy, px, py);\r\n\t\t\tlx = px;\r\n\t\t\tly = py;\r\n\t\t\treflected = {\r\n\t\t\t\tx: 2 * px - cpx,\r\n\t\t\t\ty: 2 * py - cpy,\r\n\t\t\t};\r\n\t\t\tlastCommand = 'Q';\r\n\t\t\treturn this;\r\n\t\t};\r\n\t\tthis.q = (cpx, cpy, px, py) => this.Q(cpx + lx, cpy + ly, px + lx, py + ly);\r\n\t\t//T x y (or t dx dy)\r\n\t\tthis.T = (px, py) => {\r\n\t\t\tconst {x: cpx, y: cpy} = makeReflected();\r\n\t\t\treturn this.Q(cpx, cpy, px, py);\r\n\t\t};\r\n\t\tthis.t = (px, py) => this.T(px + lx, py + ly);\r\n\t\t//A rx ry x-axis-rotation large-arc-flag sweep-flag x y\r\n\t\tthis.A = (rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py) => {\r\n\t\t\tconst x1 = lx;\r\n\t\t\tconst y1 = ly;\r\n\r\n\t\t\tellipseFromEllipticalArc(ctx, x1, y1, rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py);\r\n\r\n\t\t\tlx = px;\r\n\t\t\tly = py;\r\n\t\t\tlastCommand = 'A';\r\n\t\t\treturn this;\r\n\t\t};\r\n\t\t//a rx ry x-axis-rotation large-arc-flag sweep-flag dx dy\r\n\t\tthis.a = (rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py) => this.A(\r\n\t\t\t\trx, ry, xAxisRotation, largeArcFlag, sweepFlag, px + lx, py + ly);\r\n\t\t\r\n\t}\r\n}\r\n\r\nmodule.exports = PathCommands;","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M8 24l2.83 2.83L22 15.66V40h4V15.66l11.17 11.17L40 24 24 8 8 24z\"/></svg>\n\t@ material-design-icons\\navigation\\svg\\production\\ic_arrow_upward_48px.svg\n\t*/\n\td: 'M8 24l2.83 2.83L22 15.66V40h4V15.66l11.17 11.17L40 24 24 8 8 24z',\n\twidth: 48,\n\theight: 48,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path fill=\"#010101\" d=\"M40 24l-2.82-2.82L26 32.34V8h-4v24.34L10.84 21.16 8 24l16 16 16-16z\"/></svg>\n\t@ material-design-icons\\navigation\\svg\\production\\ic_arrow_downward_48px.svg\n\t*/\n\td: 'M40 24l-2.82-2.82L26 32.34V8h-4v24.34L10.84 21.16 8 24l16 16 16-16z',\n\twidth: 48,\n\theight: 48,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z\"/></svg>\n\t@ material-design-icons\\image\\svg\\production\\ic_edit_48px.svg\n\t*/\n\td: 'M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z',\n\twidth: 48,\n\theight: 48,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z\"/></svg>\n\t@ material-design-icons\\content\\svg\\production\\ic_add_48px.svg\n\t*/\n\td: 'M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z',\n\twidth: 48,\n\theight: 48,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z\"/></svg>\n\t@ material-design-icons\\toggle\\svg\\production\\ic_star_24px.svg\n\t*/\n\td: 'M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z',\n\twidth: 24,\n\theight: 24,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\"/></svg>\n\t@ material-design-icons\\toggle\\svg\\production\\ic_star_border_24px.svg\n\t*/\n\td: 'M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z',\n\twidth: 24,\n\theight: 24,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\"/></svg>\n\t@ material-design-icons\\toggle\\svg\\production\\ic_star_half_24px.svg\n\t*/\n\td: 'M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z',\n\twidth: 24,\n\theight: 24,\n\t\n};","'use strict';\r\n{\r\n\tconst Header = require('./type/Header');\r\n\tconst SortHeader = require('./type/SortHeader');\r\n\r\n\tconst type = {\r\n\t\tcreate(headerCell) {\r\n\t\t\tif (headerCell.sort) {\r\n\t\t\t\treturn new SortHeader(headerCell);\r\n\t\t\t}\r\n\t\t\treturn new Header(headerCell);\r\n\t\t}\r\n\t};\r\n\tmodule.exports = type;\r\n}","'use strict';\r\n{\r\n\tconst styleContents = require('../style');\r\n\tconst {Style} = styleContents;\r\n\tconst BaseHeader = require('./BaseHeader');\r\n\r\n\tclass Header extends BaseHeader {\r\n\t\tget StyleClass() {\r\n\t\t\treturn Style;\r\n\t\t}\r\n\t\tdrawInternal(value, context, style, helper, grid, {drawCellBase}) {\r\n\t\t\tconst {\r\n\t\t\t\ttextAlign,\r\n\t\t\t\ttextBaseline,\r\n\t\t\t\tcolor,\r\n\t\t\t\tfont,\r\n\t\t\t\tbgColor,\r\n\t\t\t} = style;\r\n\t\t\t\r\n\t\t\tif (bgColor) {\r\n\t\t\t\tdrawCellBase({\r\n\t\t\t\t\tbgColor,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\thelper.text(value, context, {\r\n\t\t\t\ttextAlign,\r\n\t\t\t\ttextBaseline,\r\n\t\t\t\tcolor,\r\n\t\t\t\tfont,\r\n\t\t\t});\r\n\t\t}\r\n\t\tbindGridEvent(grid) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t}\r\n\tmodule.exports = Header;\r\n}","'use strict';\r\n{\r\n\tconst BaseStyle = require('./BaseStyle');\r\n\tlet defaultStyle;\r\n\tclass Style extends BaseStyle {\r\n\t\tstatic get DEFAULT() {\r\n\t\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new Style());\r\n\t\t}\r\n\t\tconstructor(style = {}) {\r\n\t\t\tsuper(style);\r\n\t\t\tthis._color = style.color;\r\n\t\t}\r\n\t\tget color() {\r\n\t\t\treturn this._color;\r\n\t\t}\r\n\t\tset color(color) {\r\n\t\t\tthis._color = color;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new Style(this);\r\n\t\t}\r\n\t}\r\n\tmodule.exports = Style;\r\n}","'use strict';\r\n{\r\n\tconst styleContents = require('../style');\r\n\tconst {Style} = styleContents;\r\n\tconst BaseHeader = require('./BaseHeader');\r\n\tconst {isDef} = require('../../internal/utils');\r\n\tconst {EVENT_TYPE: {\r\n\t\tCLICK_CELL,\r\n\t\tMOUSEOVER_CELL,\r\n\t\tMOUSEOUT_CELL,\r\n\t\tMOUSEMOVE_CELL,\r\n\t}} = require('../../core/DrawGrid');\r\n\r\n\tclass SortHeader extends BaseHeader {\r\n\t\tconstructor(headerCell) {\r\n\t\t\tsuper(headerCell);\r\n\t\t\tthis._sort = headerCell.sort;\r\n\t\t\tthis._range = headerCell.range;\r\n\t\t}\r\n\t\tget StyleClass() {\r\n\t\t\treturn Style;\r\n\t\t}\r\n\t\tdrawInternal(value, context, style, helper, grid, {drawCellBase}) {\r\n\t\t\tconst {\r\n\t\t\t\ttextAlign,\r\n\t\t\t\ttextBaseline = 'middle',\r\n\t\t\t\tcolor,\r\n\t\t\t\tbgColor,\r\n\t\t\t\tfont,\r\n\t\t\t} = style;\r\n\t\t\t\r\n\t\t\tif (bgColor) {\r\n\t\t\t\tdrawCellBase({\r\n\t\t\t\t\tbgColor,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tconst state = grid.sortState;\r\n\t\t\tlet order = undefined;\r\n\t\t\tif (this._range.isCellInRange(state.col, this._range.startRow)) {\r\n\t\t\t\torder = state.order;\r\n\t\t\t}\r\n\r\n\t\t\tconst ctx = context.getContext();\r\n\t\t\tconst arrowSize = ctx.measureText('').width * 1.2;\r\n\r\n\t\t\thelper.text(value, context, {\r\n\t\t\t\ttextAlign,\r\n\t\t\t\ttextBaseline,\r\n\t\t\t\tcolor,\r\n\t\t\t\tfont,\r\n\t\t\t\ticons: [{\r\n\t\t\t\t\tname: isDef(order) ? (order === 'asc' ? 'arrow_downward' : 'arrow_upward') : null,\r\n\t\t\t\t\twidth: arrowSize,\r\n\t\t\t\t\tcolor: 'rgba(0, 0, 0, 0.38)',\r\n\t\t\t\t}],\r\n\t\t\t});\r\n\t\t}\r\n\t\t_executeSort(newState, grid) {\r\n\t\t\tif (typeof this._sort === 'function') {\r\n\t\t\t\tthis._sort(newState.order, newState.col, grid);\r\n\t\t\t} else {\r\n\t\t\t\tgrid.dataSource.sort(grid.getField(newState.col), newState.order);\r\n\t\t\t}\r\n\t\t}\r\n\t\tbindGridEvent(grid) {\r\n\t\t\treturn [\r\n\t\t\t\tgrid.listen(CLICK_CELL, (e) => {\r\n\t\t\t\t\tif (!this._range.isCellInRange(e.col, e.row)) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst state = grid.sortState;\r\n\t\t\t\t\tlet newState;\r\n\t\t\t\t\tif (this._range.isCellInRange(state.col, e.row)) {\r\n\t\t\t\t\t\tnewState = {\r\n\t\t\t\t\t\t\tcol: this._range.startCol,\r\n\t\t\t\t\t\t\torder: state.order === 'asc' ? 'desc' : 'asc'\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnewState = {\r\n\t\t\t\t\t\t\tcol: this._range.startCol,\r\n\t\t\t\t\t\t\torder: 'asc'\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t\tgrid.sortState = newState;\r\n\t\t\t\t\tthis._executeSort(newState, grid);\r\n\t\t\t\t\tgrid.invalidateGridRect(0, 0, grid.colCount - 1, grid.rowCount - 1);\r\n\t\t\t\t}),\r\n\t\t\t\t// mouse move\r\n\t\t\t\tgrid.listen(MOUSEOVER_CELL, (e) => {\r\n\t\t\t\t\tif (!this._range.isCellInRange(e.col, e.row)) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tgrid.getElement().style.cursor = 'pointer';\r\n\t\t\t\t}),\r\n\t\t\t\t//MOUSEENTER'col-resize'move\r\n\t\t\t\tgrid.listen(MOUSEMOVE_CELL, (e) => {\r\n\t\t\t\t\tif (!this._range.isCellInRange(e.col, e.row)) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!grid.getElement().style.cursor) {\r\n\t\t\t\t\t\tgrid.getElement().style.cursor = 'pointer';\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t\tgrid.listen(MOUSEOUT_CELL, (e) => {\r\n\t\t\t\t\tif (!this._range.isCellInRange(e.col, e.row)) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tgrid.getElement().style.cursor = '';\r\n\t\t\t\t}),\r\n\t\t\t];\r\n\t\t}\r\n\t}\r\n\tmodule.exports = SortHeader;\r\n}","'use strict';\r\n\r\nconst themePlugins = require('./plugins/themes');\r\nconst iconPlugins = require('./plugins/icons');\r\n\r\nfunction register(obj, name, value) {\r\n\tif (value) {\r\n\t\tconst old = obj[name];\r\n\t\tobj[name] = value;\r\n\t\treturn old;\r\n\t} else {\r\n\t\treturn obj[name];\r\n\t}\r\n}\r\nfunction registers(obj, values) {\r\n\tfor (const k in values) {\r\n\t\tobj[k] = values[k];\r\n\t}\r\n}\r\nmodule.exports = {\r\n\ttheme(name, theme) {\r\n\t\treturn register(themePlugins, name, theme);\r\n\t},\r\n\ticon(name, icon) {\r\n\t\treturn register(iconPlugins, name, icon);\r\n\t},\r\n\ticons(icons) {\r\n\t\tregisters(iconPlugins, icons);\r\n\t},\r\n};"],"sourceRoot":""}