{"version":3,"sources":["cheetahGrid.es5.min/cheetahGrid.es5.min.js","cheetahGrid.es5.min/webpack/universalModuleDefinition","cheetahGrid.es5.min/webpack/bootstrap","cheetahGrid.es5.min/./internal/utils.js","cheetahGrid.es5.min/./internal/symbolManager.js","cheetahGrid.es5.min/./internal/com.js","cheetahGrid.es5.min/./columns/style/Style.js","cheetahGrid.es5.min/./core/DrawGrid.js","cheetahGrid.es5.min/./internal/EventHandler.js","cheetahGrid.es5.min/node_modules/css-loader/lib/css-base.js","cheetahGrid.es5.min/node_modules/style-loader/lib/addStyles.js","cheetahGrid.es5.min/./internal/Rect.js","cheetahGrid.es5.min/./internal/canvases.js","cheetahGrid.es5.min/./columns/type/Column.js","cheetahGrid.es5.min/./columns/type/BaseColumn.js","cheetahGrid.es5.min/./element/Inline.js","cheetahGrid.es5.min/./core/EventTarget.js","cheetahGrid.es5.min/./columns/action/Editor.js","cheetahGrid.es5.min/./internal/dom.js","cheetahGrid.es5.min/./header/style.js","cheetahGrid.es5.min/./internal/calc.js","cheetahGrid.es5.min/./columns/action/BaseAction.js","cheetahGrid.es5.min/./columns/style/StdBaseStyle.js","cheetahGrid.es5.min/./columns/style/BaseStyle.js","cheetahGrid.es5.min/./columns/type/columnUtils.js","cheetahGrid.es5.min/./internal/icons.js","cheetahGrid.es5.min/./themes.js","cheetahGrid.es5.min/./internal/path2DManager.js","cheetahGrid.es5.min/./columns/type/MultilineTextColumn.js","cheetahGrid.es5.min/./columns/style/MultilineTextStyle.js","cheetahGrid.es5.min/./internal/style.js","cheetahGrid.es5.min/./tools/canvashelper.js","cheetahGrid.es5.min/./columns.js","cheetahGrid.es5.min/./columns/action/Action.js","cheetahGrid.es5.min/./columns/action/actionBind.js","cheetahGrid.es5.min/./internal/animate.js","cheetahGrid.es5.min/./columns/action/BaseInputEditor.js","cheetahGrid.es5.min/./internal/menu-items.js","cheetahGrid.es5.min/./columns/style.js","cheetahGrid.es5.min/./columns/style/NumberStyle.js","cheetahGrid.es5.min/./columns/style/CheckStyle.js","cheetahGrid.es5.min/./columns/style/ButtonStyle.js","cheetahGrid.es5.min/./columns/style/ImageStyle.js","cheetahGrid.es5.min/./columns/style/IconStyle.js","cheetahGrid.es5.min/./columns/style/PercentCompleteBarStyle.js","cheetahGrid.es5.min/./internal/imgs.js","cheetahGrid.es5.min/./themes/MATERIAL_DESIGN.js","cheetahGrid.es5.min/./plugins/themes.js","cheetahGrid.es5.min/./data.js","cheetahGrid.es5.min/./data/DataSource.js","cheetahGrid.es5.min/./internal/sort.js","cheetahGrid.es5.min/./GridCanvasHelper.js","cheetahGrid.es5.min/./internal/fonts.js","cheetahGrid.es5.min/./element/InlineImage.js","cheetahGrid.es5.min/./icons.js","cheetahGrid.es5.min/./plugins/icons.js","cheetahGrid.es5.min/./internal/color.js","cheetahGrid.es5.min/./header/style/BaseStyle.js","cheetahGrid.es5.min/./header/type/BaseHeader.js","cheetahGrid.es5.min/./list-grid/EVENT_TYPE.js","cheetahGrid.es5.min/./main.js","cheetahGrid.es5.min/./core.js","cheetahGrid.es5.min/./internal/Scrollable.js","cheetahGrid.es5.min/./internal/style.css*","cheetahGrid.es5.min/./internal/style.css","cheetahGrid.es5.min/node_modules/style-loader/lib/urls.js","cheetahGrid.es5.min/./internal/NumberMap.js","cheetahGrid.es5.min/./internal/hiDPI.js","cheetahGrid.es5.min/./tools.js","cheetahGrid.es5.min/./columns/action.js","cheetahGrid.es5.min/./columns/action/CheckEditor.js","cheetahGrid.es5.min/./columns/action/ButtonAction.js","cheetahGrid.es5.min/./columns/action/SmallDialogInputEditor.js","cheetahGrid.es5.min/./columns/action/internal/SmallDialogInputElement.js","cheetahGrid.es5.min/./columns/action/internal/SmallDialogInputElement.css*","cheetahGrid.es5.min/./columns/action/internal/SmallDialogInputElement.css","cheetahGrid.es5.min/./columns/action/InlineInputEditor.js","cheetahGrid.es5.min/./columns/action/internal/InlineInputElement.js","cheetahGrid.es5.min/./columns/action/internal/InlineInputElement.css*","cheetahGrid.es5.min/./columns/action/internal/InlineInputElement.css","cheetahGrid.es5.min/./columns/action/InlineMenuEditor.js","cheetahGrid.es5.min/./columns/action/internal/InlineMenuElement.js","cheetahGrid.es5.min/./columns/action/internal/InlineMenuElement.css*","cheetahGrid.es5.min/./columns/action/internal/InlineMenuElement.css","cheetahGrid.es5.min/./columns/type.js","cheetahGrid.es5.min/./columns/type/NumberColumn.js","cheetahGrid.es5.min/./columns/type/CheckColumn.js","cheetahGrid.es5.min/./columns/type/ButtonColumn.js","cheetahGrid.es5.min/./columns/type/ImageColumn.js","cheetahGrid.es5.min/./internal/LRUCache.js","cheetahGrid.es5.min/./columns/type/PercentCompleteBarColumn.js","cheetahGrid.es5.min/./columns/type/IconColumn.js","cheetahGrid.es5.min/./columns/type/BranchGraphColumn.js","cheetahGrid.es5.min/./columns/style/BranchGraphStyle.js","cheetahGrid.es5.min/./columns/type/MenuColumn.js","cheetahGrid.es5.min/./themes/theme.js","cheetahGrid.es5.min/./themes/BASIC.js","cheetahGrid.es5.min/./data/CachedDataSource.js","cheetahGrid.es5.min/./ListGrid.js","cheetahGrid.es5.min/./element/inlines.js","cheetahGrid.es5.min/./element/InlineIcon.js","cheetahGrid.es5.min/./internal/legacy/fontwatch/FontWatchRunner.js","cheetahGrid.es5.min/./internal/legacy/fontwatch/FontRuler.js","cheetahGrid.es5.min/./element/InlineSvg.js","cheetahGrid.es5.min/./element/InlineDrawer.js","cheetahGrid.es5.min/./element/InlinePath2D.js","cheetahGrid.es5.min/./internal/legacy/canvas/Path2D.js","cheetahGrid.es5.min/./internal/legacy/canvas/PathCommandsParser.js","cheetahGrid.es5.min/./internal/legacy/canvas/PathCommands.js","cheetahGrid.es5.min/node_modules/material-design-icons/navigation/svg/production/ic_arrow_upward_48px.svg","cheetahGrid.es5.min/node_modules/material-design-icons/navigation/svg/production/ic_arrow_downward_48px.svg","cheetahGrid.es5.min/node_modules/material-design-icons/image/svg/production/ic_edit_48px.svg","cheetahGrid.es5.min/node_modules/material-design-icons/content/svg/production/ic_add_48px.svg","cheetahGrid.es5.min/node_modules/material-design-icons/toggle/svg/production/ic_star_24px.svg","cheetahGrid.es5.min/node_modules/material-design-icons/toggle/svg/production/ic_star_border_24px.svg","cheetahGrid.es5.min/node_modules/material-design-icons/toggle/svg/production/ic_star_half_24px.svg","cheetahGrid.es5.min/./header/type.js","cheetahGrid.es5.min/./header/type/Header.js","cheetahGrid.es5.min/./header/style/Style.js","cheetahGrid.es5.min/./header/type/SortHeader.js","cheetahGrid.es5.min/./columns/message/MessageHandler.js","cheetahGrid.es5.min/./columns/message/ErrorMessage.js","cheetahGrid.es5.min/./columns/message/internal/ErrorMessageElement.js","cheetahGrid.es5.min/./columns/message/internal/MessageElement.css*","cheetahGrid.es5.min/./columns/message/internal/MessageElement.css","cheetahGrid.es5.min/./columns/message/internal/ErrorMessageElement.css*","cheetahGrid.es5.min/./columns/message/internal/ErrorMessageElement.css","cheetahGrid.es5.min/./columns/message/WarningMessage.js","cheetahGrid.es5.min/./columns/message/internal/WarningMessageElement.js","cheetahGrid.es5.min/./columns/message/internal/WarningMessageElement.css*","cheetahGrid.es5.min/./columns/message/internal/WarningMessageElement.css","cheetahGrid.es5.min/./columns/message/InfoMessage.js","cheetahGrid.es5.min/./register.js","cheetahGrid.es5.min/./columns/message/BaseMessage.js","cheetahGrid.es5.min/./columns/message/internal/MessageElement.js"],"names":["root","factory","window","modules","installedModules","__webpack_require__","moduleId","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","getDefault","getModuleExports","isDef","data","applyChainSafe","obj","fn","_len2","arguments","length","names","Array","_key2","arrayFind","arrayFindIndex","array","find","arr","predicate","index","findIndex","undefined","ua","navigator","userAgent","toLowerCase","IE","match","Chrome","indexOf","Firefox","isPromise","then","browser","heightLimit","extend","result","_len","args","_key","forEach","source","_loop","key","set","val","isDescendantElement","target","parentElement","getChainSafe","_len3","_key3","getOrApply","_len4","_key4","getIgnoreCase","u","k","callback","setReadonly","each","isObject","str","endsWith","searchString","position","subjectString","toString","isFinite","Math","floor","lastIndex","lastIndexOf","event","getMouseButtons","e","buttons","which","button","getKeyCode","keyCode","isTouchEvent","changedTouches","cancel","preventDefault","stopPropagation","style","toBoxArray","__webpack_provided_Array_dot_isArray","emptyFn","this","nextId","Symbol","id","mem","PROTECTED_SYMBOL","CHECK_COLUMN_STATE_ID","BUTTON_COLUMN_STATE_ID","COLUMN_FADEIN_STATE_ID","BRANCH_GRAPH_COLUMN_STATE_ID","SMALL_DIALOG_INPUT_EDITOR_STATE_ID","INLINE_INPUT_EDITOR_STATE_ID","INLINE_MENU_EDITOR_STATE_ID","Array_isArray","isArray","StdBaseStyle","defaultStyle","Style","_StdBaseStyle","constructor","_classCallCheck","_this","_possibleConstructorReturn","__proto__","getPrototypeOf","_color","color","_font","font","_padding","padding","_inherits","_createClass","doChangeStyle","createRootElement","element","document","createElement","classList","add","_vibrate","vibrate","_getTargetRowAt","grid","absoluteY","internal","getTargetRowAtInternal","candRow","min","ceil","_","defaultRowHeight","rowCount","bottom","_getRowsHeight","startRow","startBottom","top","_getRowHeight","row","findAfter","findBefore","_getTargetColAt","absoluteX","left","colCount","col","right","_getColWidth","_getTargetFrozenRowAt","frozenRowCount","scroll","_getTargetFrozenColAt","frozenColCount","_getFrozenRowsRect","height","Rect","canvas","width","_getFrozenColsRect","_drawCell","ctx","absoluteLeft","absoluteTop","visibleRect","skipAbsoluteTop","skipAbsoluteLeft","drawLayers","rect","drawRect","bounds","max","save","dcContext","DrawCellContext","drawCells","_isCellDrawing","selection","onDrawCell","context","_putCellDrawing","pCol","_delayMode","keys","_removeCellDrawing","terminate","restore","_drawRow","initFrozenCol","initCol","drawRight","drawOuter","outerLeft","beginPath","fillStyle","underlayBackgroundColor","fill","count","_invalidateRect","_getVisibleRect","_getInitContext","initRow","_getColsWidth","drawBottom","initFrozenRow","DrawLayers","outerTop","draw","_toPxWidth","round","calc","toPx","calcWidthContext","_getDefaultColPxWidth","defaultColWidth","_adjustColWidth","orgWidth","limit","colWidthsLimit","colWidthsMap","_setColWidth","put","startCol","endCol","w","getRowHeightInternal","rowHeightsMap","endRow","getRowsHeightInternal","h","_moveFocusCell","shiftKey","offset","getOffsetInvalidateCells","extendRange","range","start","end","beforeRange","beforeRect","getCellsRect","_setFocusCell","makeVisibleCell","focusCell","afterRange","afterRect","intersection","invalidateRect","_getMouseAbstractPoint","clientX","pageX","scrollX","clientY","pageY","scrollY","getBoundingClientRect","x","y","_bindEvents","getCellEventArgsSet","abstractPos","cell","getCellAt","eventArgs","canResizeColumn","handler","on","eventArgsSet","results","fireListeners","EVENT_TYPE","MOUSEDOWN_CELL","v","resizeCol","_getResizeColAt","columnResizer","cellSelector","doubleTapBefore","longTouchId","clearTimeout","DBLTAP_CELL","defaultPrevented","setTimeout","select","isMouseover","mouseEnterCell","mouseOverCell","onMouseenterCell","MOUSEENTER_CELL","onMouseleaveCell","beforeMouseCell","MOUSELEAVE_CELL","onMouseoverCell","MOUSEOVER_CELL","onMouseoutCell","MOUSEOUT_CELL","scrollElement","scrollable","getElement","MOUSEMOVE_CELL","moving","cursor","lastMoving","hasListeners","CLICK_CELL","DBLCLICK_CELL","focusControl","listen","KEYDOWN","SELECTED_CELL","selected","onScroll","lastLeft","lastTop","moveX","scrollLeft","moveY","scrollTop","abs","drawImage","redrawRect","copy","frozenRect","_onScroll","SCROLL","onKeyDownMove","_focus","_sel","KEY_LEFT","getMoveLeftColByKeyDownInternal","cancelEvent","KEY_UP","getMoveUpRowByKeyDownInternal","KEY_RIGHT","getMoveRightColByKeyDownInternal","KEY_DOWN","getMoveDownRowByKeyDownInternal","KEY_HOME","ctrlKey","KEY_END","_onKeyDownMove","copyValue","copyCellValue","getCopyCellValue","Promise","strCellValue","onCopy","onInput","_grid$_$selection$sel","INPUT_CELL","bindEventsInternal","abstractX","abstractY","inPoint","cellRect","getCellRect","_toRelativeRect","absoluteRect","offsetLeft","offsetTop","setSafeInputValue","input","type","_webpack_require__","_webpack_require__$ev","EventTarget","Scrollable","EventHandler","NumberMap","hiDPI","KEY_ALPHA_C","MOUSEUP_CELL","EDITABLEINPUT_CELL","MODIFY_STATUS_EDITABLEINPUT_CELL","RESIZE_COLUMN","BaseMouseDownMover","_grid","_handler","_events","_started","_moved","last","_mouseEndPoint","pt","_this2","touchmove","body","_mouseMove","passive","touchend","_mouseUp","touchcancel","mousemove","mouseup","_moveInternal","_this3","off","_upInternal","dispose","CellSelector","_BaseMouseDownMover","apply","_getTargetCell","_bindMoveAndUp","_cell","_this5","makeVisibleCol","makeVisibleRow","ColumnResizer","_BaseMouseDownMover2","_this6","_targetCol","_x","_preX","_invalidateAbsoluteLeft","pre","getColWidth","afterSize","updateScroll","FocusControl","_EventTarget","_this7","_scrollable","_input","readOnly","appendChild","_isComposition","focus","remove","metaKey","inputClear","clipboardData","setData","_this8","calcTop","getScrollBarSize","toFixed","el","composition","contains","atts","attributes","removeNames","att","_inputStatus","nodeName","push","removeName","removeAttribute","setAttribute","_get","editMode","Selection","_EventTarget2","_this9","_start","_end","_this10","_wrapFireSelectedEvent","keepSelect","_this11","_setSelectCell","_isWraped","before","after","inCell","_this12","_cell$col","_cell$row","_layers","level","DrawLayer","addDraw","list","sort","a","b","_level","_list","drawing","_col","_row","_mode","_ctx","_rect","_drawRect","_drawing","_selection","_drawLayers","sel","getCellRelativeRect","_toRelativeDrawRect","getContext","toCurrentContext","bind","isFrozenCell","fRect","onTerminate","_onTerminate","DrawGrid","_EventTarget3","_ref","_ref$rowCount","_ref$colCount","_ref$frozenColCount","_ref$frozenRowCount","_ref$defaultRowHeight","_ref$defaultColWidth","_this13","initDocument","transform","alpha","full","em","measureText","updateSize","_$selection$select","cfg","config","offsetWidth","offsetHeight","setFocusRect","setScrollSize","eachAll","getScrollHeightInternal","_getScrollHeight","_setRowHeight","maxwidth","minwidth","isFrozenStartCell","isFrozenEndCell","isFrozenRow","isFrozenCol","frozen","getRowAt","getColAt","frozenColsWidth","frozenRowsHeight","_getScrollableVisibleRect","resetInputStatus","_$selection$select2","selCol","selRow","storeInputStatus","setDefaultInputStatus","invalidateGridRect","cellsRect","invalidateTarget","disposable","Error","disposables","removeChild","_ref2","_ref3","_ref4","_ref5","strokeStyle","textAlign","textBaseline","lineWidth","_listeners","listener","_len5","options","_key5","addEventListener","_obj$target","removeEventListener","_obj$target2","_obj$target3","_len6","_key6","_obj$listener","_obj$target4","clear","useSourceMap","map","item","content","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","JSON","stringify","sourceURLs","sources","sourceRoot","concat","join","cssWithMappingToString","mediaQuery","alreadyImportedModules","memo","stylesInDom","isOldIE","all","atob","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","domStyle","refs","j","parts","addStyle","listToStyles","newStyles","base","part","css","media","insertStyleElement","insertInto","lastStyleElementInsertedAtTop","insertAt","nextSibling","insertBefore","firstChild","_typeof","removeStyleElement","parentNode","idx","splice","createStyleElement","attrs","addAttrs","update","styleIndex","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","link","rel","createLinkElement","autoFixUrls","convertToAbsoluteUrls","blob","oldSrc","href","styleSheet","cssText","createTextNode","newObj","DEBUG","newList","mayRemove","textStore","replaceText","replacement","filter","Boolean","cssNode","childNodes","_left","_top","_width","_height","_right","_bottom","x0","x1","y0","y1","another","rect1","rect2","calcStartPosition","_ref7","_ref7$offset","_ref7$padding","_ref7$padding$left","paddingLeft","_ref7$padding$right","paddingRight","_ref7$padding$top","paddingTop","_ref7$padding$bottom","paddingBottom","calcBasePosition","_ref6","_ref6$offset","_ref6$padding","_ref6$padding$left","_ref6$padding$right","_ref6$padding$top","_ref6$padding$bottom","BaseColumn","utils","Column","_BaseColumn","helper","_ref8","drawCellBase","getIcon","bgColor","testFontLoad","loadIcons","icons","text","getFadinState","_generateFadinPointAction","drawInternal","point","state","stateKey","opacity","cellState","globalAlpha","styleContents","_webpack_require__4","animate","BaseStyle","fadinMgr","activeFadeins","f","margeAnimate","option","_fadeinWhenCallbackInPromise","fadeinWhenCallbackInPromise","cellValue","info","_this15","getRecord","getGridCanvasHelper","Date","now","getDrawRect","time","currentContext","actStyle","of","StyleClass","convertInternal","drawMessageInternal","getMessage","column","configure","isFadeinWhenCallbackInPromise","message","messageHandler","drawCellMessage","util","Inline","_content","_ref9","_ref10","canvashelper","offsetRight","offsetBottom","fillTextRect","applyToTag","_webpack_require__7","listeners","listenerData","_this16","_this17","unlisten","_this18","_len7","_key7","BaseAction","Editor","_BaseAction","_this19","_readOnly","onChangeReadOnlyInternal","tagName","_element$classList","_ref11","html","textContent","innerHTML","isNode","arg","nodeType","toNode","dom","slice","toNodeList","jQuery","isFocusable","tabIndex","empty","appendHtml","inner","node","disableFocus","dataset","disableBeforeTabIndex","children","enableFocus","findPrevSiblingFocusable","previousSibling","findNextSiblingFocusable","columnStyle","DEFAULT","parse","calcStr","replacer","num","unit","script","replace","eval","_eval","test","substr","trim","_disabled","disabled","onChangeDisabledInternal","_BaseStyle","_this20","_textAlign","_textBaseline","CHANGE_STYLE","_EventTarget4","_this21","_bgColor","icon","_this22","loadIcon","iconList","toNormarizeArray","ICON_PROP_KEYS","doms","props","getIconProps","className","tagProps","beforeStyle","defaultView","getComputedStyle","getPropertyValue","quoted","split","quote","clientWidth","isLiga","toSimpleArray","iconProps","workData","prop","toPropArray","_loop2","normarize","iconPropKeys","_webpack_require__11","theme","plugins","builtin","BASIC","create","MATERIAL_DESIGN","defTheme","themes","default","defaultTheme","t","choices","getPath2D","Path2D","upsideDown","ud","_module$x","offsetX","_module$y","offsetY","xrate","yrate","translate","scale","path2d","MultilineTextStyle","MultilineTextColumn","_BaseColumn2","_ref13","lineHeight","multilines","multilineText","adj","_style$textBaseline","_Style","_this24","_lineHeight","SCROLLBAR_SIZE","dummy","parseInt","getScrollBarWidth","roundRect","radius","arc","PI","closePath","fillRoundRect","strokeRoundRect","stroke","measureCheckbox","_webpack_require__12","drawCheckbox","check","_ref16","_ref16$uncheckBgColor","uncheckBgColor","_ref16$checkBgColor","checkBgColor","_ref16$borderColor","borderColor","_ref16$boxSize","boxSize","checkPoint","leftWidth","rightWidth","leftLeftPos","leftTopPos","moveTo","lineTo","_ref14","_ref14$offset","clip","pos","fillText","drawButton","_option$backgroundCol","backgroundColor","_option$bgColor","_option$radius","_option$shadow","shadow","_shadow$color","_shadow$blur","blur","_shadow$offsetX","_shadow$offsetY","_shadow$offset","_shadow$offset$x","ox","_shadow$offset$y","oy","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","drawInlineImageRect","image","srcLeft","srcTop","srcWidth","srcHeight","destWidth","destHeight","_ref15","_ref15$offset","strokeColorsRect","borderColors","strokeRect","positions","preColor","pos1","pos2","strokeRectLines","action","_webpack_require__13","bindCellClickAction","bindCellKeyAction","Action","_BaseAction2","_this25","_action","_this26","getState","record","getRowRecord","_toConsumableArray","mouseOver","mouseActiveCell","invalidateCell","mouseOut","_webpack_require__14","_webpack_require__15$","KEY_ENTER","_ref17","isTarget","_ref18","_ref18$acceptKeys","acceptKeys","cubicBezier","x2","y2","x3","y3","step","EASINGS","linear","easeIn","easeOut","easeInOut","raf","requestAnimationFrame","duration","easing","startedAt","canceledFlg","createAnim","resolve","reject","anim","_webpack_require__16$","BaseInputEditor","_Editor","inputValue","_this28","open","onOpenCellInternal","onInputCellInternal","onChangeSelectCellInternal","onGridScrollInternal","onSetInputAttrsInternal","normalize","caption","NumberStyle","CheckStyle","ButtonStyle","ImageStyle","IconStyle","PercentCompleteBarStyle","_style$textAlign","_Style2","_style$textAlign2","_StdBaseStyle2","_this30","_uncheckBgColor","_checkBgColor","_borderColor","_style$textAlign3","_Style3","_this31","buttonBgColor","_buttonBgColor","_style$textAlign4","_StdBaseStyle3","_this32","_imageSizing","imageSizing","_margin","margin","_style$textAlign5","_Style4","DEFAULT_BAR_COLOR","_Style5","_this34","_barColor","barColor","_barBgColor","barBgColor","_barHeight","barHeight","LRUCache","allCache","loadImage","src","console","error","img","Image","onload","onerror","url","warn","search","isDataUrl","getCacheOrLoad","cacheName","cacheSize","cache","getCacheOrLoad0","defaultBgColor","frozenRowsBgColor","frozenRowsColor","hiliteBorderColor","selectionBgColor","frozenRowsBorderColor","checkbox","DataSource","CachedDataSource","getValue","setPromiseBack","_getIndex","dataSource","_sortedIndexMap","mapIndex","_webpack_require__18","UPDATE_LENGTH","UPDATED_LENGTH","UPDATED_ORDER","_EventTarget5","_ref19","_ref19$length","_this35","_length","getOriginal","field","getOriginalField","hasOriginalField","setOriginalField","order","_this36","sortedIndexMap","orderFn","v1","v2","sortPromise","_this37","recordPromiseCallBackInternal","_this38","getField","ss","fieldPromiseCallBackInternal","setField","EMPTY","wait","setArrayField","plist","_loop4","compare","old","createArray","r1","r2","sortArray","_loop3","createArrayPromise","dummyPromise","catch","getColor","getThemeColor","_len8","_key8","drawInlines","inlines","drawInline","inline","canDraw","onReady","inlineWidths","reduce","inlineWidth","_inlineRect","_ref20","actInlines","buildInlines","colorToRGB","_webpack_require__22","fonts","Theme","_len9","_key9","_checkbox","_button","GridCanvasHelper","_theme","calcWidth","getRect","calcHeight","calculator","createCalculator","box","clipLeft","clipWidth","clipTop","clipHeight","_this39","_ref23","_ref23$offset","_ref23$textAlign","_ref23$textBaseline","drawWithClip","toBoxPixelArray","_this40","_ref24","_ref24$offset","_ref24$textAlign","_ref24$textBaseline","_ref24$lineHeight","multiInlines","_ref21","pad","line","shift","_multiInlineRect","_ref25","_ref25$textAlign","_ref25$textBaseline","_this41","_ref26$fillColor","fillColor","getFillColorState","fillCell","_ref27$fillColor","fillRect","getSelectState","_this42","_ref28","_ref28$borderColor","_ref28$lineWidth","drawBorderWithClip","startOffset","_this43","border","_this44","_ref22","_ref22$animElapsedTim","animElapsedTime","_ref22$uncheckBgColor","_ref22$checkBgColor","_ref22$borderColor","_ref22$textAlign","_ref22$textBaseline","boxWidth","uncheckBgRGB","checkBgRGB","checkRGB","colorName","diff","uncheckRGB","_this45","_ref29","_ref29$bgColor","_ref29$offset","_ref29$color","_ref29$textAlign","_ref29$textBaseline","load","loads","legacy","testStr","ready","InlineImage","_Inline","_ref30","imageLeft","imageTop","imageWidth","imageHeight","_this46","_src","_imageLeft","_imageTop","_imageWidth","_imageHeight","_onloaded","_loaded","_loadImage","_this47","_inlineImg","_ref31","_ref32","builtins","arrow_upward","arrow_downward","edit","star","star_border","star_half","hexToNum","hex","createRGB","g","testRGB","_ref35","rateToByte","colorToRGB0","_ref33","_ref34","g1","g2","b1","b2","ret","rgb","rgbMap","styleColor","styleColorToRGB","_EventTarget6","_ref36","_ref36$textAlign","_ref36$textBaseline","_this48","BaseHeader","headerCell","_headerCell","CHANGED_VALUE","core","tools","columns","ListGrid","register","_internal","symbolManager","path2DManager","_update","domHeight","MAX_SCROLL","sbSize","vScrollRange","rScrollRange","_p","_endPointElement","relativeTop","hmr","locals","location","baseUrl","protocol","host","currentDir","pathname","fullMatch","origUrl","newUrl","unquotedOrigUrl","$1","_keys","_vals","_sorted","_this49","keyFrom","keyTo","ary","elm","low","high","indexFirst","ratio","setRatio","devicePixelRatio","getAttribute","_len10","_key10","wh","_len11","_key11","_len12","_key12","CheckEditor","ButtonAction","SmallDialogInputEditor","InlineInputEditor","InlineMenuEditor","ImmutableCheckEditor","_CheckEditor","ImmutableInputEditor","_SmallDialogInputEdit","ACTIONS","CHECK","INPUT","columnAction","toUpperCase","toggleValue","_webpack_require__28","_webpack_require__29","_Editor2","_this53","blockKey","doChangeValue","onChange","elapsed","selrange","_Action","SmallDialogInputElement","globalElement","bindGridCount","attachInput","editor","addDisposable","attach","detachInput","gridFocus","detach","_BaseInputEditor","_this55","_helperText","helperText","_inputValidator","inputValidator","_validator","validator","_classList","_type","_inputDialogManager","_this56","doGetCellValue","setInputAttrs","_webpack_require__35","_webpack_require__35$","CLASSNAME","INPUT_CLASSNAME","HIDDEN_CLASSNAME","SHOWN_CLASSNAME","tryWithOffEvents","selectionStart","selectionEnd","createTextRange","collapse","moveEnd","moveStart","_dialog","readonly","createDialogElement","_bindDialogEvents","dialog","_beforePropEditor","_dialog$classList2","unbindProps","errorMessage","_grid$getAttachCellAr","getAttachCellArea","activeData","_onInputValue","_dialog$classList","bindProps","_activeData","_isActive","_beforeValue","_this57","_validate","res","_activeData2","_this58","stopPropagationOnly","onKeyupAndPress","_doChangeValue","_onInputValueChange","_activeData3","inputOnly","_activeData4","InlineInputElement","_BaseInputEditor2","_this59","_this60","_webpack_require__39$","_input$classList","_bindInputEvents","_input$classList2","_grid$getAttachCellAr2","_activeData5","_activeData6","_this61","_webpack_require__43$","InlineMenuElement","detachMenu","_Editor3","_this62","_options","_this63","attachMenu","_webpack_require__45","_webpack_require__45$","_webpack_require__46","ITEM_CLASSNAME","EMPTY_ITEM_CLASSNAME","findItemParents","attachElement","menu","openMenu","emptyItemEl","valueItemEl","_ref37","_item$classList","valueindex","span","optionToLi","_menu$classList","focusEl","focusIndex","_grid$getAttachCellAr3","allHeight","menuClientRect","scaleDiff","orgMenuTop","menuTop","menuBottom","winBottom","innerHeight","_menu","_bindMenuEvents","_menu$classList2","_activeData7","closeMenu","_activeData8","_this64","items","querySelectorAll","NumberColumn","CheckColumn","ButtonColumn","ImageColumn","PercentCompleteBarColumn","IconColumn","BranchGraphColumn","MenuColumn","TYPES","NUMBER","BUTTON","IMAGE","MULTILINETEXT","columnType","defaultFotmat","_Column","_this65","_format","format","Intl","NumberFormat","fmt","clone","isNaN","_BaseColumn3","toBoolean","_ref38","opt","_Column2","_this67","_caption","_ref39","active","KEY_SPACE","MAX_LRU_CACHE_SIZE","_BaseColumn4","_ref40","_calcKeepAspectRatioS","maxWidth","maxHeight","newWidth","newHeight","calcKeepAspectRatioSize","_map","_cacheSize","remKey","_webpack_require__51","_Column3","_this69","_min","_max","_formatter","formatter","svalue","rate","barMaxWidth","MARGIN","barTop","barLeft","barSize","_Column4","_this70","_tagName","_className","_name","_iconWidth","iconWidth","Infinity","repeatArray","_webpack_require__52","BranchGraphStyle","BranchLine","fromIndex","_ref41","toIndex","colorIndex","BranchPoint","_ref42","_ref42$commit","commit","_ref42$lines","lines","tag","froms","tos","mergeLines","joinLine","timeline","branchIndex","reverse","calcCommand","command","timelineData","cmd","from","branch","to","_ref43","branches","fromTargetIndex","findBranchRootIndex","branchTargetFromIndex","branchPoint","targetLine","merge","_ref44","_cmd$branch","_ref46","fromTargetLine","pop","commitMerge","_ref45","commitTag","calcBranchesInfo","allData","promise","_loop5","dataIndex","getAllColumnData","_BaseColumn5","_this71","_cache","_ref49","_ref50","_ref51","upLineIndexKey","downLineIndexKey","branchColors","branchLineWidth","circleSize","mergeStyle","branchXPoints","tl","textWidth","calcBranchXPoints","upLineIndex","downLineIndex","pointIndex","_ref47","_ref48","lineCap","upX","upRect","upY","bezierCurveTo","downX","downRect","downY","renderMerge","DEFAULT_BRANCH_COLORS","_BaseStyle2","_this72","_style$textAlign6","_branchColors","_circleSize","_branchLineWidth","_mergeStyle","_BaseColumn6","_this73","_ref52","_convertInternal","basePadding","textPadding","iconPadding","path","getProp","superObj","defNames","createTheme","superTheme","extends","cacheLinearGradient","_grid$getCellRelative","colorStops","stop","stopsKey","grad","createLinearGradient","addColorStop","getLinearGradient","0","1","_DataSource","_this74","_rCache","_fCache","fCache","_ref53","_setFieldCache","_getHeaderCellRange","headerMap","getHeaderCellRange","_getCellValue","getCell","_getField","_getCellMessage","_getCellIcon","_getCellIcon0","retIcon","_hasField","_getRowRecordIndex","hasField","_headerBorderWithState","borderWithState","selId","_refreshHeader","headerEvents","HeaderMap","header","headerObjects","_grid$_$headerEvents","ids","headerType","bindGridEvent","HeaderBaseStyle","invalidate","_grid$_$headerEvents2","_grid$_$headerEvents3","_refreshRowCount","minWidth","setColWidth","setMinColWidth","setMaxColWidth","isArrayHeaderRowHeight","headerRowHeight","setRowHeight","_tryWithUpdateDataSource","dataSourceEventIds","_setRecords","records","ofArray","_setDataSource","adjustListGridOption","_webpack_require__58","_webpack_require__60","MessageHandler","headerId","_columns","_headerCells","_headerObjects","_addHeaders","_setupHeaderType","isCellInRange","roots","_this75","rowCells","_newRow","hd","headerStyle","define","_this76","getHeaderCellRangeById","newRow","prev","_DrawGrid","_this77","sortState","gridCanvasHelper","_getHeaderCellRange3","_getHeaderCellRange2","getRowHeight","setRect","_updateRect","_ref54","drawCellBg","fillOpt","fillCellWithState","drawCellBorder","_onDrawValue","valueCallback","changeValueCallback","_this78","_setCellValue","self","_this79","_getHeaderCellRange4","_ref57","_ref58","_ref59","_ref60","columnIndex","_selection$range","_selection$range$star","_selection$range$end","newCol","getColumnIndexByField","_set","InlineIcon","InlineSvg","InlineDrawer","InlinePath2D","iconOf","svg","regedIcons","regedIcon","_ref62","drawWidth","drawHeight","_ref61","_ref61$offset","drawRegisteredIcon","_this80","il","_Inline2","_this81","_icon","_ref63","_ref64","FontRuler","LastResortFonts","SERIF","SANS_SERIF","watchRunners","FontWatchRunner","activeCallbacks","inactiveCallbacks","status","lastResortWidths_","fontRulerA_","fontRulerB_","lastResortRulerA","lastResortRulerB","getWidth","started_","check_","activeCallback","inactiveCallback","_this82","widthA","widthB","isFallbackFont_","isLastResortFont_","finish_","widthMatches_","lastResortFont","HAS_WEBKIT_FALLBACK_BUG","exec","hasWebKitFallbackBug","widthsMatchLastResortWidths_","callbacks","_this83","cb","display","white-space","font-variant","font-size","font-style","font-weight","line-height","computeStyle","el_","buildSvgDataUrl","XMLSerializer","serializeToString","getSvgElement","DOMParser","parseFromString","_InlineImage","_ref65","svgElem","elmWidth","elmHeight","_Inline3","_ref66","_this85","_draw","_ref67","_ref68","_Inline4","_ref69","_this86","_path","_ref70","_ref71","parser","_this87","_ops","_len13","_key13","op","CanvasRenderingContext2D","originalFill","_this88","_len14","_key14","PathCommands","builder","argsProvider","next","canvasOperations","PathCommandsParser","_this89","_commands","_len15","_key15","_len16","_key16","_this90","ops","tokens","pathTokens","subsequentCommand","fst","log","mag","sqrt","pow","angle","sign","acos","dot","ellipseFromEllipticalArc","rx","ry","phi","fA","fS","xPrime","cost","cos","sint","sin","rotClockwise","xPrime2","pointMul","rx2","ry2","lambda","factor","cPrime","sum","rotCounterClockwise","meanVec","x1UnitVector","x2UnitVector","theta","rotate","_this91","lMx","lMy","lx","ly","reflected","lastCommand","makeReflected","M","px","py","L","H","V","Z","z","C","cp1x","cp1y","cp2x","cp2y","S","cpx","cpy","_makeReflected","Q","quadraticCurveTo","q","T","_makeReflected2","A","xAxisRotation","largeArcFlag","sweepFlag","Header","SortHeader","_BaseHeader","_ref72","_BaseStyle3","_this93","_webpack_require__67$","_BaseHeader2","_this94","_sort","_range","_ref73","_style$textBaseline2","arrowSize","newState","_this95","_executeSort","_webpack_require__69","ErrorMessage","WarningMessage","InfoMessage","_messageInstances","_bindGridEvent","messageInstances","_getMessageInstanceOfMessage","_attachInfo","instance","detachMessageElement","attachMessageElement","_toMessageText","moveMessageElement","_this96","onSelectMessage","_detach","_attach","_move","_createMessageInstance","Message","BaseMessage","ErrorMessageElement","_BaseMessage","boxRect","fillRectWithState","MessageElement","MESSAGE_CLASSNAME","_MessageElement","_this98","_rootElement","_messageElement","WarningMessageElement","_BaseMessage2","_MessageElement2","_this100","_BaseMessage3","themePlugins","iconPlugins","values","registers","createMessageElementInternal","_getMessageElement","move","drawCellMessageInternal","rootElement","createrootElement","messageElement","_attachCell","_grid$getAttachCellAr4","amd"],"mappings":"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","file":"cheetahGrid.es5.min.js","sourcesContent":["(function(){\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cheetahGrid\"] = factory();\n\telse\n\t\troot[\"cheetahGrid\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 57);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\n{\n\tlet arrayFind;\n\tlet arrayFindIndex;\n\tconst array = {\n\t\tget find() {\n\t\t\tif (arrayFind) {\n\t\t\t\treturn arrayFind;\n\t\t\t}\n\t\t\tif (Array.prototype.find) {\n\t\t\t\tarrayFind = (arr, predicate) => Array.prototype.find.call(arr, predicate);\n\t\t\t} else {\n\t\t\t\tarrayFind = (arr, predicate) => {\n\t\t\t\t\tconst index = array.findIndex(arr, predicate);\n\t\t\t\t\treturn index >= 0 ? arr[index] : undefined;\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn arrayFind;\n\t\t},\n\t\tget findIndex() {\n\t\t\tif (arrayFindIndex) {\n\t\t\t\treturn arrayFindIndex;\n\t\t\t}\n\t\t\tif (Array.prototype.findIndex) {\n\t\t\t\tarrayFindIndex = (arr, predicate) => Array.prototype.findIndex.call(arr, predicate);\n\t\t\t} else {\n\t\t\t\tarrayFindIndex = (arr, predicate) => {\n\t\t\t\t\tconst length = arr.length;\n\t\t\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\t\t\tconst value = arr[i];\n\t\t\t\t\t\tif (predicate(value, i, arr)) {\n\t\t\t\t\t\t\treturn i;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn -1;\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn arrayFindIndex;\n\t\t}\n\t};\n\n\tfunction isDef(data) {\n\t\treturn data !== null && typeof data !== 'undefined';\n\t}\n\tconst ua = window.navigator.userAgent.toLowerCase();\n\tconst IE = ua.match(/(msie)/) || ua.match(/trident/);\n\tconst Chrome = ua.indexOf('chrome') > -1 && ua.indexOf('edge') === -1;\n\tconst Firefox = ua.indexOf('firefox') > -1;\n\n\tfunction setReadonly(obj, name, value) {\n\t\tObject.defineProperty(obj, name, {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue\n\t\t});\n\t}\n\n\tfunction each(obj, fn) {\n\t\tfor (const key in obj) {\n\t\t\tfn(obj[key], key, obj);\n\t\t}\n\t}\n\n\tfunction isObject(obj) {\n\t\treturn obj === Object(obj);\n\t}\n\n\tfunction extend(...args) {\n\t\tconst result = {};\n\t\targs.forEach(source => {\n\t\t\tfor (const key in source) {\n\t\t\t\tObject.defineProperty(result, key, {\n\t\t\t\t\tget() {\n\t\t\t\t\t\treturn source[key];\n\t\t\t\t\t},\n\t\t\t\t\tset(val) {\n\t\t\t\t\t\tsource[key] = val;\n\t\t\t\t\t},\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\tenumerable: true\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\treturn result;\n\t}\n\tfunction isDescendantElement(root, target) {\n\t\twhile (target.parentElement) {\n\t\t\tconst p = target.parentElement;\n\t\t\tif (root === p) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\ttarget = p;\n\t\t}\n\t\treturn false;\n\t}\n\tfunction applyChainSafe(obj, fn, ...names) {\n\t\tlet value = obj;\n\t\tfor (let i = 0; i < names.length && isDef(value); i++) {\n\t\t\tvalue = fn(value, names[i]);\n\t\t}\n\t\treturn value;\n\t}\n\tfunction getChainSafe(obj, ...names) {\n\t\treturn applyChainSafe(obj, (val, name) => val[name], ...names);\n\t}\n\tfunction getOrApply(value, ...args) {\n\t\tif (typeof value === 'function') {\n\t\t\treturn value(...args);\n\t\t} else {\n\t\t\treturn value;\n\t\t}\n\t}\n\tfunction endsWith(str, searchString, position) {\n\t\tconst subjectString = str.toString();\n\t\tif (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {\n\t\t\tposition = subjectString.length;\n\t\t}\n\t\tposition -= searchString.length;\n\t\tconst lastIndex = subjectString.lastIndexOf(searchString, position);\n\t\treturn lastIndex !== -1 && lastIndex === position;\n\t}\n\tconst isPromise = data => data && typeof data.then === 'function';\n\tconst then = (result, callback) => isPromise(result) ? result.then(r => callback(r)) : callback(result);\n\tfunction getMouseButtons(e) {\n\t\tif (isDef(e.buttons)) {\n\t\t\treturn e.buttons;\n\t\t}\n\t\t/*for legacy*/\n\t\tif (isDef(e.which)) {\n\t\t\tif (e.which === 3) {\n\t\t\t\t//right?\n\t\t\t\treturn 4;\n\t\t\t}\n\t\t\tif (e.which === 2) {\n\t\t\t\t//middle?\n\t\t\t\treturn 4;\n\t\t\t}\n\t\t\treturn e.which; //left or no\n\t\t}\n\n\t\tif (e.button === 0 || e.button === 1) {\n\t\t\treturn 1; //candidate left\n\t\t}\n\t\tif (e.button === 2) {\n\t\t\treturn 2; // right\n\t\t}\n\t\treturn 0; //no or middle?\n\t}\n\tfunction getKeyCode(e) {\n\t\treturn e.keyCode || e.which;\n\t}\n\tfunction isTouchEvent(e) {\n\t\treturn !!e.changedTouches;\n\t}\n\tfunction getIgnoreCase(obj, name) {\n\t\tif (obj[name]) {\n\t\t\treturn obj[name];\n\t\t}\n\t\tconst l = name.toLowerCase();\n\t\tif (obj[l]) {\n\t\t\treturn obj[l];\n\t\t}\n\t\tconst u = name.toLowerCase();\n\t\tif (obj[u]) {\n\t\t\treturn obj[u];\n\t\t}\n\t\tfor (const k in obj) {\n\t\t\tif (k.toLowerCase() === l) {\n\t\t\t\treturn obj[k];\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\tfunction cancel(e) {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t}\n\n\tfunction toBoxArray(obj) {\n\t\tif (!__webpack_provided_Array_dot_isArray(obj)) {\n\t\t\treturn [obj /*top*/, obj /*right*/, obj /*bottom*/, obj /*left*/];\n\t\t}\n\t\tif (obj.length === 3) {\n\t\t\treturn [obj[0] /*top*/, obj[1] /*right*/, obj[2] /*bottom*/, obj[1] /*left*/];\n\t\t}\n\t\tif (obj.length === 2) {\n\t\t\treturn [obj[0] /*top*/, obj[1] /*right*/, obj[0] /*bottom*/, obj[1] /*left*/];\n\t\t}\n\t\tif (obj.length === 1) {\n\t\t\treturn [obj[0] /*top*/, obj[0] /*right*/, obj[0] /*bottom*/, obj[0] /*left*/];\n\t\t}\n\t\treturn obj;\n\t}\n\n\t// Chrome 33554431\n\t// FireFox 17895588\n\t// IE 10737433\n\tmodule.exports = {\n\t\tisDef,\n\t\tbrowser: {\n\t\t\tIE,\n\t\t\tChrome,\n\t\t\tFirefox,\n\t\t\theightLimit: Chrome ? 33554431 : Firefox ? 17895588 : 10737433 // default IE limit\n\t\t},\n\t\textend,\n\t\tisDescendantElement,\n\t\tgetChainSafe,\n\t\tapplyChainSafe,\n\t\tgetOrApply,\n\t\tgetIgnoreCase,\n\t\tisPromise,\n\t\tthen,\n\t\tarray,\n\t\tobj: {\n\t\t\tsetReadonly,\n\t\t\teach,\n\t\t\tisObject\n\t\t},\n\t\tstr: {\n\t\t\tendsWith\n\t\t},\n\t\tevent: {\n\t\t\tgetMouseButtons,\n\t\t\tgetKeyCode,\n\t\t\tisTouchEvent,\n\t\t\tcancel\n\t\t},\n\t\tstyle: {\n\t\t\ttoBoxArray\n\t\t},\n\t\temptyFn() {}\n\t};\n}\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst Symbol = window.Symbol ? window.Symbol : (() => {\n\t\tlet nextId = 1;\n\t\treturn name => {\n\t\t\tconst id = nextId++;\n\t\t\tif (name) {\n\t\t\t\treturn ` $$$ ${name} - ${id} $$$ `;\n\t\t\t} else {\n\t\t\t\treturn ` $$$ ${id} $$$ `;\n\t\t\t}\n\t\t};\n\t})();\n\tconst mem = {};\n\n\tmodule.exports = {\n\t\tget(name) {\n\t\t\tif (name) {\n\t\t\t\treturn mem[name] ? mem[name] : mem[name] = Symbol(name);\n\t\t\t} else {\n\t\t\t\treturn Symbol();\n\t\t\t}\n\t\t},\n\t\tget PROTECTED_SYMBOL() {\n\t\t\treturn this.get('protected');\n\t\t},\n\t\tget CHECK_COLUMN_STATE_ID() {\n\t\t\treturn this.get('chkcol.stateID');\n\t\t},\n\t\tget BUTTON_COLUMN_STATE_ID() {\n\t\t\treturn this.get('btncol.stateID');\n\t\t},\n\t\tget COLUMN_FADEIN_STATE_ID() {\n\t\t\treturn this.get('col.fadein_stateID');\n\t\t},\n\t\tget BRANCH_GRAPH_COLUMN_STATE_ID() {\n\t\t\treturn this.get('branch_graph_col.stateID');\n\t\t},\n\t\tget SMALL_DIALOG_INPUT_EDITOR_STATE_ID() {\n\t\t\treturn this.get('small_dialog_input_editor.stateID');\n\t\t},\n\t\tget INLINE_INPUT_EDITOR_STATE_ID() {\n\t\t\treturn this.get('inline_input_editor.stateID');\n\t\t},\n\t\tget INLINE_MENU_EDITOR_STATE_ID() {\n\t\t\treturn this.get('inline_menu_editor.stateID');\n\t\t}\n\t};\n}\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = {\n\t'Array_isArray': window.Array.isArray\n};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst StdBaseStyle = __webpack_require__(19);\n\tlet defaultStyle;\n\tclass Style extends StdBaseStyle {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : defaultStyle = new Style();\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(style);\n\t\t\tthis._color = style.color;\n\t\t\tthis._font = style.font;\n\t\t\tthis._padding = style.padding;\n\t\t}\n\t\tget color() {\n\t\t\treturn this._color;\n\t\t}\n\t\tset color(color) {\n\t\t\tthis._color = color;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget font() {\n\t\t\treturn this._font;\n\t\t}\n\t\tset font(font) {\n\t\t\tthis._font = font;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget padding() {\n\t\t\treturn this._padding;\n\t\t}\n\t\tset padding(padding) {\n\t\t\tthis._padding = padding;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tclone() {\n\t\t\treturn new Style(this);\n\t\t}\n\t}\n\tmodule.exports = Style;\n}\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst {\n\t\tisDef,\n\t\tbrowser,\n\t\tisDescendantElement,\n\t\tarray,\n\t\tisPromise,\n\t\tevent: {\n\t\t\tisTouchEvent,\n\t\t\tgetMouseButtons,\n\t\t\tgetKeyCode,\n\t\t\tcancel: cancelEvent\n\t\t}\n\t} = __webpack_require__(0);\n\n\tconst EventTarget = __webpack_require__(13);\n\tconst Rect = __webpack_require__(8);\n\tconst Scrollable = __webpack_require__(59);\n\tconst EventHandler = __webpack_require__(5);\n\tconst NumberMap = __webpack_require__(63);\n\tconst style = __webpack_require__(27);\n\tconst calc = __webpack_require__(17);\n\tconst hiDPI = __webpack_require__(64);\n\t//protected symbol\n\tconst { PROTECTED_SYMBOL: _ } = __webpack_require__(1);\n\n\tfunction createRootElement() {\n\t\tconst element = document.createElement('div');\n\t\telement.classList.add('cheetah-grid');\n\t\treturn element;\n\t}\n\n\tconst KEY_END = 35;\n\tconst KEY_HOME = 36;\n\tconst KEY_LEFT = 37;\n\tconst KEY_UP = 38;\n\tconst KEY_RIGHT = 39;\n\tconst KEY_DOWN = 40;\n\tconst KEY_ALPHA_C = 67;\n\n\tconst EVENT_TYPE = {\n\t\tCLICK_CELL: 'click_cell',\n\t\tDBLCLICK_CELL: 'dblclick_cell',\n\t\tDBLTAP_CELL: 'dbltap_cell',\n\t\tMOUSEDOWN_CELL: 'mousedown_cell',\n\t\tMOUSEUP_CELL: 'mouseup_cell',\n\t\tSELECTED_CELL: 'selected_cell',\n\t\tKEYDOWN: 'keydown',\n\t\tMOUSEMOVE_CELL: 'mousemove_cell',\n\t\tMOUSEENTER_CELL: 'mouseenter_cell',\n\t\tMOUSELEAVE_CELL: 'mouseleave_cell',\n\t\tMOUSEOVER_CELL: 'mouseover_cell',\n\t\tMOUSEOUT_CELL: 'mouseout_cell',\n\t\tINPUT_CELL: 'input_cell',\n\t\tEDITABLEINPUT_CELL: 'editableinput_cell',\n\t\tMODIFY_STATUS_EDITABLEINPUT_CELL: 'modify_status_editableinput_cell',\n\t\tRESIZE_COLUMN: 'resize_column',\n\t\tSCROLL: 'scroll'\n\t};\n\n\t//private methods\n\tfunction _vibrate(e) {\n\t\tif (navigator.vibrate && isTouchEvent(e)) {\n\t\t\tnavigator.vibrate(50);\n\t\t}\n\t}\n\tfunction _getTargetRowAt(grid, absoluteY) {\n\t\tconst internal = grid.getTargetRowAtInternal(absoluteY);\n\t\tif (isDef(internal)) {\n\t\t\treturn internal;\n\t\t}\n\t\tconst findBefore = (startRow, startBottom) => {\n\t\t\tlet bottom = startBottom;\n\t\t\tfor (let row = startRow; row >= 0; row--) {\n\t\t\t\tconst height = _getRowHeight(grid, row);\n\t\t\t\tconst top = bottom - height;\n\t\t\t\tif (top <= absoluteY && absoluteY < bottom) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttop,\n\t\t\t\t\t\trow\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tbottom = top;\n\t\t\t}\n\t\t\treturn null;\n\t\t};\n\t\tconst findAfter = (startRow, startBottom) => {\n\t\t\tlet top = startBottom - _getRowHeight(grid, startRow);\n\t\t\tconst { rowCount } = grid[_];\n\t\t\tfor (let row = startRow; row < rowCount; row++) {\n\t\t\t\tconst height = _getRowHeight(grid, row);\n\t\t\t\tconst bottom = top + height;\n\t\t\t\tif (top <= absoluteY && absoluteY < bottom) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttop,\n\t\t\t\t\t\trow\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\ttop = bottom;\n\t\t\t}\n\t\t\treturn null;\n\t\t};\n\t\tconst candRow = Math.min(Math.ceil(absoluteY / grid[_].defaultRowHeight), grid.rowCount - 1);\n\t\tconst bottom = _getRowsHeight(grid, 0, candRow);\n\t\tif (absoluteY >= bottom) {\n\t\t\treturn findAfter(candRow, bottom);\n\t\t} else {\n\t\t\treturn findBefore(candRow, bottom);\n\t\t}\n\t}\n\tfunction _getTargetColAt(grid, absoluteX) {\n\t\tlet left = 0;\n\t\tconst { colCount } = grid[_];\n\t\tfor (let col = 0; col < colCount; col++) {\n\t\t\tconst width = _getColWidth(grid, col);\n\t\t\tconst right = left + width;\n\t\t\tif (right > absoluteX) {\n\t\t\t\treturn {\n\t\t\t\t\tleft,\n\t\t\t\t\tcol\n\t\t\t\t};\n\t\t\t}\n\t\t\tleft = right;\n\t\t}\n\t\treturn null;\n\t}\n\tfunction _getTargetFrozenRowAt(grid, absoluteY) {\n\t\tif (!grid[_].frozenRowCount) {\n\t\t\treturn null;\n\t\t}\n\t\tlet { top } = grid[_].scroll;\n\t\tconst rowCount = grid[_].frozenRowCount;\n\t\tfor (let row = 0; row < rowCount; row++) {\n\t\t\tconst height = _getRowHeight(grid, row);\n\t\t\tconst bottom = top + height;\n\t\t\tif (bottom > absoluteY) {\n\t\t\t\treturn {\n\t\t\t\t\ttop,\n\t\t\t\t\trow\n\t\t\t\t};\n\t\t\t}\n\t\t\ttop = bottom;\n\t\t}\n\t\treturn null;\n\t}\n\tfunction _getTargetFrozenColAt(grid, absoluteX) {\n\t\tif (!grid[_].frozenColCount) {\n\t\t\treturn null;\n\t\t}\n\t\tlet { left } = grid[_].scroll;\n\t\tconst colCount = grid[_].frozenColCount;\n\t\tfor (let col = 0; col < colCount; col++) {\n\t\t\tconst width = _getColWidth(grid, col);\n\t\t\tconst right = left + width;\n\t\t\tif (right > absoluteX) {\n\t\t\t\treturn {\n\t\t\t\t\tleft,\n\t\t\t\t\tcol\n\t\t\t\t};\n\t\t\t}\n\t\t\tleft = right;\n\t\t}\n\t\treturn null;\n\t}\n\tfunction _getFrozenRowsRect(grid) {\n\t\tif (!grid[_].frozenRowCount) {\n\t\t\treturn null;\n\t\t}\n\t\tconst { top } = grid[_].scroll;\n\t\tlet height = 0;\n\t\tconst rowCount = grid[_].frozenRowCount;\n\t\tfor (let row = 0; row < rowCount; row++) {\n\t\t\theight += _getRowHeight(grid, row);\n\t\t}\n\t\treturn new Rect(grid[_].scroll.left, top, grid[_].canvas.width, height);\n\t}\n\tfunction _getFrozenColsRect(grid) {\n\t\tif (!grid[_].frozenColCount) {\n\t\t\treturn null;\n\t\t}\n\t\tconst { left } = grid[_].scroll;\n\t\tlet width = 0;\n\t\tconst colCount = grid[_].frozenColCount;\n\t\tfor (let col = 0; col < colCount; col++) {\n\t\t\twidth += _getColWidth(grid, col);\n\t\t}\n\t\treturn new Rect(left, grid[_].scroll.top, width, grid[_].canvas.height);\n\t}\n\tfunction _isCellDrawing(grid, col, row) {\n\t\tif (!grid[_].drawCells[row]) {\n\t\t\treturn false;\n\t\t}\n\t\treturn !!grid[_].drawCells[row][col];\n\t}\n\tfunction _putCellDrawing(grid, col, row, context) {\n\t\tif (!grid[_].drawCells[row]) {\n\t\t\tgrid[_].drawCells[row] = {};\n\t\t}\n\t\tgrid[_].drawCells[row][col] = context;\n\t}\n\tfunction _removeCellDrawing(grid, col, row) {\n\t\tif (!grid[_].drawCells[row]) {\n\t\t\treturn;\n\t\t}\n\t\tdelete grid[_].drawCells[row][col];\n\t\tif (Object.keys(grid[_].drawCells[row]).length === 0) {\n\t\t\tdelete grid[_].drawCells[row];\n\t\t}\n\t}\n\tfunction _drawCell(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, skipAbsoluteLeft, drawLayers) {\n\t\tconst rect = new Rect(absoluteLeft - visibleRect.left, absoluteTop - visibleRect.top, width, height);\n\n\t\tconst drawRect = Rect.bounds(Math.max(absoluteLeft, skipAbsoluteLeft) - visibleRect.left, Math.max(absoluteTop, skipAbsoluteTop) - visibleRect.top, rect.right, rect.bottom);\n\n\t\tif (drawRect.height > 0 && drawRect.width > 0) {\n\t\t\tctx.save();\n\t\t\ttry {\n\t\t\t\tconst dcContext = new DrawCellContext(col, row, ctx, rect, drawRect, _isCellDrawing(grid, col, row), grid[_].selection, drawLayers);\n\t\t\t\tconst p = grid.onDrawCell(col, row, dcContext);\n\t\t\t\tif (isPromise(p)) {\n\t\t\t\t\t//\n\t\t\t\t\t_putCellDrawing(grid, col, row, dcContext);\n\n\t\t\t\t\tconst pCol = col;\n\t\t\t\t\tdcContext._delayMode(grid, () => {\n\t\t\t\t\t\t_removeCellDrawing(grid, pCol, row);\n\t\t\t\t\t});\n\t\t\t\t\tp.then(() => {\n\t\t\t\t\t\tdcContext.terminate();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction _drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, skipAbsoluteTop, drawLayers) {\n\t\tconst { colCount } = grid[_];\n\t\tconst drawOuter = (col, absoluteLeft) => {\n\t\t\t//\n\t\t\tif (col >= colCount - 1 && grid[_].canvas.width > absoluteLeft - visibleRect.left) {\n\t\t\t\tconst outerLeft = absoluteLeft - visibleRect.left;\n\t\t\t\tctx.save();\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.fillStyle = grid.underlayBackgroundColor || '#F6F6F6';\n\t\t\t\tctx.rect(outerLeft, absoluteTop - visibleRect.top, grid[_].canvas.width - outerLeft, height);\n\t\t\t\tctx.fill();\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t};\n\n\t\tlet skipAbsoluteLeft = 0;\n\t\tif (initFrozenCol) {\n\t\t\tlet absoluteLeft = initFrozenCol.left;\n\t\t\tconst count = grid[_].frozenColCount;\n\t\t\tfor (let { col } = initFrozenCol; col < count; col++) {\n\t\t\t\tconst width = _getColWidth(grid, col);\n\n\t\t\t\t_drawCell(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, 0, drawLayers);\n\n\t\t\t\tabsoluteLeft += width;\n\t\t\t\tif (drawRight <= absoluteLeft) {\n\t\t\t\t\t//\n\t\t\t\t\tdrawOuter(col, absoluteLeft);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tskipAbsoluteLeft = absoluteLeft;\n\t\t}\n\n\t\tlet absoluteLeft = initCol.left;\n\t\tfor (let { col } = initCol; col < colCount; col++) {\n\t\t\tconst width = _getColWidth(grid, col);\n\t\t\t_drawCell(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, skipAbsoluteLeft, drawLayers);\n\n\t\t\tabsoluteLeft += width;\n\t\t\tif (drawRight <= absoluteLeft) {\n\t\t\t\t//\n\t\t\t\tdrawOuter(col, absoluteLeft);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tdrawOuter(colCount - 1, absoluteLeft);\n\t}\n\tfunction _invalidateRect(grid, drawRect) {\n\t\tconst visibleRect = _getVisibleRect(grid);\n\t\tconst { rowCount } = grid[_];\n\t\tconst ctx = grid._getInitContext();\n\n\t\tconst initRow = _getTargetRowAt(grid, Math.max(visibleRect.top, drawRect.top)) || {\n\t\t\ttop: _getRowsHeight(grid, 0, rowCount - 1),\n\t\t\trow: rowCount\n\t\t};\n\t\tconst initCol = _getTargetColAt(grid, Math.max(visibleRect.left, drawRect.left)) || {\n\t\t\tleft: _getColsWidth(grid, 0, grid[_].colCount - 1),\n\t\t\tcol: grid[_].colCount\n\t\t};\n\t\tconst drawBottom = Math.min(visibleRect.bottom, drawRect.bottom);\n\t\tconst drawRight = Math.min(visibleRect.right, drawRect.right);\n\n\t\tconst initFrozenRow = _getTargetFrozenRowAt(grid, Math.max(visibleRect.top, drawRect.top));\n\t\tconst initFrozenCol = _getTargetFrozenColAt(grid, Math.max(visibleRect.left, drawRect.left));\n\n\t\tconst drawLayers = new DrawLayers();\n\n\t\tconst drawOuter = (row, absoluteTop) => {\n\t\t\t//\n\t\t\tif (row >= rowCount - 1 && grid[_].canvas.height > absoluteTop - visibleRect.top) {\n\t\t\t\tconst outerTop = absoluteTop - visibleRect.top;\n\t\t\t\tctx.save();\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.fillStyle = grid.underlayBackgroundColor || '#F6F6F6';\n\t\t\t\tctx.rect(0, outerTop, grid[_].canvas.width, grid[_].canvas.height - outerTop);\n\t\t\t\tctx.fill();\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t};\n\n\t\tlet skipAbsoluteTop = 0;\n\t\tif (initFrozenRow) {\n\t\t\tlet absoluteTop = initFrozenRow.top;\n\t\t\tconst count = grid[_].frozenRowCount;\n\t\t\tfor (let { row } = initFrozenRow; row < count; row++) {\n\t\t\t\tconst height = _getRowHeight(grid, row);\n\t\t\t\t_drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, 0, drawLayers);\n\t\t\t\tabsoluteTop += height;\n\t\t\t\tif (drawBottom <= absoluteTop) {\n\t\t\t\t\t//\n\t\t\t\t\tdrawOuter(row, absoluteTop);\n\t\t\t\t\tdrawLayers.draw(ctx);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tskipAbsoluteTop = absoluteTop;\n\t\t}\n\n\t\tlet absoluteTop = initRow.top;\n\t\tfor (let { row } = initRow; row < rowCount; row++) {\n\t\t\tconst height = _getRowHeight(grid, row);\n\n\t\t\t//\n\t\t\t_drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, skipAbsoluteTop, drawLayers);\n\n\t\t\tabsoluteTop += height;\n\t\t\tif (drawBottom <= absoluteTop) {\n\t\t\t\t//\n\t\t\t\tdrawOuter(row, absoluteTop);\n\t\t\t\tdrawLayers.draw(ctx);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tdrawOuter(rowCount - 1, absoluteTop);\n\n\t\tdrawLayers.draw(ctx);\n\t}\n\n\tfunction _toPxWidth(grid, width) {\n\t\treturn Math.round(calc.toPx(width, grid[_].calcWidthContext));\n\t}\n\n\tfunction _getDefaultColPxWidth(grid) {\n\t\treturn _toPxWidth(grid, grid.defaultColWidth);\n\t}\n\n\tfunction _adjustColWidth(grid, col, orgWidth) {\n\t\tconst limit = grid[_].colWidthsLimit[col];\n\t\tif (!limit) {\n\t\t\treturn orgWidth;\n\t\t}\n\n\t\tif (limit.min) {\n\t\t\tconst min = _toPxWidth(grid, limit.min);\n\t\t\tif (min > orgWidth) {\n\t\t\t\treturn min;\n\t\t\t}\n\t\t}\n\t\tif (limit.max) {\n\t\t\tconst max = _toPxWidth(grid, limit.max);\n\t\t\tif (max < orgWidth) {\n\t\t\t\treturn max;\n\t\t\t}\n\t\t}\n\t\treturn orgWidth;\n\t}\n\n\tfunction _getColWidth(grid, col) {\n\t\tconst width = grid[_].colWidthsMap.get(col);\n\t\tif (width) {\n\t\t\treturn _adjustColWidth(grid, col, _toPxWidth(grid, width));\n\t\t}\n\t\treturn _getDefaultColPxWidth(grid);\n\t}\n\tfunction _setColWidth(grid, col, width) {\n\t\tgrid[_].colWidthsMap.put(col, width);\n\t}\n\tfunction _getColsWidth(grid, startCol, endCol) {\n\t\tconst colCount = endCol - startCol + 1;\n\t\tlet w = _getDefaultColPxWidth(grid) * colCount;\n\t\tgrid[_].colWidthsMap.each(startCol, endCol, (width, col) => {\n\t\t\tw += _adjustColWidth(grid, col, _toPxWidth(grid, width)) - _getDefaultColPxWidth(grid);\n\t\t});\n\t\treturn w;\n\t}\n\n\tfunction _getRowHeight(grid, row) {\n\t\tconst internal = grid.getRowHeightInternal(row);\n\t\tif (isDef(internal)) {\n\t\t\treturn internal;\n\t\t}\n\t\tconst height = grid[_].rowHeightsMap.get(row);\n\t\tif (height) {\n\t\t\treturn height;\n\t\t}\n\t\treturn grid[_].defaultRowHeight;\n\t}\n\tfunction _setRowHeight(grid, row, height) {\n\t\tgrid[_].rowHeightsMap.put(row, height);\n\t}\n\tfunction _getRowsHeight(grid, startRow, endRow) {\n\t\tconst internal = grid.getRowsHeightInternal(startRow, endRow);\n\t\tif (isDef(internal)) {\n\t\t\treturn internal;\n\t\t}\n\t\tconst rowCount = endRow - startRow + 1;\n\t\tlet h = grid[_].defaultRowHeight * rowCount;\n\t\tgrid[_].rowHeightsMap.each(startRow, endRow, height => {\n\t\t\th += height - grid[_].defaultRowHeight;\n\t\t});\n\t\treturn h;\n\t}\n\n\tfunction _getScrollWidth(grid) {\n\t\tlet w = _getDefaultColPxWidth(grid) * grid[_].colCount;\n\t\tgrid[_].colWidthsMap.eachAll((width, col) => {\n\t\t\tw += _adjustColWidth(grid, col, _toPxWidth(grid, width)) - _getDefaultColPxWidth(grid);\n\t\t});\n\t\treturn w;\n\t}\n\tfunction _getScrollHeight(grid, row) {\n\t\tconst internal = grid.getScrollHeightInternal(row);\n\t\tif (isDef(internal)) {\n\t\t\treturn internal;\n\t\t}\n\t\tlet h = grid[_].defaultRowHeight * grid[_].rowCount;\n\t\tgrid[_].rowHeightsMap.eachAll(height => {\n\t\t\th += height - grid[_].defaultRowHeight;\n\t\t});\n\t\treturn h;\n\t}\n\tfunction _onScroll(grid, e) {\n\t\tconst lastLeft = grid[_].scroll.left;\n\t\tconst lastTop = grid[_].scroll.top;\n\t\tconst moveX = grid[_].scrollable.scrollLeft - lastLeft;\n\t\tconst moveY = grid[_].scrollable.scrollTop - lastTop;\n\n\t\t//\n\t\tgrid[_].scroll = {\n\t\t\tleft: grid[_].scrollable.scrollLeft,\n\t\t\ttop: grid[_].scrollable.scrollTop\n\t\t};\n\t\tconst visibleRect = _getVisibleRect(grid);\n\t\tif (Math.abs(moveX) >= visibleRect.width || Math.abs(moveY) >= visibleRect.height) {\n\t\t\t//\n\t\t\t_invalidateRect(grid, visibleRect);\n\t\t} else {\n\t\t\t//\n\t\t\tgrid[_].context.drawImage(grid[_].canvas, -moveX, -moveY);\n\n\t\t\tif (moveX !== 0) {\n\t\t\t\t//\n\t\t\t\tconst redrawRect = visibleRect.copy();\n\t\t\t\tif (moveX < 0) {\n\t\t\t\t\tredrawRect.width = -moveX;\n\t\t\t\t\tif (grid[_].frozenColCount > 0) {\n\t\t\t\t\t\t//\n\t\t\t\t\t\tconst frozenRect = _getFrozenColsRect(grid);\n\t\t\t\t\t\tredrawRect.width += frozenRect.width;\n\t\t\t\t\t}\n\t\t\t\t} else if (moveX > 0) {\n\t\t\t\t\tredrawRect.left = redrawRect.right - moveX;\n\t\t\t\t}\n\n\t\t\t\t//\n\t\t\t\t_invalidateRect(grid, redrawRect);\n\n\t\t\t\tif (moveX > 0) {\n\t\t\t\t\tif (grid[_].frozenColCount > 0) {\n\t\t\t\t\t\t//\n\t\t\t\t\t\t_invalidateRect(grid, _getFrozenColsRect(grid));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (moveY !== 0) {\n\t\t\t\t//\n\t\t\t\tconst redrawRect = visibleRect.copy();\n\t\t\t\tif (moveY < 0) {\n\t\t\t\t\tredrawRect.height = -moveY;\n\t\t\t\t\tif (grid[_].frozenRowCount > 0) {\n\t\t\t\t\t\t//\n\t\t\t\t\t\tconst frozenRect = _getFrozenRowsRect(grid);\n\t\t\t\t\t\tredrawRect.height += frozenRect.height;\n\t\t\t\t\t}\n\t\t\t\t} else if (moveY > 0) {\n\t\t\t\t\tredrawRect.top = redrawRect.bottom - moveY;\n\t\t\t\t}\n\n\t\t\t\t//\n\t\t\t\t_invalidateRect(grid, redrawRect);\n\n\t\t\t\tif (moveY > 0) {\n\t\t\t\t\tif (grid[_].frozenRowCount > 0) {\n\t\t\t\t\t\t//\n\t\t\t\t\t\t_invalidateRect(grid, _getFrozenRowsRect(grid));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction _onKeyDownMove(grid, e) {\n\t\tconst { shiftKey } = e;\n\t\tconst keyCode = getKeyCode(e);\n\t\tconst focusCell = shiftKey ? grid.selection._focus : grid.selection._sel;\n\t\tif (keyCode === KEY_LEFT) {\n\t\t\tconst col = grid.getMoveLeftColByKeyDownInternal(focusCell);\n\t\t\tif (col < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_moveFocusCell(grid, col, focusCell.row, shiftKey);\n\t\t\tcancelEvent(e);\n\t\t} else if (keyCode === KEY_UP) {\n\t\t\tconst row = grid.getMoveUpRowByKeyDownInternal(focusCell);\n\t\t\tif (row < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_moveFocusCell(grid, focusCell.col, row, shiftKey);\n\t\t\tcancelEvent(e);\n\t\t} else if (keyCode === KEY_RIGHT) {\n\t\t\tconst col = grid.getMoveRightColByKeyDownInternal(focusCell);\n\t\t\tif (grid.colCount <= col) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_moveFocusCell(grid, col, focusCell.row, shiftKey);\n\t\t\tcancelEvent(e);\n\t\t} else if (keyCode === KEY_DOWN) {\n\t\t\tconst row = grid.getMoveDownRowByKeyDownInternal(focusCell);\n\t\t\tif (grid.rowCount <= row) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_moveFocusCell(grid, focusCell.col, row, shiftKey);\n\t\t\tcancelEvent(e);\n\t\t} else if (keyCode === KEY_HOME) {\n\t\t\tconst row = e.ctrlKey ? 0 : focusCell.row;\n\t\t\t_moveFocusCell(grid, 0, row, e.shiftKey);\n\t\t\tcancelEvent(e);\n\t\t} else if (keyCode === KEY_END) {\n\t\t\tconst row = e.ctrlKey ? grid.rowCount - 1 : focusCell.row;\n\t\t\t_moveFocusCell(grid, grid.colCount - 1, row, shiftKey);\n\t\t\tcancelEvent(e);\n\t\t}\n\t}\n\tfunction _moveFocusCell(grid, col, row, shiftKey) {\n\t\tconst offset = grid.getOffsetInvalidateCells();\n\n\t\tfunction extendRange(range) {\n\t\t\tif (offset > 0) {\n\t\t\t\trange.start.col -= offset;\n\t\t\t\trange.start.row -= offset;\n\t\t\t\trange.end.col += offset;\n\t\t\t\trange.end.row += offset;\n\t\t\t}\n\t\t\treturn range;\n\t\t}\n\n\t\tconst beforeRange = extendRange(grid.selection.range);\n\t\tconst beforeRect = grid.getCellsRect(beforeRange.start.col, beforeRange.start.row, beforeRange.end.col, beforeRange.end.row);\n\n\t\tgrid.selection._setFocusCell(col, row, shiftKey);\n\t\tgrid.makeVisibleCell(col, row);\n\t\tgrid.focusCell(col, row);\n\n\t\tconst afterRange = extendRange(grid.selection.range);\n\t\tconst afterRect = grid.getCellsRect(afterRange.start.col, afterRange.start.row, afterRange.end.col, afterRange.end.row);\n\n\t\tif (afterRect.intersection(beforeRect)) {\n\t\t\tconst invalidateRect = Rect.max(afterRect, beforeRect);\n\t\t\t_invalidateRect(grid, invalidateRect);\n\t\t} else {\n\t\t\t_invalidateRect(grid, beforeRect);\n\t\t\t_invalidateRect(grid, afterRect);\n\t\t}\n\t}\n\tfunction _getMouseAbstractPoint(grid, e) {\n\t\tif (isTouchEvent(e)) {\n\t\t\te = e.changedTouches[0];\n\t\t}\n\t\tconst clientX = e.clientX || e.pageX + window.scrollX;\n\t\tconst clientY = e.clientY || e.pageY + window.scrollY;\n\t\tconst rect = grid[_].canvas.getBoundingClientRect();\n\t\tif (rect.right <= clientX) {\n\t\t\treturn null;\n\t\t}\n\t\tif (rect.bottom <= clientY) {\n\t\t\treturn null;\n\t\t}\n\t\tconst x = clientX - rect.left + grid[_].scroll.left;\n\t\tconst y = clientY - rect.top + grid[_].scroll.top;\n\t\treturn { x, y };\n\t}\n\n\tfunction _bindEvents(grid) {\n\t\tconst getCellEventArgsSet = e => {\n\t\t\tconst abstractPos = _getMouseAbstractPoint(grid, e);\n\t\t\tif (!abstractPos) {\n\t\t\t\treturn {};\n\t\t\t}\n\t\t\tconst cell = grid.getCellAt(abstractPos.x, abstractPos.y);\n\t\t\tif (cell.col < 0 || cell.row < 0) {\n\t\t\t\treturn {\n\t\t\t\t\tabstractPos,\n\t\t\t\t\tcell\n\t\t\t\t};\n\t\t\t}\n\t\t\tconst eventArgs = {\n\t\t\t\tcol: cell.col,\n\t\t\t\trow: cell.row,\n\t\t\t\tevent: e\n\t\t\t};\n\t\t\treturn {\n\t\t\t\tabstractPos,\n\t\t\t\tcell,\n\t\t\t\teventArgs\n\t\t\t};\n\t\t};\n\t\tconst canResizeColumn = col => {\n\t\t\tconst limit = grid[_].colWidthsLimit[col];\n\t\t\tif (!limit || !limit.min || !limit.max) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn limit.max !== limit.min;\n\t\t};\n\t\tgrid[_].handler.on(grid[_].element, 'mousedown', e => {\n\t\t\tconst eventArgsSet = getCellEventArgsSet(e);\n\t\t\tconst { abstractPos, eventArgs } = eventArgsSet;\n\t\t\tif (!abstractPos) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (eventArgs) {\n\t\t\t\tconst results = grid.fireListeners(EVENT_TYPE.MOUSEDOWN_CELL, eventArgs);\n\t\t\t\tif (array.findIndex(results, v => !v) >= 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (getMouseButtons(e) !== 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y);\n\t\t\tif (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n\t\t\t\t//\n\t\t\t\tgrid[_].columnResizer.start(resizeCol, e);\n\t\t\t} else {\n\t\t\t\t//\n\t\t\t\tgrid[_].cellSelector.start(e);\n\t\t\t}\n\t\t});\n\t\tlet doubleTapBefore = null;\n\t\tlet longTouchId = null;\n\t\tgrid[_].handler.on(grid[_].element, 'touchstart', e => {\n\n\t\t\tif (!doubleTapBefore) {\n\t\t\t\tdoubleTapBefore = getCellEventArgsSet(e).eventArgs;\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tdoubleTapBefore = null;\n\t\t\t\t}, 350);\n\t\t\t} else {\n\t\t\t\tconst { eventArgs } = getCellEventArgsSet(e);\n\t\t\t\tif (eventArgs && eventArgs.col === doubleTapBefore.col && eventArgs.row === doubleTapBefore.row) {\n\t\t\t\t\tgrid.fireListeners(EVENT_TYPE.DBLTAP_CELL, eventArgs);\n\t\t\t\t}\n\n\t\t\t\tdoubleTapBefore = null;\n\n\t\t\t\tif (e.defaultPrevented) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlongTouchId = setTimeout(() => {\n\t\t\t\t//\n\t\t\t\tlongTouchId = null;\n\t\t\t\tconst abstractPos = _getMouseAbstractPoint(grid, e);\n\t\t\t\tif (!abstractPos) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y, 15);\n\t\t\t\tif (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n\t\t\t\t\t//\n\t\t\t\t\tgrid[_].columnResizer.start(resizeCol, e);\n\t\t\t\t} else {\n\t\t\t\t\t//\n\t\t\t\t\tgrid[_].cellSelector.start(e);\n\t\t\t\t}\n\t\t\t}, 500);\n\t\t});\n\n\t\tfunction cancel(e) {\n\t\t\tif (longTouchId) {\n\t\t\t\tclearTimeout(longTouchId);\n\t\t\t\tlongTouchId = null;\n\t\t\t}\n\t\t}\n\t\tgrid[_].handler.on(grid[_].element, 'touchcancel', cancel);\n\t\tgrid[_].handler.on(grid[_].element, 'touchmove', cancel);\n\t\tgrid[_].handler.on(grid[_].element, 'touchend', e => {\n\t\t\tif (longTouchId) {\n\t\t\t\tclearTimeout(longTouchId);\n\t\t\t\tgrid[_].cellSelector.select(e);\n\t\t\t\tlongTouchId = null;\n\t\t\t}\n\t\t});\n\n\t\tlet isMouseover = false;\n\t\tlet mouseEnterCell = null;\n\t\tlet mouseOverCell = null;\n\t\tfunction onMouseenterCell(cell) {\n\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSEENTER_CELL, cell);\n\t\t\tmouseEnterCell = cell;\n\t\t}\n\t\tfunction onMouseleaveCell() {\n\t\t\tconst beforeMouseCell = mouseEnterCell;\n\t\t\tmouseEnterCell = null;\n\t\t\tif (beforeMouseCell) {\n\t\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSELEAVE_CELL, {\n\t\t\t\t\tcol: beforeMouseCell.col,\n\t\t\t\t\trow: beforeMouseCell.row\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tfunction onMouseoverCell(cell) {\n\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSEOVER_CELL, cell);\n\t\t\tmouseOverCell = cell;\n\t\t}\n\t\tfunction onMouseoutCell() {\n\t\t\tconst beforeMouseCell = mouseOverCell;\n\t\t\tmouseOverCell = null;\n\t\t\tif (beforeMouseCell) {\n\t\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSEOUT_CELL, {\n\t\t\t\t\tcol: beforeMouseCell.col,\n\t\t\t\t\trow: beforeMouseCell.row\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tconst scrollElement = grid[_].scrollable.getElement();\n\t\tgrid[_].handler.on(scrollElement, 'mouseover', e => {\n\t\t\tisMouseover = true;\n\t\t});\n\t\tgrid[_].handler.on(scrollElement, 'mouseout', e => {\n\t\t\tisMouseover = false;\n\t\t\tonMouseoutCell();\n\t\t});\n\n\t\tgrid[_].handler.on(grid[_].element, 'mouseleave', e => {\n\t\t\tonMouseleaveCell();\n\t\t});\n\n\t\tgrid[_].handler.on(grid[_].element, 'mousemove', e => {\n\t\t\tconst eventArgsSet = getCellEventArgsSet(e);\n\t\t\tconst { abstractPos, eventArgs } = eventArgsSet;\n\t\t\tif (eventArgs) {\n\t\t\t\tconst beforeMouseCell = mouseEnterCell;\n\t\t\t\tif (beforeMouseCell) {\n\t\t\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSEMOVE_CELL, eventArgs);\n\t\t\t\t\tif (beforeMouseCell.col !== eventArgs.col || beforeMouseCell.row !== eventArgs.row) {\n\t\t\t\t\t\tonMouseoutCell();\n\t\t\t\t\t\tonMouseleaveCell();\n\t\t\t\t\t\tconst cell = {\n\t\t\t\t\t\t\tcol: eventArgs.col,\n\t\t\t\t\t\t\trow: eventArgs.row\n\t\t\t\t\t\t};\n\t\t\t\t\t\tonMouseenterCell(cell);\n\t\t\t\t\t\tif (isMouseover) {\n\t\t\t\t\t\t\tonMouseoverCell(cell);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (isMouseover && !mouseOverCell) {\n\t\t\t\t\t\tonMouseoverCell({\n\t\t\t\t\t\t\tcol: eventArgs.col,\n\t\t\t\t\t\t\trow: eventArgs.row\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst cell = {\n\t\t\t\t\t\tcol: eventArgs.col,\n\t\t\t\t\t\trow: eventArgs.row\n\t\t\t\t\t};\n\t\t\t\t\tonMouseenterCell(cell);\n\t\t\t\t\tif (isMouseover) {\n\t\t\t\t\t\tonMouseoverCell(cell);\n\t\t\t\t\t}\n\t\t\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSEMOVE_CELL, eventArgs);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tonMouseoutCell();\n\t\t\t\tonMouseleaveCell();\n\t\t\t}\n\t\t\tif (grid[_].columnResizer.moving(e) || grid[_].cellSelector.moving(e)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst { style } = grid[_].element;\n\t\t\tif (!abstractPos) {\n\t\t\t\tif (style.cursor === 'col-resize') {\n\t\t\t\t\tstyle.cursor = '';\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y);\n\t\t\tif (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n\t\t\t\tstyle.cursor = 'col-resize';\n\t\t\t} else {\n\t\t\t\tif (style.cursor === 'col-resize') {\n\t\t\t\t\tstyle.cursor = '';\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tgrid[_].handler.on(grid[_].element, 'click', e => {\n\t\t\tif (grid[_].columnResizer.lastMoving(e) || grid[_].cellSelector.lastMoving(e)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!grid.hasListeners(EVENT_TYPE.CLICK_CELL)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst { eventArgs } = getCellEventArgsSet(e);\n\t\t\tif (!eventArgs) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tgrid.fireListeners(EVENT_TYPE.CLICK_CELL, eventArgs);\n\t\t});\n\t\tgrid[_].handler.on(grid[_].element, 'dblclick', e => {\n\t\t\tif (!grid.hasListeners(EVENT_TYPE.DBLCLICK_CELL)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst { eventArgs } = getCellEventArgsSet(e);\n\t\t\tif (!eventArgs) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tgrid.fireListeners(EVENT_TYPE.DBLCLICK_CELL, eventArgs);\n\t\t});\n\t\tgrid[_].focusControl.listen('keydown', (keyCode, e) => {\n\t\t\tgrid.fireListeners(EVENT_TYPE.KEYDOWN, keyCode, e);\n\t\t});\n\t\tgrid[_].selection.listen(EVENT_TYPE.SELECTED_CELL, data => {\n\t\t\tgrid.fireListeners(EVENT_TYPE.SELECTED_CELL, data, data.selected);\n\t\t});\n\n\t\tgrid[_].scrollable.onScroll(e => {\n\t\t\t_onScroll(grid, e);\n\t\t\tgrid.fireListeners(EVENT_TYPE.SCROLL, { event: e });\n\t\t});\n\t\tgrid[_].focusControl.onKeyDownMove(e => {\n\t\t\t_onKeyDownMove(grid, e);\n\t\t});\n\t\tgrid.listen('copydata', range => {\n\t\t\tlet copyValue = '';\n\t\t\tfor (let { row } = range.start; row <= range.end.row; row++) {\n\t\t\t\tfor (let { col } = range.start; col <= range.end.col; col++) {\n\t\t\t\t\tconst copyCellValue = grid.getCopyCellValue(col, row);\n\t\t\t\t\tif (window.Promise && copyCellValue instanceof window.Promise) {\n\t\t\t\t\t\t//\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst strCellValue = '' + copyCellValue;\n\t\t\t\t\t\tif (strCellValue.match(/^\\[object .*\\]$/)) {\n\t\t\t\t\t\t\t//object \n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcopyValue += strCellValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (col < range.end.col) {\n\t\t\t\t\t\tcopyValue += '\\t';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcopyValue += '\\n';\n\t\t\t}\n\t\t\treturn copyValue;\n\t\t});\n\t\tgrid[_].focusControl.onCopy(e => array.find(grid.fireListeners('copydata', grid[_].selection.range), isDef));\n\t\tgrid[_].focusControl.onInput(value => {\n\t\t\tconst { col, row } = grid[_].selection.select;\n\t\t\tgrid.fireListeners(EVENT_TYPE.INPUT_CELL, { col, row, value });\n\t\t});\n\t\tgrid.bindEventsInternal();\n\t}\n\n\tfunction _getResizeColAt(grid, abstractX, abstractY, offset = 5) {\n\t\tif (grid[_].frozenRowCount <= 0) {\n\t\t\treturn -1;\n\t\t}\n\t\tconst frozenRect = _getFrozenRowsRect(grid);\n\t\tif (!frozenRect.inPoint(abstractX, abstractY)) {\n\t\t\treturn -1;\n\t\t}\n\t\tconst cell = grid.getCellAt(abstractX, abstractY);\n\t\tconst cellRect = grid.getCellRect(cell.col, cell.row);\n\t\tif (abstractX < cellRect.left + offset) {\n\t\t\treturn cell.col - 1;\n\t\t}\n\t\tif (cellRect.right - offset < abstractX) {\n\t\t\treturn cell.col;\n\t\t}\n\t\treturn -1;\n\t}\n\tfunction _getVisibleRect(grid) {\n\t\treturn new Rect(grid[_].scroll.left, grid[_].scroll.top, grid[_].canvas.width, grid[_].canvas.height);\n\t}\n\tfunction _getScrollableVisibleRect(grid) {\n\t\tlet frozenColsWidth = 0;\n\t\tif (grid[_].frozenColCount > 0) {\n\t\t\t//\n\t\t\tconst frozenRect = _getFrozenColsRect(grid);\n\t\t\tfrozenColsWidth = frozenRect.width;\n\t\t}\n\t\tlet frozenRowsHeight = 0;\n\t\tif (grid[_].frozenRowCount > 0) {\n\t\t\t//\n\t\t\tconst frozenRect = _getFrozenRowsRect(grid);\n\t\t\tfrozenRowsHeight = frozenRect.height;\n\t\t}\n\t\treturn new Rect(grid[_].scroll.left + frozenColsWidth, grid[_].scroll.top + frozenRowsHeight, grid[_].canvas.width - frozenColsWidth, grid[_].canvas.height - frozenRowsHeight);\n\t}\n\n\tfunction _toRelativeRect(grid, absoluteRect) {\n\t\tconst rect = absoluteRect.copy();\n\t\tconst visibleRect = _getVisibleRect(grid);\n\t\trect.offsetLeft(-visibleRect.left);\n\t\trect.offsetTop(-visibleRect.top);\n\n\t\treturn rect;\n\t}\n\t//end private methods\n\t//\n\t//\n\t//\n\t//\n\n\t/**\r\n  * managing mouse down moving\r\n  * @private\r\n  */\n\tclass BaseMouseDownMover {\n\t\tconstructor(grid) {\n\t\t\tthis._grid = grid;\n\t\t\tthis._handler = new EventHandler();\n\t\t\tthis._events = {};\n\t\t\tthis._started = false;\n\t\t\tthis._moved = false;\n\t\t}\n\t\tmoving(e) {\n\t\t\treturn !!this._started;\n\t\t}\n\t\tlastMoving(e) {\n\t\t\t// mouseupclick\n\t\t\tif (this.moving(e)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tconst last = this._mouseEndPoint;\n\t\t\tif (!last) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tconst pt = _getMouseAbstractPoint(this._grid, e);\n\t\t\treturn pt.x === last.x && pt.y === last.y;\n\t\t}\n\t\t_bindMoveAndUp(e) {\n\t\t\tif (!isTouchEvent(e)) {\n\t\t\t\tthis._events.mousemove = this._handler.on(document.body, 'mousemove', e => this._mouseMove(e));\n\t\t\t\tthis._events.mouseup = this._handler.on(document.body, 'mouseup', e => this._mouseUp(e));\n\t\t\t} else {\n\t\t\t\tthis._events.touchmove = this._handler.on(document.body, 'touchmove', e => this._mouseMove(e), { passive: false });\n\t\t\t\tthis._events.touchend = this._handler.on(document.body, 'touchend', e => this._mouseUp(e));\n\t\t\t\tthis._events.touchcancel = this._handler.on(document.body, 'touchcancel', e => this._mouseUp(e));\n\t\t\t}\n\t\t\tthis._started = true;\n\t\t\tthis._moved = false;\n\t\t}\n\t\t_mouseMove(e) {\n\t\t\tif (!isTouchEvent(e)) {\n\t\t\t\tif (getMouseButtons(e) !== 1) {\n\t\t\t\t\tthis._mouseUp(e);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._moved = this._moveInternal(e) || this._moved /*calculation on after*/;\n\n\t\t\tcancelEvent(e);\n\t\t}\n\t\t_moveInternal(e) {\n\t\t\t//protected\n\t\t}\n\t\t_mouseUp(e) {\n\t\t\tthis._handler.off(this._events.mousemove);\n\t\t\tthis._handler.off(this._events.touchmove);\n\t\t\tthis._handler.off(this._events.mouseup);\n\t\t\tthis._handler.off(this._events.touchend);\n\t\t\t// this._handler.off(this._events.mouseleave);\n\t\t\tthis._handler.off(this._events.touchcancel);\n\n\t\t\tthis._started = false;\n\n\t\t\tthis._upInternal(e);\n\n\t\t\t// mouseupclick\n\t\t\tif (this._moved) {\n\t\t\t\t//\n\t\t\t\tthis._mouseEndPoint = _getMouseAbstractPoint(this._grid, e);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis._mouseEndPoint = null;\n\t\t\t\t}, 10);\n\t\t\t}\n\t\t}\n\t\t_upInternal(e) {\n\t\t\t//protected\n\t\t}\n\t\tdispose() {\n\t\t\tthis._handler.dispose();\n\t\t}\n\t}\n\n\t/**\r\n  * managing cell selection operation with mouse\r\n  * @private\r\n  */\n\tclass CellSelector extends BaseMouseDownMover {\n\t\tstart(e) {\n\t\t\tconst cell = this._getTargetCell(e);\n\t\t\tif (!cell) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_moveFocusCell(this._grid, cell.col, cell.row, e.shiftKey);\n\n\t\t\tthis._bindMoveAndUp(e);\n\n\t\t\tthis._cell = cell;\n\n\t\t\tcancelEvent(e);\n\t\t\t_vibrate(e);\n\t\t}\n\t\tselect(e) {\n\t\t\tconst cell = this._getTargetCell(e);\n\t\t\tif (!cell) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_moveFocusCell(this._grid, cell.col, cell.row, e.shiftKey);\n\t\t\tthis._cell = cell;\n\t\t}\n\t\t_moveInternal(e) {\n\t\t\tconst cell = this._getTargetCell(e);\n\t\t\tif (!cell || this._cell.col === cell.col && this._cell.row === cell.row) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t_moveFocusCell(this._grid, cell.col, cell.row, true);\n\n\t\t\t//make visible\n\t\t\tconst makeVisibleCol = (() => {\n\t\t\t\tif (cell.col < this._cell.col && 0 < cell.col) {\n\t\t\t\t\t// move left\n\t\t\t\t\treturn cell.col - 1;\n\t\t\t\t} else if (this._cell.col < cell.col && cell.col + 1 < this._grid.colCount) {\n\t\t\t\t\t// move right\n\t\t\t\t\treturn cell.col + 1;\n\t\t\t\t}\n\t\t\t\treturn cell.col;\n\t\t\t})();\n\t\t\tconst makeVisibleRow = (() => {\n\t\t\t\tif (cell.row < this._cell.row && 0 < cell.row) {\n\t\t\t\t\t// move up\n\t\t\t\t\treturn cell.row - 1;\n\t\t\t\t} else if (this._cell.row < cell.row && cell.row + 1 < this._grid.rowCount) {\n\t\t\t\t\t// move down\n\t\t\t\t\treturn cell.row + 1;\n\t\t\t\t}\n\t\t\t\treturn cell.row;\n\t\t\t})();\n\t\t\tif (makeVisibleCol !== cell.col || makeVisibleRow !== cell.row) {\n\t\t\t\tthis._grid.makeVisibleCell(makeVisibleCol, makeVisibleRow);\n\t\t\t}\n\t\t\tthis._cell = cell;\n\t\t\treturn true;\n\t\t}\n\t\t_getTargetCell(e) {\n\t\t\tconst abstractPos = _getMouseAbstractPoint(this._grid, e);\n\t\t\tif (!abstractPos) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tconst cell = this._grid.getCellAt(abstractPos.x, abstractPos.y);\n\t\t\tif (cell.col < 0 || cell.row < 0) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn cell;\n\t\t}\n\t}\n\t/**\r\n  * managing row width changing operation with mouse\r\n  * @private\r\n  */\n\tclass ColumnResizer extends BaseMouseDownMover {\n\t\tconstructor(grid) {\n\t\t\tsuper(grid);\n\t\t\tthis._targetCol = -1;\n\t\t}\n\t\tstart(col, e) {\n\t\t\tlet pageX;\n\t\t\tif (!isTouchEvent(e)) {\n\t\t\t\t({ pageX } = e);\n\t\t\t} else {\n\t\t\t\t({ pageX } = e.changedTouches[0]);\n\t\t\t}\n\n\t\t\tthis._x = pageX;\n\t\t\tthis._preX = 0;\n\n\t\t\tthis._bindMoveAndUp(e);\n\n\t\t\tthis._targetCol = col;\n\t\t\tthis._invalidateAbsoluteLeft = _getColsWidth(this._grid, 0, col - 1);\n\n\t\t\tcancelEvent(e);\n\t\t\t_vibrate(e);\n\t\t}\n\t\t_moveInternal(e) {\n\t\t\tconst pageX = isTouchEvent(e) ? e.changedTouches[0].pageX : e.pageX;\n\n\t\t\tconst x = pageX - this._x;\n\t\t\tconst moveX = x - this._preX;\n\t\t\tthis._preX = x;\n\t\t\tconst pre = this._grid.getColWidth(this._targetCol);\n\t\t\tlet afterSize = _adjustColWidth(this._grid, this._targetCol, pre + moveX);\n\t\t\tif (afterSize < 10 && moveX < 0) {\n\t\t\t\tafterSize = 10;\n\t\t\t}\n\t\t\t_setColWidth(this._grid, this._targetCol, afterSize);\n\n\t\t\tconst rect = _getVisibleRect(this._grid);\n\t\t\trect.left = this._invalidateAbsoluteLeft;\n\t\t\t_invalidateRect(this._grid, rect);\n\n\t\t\tthis._grid.fireListeners(EVENT_TYPE.RESIZE_COLUMN, { col: this._targetCol });\n\n\t\t\treturn true;\n\t\t}\n\t\t_upInternal(e) {\n\t\t\tthis._grid.updateScroll();\n\t\t}\n\t}\n\n\tfunction setSafeInputValue(input, value) {\n\t\tconst { type } = input;\n\t\tinput.type = '';\n\t\tinput.value = value;\n\t\tif (type) {\n\t\t\tinput.type = type;\n\t\t}\n\t}\n\n\t/**\r\n  * Manage focus\r\n  * @private\r\n  */\n\tclass FocusControl extends EventTarget {\n\t\tconstructor(grid, parentElement, scrollable) {\n\t\t\tsuper();\n\t\t\tthis._grid = grid;\n\t\t\tthis._scrollable = scrollable;\n\t\t\tthis._handler = new EventHandler();\n\t\t\tthis._input = document.createElement('input');\n\t\t\tthis._input.classList.add('grid-focus-control');\n\t\t\tthis._input.readOnly = true;\n\t\t\tparentElement.appendChild(this._input);\n\n\t\t\tthis._handler.on(this._input, 'compositionstart', e => {\n\t\t\t\tthis._input.classList.add('composition');\n\t\t\t\tthis._input.style.font = this._grid.font || '16px sans-serif';\n\t\t\t\tthis._isComposition = true;\n\t\t\t\tgrid.focus();\n\t\t\t});\n\t\t\tthis._handler.on(this._input, 'compositionend', e => {\n\t\t\t\tthis._isComposition = false;\n\t\t\t\tthis._input.classList.remove('composition');\n\t\t\t\tthis._input.style.font = '';\n\t\t\t\tif (!this._input.readOnly) {\n\t\t\t\t\tthis.fireListeners('input', this._input.value);\n\t\t\t\t}\n\t\t\t\tsetSafeInputValue(this._input, '');\n\t\t\t});\n\t\t\tthis._handler.on(this._input, 'keypress', e => {\n\t\t\t\tif (this._isComposition) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!this._input.readOnly && e.key && e.key.length === 1) {\n\t\t\t\t\tif (e.key === 'c' && (e.ctrlKey || e.metaKey)) {\n\t\t\t\t\t\t//copy! for Firefox\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.fireListeners('input', e.key);\n\t\t\t\t\t\tcancelEvent(e);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsetSafeInputValue(this._input, '');\n\t\t\t});\n\t\t\tthis._handler.on(this._input, 'keydown', e => {\n\t\t\t\tif (this._isComposition) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst keyCode = getKeyCode(e);\n\t\t\t\tthis.fireListeners('keydown', keyCode, e);\n\n\t\t\t\tif (!this._input.readOnly && this._input.value) {\n\t\t\t\t\t// for Safari\n\t\t\t\t\tthis.fireListeners('input', this._input.value);\n\t\t\t\t}\n\n\t\t\t\tsetSafeInputValue(this._input, '');\n\t\t\t});\n\t\t\tconst inputClear = e => {\n\t\t\t\tif (this._isComposition) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tsetSafeInputValue(this._input, '');\n\t\t\t};\n\n\t\t\tthis._handler.on(this._input, 'input', inputClear);\n\t\t\tthis._handler.on(this._input, 'keyup', inputClear);\n\t\t\tthis._handler.on(document, 'keydown', e => {\n\t\t\t\tif (!browser.IE) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (e.target !== this._input) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst keyCode = getKeyCode(e);\n\t\t\t\tif (keyCode === KEY_ALPHA_C && e.ctrlKey) {\n\t\t\t\t\tsetSafeInputValue(this._input, 'dummy');\n\t\t\t\t\tthis._input.select();\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetSafeInputValue(this._input, '');\n\t\t\t\t\t}, 100);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis._handler.on(document, 'copy', e => {\n\t\t\t\tif (this._isComposition) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!isDescendantElement(parentElement, e.target)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tsetSafeInputValue(this._input, '');\n\t\t\t\tconst data = array.find(this.fireListeners('copy'), isDef);\n\t\t\t\tif (isDef(data)) {\n\t\t\t\t\tcancelEvent(e);\n\t\t\t\t\tif (browser.IE) {\n\t\t\t\t\t\twindow.clipboardData.setData('Text', data); // IE\n\t\t\t\t\t} else {\n\t\t\t\t\t\te.clipboardData.setData('text/plain', data); // Chrome, Firefox\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tonKeyDownMove(fn) {\n\t\t\tthis._handler.on(this._input, 'keydown', e => {\n\t\t\t\tif (this._isComposition) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst keyCode = getKeyCode(e);\n\t\t\t\tif (keyCode === KEY_LEFT || keyCode === KEY_UP || keyCode === KEY_RIGHT || keyCode === KEY_DOWN || keyCode === KEY_HOME || keyCode === KEY_END) {\n\t\t\t\t\tfn(e);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tonInput(fn) {\n\t\t\treturn this.listen('input', fn);\n\t\t}\n\t\tonCopy(fn) {\n\t\t\treturn this.listen('copy', fn);\n\t\t}\n\t\tfocus() {\n\t\t\t// this._input.value = '';\n\t\t\tthis._input.focus();\n\t\t}\n\t\tsetFocusRect(rect) {\n\t\t\tconst top = this._scrollable.calcTop(rect.top);\n\t\t\tthis._input.style.top = (top - style.getScrollBarSize()).toFixed() + 'px'; //position:relative IE position:relative\n\t\t\tthis._input.style.left = rect.left.toFixed() + 'px';\n\t\t\tthis._input.style.width = rect.width.toFixed() + 'px';\n\t\t\tthis._input.style.height = rect.height.toFixed() + 'px';\n\t\t}\n\t\tset editMode(editMode) {\n\t\t\tthis._input.readOnly = !editMode;\n\t\t}\n\t\tresetInputStatus() {\n\t\t\tconst el = this._input;\n\t\t\tconst composition = el.classList.contains('composition');\n\n\t\t\tconst atts = el.attributes;\n\t\t\tconst removeNames = [];\n\t\t\tfor (let i = 0, n = atts.length; i < n; i++) {\n\t\t\t\tconst att = atts[i];\n\t\t\t\tif (!this._inputStatus.hasOwnProperty(att.nodeName)) {\n\t\t\t\t\tremoveNames.push(att.name);\n\t\t\t\t}\n\t\t\t}\n\t\t\tremoveNames.forEach(removeName => {\n\t\t\t\tel.removeAttribute(removeName);\n\t\t\t});\n\t\t\tfor (const name in this._inputStatus) {\n\t\t\t\tel.setAttribute(name, this._inputStatus[name]);\n\t\t\t}\n\t\t\tif (composition) {\n\t\t\t\tel.classList.add('composition');\n\t\t\t\tel.style.font = this._grid.font || '16px sans-serif';\n\t\t\t} else {\n\t\t\t\tel.classList.remove('composition');\n\t\t\t}\n\t\t}\n\t\tstoreInputStatus() {\n\t\t\tconst el = this._input;\n\t\t\tthis._inputStatus = {};\n\t\t\tconst atts = el.attributes;\n\t\t\tfor (let i = 0, n = atts.length; i < n; i++) {\n\t\t\t\tconst att = atts[i];\n\t\t\t\tthis._inputStatus[att.name] = att.value;\n\t\t\t}\n\t\t}\n\t\tsetDefaultInputStatus() {\n\t\t\t// \n\t\t\t// this._input.style.font = this._grid.font || '16px sans-serif';\n\t\t}\n\t\tget editMode() {\n\t\t\treturn !this._input.readOnly;\n\t\t}\n\t\tget input() {\n\t\t\treturn this._input;\n\t\t}\n\t\tdispose() {\n\t\t\tsuper.dispose();\n\t\t\tthis._handler.dispose();\n\t\t}\n\t}\n\n\t/**\r\n  * Selected area management\r\n  */\n\tclass Selection extends EventTarget {\n\t\tconstructor(grid) {\n\t\t\tsuper();\n\t\t\tthis._grid = grid;\n\n\t\t\tthis._sel = { col: 0, row: 0 };\n\t\t\tthis._focus = { col: 0, row: 0 };\n\n\t\t\tthis._start = { col: 0, row: 0 };\n\t\t\tthis._end = { col: 0, row: 0 };\n\t\t}\n\t\tget range() {\n\t\t\tconst startCol = Math.min(this._start.col, this._end.col);\n\t\t\tconst startRow = Math.min(this._start.row, this._end.row);\n\t\t\tconst endCol = Math.max(this._start.col, this._end.col);\n\t\t\tconst endRow = Math.max(this._start.row, this._end.row);\n\t\t\treturn {\n\t\t\t\tstart: {\n\t\t\t\t\tcol: startCol,\n\t\t\t\t\trow: startRow\n\t\t\t\t},\n\t\t\t\tend: {\n\t\t\t\t\tcol: endCol,\n\t\t\t\t\trow: endRow\n\t\t\t\t},\n\t\t\t\tinCell(col, row) {\n\t\t\t\t\treturn startCol <= col && col <= endCol && startRow <= row && row <= endRow;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tget select() {\n\t\t\treturn {\n\t\t\t\tcol: this._sel.col,\n\t\t\t\trow: this._sel.row\n\t\t\t};\n\t\t}\n\t\tset select(cell = {}) {\n\t\t\tthis._wrapFireSelectedEvent(() => {\n\t\t\t\tconst {\n\t\t\t\t\tcol = 0,\n\t\t\t\t\trow = 0\n\t\t\t\t} = cell;\n\t\t\t\tthis._setSelectCell(col, row);\n\t\t\t\tthis._setFocusCell(col, row, true);\n\t\t\t});\n\t\t}\n\t\t_setSelectCell(col, row) {\n\t\t\tthis._wrapFireSelectedEvent(() => {\n\t\t\t\tthis._sel = { col, row };\n\t\t\t\tthis._start = { col, row };\n\t\t\t});\n\t\t}\n\t\t_setFocusCell(col, row, keepSelect) {\n\t\t\tthis._wrapFireSelectedEvent(() => {\n\t\t\t\tif (!keepSelect) {\n\t\t\t\t\tthis._setSelectCell(col, row);\n\t\t\t\t}\n\t\t\t\tthis._focus = { col, row };\n\t\t\t\tthis._end = { col, row };\n\t\t\t});\n\t\t}\n\t\t_wrapFireSelectedEvent(callback) {\n\t\t\tif (this._isWraped) {\n\t\t\t\tcallback();\n\t\t\t} else {\n\t\t\t\tthis._isWraped = true;\n\t\t\t\ttry {\n\t\t\t\t\tconst before = {\n\t\t\t\t\t\tcol: this._sel.col,\n\t\t\t\t\t\trow: this._sel.row,\n\t\t\t\t\t\tselected: false\n\t\t\t\t\t};\n\t\t\t\t\tcallback();\n\t\t\t\t\tconst after = {\n\t\t\t\t\t\tcol: this._sel.col,\n\t\t\t\t\t\trow: this._sel.row,\n\t\t\t\t\t\tselected: true,\n\t\t\t\t\t\tbefore: {\n\t\t\t\t\t\t\tcol: before.col,\n\t\t\t\t\t\t\trow: before.row\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tbefore.after = {\n\t\t\t\t\t\tcol: after.col,\n\t\t\t\t\t\trow: after.row\n\t\t\t\t\t};\n\t\t\t\t\tthis.fireListeners(EVENT_TYPE.SELECTED_CELL, before);\n\t\t\t\t\tthis.fireListeners(EVENT_TYPE.SELECTED_CELL, after);\n\t\t\t\t} finally {\n\t\t\t\t\tthis._isWraped = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\r\n  * This class manages the drawing process for each layer\r\n  */\n\tclass DrawLayers {\n\t\tconstructor() {\n\t\t\tthis._layers = {};\n\t\t}\n\t\taddDraw(level, fn) {\n\t\t\tconst l = this._layers[level] || (this._layers[level] = new DrawLayer(level));\n\t\t\tl.addDraw(fn);\n\t\t}\n\t\tdraw(ctx) {\n\t\t\tconst list = [];\n\t\t\tfor (const k in this._layers) {\n\t\t\t\tlist.push(this._layers[k]);\n\t\t\t}\n\t\t\tlist.sort((a, b) => a.level - b.level);\n\t\t\tlist.forEach(l => l.draw(ctx));\n\t\t}\n\t}\n\tclass DrawLayer {\n\t\tconstructor(level) {\n\t\t\tthis._level = level;\n\t\t\tthis._list = [];\n\t\t}\n\t\tget level() {\n\t\t\treturn this._level;\n\t\t}\n\t\taddDraw(fn) {\n\t\t\tthis._list.push(fn);\n\t\t}\n\t\tdraw(ctx) {\n\t\t\tthis._list.forEach(fn => {\n\t\t\t\tctx.save();\n\t\t\t\ttry {\n\t\t\t\t\tfn(ctx);\n\t\t\t\t} finally {\n\t\t\t\t\tctx.restore();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\t/**\r\n  * Context of cell drawing\r\n  */\n\tclass DrawCellContext {\n\t\t/**\r\n   * @private\r\n   */\n\t\tconstructor(col, row, ctx, rect, drawRect, drawing, selection, drawLayers) {\n\t\t\tthis._col = col;\n\t\t\tthis._row = row;\n\t\t\tthis._mode = 0;\n\t\t\tthis._ctx = ctx;\n\t\t\tthis._rect = rect;\n\t\t\tthis._drawRect = drawRect;\n\t\t\tthis._drawing = drawing;\n\t\t\tthis._selection = selection;\n\t\t\tthis._drawLayers = drawLayers;\n\t\t}\n\t\tget drawing() {\n\t\t\tif (this._mode === 0) {\n\t\t\t\treturn this._drawing;\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\tget row() {\n\t\t\treturn this._row;\n\t\t}\n\t\tget col() {\n\t\t\treturn this._col;\n\t\t}\n\t\t/**\r\n   * select status.\r\n   * @return {object} select status\r\n   */\n\t\tgetSelectState() {\n\t\t\tconst sel = this._selection.select;\n\t\t\treturn {\n\t\t\t\tselected: sel.col === this._col && sel.row === this._row,\n\t\t\t\tselection: this._selection.range.inCell(this._col, this._row)\n\t\t\t};\n\t\t}\n\t\t/**\r\n   * Canvas context.\r\n   * @return {CanvasRenderingContext2D} Canvas context.\r\n   */\n\t\tgetContext() {\n\t\t\tif (this._mode === 0) {\n\t\t\t\treturn this._ctx;\n\t\t\t} else {\n\t\t\t\treturn this._grid._getInitContext();\n\t\t\t}\n\t\t}\n\t\t/**\r\n   * Rectangle of cell.\r\n   * @return {Rect} rect Rectangle of cell.\r\n   */\n\t\tgetRect() {\n\t\t\tif (this._mode === 0) {\n\t\t\t\treturn this._rect;\n\t\t\t} else {\n\t\t\t\tif (this._rect) {\n\t\t\t\t\treturn this._rect;\n\t\t\t\t}\n\t\t\t\treturn this._grid.getCellRelativeRect(this._col, this._row);\n\t\t\t}\n\t\t}\n\t\tsetRect(rect) {\n\t\t\tthis._rect = rect;\n\t\t}\n\t\t/**\r\n   * Rectangle of Drawing range.\r\n   * @return {Rect} Rectangle of Drawing range.\r\n   */\n\t\tgetDrawRect() {\n\t\t\tif (this._mode === 0) {\n\t\t\t\treturn this._drawRect;\n\t\t\t} else {\n\t\t\t\tconst absoluteRect = this._grid.getCellRect(this._col, this._row);\n\t\t\t\treturn this._toRelativeDrawRect(absoluteRect);\n\t\t\t}\n\t\t}\n\t\t/**\r\n   * get Context of current state\r\n   * @return {DrawCellContext} current DrawCellContext.\r\n   */\n\t\ttoCurrentContext() {\n\t\t\tif (this._mode === 0) {\n\t\t\t\treturn this;\n\t\t\t} else {\n\t\t\t\tconst absoluteRect = this._grid.getCellRect(this._col, this._row);\n\t\t\t\tconst rect = _toRelativeRect(this._grid, absoluteRect);\n\t\t\t\tconst drawRect = this._toRelativeDrawRect(absoluteRect);\n\t\t\t\tconst context = new DrawCellContext(this._col, this._row, this.getContext(), rect, drawRect, this.drawing, this._selection, this._drawLayers);\n\t\t\t\t// toCurrentContext  toCurrentContext\n\t\t\t\tcontext.toCurrentContext = this.toCurrentContext.bind(this);\n\t\t\t\treturn context;\n\t\t\t}\n\t\t}\n\t\taddLayerDraw(level, fn) {\n\t\t\tthis._drawLayers.addDraw(level, fn);\n\t\t}\n\t\t_toRelativeDrawRect(absoluteRect) {\n\t\t\tconst visibleRect = _getVisibleRect(this._grid);\n\t\t\tlet rect = absoluteRect.copy();\n\t\t\tif (!rect.intersection(visibleRect)) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst isFrozenCell = this._grid.isFrozenCell(this._col, this._row);\n\t\t\tif (this._grid.frozenColCount >= 0 && (!isFrozenCell || !isFrozenCell.col)) {\n\t\t\t\tconst fRect = this._grid.getCellRect(this._grid.frozenColCount - 1, this._row);\n\t\t\t\trect = Rect.bounds(Math.max(rect.left, fRect.right), rect.top, rect.right, rect.bottom);\n\t\t\t}\n\t\t\tif (this._grid.frozenRowCount >= 0 && (!isFrozenCell || !isFrozenCell.row)) {\n\t\t\t\tconst fRect = this._grid.getCellRect(this._col, this._grid.frozenRowCount - 1);\n\t\t\t\trect = Rect.bounds(rect.left, Math.max(rect.top, fRect.bottom), rect.right, rect.bottom);\n\t\t\t}\n\n\t\t\tif (!rect.intersection(visibleRect)) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\trect.offsetLeft(-visibleRect.left);\n\t\t\trect.offsetTop(-visibleRect.top);\n\n\t\t\treturn rect;\n\t\t}\n\t\t_delayMode(grid, onTerminate) {\n\t\t\tthis._mode = 1;\n\t\t\tthis._ctx = null;\n\t\t\tthis._rect = null;\n\t\t\tthis._drawRect = null;\n\t\t\tthis._grid = grid;\n\t\t\tthis._onTerminate = onTerminate;\n\t\t}\n\t\t/**\r\n   * terminate\r\n   * @return {void}\r\n   */\n\t\tterminate() {\n\t\t\tif (this._mode !== 0) {\n\t\t\t\tthis._onTerminate();\n\t\t\t}\n\t\t}\n\t}\n\t/**\r\n  * DrawGrid\r\n  * @classdesc cheetahGrid.core.DrawGrid\r\n  * @extends EventTarget\r\n  * @memberof cheetahGrid.core\r\n  */\n\tclass DrawGrid extends EventTarget {\n\t\tstatic get EVENT_TYPE() {\n\t\t\treturn EVENT_TYPE;\n\t\t}\n\t\t/**\r\n   * constructor\r\n   *\r\n   * <pre>\r\n   * Constructor options\r\n   * -----\r\n   * rowCount: grid row count.default 10\r\n   * colCount: grid col count.default 10\r\n   * frozenColCount: default 0\r\n   * frozenRowCount: default 0\r\n   * defaultRowHeight: default grid row height. default 40\r\n   * defaultColWidth: default grid col width. default 80\r\n   * parentElement: canvas parentElement\r\n   * font: default font\r\n   * underlayBackgroundColor: underlay background color\r\n   * -----\r\n   * </pre>\r\n   *\r\n   * @constructor\r\n   * @param  {Object} options Constructor options\r\n   */\n\t\tconstructor({\n\t\t\trowCount = 10,\n\t\t\tcolCount = 10,\n\t\t\tfrozenColCount = 0,\n\t\t\tfrozenRowCount = 0,\n\t\t\tdefaultRowHeight = 40,\n\t\t\tdefaultColWidth = 80,\n\t\t\tfont,\n\t\t\tunderlayBackgroundColor,\n\t\t\tparentElement\n\t\t} = {}) {\n\t\t\tsuper();\n\t\t\tthis[_] = {};\n\t\t\tstyle.initDocument();\n\t\t\tthis[_].element = createRootElement();\n\t\t\tthis[_].scrollable = new Scrollable();\n\t\t\tthis[_].handler = new EventHandler();\n\t\t\tthis[_].selection = new Selection(this);\n\t\t\tthis[_].focusControl = new FocusControl(this, this[_].scrollable.getElement(), this[_].scrollable);\n\n\t\t\tthis[_].canvas = hiDPI.transform(document.createElement('canvas'));\n\t\t\tthis[_].context = this[_].canvas.getContext('2d', { alpha: false });\n\n\t\t\tthis[_].rowCount = rowCount;\n\t\t\tthis[_].colCount = colCount;\n\t\t\tthis[_].frozenColCount = frozenColCount;\n\t\t\tthis[_].frozenRowCount = frozenRowCount;\n\n\t\t\tthis[_].defaultRowHeight = defaultRowHeight;\n\t\t\tthis[_].defaultColWidth = defaultColWidth;\n\n\t\t\tthis[_].font = font;\n\t\t\tthis[_].underlayBackgroundColor = underlayBackgroundColor;\n\n\t\t\t/////\n\t\t\tthis[_].rowHeightsMap = new NumberMap();\n\t\t\tthis[_].colWidthsMap = new NumberMap();\n\t\t\tthis[_].colWidthsLimit = {};\n\t\t\tthis[_].calcWidthContext = {\n\t\t\t\t_: this[_],\n\t\t\t\tget full() {\n\t\t\t\t\treturn this._.canvas.width;\n\t\t\t\t},\n\t\t\t\tget em() {\n\t\t\t\t\treturn this._.context.measureText('').width;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis[_].columnResizer = new ColumnResizer(this);\n\t\t\tthis[_].cellSelector = new CellSelector(this);\n\n\t\t\tthis[_].drawCells = {};\n\n\t\t\tthis[_].element.appendChild(this[_].canvas);\n\t\t\tthis[_].element.appendChild(this[_].scrollable.getElement());\n\t\t\tthis.updateScroll();\n\t\t\tif (parentElement) {\n\t\t\t\tparentElement.appendChild(this[_].element);\n\t\t\t\tthis.updateSize();\n\t\t\t} else {\n\t\t\t\tthis.updateSize();\n\t\t\t}\n\t\t\t_bindEvents(this);\n\t\t}\n\t\tgetElement() {\n\t\t\treturn this[_].element;\n\t\t}\n\t\tget canvas() {\n\t\t\treturn this[_].canvas;\n\t\t}\n\t\tfocus() {\n\t\t\tconst { col, row } = this[_].selection.select;\n\t\t\tthis.focusCell(col, row);\n\t\t}\n\t\tget selection() {\n\t\t\treturn this[_].selection;\n\t\t}\n\t\tget rowCount() {\n\t\t\treturn this[_].rowCount;\n\t\t}\n\t\tset rowCount(rowCount) {\n\t\t\tthis[_].rowCount = rowCount;\n\t\t\tthis.updateScroll();\n\t\t}\n\t\tget colCount() {\n\t\t\treturn this[_].colCount;\n\t\t}\n\t\tset colCount(colCount) {\n\t\t\tthis[_].colCount = colCount;\n\t\t\tthis.updateScroll();\n\t\t}\n\t\tget frozenColCount() {\n\t\t\treturn this[_].frozenColCount;\n\t\t}\n\t\tset frozenColCount(frozenColCount) {\n\t\t\tthis[_].frozenColCount = frozenColCount;\n\t\t}\n\t\tget frozenRowCount() {\n\t\t\treturn this[_].frozenRowCount;\n\t\t}\n\t\tset frozenRowCount(frozenRowCount) {\n\t\t\tthis[_].frozenRowCount = frozenRowCount;\n\t\t}\n\t\tget defaultRowHeight() {\n\t\t\treturn this[_].rowCount;\n\t\t}\n\t\tset defaultRowHeight(defaultRowHeight) {\n\t\t\tthis[_].defaultRowHeight = defaultRowHeight;\n\t\t\tthis.updateScroll();\n\t\t}\n\t\tget defaultColWidth() {\n\t\t\treturn this[_].defaultColWidth;\n\t\t}\n\t\tset defaultColWidth(defaultColWidth) {\n\t\t\tthis[_].defaultColWidth = defaultColWidth;\n\t\t\tthis.updateScroll();\n\t\t}\n\t\tget font() {\n\t\t\treturn this[_].font;\n\t\t}\n\t\tset font(font) {\n\t\t\tthis[_].font = font;\n\t\t}\n\t\tget underlayBackgroundColor() {\n\t\t\treturn this[_].underlayBackgroundColor;\n\t\t}\n\t\tset underlayBackgroundColor(underlayBackgroundColor) {\n\t\t\tthis[_].underlayBackgroundColor = underlayBackgroundColor;\n\t\t}\n\t\tconfigure(name, value) {\n\t\t\tconst cfg = this[_].config || (this[_].config = {});\n\t\t\tif (isDef(value)) {\n\t\t\t\tcfg[name] = value;\n\t\t\t}\n\t\t\treturn cfg[name];\n\t\t}\n\t\tupdateSize() {\n\t\t\t//\n\t\t\tthis[_].canvas.style.width = '';\n\t\t\tthis[_].canvas.style.height = '';\n\t\t\tconst width = Math.floor(this[_].canvas.offsetWidth ||\n\t\t\t/*for legacy*/this[_].canvas.parentElement.offsetWidth - style.getScrollBarSize());\n\t\t\tconst height = Math.floor(this[_].canvas.offsetHeight ||\n\t\t\t/*for legacy*/this[_].canvas.parentElement.offsetHeight - style.getScrollBarSize());\n\n\t\t\tthis[_].canvas.width = width;\n\t\t\tthis[_].canvas.height = height;\n\n\t\t\t//style\n\t\t\tthis[_].canvas.style.width = `${width}px`;\n\t\t\tthis[_].canvas.style.height = `${height}px`;\n\n\t\t\tconst sel = this[_].selection.select;\n\t\t\tthis[_].focusControl.setFocusRect(this.getCellRect(sel.col, sel.row));\n\t\t}\n\t\tupdateScroll() {\n\t\t\tthis[_].scrollable.setScrollSize(_getScrollWidth(this), _getScrollHeight(this));\n\t\t\tthis[_].scroll = {\n\t\t\t\tleft: this[_].scrollable.scrollLeft,\n\t\t\t\ttop: this[_].scrollable.scrollTop\n\t\t\t};\n\t\t}\n\t\tgetRowHeight(row) {\n\t\t\treturn _getRowHeight(this, row);\n\t\t}\n\t\tsetRowHeight(row, height) {\n\t\t\t_setRowHeight(this, row, height);\n\t\t\tthis.updateScroll();\n\t\t}\n\t\tgetColWidth(col) {\n\t\t\treturn _getColWidth(this, col);\n\t\t}\n\t\tsetColWidth(col, width) {\n\t\t\t_setColWidth(this, col, width);\n\t\t\tthis.updateScroll();\n\t\t}\n\t\tgetMaxColWidth(col) {\n\t\t\tconst obj = this[_].colWidthsLimit[col];\n\t\t\treturn obj && obj.max || undefined;\n\t\t}\n\t\tsetMaxColWidth(col, maxwidth) {\n\t\t\tconst obj = this[_].colWidthsLimit[col] || (this[_].colWidthsLimit[col] = {});\n\t\t\tobj.max = maxwidth;\n\t\t}\n\t\tgetMinColWidth(col) {\n\t\t\tconst obj = this[_].colWidthsLimit[col];\n\t\t\treturn obj && obj.min || undefined;\n\t\t}\n\t\tsetMinColWidth(col, minwidth) {\n\t\t\tconst obj = this[_].colWidthsLimit[col] || (this[_].colWidthsLimit[col] = {});\n\t\t\tobj.min = minwidth;\n\t\t}\n\t\tgetCellRect(col, row) {\n\t\t\tconst isFrozenCell = this.isFrozenCell(col, row);\n\n\t\t\tlet absoluteLeft = _getColsWidth(this, 0, col - 1);\n\t\t\tconst width = _getColWidth(this, col);\n\t\t\tif (isFrozenCell && isFrozenCell.col) {\n\t\t\t\tabsoluteLeft += this[_].scroll.left;\n\t\t\t}\n\n\t\t\tlet absoluteTop = _getRowsHeight(this, 0, row - 1);\n\t\t\tconst height = _getRowHeight(this, row);\n\t\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\t\tabsoluteTop += this[_].scroll.top;\n\t\t\t}\n\t\t\treturn new Rect(absoluteLeft, absoluteTop, width, height);\n\t\t}\n\t\tgetCellRelativeRect(col, row) {\n\t\t\treturn _toRelativeRect(this, this.getCellRect(col, row));\n\t\t}\n\t\tgetCellsRect(startCol, startRow, endCol, endRow) {\n\t\t\tconst isFrozenStartCell = this.isFrozenCell(startCol, startRow);\n\t\t\tconst isFrozenEndCell = this.isFrozenCell(endCol, endRow);\n\n\t\t\tlet absoluteLeft = _getColsWidth(this, 0, startCol - 1);\n\t\t\tlet width = _getColsWidth(this, startCol, endCol);\n\t\t\tif (isFrozenStartCell && isFrozenStartCell.col) {\n\t\t\t\tconst scrollLeft = this[_].scroll.left;\n\t\t\t\tabsoluteLeft += scrollLeft;\n\t\t\t\tif (!isFrozenEndCell || !isFrozenEndCell.col) {\n\t\t\t\t\twidth -= scrollLeft;\n\t\t\t\t\twidth = Math.max(width, _getColsWidth(this, startCol, this.frozenColCount - 1));\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet absoluteTop = _getRowsHeight(this, 0, startRow - 1);\n\t\t\tlet height = _getRowsHeight(this, startRow, endRow);\n\t\t\tif (isFrozenStartCell && isFrozenStartCell.row) {\n\t\t\t\tconst scrollTop = this[_].scroll.top;\n\t\t\t\tabsoluteTop += scrollTop;\n\t\t\t\tif (!isFrozenEndCell || !isFrozenEndCell.row) {\n\t\t\t\t\theight -= scrollTop;\n\t\t\t\t\theight = Math.max(height, _getColsWidth(this, startRow, this.frozenRowCount - 1));\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn new Rect(absoluteLeft, absoluteTop, width, height);\n\t\t}\n\t\tisFrozenCell(col, row) {\n\t\t\tconst isFrozenRow = this[_].frozenRowCount > 0 && row < this[_].frozenRowCount;\n\t\t\tconst isFrozenCol = this[_].frozenColCount > 0 && col < this[_].frozenColCount;\n\t\t\tif (isFrozenRow || isFrozenCol) {\n\t\t\t\treturn {\n\t\t\t\t\trow: isFrozenRow,\n\t\t\t\t\tcol: isFrozenCol\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t\tgetRowAt(absoluteY) {\n\t\t\tconst frozen = _getTargetFrozenRowAt(this, absoluteY);\n\t\t\tif (frozen) {\n\t\t\t\treturn frozen.row;\n\t\t\t}\n\t\t\tconst row = _getTargetRowAt(this, absoluteY);\n\t\t\treturn row ? row.row : -1;\n\t\t}\n\t\tgetColAt(absoluteX) {\n\t\t\tconst frozen = _getTargetFrozenColAt(this, absoluteX);\n\t\t\tif (frozen) {\n\t\t\t\treturn frozen.col;\n\t\t\t}\n\t\t\tconst col = _getTargetColAt(this, absoluteX);\n\t\t\treturn col ? col.col : -1;\n\t\t}\n\t\tgetCellAt(absoluteX, absoluteY) {\n\t\t\treturn {\n\t\t\t\trow: this.getRowAt(absoluteY),\n\t\t\t\tcol: this.getColAt(absoluteX)\n\t\t\t};\n\t\t}\n\t\tmakeVisibleCell(col, row) {\n\t\t\tconst isFrozenCell = this.isFrozenCell(col, row);\n\t\t\tif (isFrozenCell && isFrozenCell.col && isFrozenCell.row) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst rect = this.getCellRect(col, row);\n\t\t\tconst visibleRect = _getScrollableVisibleRect(this);\n\t\t\tif (visibleRect.contains(rect)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!isFrozenCell || !isFrozenCell.col) {\n\t\t\t\tif (rect.left < visibleRect.left) {\n\t\t\t\t\tthis[_].scrollable.scrollLeft -= visibleRect.left - rect.left;\n\t\t\t\t} else if (visibleRect.right < rect.right) {\n\t\t\t\t\tthis[_].scrollable.scrollLeft -= visibleRect.right - rect.right;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!isFrozenCell || !isFrozenCell.row) {\n\t\t\t\tif (rect.top < visibleRect.top) {\n\t\t\t\t\tthis[_].scrollable.scrollTop -= visibleRect.top - rect.top;\n\t\t\t\t} else if (visibleRect.bottom < rect.bottom) {\n\t\t\t\t\tthis[_].scrollable.scrollTop -= visibleRect.bottom - rect.bottom;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfocusCell(col, row) {\n\t\t\tconst oldEditMode = this[_].focusControl.editMode;\n\t\t\tif (oldEditMode) {\n\t\t\t\tthis[_].focusControl.resetInputStatus();\n\t\t\t}\n\n\t\t\tthis[_].focusControl.setFocusRect(this.getCellRect(col, row));\n\n\t\t\tconst { col: selCol, row: selRow } = this[_].selection.select;\n\t\t\tconst results = this.fireListeners(EVENT_TYPE.EDITABLEINPUT_CELL, { col: selCol, row: selRow });\n\n\t\t\tconst editMode = array.findIndex(results, v => !!v) >= 0;\n\t\t\tthis[_].focusControl.editMode = editMode;\n\n\t\t\tif (editMode) {\n\t\t\t\tthis[_].focusControl.storeInputStatus();\n\t\t\t\tthis[_].focusControl.setDefaultInputStatus();\n\t\t\t\tthis.fireListeners(EVENT_TYPE.MODIFY_STATUS_EDITABLEINPUT_CELL, { col: selCol, row: selRow, input: this[_].focusControl.input });\n\t\t\t}\n\n\t\t\t// Failure occurs in IE if focus is not last\n\t\t\tthis[_].focusControl.focus();\n\t\t}\n\t\tinvalidateCell(col, row) {\n\t\t\tthis.invalidateGridRect(col, row);\n\t\t}\n\t\tinvalidateGridRect(startCol, startRow, endCol = startCol, endRow = startRow) {\n\t\t\tconst offset = this.getOffsetInvalidateCells();\n\t\t\tif (offset > 0) {\n\t\t\t\tstartCol -= offset;\n\t\t\t\tstartRow -= offset;\n\t\t\t\tendCol += offset;\n\t\t\t\tendRow += offset;\n\t\t\t}\n\n\t\t\tconst visibleRect = _getVisibleRect(this);\n\t\t\tconst cellsRect = this.getCellsRect(startCol, startRow, endCol, endRow);\n\t\t\tconst invalidateTarget = visibleRect.intersection(cellsRect);\n\t\t\tif (invalidateTarget) {\n\n\t\t\t\tif (this[_].frozenColCount > 0 && endCol >= this[_].frozenColCount) {\n\t\t\t\t\tconst frozenRect = _getFrozenColsRect(this);\n\t\t\t\t\tif (frozenRect.intersection(invalidateTarget)) {\n\t\t\t\t\t\tinvalidateTarget.left = Math.min(frozenRect.right - 1, frozenRect.right);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (this[_].frozenRowCount > 0 && endRow >= this[_].frozenRowCount) {\n\t\t\t\t\tconst frozenRect = _getFrozenRowsRect(this);\n\t\t\t\t\tif (frozenRect.intersection(invalidateTarget)) {\n\t\t\t\t\t\tinvalidateTarget.top = Math.min(frozenRect.bottom - 1, invalidateTarget.top);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t_invalidateRect(this, invalidateTarget);\n\t\t\t}\n\t\t}\n\t\tinvalidate() {\n\t\t\tconst visibleRect = _getVisibleRect(this);\n\t\t\t_invalidateRect(this, visibleRect);\n\t\t}\n\t\t/**\r\n   * get cell value at copy action\r\n   * <p>\r\n   * Please implement\r\n   * </p>\r\n   *\r\n   * @protected\r\n   * @param  {number} col Column index of cell.\r\n   * @param  {number} row Row index of cell.\r\n   * @return {string}\r\n   */\n\t\tgetCopyCellValue(col, row) {}\n\t\t//Please implement get cell value!!\n\n\t\t/**\r\n   * Draw a cell\r\n   * <p>\r\n   * Please implement cell drawing.\r\n   * </p>\r\n   *\r\n   * @protected\r\n   * @param  {number} col Column index of cell.\r\n   * @param  {number} row Row index of cell.\r\n   * @param  {DrawCellContext} context context of cell drawing.\r\n   * @return {void}\r\n   */\n\t\tonDrawCell(col, row, context) {\n\t\t\t//Please implement cell drawing!!\n\t\t}\n\t\taddDisposable(disposable) {\n\t\t\tif (!disposable || !disposable.dispose || typeof disposable.dispose !== 'function') {\n\t\t\t\tthrow new Error('not disposable!');\n\t\t\t}\n\t\t\tconst disposables = this[_].disposables = this[_].disposables || [];\n\t\t\tdisposables.push(disposable);\n\t\t}\n\t\tdispose() {\n\t\t\tsuper.dispose();\n\t\t\tthis[_].handler.dispose();\n\t\t\tthis[_].scrollable.dispose();\n\t\t\tthis[_].focusControl.dispose();\n\t\t\tthis[_].columnResizer.dispose();\n\t\t\tthis[_].cellSelector.dispose();\n\t\t\tif (this[_].disposables) {\n\t\t\t\tthis[_].disposables.forEach(disposable => disposable.dispose());\n\t\t\t\tthis[_].disposables = null;\n\t\t\t}\n\n\t\t\tconst { parentElement } = this[_].element;\n\t\t\tif (parentElement) {\n\t\t\t\tparentElement.removeChild(this[_].element);\n\t\t\t}\n\t\t}\n\t\tgetAttachCellArea(col, row) {\n\t\t\treturn {\n\t\t\t\telement: this.getElement(),\n\t\t\t\trect: _toRelativeRect(this, this.getCellRect(col, row))\n\t\t\t};\n\t\t}\n\t\tbindEventsInternal() {\n\t\t\t//nop\n\t\t}\n\t\tgetTargetRowAtInternal(absoluteY) {\n\t\t\t// \n\t\t}\n\t\tgetRowsHeightInternal(startRow, endRow) {\n\t\t\t// \n\t\t}\n\t\tgetRowHeightInternal(row) {\n\t\t\t// \n\t\t}\n\t\tgetScrollHeightInternal(row) {\n\t\t\t// \n\t\t}\n\t\tgetMoveLeftColByKeyDownInternal({ col, row }) {\n\t\t\treturn col - 1;\n\t\t}\n\t\tgetMoveRightColByKeyDownInternal({ col, row }) {\n\t\t\treturn col + 1;\n\t\t}\n\t\tgetMoveUpRowByKeyDownInternal({ col, row }) {\n\t\t\treturn row - 1;\n\t\t}\n\t\tgetMoveDownRowByKeyDownInternal({ col, row }) {\n\t\t\treturn row + 1;\n\t\t}\n\t\tgetOffsetInvalidateCells() {\n\t\t\treturn 0;\n\t\t}\n\t\t_getInitContext() {\n\t\t\tconst ctx = this[_].context;\n\t\t\t//\n\t\t\tctx.fillStyle = 'white';\n\t\t\tctx.strokeStyle = 'black';\n\t\t\tctx.textAlign = 'left';\n\t\t\tctx.textBaseline = 'top';\n\t\t\tctx.lineWidth = 1;\n\t\t\tctx.font = this.font || '16px sans-serif';\n\t\t\treturn ctx;\n\t\t}\n\t}\n\n\tmodule.exports = DrawGrid;\n}\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst { obj: { each } } = __webpack_require__(0);\n\tlet nextId = 1;\n\n\tclass EventHandler {\n\t\tconstructor() {\n\t\t\tthis._listeners = {};\n\t\t}\n\t\ton(target, type, listener, ...options) {\n\t\t\tif (target.addEventListener) {\n\t\t\t\ttarget.addEventListener(type, listener, ...options);\n\t\t\t}\n\t\t\tconst obj = {\n\t\t\t\ttarget, type, listener, options\n\t\t\t};\n\t\t\tconst id = nextId++;\n\t\t\tthis._listeners[id] = obj;\n\t\t\treturn id;\n\t\t}\n\t\ttryWithOffEvents(target, type, call) {\n\t\t\tconst list = [];\n\t\t\ttry {\n\t\t\t\teach(this._listeners, obj => {\n\t\t\t\t\tif (obj.target === target && obj.type === type) {\n\t\t\t\t\t\tif (obj.target.removeEventListener) {\n\t\t\t\t\t\t\tobj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlist.push(obj);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tcall();\n\t\t\t} finally {\n\t\t\t\tlist.forEach(obj => {\n\t\t\t\t\tif (obj.target.addEventListener) {\n\t\t\t\t\t\tobj.target.addEventListener(obj.type, obj.listener, ...obj.options);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\toff(id) {\n\t\t\tif (!id) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst obj = this._listeners[id];\n\t\t\tif (!obj) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tdelete this._listeners[id];\n\t\t\tif (obj.target.removeEventListener) {\n\t\t\t\tobj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n\t\t\t}\n\t\t}\n\t\tfire(target, type, ...args) {\n\t\t\teach(this._listeners, obj => {\n\t\t\t\tif (obj.target === target && obj.type === type) {\n\t\t\t\t\tobj.listener.call(obj.target, ...args);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\thasListener(target, type) {\n\t\t\tlet result = false;\n\t\t\teach(this._listeners, obj => {\n\t\t\t\tif (obj.target === target && obj.type === type) {\n\t\t\t\t\tresult = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn result;\n\t\t}\n\t\tclear() {\n\t\t\teach(this._listeners, obj => {\n\t\t\t\tif (obj.target.removeEventListener) {\n\t\t\t\t\tobj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis._listeners = {};\n\t\t}\n\t\tdispose() {\n\t\t\tthis.clear();\n\t\t\tthis._listeners = null;\n\t\t}\n\t}\n\n\tmodule.exports = EventHandler;\n}\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\n/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target) {\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = __webpack_require__(62);\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertInto + \" \" + options.insertAt.before);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\toptions.attrs.type = \"text/css\";\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\toptions.attrs.type = \"text/css\";\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tclass Rect {\n\t\tconstructor(left, top, width, height) {\n\t\t\tthis._left = left;\n\t\t\tthis._top = top;\n\t\t\tthis._width = width;\n\t\t\tthis._height = height;\n\t\t}\n\t\tstatic bounds(left, top, right, bottom) {\n\t\t\treturn new Rect(left, top, right - left, bottom - top);\n\t\t}\n\t\tstatic max(rect1, rect2) {\n\t\t\treturn Rect.bounds(Math.min(rect1.left, rect2.left), Math.min(rect1.top, rect2.top), Math.max(rect1.right, rect2.right), Math.max(rect1.bottom, rect2.bottom));\n\t\t}\n\t\tget left() {\n\t\t\treturn this._left;\n\t\t}\n\t\tset left(left) {\n\t\t\tconst { right } = this;\n\t\t\tthis._left = left;\n\t\t\tthis.right = right;\n\t\t}\n\t\tget top() {\n\t\t\treturn this._top;\n\t\t}\n\t\tset top(top) {\n\t\t\tconst { bottom } = this;\n\t\t\tthis._top = top;\n\t\t\tthis.bottom = bottom;\n\t\t}\n\t\tget width() {\n\t\t\treturn this._width;\n\t\t}\n\t\tset width(width) {\n\t\t\tthis._width = width;\n\t\t\tthis._right = undefined;\n\t\t}\n\t\tget height() {\n\t\t\treturn this._height;\n\t\t}\n\t\tset height(height) {\n\t\t\tthis._height = height;\n\t\t\tthis._bottom = undefined;\n\t\t}\n\t\tget right() {\n\t\t\treturn this._right !== undefined ? this._right : this._right = this.left + this.width;\n\t\t}\n\t\tset right(right) {\n\t\t\tthis._right = right;\n\t\t\tthis.width = right - this.left;\n\t\t}\n\t\tget bottom() {\n\t\t\treturn this._bottom !== undefined ? this._bottom : this._bottom = this.top + this.height;\n\t\t}\n\t\tset bottom(bottom) {\n\t\t\tthis._bottom = bottom;\n\t\t\tthis.height = bottom - this.top;\n\t\t}\n\t\toffsetLeft(offset) {\n\t\t\tthis._left += offset;\n\t\t\tthis._right = undefined;\n\t\t}\n\t\toffsetTop(offset) {\n\t\t\tthis._top += offset;\n\t\t\tthis._bottom = undefined;\n\t\t}\n\t\tcopy() {\n\t\t\treturn new Rect(this.left, this.top, this.width, this.height);\n\t\t}\n\t\tintersection(rect) {\n\t\t\tconst x0 = Math.max(this.left, rect.left);\n\t\t\tconst x1 = Math.min(this.left + this.width, rect.left + rect.width);\n\t\t\tif (x0 <= x1) {\n\t\t\t\tconst y0 = Math.max(this.top, rect.top);\n\t\t\t\tconst y1 = Math.min(this.top + this.height, rect.top + rect.height);\n\t\t\t\tif (y0 <= y1) {\n\t\t\t\t\treturn Rect.bounds(x0, y0, x1, y1);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t\tcontains(another) {\n\t\t\treturn this.left <= another.left && this.left + this.width >= another.left + another.width && this.top <= another.top && this.top + this.height >= another.top + another.height;\n\t\t}\n\t\tinPoint(x, y) {\n\t\t\treturn this.left <= x && this.left + this.width >= x && this.top <= y && this.top + this.height >= y;\n\t\t}\n\t}\n\tmodule.exports = Rect;\n}\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\n\tfunction calcBasePosition(ctx, rect, {\n\t\toffset = 0,\n\t\tpadding: {\n\t\t\tleft: paddingLeft = 0,\n\t\t\tright: paddingRight = 0,\n\t\t\ttop: paddingTop = 0,\n\t\t\tbottom: paddingBottom = 0\n\t\t} = {}\n\t} = {}) {\n\t\t// const textAlign = ctx.textAlign || 'left';\n\t\t// const textBaseline = ctx.textBaseline || 'middle';\n\t\t// ctx.textAlign = textAlign;\n\t\t// ctx.textBaseline = textBaseline;\n\n\t\t// let x = rect.left + offset + paddingLeft;\n\t\t// if (textAlign === 'right' || textAlign === 'end') {\n\t\t// \tx = rect.right - offset - paddingRight;\n\t\t// } else if (textAlign === 'center') {\n\t\t// \tx = rect.left + ((rect.width + paddingLeft - paddingRight) / 2);\n\t\t// }\n\t\t// let y = rect.top + offset;\n\t\t// if (textBaseline === 'bottom' || textBaseline === 'alphabetic' || textBaseline === 'ideographic') {\n\t\t// \ty = rect.bottom - offset;\n\t\t// } else if (textBaseline === 'middle') {\n\t\t// \ty = rect.top + (rect.height / 2);\n\t\t// }\n\t\t// return {x, y};\n\t\treturn calcStartPosition(ctx, rect, 0, 0, {\n\t\t\toffset,\n\t\t\tpadding: {\n\t\t\t\tleft: paddingLeft,\n\t\t\t\tright: paddingRight,\n\t\t\t\ttop: paddingTop,\n\t\t\t\tbottom: paddingBottom\n\t\t\t}\n\t\t});\n\t}\n\tfunction calcStartPosition(ctx, rect, width, height, {\n\t\toffset = 0,\n\t\tpadding: {\n\t\t\tleft: paddingLeft = 0,\n\t\t\tright: paddingRight = 0,\n\t\t\ttop: paddingTop = 0,\n\t\t\tbottom: paddingBottom = 0\n\t\t} = {}\n\t} = {}) {\n\t\tconst textAlign = ctx.textAlign || 'left';\n\t\tconst textBaseline = ctx.textBaseline || 'middle';\n\t\tctx.textAlign = textAlign;\n\t\tctx.textBaseline = textBaseline;\n\n\t\tlet x = rect.left + offset + paddingLeft;\n\t\tif (textAlign === 'right' || textAlign === 'end') {\n\t\t\tx = rect.right - width - offset - paddingRight;\n\t\t} else if (textAlign === 'center') {\n\t\t\tx = rect.left + (rect.width - width + paddingLeft - paddingRight) / 2;\n\t\t}\n\t\tlet y = rect.top + offset + paddingTop;\n\t\tif (textBaseline === 'bottom' || textBaseline === 'alphabetic' || textBaseline === 'ideographic') {\n\t\t\ty = rect.bottom - height - offset - paddingBottom;\n\t\t} else if (textBaseline === 'middle') {\n\t\t\ty = rect.top + (rect.height - height + paddingTop - paddingBottom) / 2;\n\t\t}\n\t\treturn { x, y };\n\t}\n\n\tmodule.exports = {\n\t\tcalcBasePosition,\n\t\tcalcStartPosition\n\t};\n}\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst Style = __webpack_require__(3);\n\tconst BaseColumn = __webpack_require__(11);\n\tconst utils = __webpack_require__(21);\n\n\tclass Column extends BaseColumn {\n\t\tget StyleClass() {\n\t\t\treturn Style;\n\t\t}\n\t\tclone() {\n\t\t\treturn new Column(this);\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, { drawCellBase, getIcon }) {\n\t\t\tconst {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tcolor,\n\t\t\t\tfont,\n\t\t\t\tbgColor,\n\t\t\t\tpadding\n\t\t\t} = style;\n\t\t\tif (bgColor) {\n\t\t\t\tdrawCellBase({\n\t\t\t\t\tbgColor\n\t\t\t\t});\n\t\t\t}\n\t\t\thelper.testFontLoad(font, value, context);\n\t\t\tutils.loadIcons(getIcon(), context, helper, (icons, context) => {\n\t\t\t\thelper.text(value, context, {\n\t\t\t\t\ttextAlign,\n\t\t\t\t\ttextBaseline,\n\t\t\t\t\tcolor,\n\t\t\t\t\tfont,\n\t\t\t\t\ticons,\n\t\t\t\t\tpadding\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\tmodule.exports = Column;\n}\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst styleContents = __webpack_require__(35);\n\tconst { isPromise, isDef, obj: { setReadonly } } = __webpack_require__(0);\n\tconst animate = __webpack_require__(32);\n\tconst BaseStyle = __webpack_require__(3);\n\tconst { COLUMN_FADEIN_STATE_ID } = __webpack_require__(1);\n\n\tfunction isFadeinWhenCallbackInPromise(column, grid) {\n\t\tif (isDef(column._fadeinWhenCallbackInPromise)) {\n\t\t\treturn column._fadeinWhenCallbackInPromise;\n\t\t}\n\t\treturn !!grid.configure('fadeinWhenCallbackInPromise');\n\t}\n\n\tfunction getFadinState(grid) {\n\t\tif (!grid[COLUMN_FADEIN_STATE_ID]) {\n\t\t\tsetReadonly(grid, COLUMN_FADEIN_STATE_ID, {});\n\t\t}\n\t\treturn grid[COLUMN_FADEIN_STATE_ID];\n\t}\n\tfunction _generateFadinPointAction(grid, col, row, context, drawInternal, drawCellBase) {\n\t\treturn point => {\n\t\t\tconst state = getFadinState(grid);\n\t\t\tconst stateKey = col + ':' + row;\n\t\t\tif (point === 1) {\n\t\t\t\tdelete state[stateKey];\n\t\t\t} else {\n\t\t\t\tstate[stateKey] = {\n\t\t\t\t\topacity: point\n\t\t\t\t};\n\t\t\t}\n\t\t\tdrawCellBase();\n\n\t\t\tdrawInternal();\n\n\t\t\tconst cellState = state[stateKey];\n\t\t\tif (cellState) {\n\t\t\t\t//\n\t\t\t\tconst ctx = context.getContext();\n\t\t\t\tctx.globalAlpha = 1 - cellState.opacity;\n\t\t\t\ttry {\n\t\t\t\t\tdrawCellBase();\n\t\t\t\t} finally {\n\t\t\t\t\tctx.globalAlpha = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\tconst fadinMgr = {\n\t\tanimate(grid, col, row, context, drawInternal, drawCellBase) {\n\t\t\t// fadein animation\n\t\t\tconst state = getFadinState(grid);\n\n\t\t\tconst activeFadeins = [_generateFadinPointAction(grid, col, row, context, drawInternal, drawCellBase)];\n\t\t\tstate.activeFadeins = activeFadeins;\n\n\t\t\tanimate(500, point => {\n\t\t\t\tactiveFadeins.forEach(f => f(point));\n\t\t\t\tif (point === 1) {\n\t\t\t\t\tdelete state.activeFadeins;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tmargeAnimate(grid, col, row, context, drawInternal, drawCellBase) {\n\t\t\tconst state = getFadinState(grid);\n\t\t\tif (state.activeFadeins) {\n\t\t\t\tstate.activeFadeins.push(_generateFadinPointAction(grid, col, row, context, drawInternal, drawCellBase));\n\t\t\t} else {\n\t\t\t\tdrawInternal();\n\t\t\t}\n\t\t}\n\n\t};\n\n\tclass BaseColumn {\n\t\tconstructor(option = {}) {\n\t\t\tthis.onDrawCell = this.onDrawCell.bind(this); //\n\n\t\t\t//Promisecallback\n\t\t\tthis._fadeinWhenCallbackInPromise = option.fadeinWhenCallbackInPromise;\n\t\t}\n\t\tget StyleClass() {\n\t\t\treturn BaseStyle;\n\t\t}\n\t\tonDrawCell(cellValue, info, context, grid) {\n\t\t\tconst { style, getRecord, drawCellBase } = info;\n\t\t\tdelete info.getRecord;\n\t\t\tdelete info.style;\n\t\t\tconst helper = grid.getGridCanvasHelper();\n\t\t\tdrawCellBase();\n\n\t\t\t//\n\t\t\tif (isPromise(cellValue)) {\n\t\t\t\tif (context.drawing) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tconst start = Date.now();\n\t\t\t\treturn cellValue.then(val => {\n\t\t\t\t\tconst currentContext = context.toCurrentContext();\n\t\t\t\t\tconst drawRect = currentContext.getDrawRect();\n\t\t\t\t\tif (!drawRect) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tconst time = Date.now() - start;\n\n\t\t\t\t\tconst drawInternal = () => {\n\t\t\t\t\t\tconst currentContext = context.toCurrentContext();\n\t\t\t\t\t\tconst drawRect = currentContext.getDrawRect();\n\t\t\t\t\t\tif (!drawRect) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst actStyle = styleContents.of(style, getRecord(), this.StyleClass);\n\t\t\t\t\t\tthis.drawInternal(this.convertInternal(val), currentContext, actStyle, helper, grid, info);\n\t\t\t\t\t\tthis.drawMessageInternal(info.getMessage(), context, actStyle, helper, grid, info);\n\t\t\t\t\t};\n\n\t\t\t\t\tif (!isFadeinWhenCallbackInPromise(this, grid)) {\n\t\t\t\t\t\tdrawInternal(); //\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst { col, row } = context;\n\t\t\t\t\t\tif (time < 80) {\n\t\t\t\t\t\t\t//80msPromiseCallback\n\t\t\t\t\t\t\tfadinMgr.margeAnimate(grid, col, row, context, drawInternal, drawCellBase);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\tfadinMgr.animate(grid, col, row, context, drawInternal, drawCellBase);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tconst actStyle = styleContents.of(style, getRecord(), this.StyleClass);\n\t\t\t\tthis.drawInternal(this.convertInternal(cellValue), context, actStyle, helper, grid, info);\n\t\t\t\tthis.drawMessageInternal(info.getMessage(), context, actStyle, helper, grid, info);\n\t\t\t\t//\n\t\t\t\tconst { col, row } = context;\n\t\t\t\tconst stateKey = col + ':' + row;\n\t\t\t\tconst cellState = grid[COLUMN_FADEIN_STATE_ID] && grid[COLUMN_FADEIN_STATE_ID][stateKey];\n\t\t\t\tif (cellState) {\n\t\t\t\t\tconst ctx = context.getContext();\n\t\t\t\t\tctx.globalAlpha = 1 - cellState.opacity;\n\t\t\t\t\ttry {\n\t\t\t\t\t\tdrawCellBase();\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tctx.globalAlpha = 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t\tclone() {\n\t\t\treturn new BaseColumn(this);\n\t\t}\n\t\tconvertInternal(value) {\n\t\t\treturn isDef(value) ? value : '';\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, info) {}\n\t\tdrawMessageInternal(message, context, style, helper, grid, info) {\n\t\t\tinfo.messageHandler.drawCellMessage(message, context, style, helper, info);\n\t\t}\n\t\tbindGridEvent(grid, col, util) {\n\t\t\treturn [];\n\t\t}\n\t}\n\tmodule.exports = BaseColumn;\n}\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst { isDef } = __webpack_require__(0);\nclass Inline {\n\tconstructor(content) {\n\t\tthis._content = isDef(content) ? content : '';\n\t}\n\twidth({ ctx }) {\n\t\treturn ctx.measureText(this._content).width;\n\t}\n\tfont() {\n\t\treturn null;\n\t}\n\tcolor() {\n\t\treturn null;\n\t}\n\tcanDraw() {\n\t\treturn true;\n\t}\n\tonReady(fn) {}\n\tdraw({\n\t\tctx,\n\t\tcanvashelper,\n\t\trect,\n\t\toffset,\n\t\toffsetLeft,\n\t\toffsetRight,\n\t\toffsetTop,\n\t\toffsetBottom\n\t}) {\n\t\tcanvashelper.fillTextRect(ctx, this._content, rect.left, rect.top, rect.width, rect.height, {\n\t\t\toffset: offset + 1,\n\t\t\tpadding: {\n\t\t\t\tleft: offsetLeft,\n\t\t\t\tright: offsetRight,\n\t\t\t\ttop: offsetTop,\n\t\t\t\tbottom: offsetBottom\n\t\t\t}\n\t\t});\n\t}\n}\nmodule.exports = Inline;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst { isDef, obj: { each } } = __webpack_require__(0);\n\t//private symbol\n\tconst { _ } = __webpack_require__(1).get();\n\n\tlet nextId = 1;\n\t/**\r\n  * event target.\r\n  */\n\tclass EventTarget {\n\t\tconstructor() {\n\t\t\tthis[_] = {};\n\t\t\tthis[_].listeners = {};\n\t\t\tthis[_].listenerData = {};\n\t\t}\n\t\t/**\r\n   * Adds an event listener.\r\n   * @param  {string} type The event type id.\r\n   * @param  {function} listener Callback method.\r\n   * @return {number} unique id for the listener.\r\n   */\n\t\tlisten(type, listener) {\n\t\t\tconst list = this[_].listeners[type] || (this[_].listeners[type] = []);\n\t\t\tlist.push(listener);\n\n\t\t\tconst id = nextId++;\n\t\t\tthis[_].listenerData[id] = {\n\t\t\t\ttype,\n\t\t\t\tlistener,\n\t\t\t\tremove: () => {\n\t\t\t\t\tdelete this[_].listenerData[id];\n\t\t\t\t\tconst index = list.indexOf(listener);\n\t\t\t\t\tlist.splice(index, 1);\n\t\t\t\t\tif (!this[_].listeners[type].length) {\n\t\t\t\t\t\tdelete this[_].listeners[type];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn id;\n\t\t}\n\t\t/**\r\n   * Removes an event listener which was added with listen() by the id returned by listen().\r\n   * @param  {number} id the id returned by listen().\r\n   * @return {void}\r\n   */\n\t\tunlisten(id) {\n\t\t\tthis[_].listenerData[id].remove();\n\t\t}\n\t\taddEventListener(type, listener) {\n\t\t\tthis.listen(type, listener);\n\t\t}\n\t\tremoveEventListener(type, listener) {\n\t\t\teach(this[_].listenerData, (obj, id) => {\n\t\t\t\tif (obj.type === type && obj.listener === listener) {\n\t\t\t\t\tthis.unlisten(id);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\thasListeners(type) {\n\t\t\treturn !!this[_].listeners[type];\n\t\t}\n\t\t/**\r\n   * Fires all registered listeners\r\n   * @param  {string}    type The type of the listeners to fire.\r\n   * @param  {...*} args fire arguments\r\n   * @return {*} the result of the last listener\r\n   */\n\t\tfireListeners(type, ...args) {\n\t\t\tconst list = this[_].listeners[type];\n\t\t\tif (!list) {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t\treturn list.map(listener => listener.call(this, ...args)).filter(isDef);\n\t\t}\n\t\tdispose() {\n\t\t\tdelete this[_];\n\t\t}\n\t}\n\n\tmodule.exports = EventTarget;\n}\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\n\tconst BaseAction = __webpack_require__(18);\n\tclass Editor extends BaseAction {\n\t\tconstructor(option = {}) {\n\t\t\tsuper(option);\n\t\t\tthis._readOnly = option.readOnly;\n\t\t}\n\t\tget readOnly() {\n\t\t\treturn this._readOnly;\n\t\t}\n\t\tset readOnly(readOnly) {\n\t\t\tthis._readOnly = !!readOnly;\n\t\t\tthis.onChangeReadOnlyInternal();\n\t\t}\n\t\tclone() {\n\t\t\treturn new Editor(this);\n\t\t}\n\t\tonChangeReadOnlyInternal() {}\n\t}\n\tmodule.exports = Editor;\n}\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst { isDef } = __webpack_require__(0);\n\nfunction createElement(tagName, { classList, text, html } = {}) {\n\tconst element = document.createElement(tagName);\n\tif (classList) {\n\t\tif (__webpack_provided_Array_dot_isArray(classList)) {\n\t\t\telement.classList.add(...classList);\n\t\t} else {\n\t\t\telement.classList.add(classList);\n\t\t}\n\t}\n\tif (text) {\n\t\telement.textContent = text;\n\t} else if (html) {\n\t\telement.innerHTML = html;\n\t}\n\treturn element;\n}\n\nfunction empty(dom) {\n\tlet c;\n\twhile (c = dom.firstChild) {\n\t\tdom.removeChild(c);\n\t}\n}\nfunction isNode(arg) {\n\treturn !!(arg.nodeType && arg.nodeName);\n}\nfunction toNode(arg) {\n\tif (isNode(arg)) {\n\t\treturn arg;\n\t}\n\tconst dom = createElement('div', { html: arg });\n\treturn Array.prototype.slice.call(dom.childNodes);\n}\nfunction toNodeList(arg) {\n\tif (window.jQuery && arg instanceof window.jQuery) {\n\t\treturn Array.prototype.map.call(arg, a => a);\n\t}\n\tif (__webpack_provided_Array_dot_isArray(arg)) {\n\t\treturn arg.map(toNode);\n\t}\n\treturn [toNode(arg)];\n}\n\nfunction appendHtml(dom, inner) {\n\ttoNodeList(inner).forEach(node => {\n\t\tdom.appendChild(node);\n\t});\n}\n\nfunction disableFocus(el) {\n\tel.dataset.disableBeforeTabIndex = el.tabIndex;\n\tel.tabIndex = -1;\n\tArray.prototype.slice.call(el.children, 0).forEach(disableFocus);\n}\nfunction enableFocus(el) {\n\tif ('disableBeforeTabIndex' in el.dataset) {\n\t\tel.tabIndex = el.dataset.disableBeforeTabIndex;\n\t}\n\tArray.prototype.slice.call(el.children, 0).forEach(enableFocus);\n}\n\nfunction isFocusable(el) {\n\treturn isDef(el.tabIndex) && el.tabIndex > -1;\n}\nfunction findPrevSiblingFocusable(el) {\n\tlet n = el.previousSibling;\n\twhile (n && !isFocusable(n)) {\n\t\tn = n.previousSibling;\n\t}\n\treturn n;\n}\nfunction findNextSiblingFocusable(el) {\n\tlet n = el.nextSibling;\n\twhile (n && !isFocusable(n)) {\n\t\tn = n.nextSibling;\n\t}\n\treturn n;\n}\n\nmodule.exports = {\n\tcreateElement,\n\tempty,\n\tisNode,\n\ttoNode,\n\ttoNodeList,\n\tappendHtml,\n\tdisableFocus,\n\tenableFocus,\n\tisFocusable,\n\tfindPrevSiblingFocusable,\n\tfindNextSiblingFocusable\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst BaseStyle = __webpack_require__(54);\n\tconst Style = __webpack_require__(115);\n\n\tconst style = {\n\t\tget BaseStyle() {\n\t\t\treturn BaseStyle;\n\t\t},\n\t\tget Style() {\n\t\t\treturn Style;\n\t\t},\n\t\tof(columnStyle, StyleClass) {\n\t\t\tif (columnStyle) {\n\t\t\t\tif (columnStyle instanceof Style) {\n\t\t\t\t\treturn columnStyle;\n\t\t\t\t} else if (typeof columnStyle === 'function') {\n\t\t\t\t\treturn style.of(columnStyle(), StyleClass);\n\t\t\t\t}\n\t\t\t\treturn new StyleClass(columnStyle);\n\t\t\t} else {\n\t\t\t\treturn StyleClass.DEFAULT;\n\t\t\t}\n\t\t}\n\t};\n\tmodule.exports = style;\n}\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction parse(calcStr) {\n\tfunction replacer(match, num, unit) {\n\t\tswitch (unit) {\n\t\t\tcase '%':\n\t\t\t\treturn `(${num} * this.full / 100)`;\n\t\t\tcase 'em':\n\t\t\t\treturn `(${num} * this.em)`;\n\t\t\tcase 'px':\n\t\t\t\treturn `(${num})`;\n\t\t\tdefault:\n\t\t\t\tthrow new Error('calc error');\n\t\t}\n\t}\n\tconst script = calcStr.replace(/^calc\\((.*)\\)$/, '$1').replace(/(\\d+)([A-Za-z%]+)/g, replacer).replace(/(\\d*\\.\\d+)([A-Za-z%]+)/g, replacer);\n\treturn {\n\t\teval(context) {\n\t\t\treturn (() => {\n\t\t\t\tfunction calc(v) {\n\t\t\t\t\t// eslint-disable-line no-unused-vars\n\t\t\t\t\treturn v;\n\t\t\t\t}\n\t\t\t\treturn eval(script); // eslint-disable-line no-eval\n\t\t\t}).call(context);\n\t\t}\n\t};\n}\nfunction toPx(value, context) {\n\tif (/^calc\\(.*\\)$/.test(value)) {\n\t\treturn parse(value).eval(context);\n\t}\n\tif (/^[+-]?\\d+\\.?\\d*%$/.test(value)) {\n\t\treturn context.full * value.substr(0, value.length - 1) / 100;\n\t}\n\tif (/^[+-]?\\d+\\.?\\d*px$/.test(value)) {\n\t\treturn value.substr(0, value.length - 2) - 0;\n\t}\n\tif (/^[+-]?\\d+\\.?\\d*em$/.test(value)) {\n\t\treturn context.em * (value.substr(0, value.length - 2) - 0);\n\t}\n\treturn value - 0;\n}\n\nmodule.exports = {\n\tparse,\n\ttoPx(value, context) {\n\t\tif (typeof value === 'string') {\n\t\t\treturn toPx(value.trim(), context);\n\t\t}\n\t\treturn value - 0;\n\t}\n};\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\n\tclass BaseAction {\n\t\tconstructor(option = {}) {\n\t\t\tthis._disabled = option.disabled;\n\t\t}\n\t\tget disabled() {\n\t\t\treturn this._disabled;\n\t\t}\n\t\tset disabled(disabled) {\n\t\t\tthis._disabled = !!disabled;\n\t\t\tthis.onChangeDisabledInternal();\n\t\t}\n\t\tclone() {\n\t\t\treturn new BaseAction(this);\n\t\t}\n\t\tbindGridEvent(grid, col, util) {\n\t\t\treturn [];\n\t\t}\n\t\tonChangeDisabledInternal() {}\n\t}\n\tmodule.exports = BaseAction;\n}\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst BaseStyle = __webpack_require__(20);\n\n\tlet defaultStyle;\n\tclass StdBaseStyle extends BaseStyle {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : defaultStyle = new StdBaseStyle();\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(style);\n\t\t\tthis._textAlign = style.textAlign || 'left';\n\t\t\tthis._textBaseline = style.textBaseline || 'middle';\n\t\t}\n\t\tget textAlign() {\n\t\t\treturn this._textAlign;\n\t\t}\n\t\tset textAlign(textAlign) {\n\t\t\tthis._textAlign = textAlign;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget textBaseline() {\n\t\t\treturn this._textBaseline;\n\t\t}\n\t\tset textBaseline(textBaseline) {\n\t\t\tthis._textBaseline = textBaseline;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tclone() {\n\t\t\treturn new StdBaseStyle(this);\n\t\t}\n\t}\n\tmodule.exports = StdBaseStyle;\n}\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst EventTarget = __webpack_require__(13);\n\n\tconst EVENT_TYPE = {\n\t\tCHANGE_STYLE: 'change_style'\n\t};\n\n\tlet defaultStyle;\n\tclass BaseStyle extends EventTarget {\n\t\tstatic get EVENT_TYPE() {\n\t\t\treturn EVENT_TYPE;\n\t\t}\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : defaultStyle = new BaseStyle();\n\t\t}\n\t\tconstructor({\n\t\t\tbgColor\n\t\t} = {}) {\n\t\t\tsuper();\n\t\t\tthis._bgColor = bgColor;\n\t\t}\n\t\tget bgColor() {\n\t\t\treturn this._bgColor;\n\t\t}\n\t\tset bgColor(bgColor) {\n\t\t\tthis._bgColor = bgColor;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tdoChangeStyle() {\n\t\t\tthis.fireListeners(EVENT_TYPE.CHANGE_STYLE);\n\t\t}\n\t\tclone() {\n\t\t\treturn new BaseStyle(this);\n\t\t}\n\t}\n\tmodule.exports = BaseStyle;\n}\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst { isPromise } = __webpack_require__(0);\n\tconst icons = __webpack_require__(22);\n\tmodule.exports = {\n\t\tloadIcons(icon, context, helper, callback) {\n\t\t\tif (icon) {\n\t\t\t\tif (isPromise(icon)) {\n\t\t\t\t\ticon.then(i => {\n\t\t\t\t\t\tthis.loadIcon(i, context.toCurrentContext(), callback);\n\t\t\t\t\t});\n\t\t\t\t\ticon = null;\n\t\t\t\t} else {\n\t\t\t\t\tconst iconList = icons.toNormarizeArray(icon);\n\t\t\t\t\ticonList.forEach(i => {\n\t\t\t\t\t\thelper.testFontLoad(i.font, i.content, context);\n\t\t\t\t\t});\n\t\t\t\t\ticon = iconList;\n\t\t\t\t}\n\t\t\t}\n\t\t\tcallback(icon, context);\n\t\t}\n\t};\n}\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst { isDef } = __webpack_require__(0);\n\nconst ICON_PROP_KEYS = ['content', 'font', 'color', 'className', 'isLiga', 'width', 'src', 'svg', 'name', 'path'];\n\nfunction quote(name) {\n\tconst quoted = [];\n\tconst split = name.split(/,\\s*/);\n\tfor (let i = 0; i < split.length; i++) {\n\t\tconst part = split[i].replace(/['\"]/g, '');\n\t\tif (part.indexOf(' ') === -1 && !/^\\d/.test(part)) {\n\t\t\tquoted.push(part);\n\t\t} else {\n\t\t\tquoted.push('\\'' + part + '\\'');\n\t\t}\n\t}\n\treturn quoted.join(',');\n}\n\nconst doms = {};\nconst props = {};\n\nfunction getIconProps(tagName, className) {\n\tconst tagProps = props[tagName] || (props[tagName] = {});\n\tif (tagProps[className]) {\n\t\treturn tagProps[className];\n\t}\n\tconst dom = doms[tagName] || (doms[tagName] = document.createElement(tagName));\n\tdom.className = className;\n\tdocument.body.appendChild(dom);\n\ttry {\n\t\tconst beforeStyle = document.defaultView.getComputedStyle(dom, '::before');\n\t\tlet content = beforeStyle.getPropertyValue('content');\n\t\tif (content.length >= 3 && (content[0] === '\"' || content[0] === '\\'')) {\n\t\t\tif (content[0] === content[content.length - 1]) {\n\t\t\t\tcontent = content.substr(1, content.length - 2);\n\t\t\t}\n\t\t}\n\t\tlet font = beforeStyle.getPropertyValue('font');\n\t\tif (!font) {\n\t\t\tfont = beforeStyle.getPropertyValue('font-style') + ' ' + beforeStyle.getPropertyValue('font-variant') + ' ' + beforeStyle.getPropertyValue('font-weight') + ' ' + beforeStyle.getPropertyValue('font-size') + '/' + beforeStyle.getPropertyValue('line-height') + ' ' + quote(beforeStyle.getPropertyValue('font-family'));\n\t\t}\n\t\tconst color = beforeStyle.getPropertyValue('color');\n\t\tconst width = dom.clientWidth;\n\t\tconst isLiga = (beforeStyle.getPropertyValue('font-feature-settings') || '').indexOf('liga') > -1;\n\n\t\treturn tagProps[className] = {\n\t\t\tcontent,\n\t\t\tfont,\n\t\t\tcolor,\n\t\t\twidth,\n\t\t\tisLiga\n\t\t};\n\t} finally {\n\t\tdocument.body.removeChild(dom);\n\t}\n}\n\nfunction toPropArray(prop, count) {\n\tconst result = [];\n\tif (__webpack_provided_Array_dot_isArray(prop)) {\n\t\tresult.push(...prop);\n\t\tfor (let i = prop.length; i < count; i++) {\n\t\t\tresult.push(null);\n\t\t}\n\t} else {\n\t\tfor (let i = 0; i < count; i++) {\n\t\t\tresult.push(prop);\n\t\t}\n\t}\n\treturn result;\n}\n\nfunction toSimpleArray(iconProps) {\n\tif (!iconProps) {\n\t\treturn iconProps;\n\t} else if (__webpack_provided_Array_dot_isArray(iconProps)) {\n\t\treturn iconProps;\n\t}\n\n\tconst workData = {};\n\n\tlet count = 0;\n\tICON_PROP_KEYS.forEach(k => {\n\t\tif (iconProps[k]) {\n\t\t\tif (__webpack_provided_Array_dot_isArray(iconProps[k])) {\n\t\t\t\tcount = Math.max(count, iconProps[k].length);\n\t\t\t} else {\n\t\t\t\tcount = Math.max(count, 1);\n\t\t\t}\n\t\t}\n\t});\n\n\tICON_PROP_KEYS.forEach(k => {\n\t\tworkData[k] = toPropArray(iconProps[k], count);\n\t});\n\n\tconst result = [];\n\tfor (let i = 0; i < count; i++) {\n\t\tconst data = {};\n\t\tICON_PROP_KEYS.forEach(k => {\n\t\t\tdata[k] = workData[k][i];\n\t\t});\n\t\tresult.push(data);\n\t}\n\treturn result;\n}\n\nfunction normarize(iconProps) {\n\tconst data = {};\n\tfor (const k in iconProps) {\n\t\tif (k === 'className') {\n\t\t\tcontinue;\n\t\t}\n\t\tdata[k] = iconProps[k];\n\t}\n\tif (iconProps.className) {\n\t\tconst prop = getIconProps(iconProps.tagName || 'i', iconProps.className);\n\t\tfor (const k in prop) {\n\t\t\tif (!isDef(iconProps[k])) {\n\t\t\t\tdata[k] = prop[k];\n\t\t\t}\n\t\t}\n\t}\n\treturn data;\n}\n\nmodule.exports = {\n\ttoNormarizeArray(iconProps) {\n\t\tconst icons = toSimpleArray(iconProps);\n\t\tif (!icons) {\n\t\t\treturn icons;\n\t\t}\n\t\treturn icons.map(icon => normarize(icon));\n\t},\n\tget iconPropKeys() {\n\t\treturn ICON_PROP_KEYS;\n\t},\n\tgetIconProps\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst { extend, getIgnoreCase } = __webpack_require__(0);\n\tconst theme = __webpack_require__(92);\n\tconst plugins = __webpack_require__(44);\n\tconst BASIC = theme.create(__webpack_require__(93));\n\tconst MATERIAL_DESIGN = theme.create(__webpack_require__(43));\n\n\tconst builtin = {\n\t\tBASIC,\n\t\tMATERIAL_DESIGN\n\t};\n\tlet defTheme = theme.create({});\n\t/**\r\n  * themes\r\n  * @type {Object}\r\n  * @namespace cheetahGrid.themes\r\n  * @memberof cheetahGrid\r\n  */\n\tconst themes = {\n\t\tget default() {\n\t\t\treturn defTheme;\n\t\t},\n\t\tset default(defaultTheme) {\n\t\t\tdefTheme = defaultTheme;\n\t\t},\n\t\ttheme,\n\t\tof(value) {\n\t\t\tif (!value) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (typeof value === 'string') {\n\t\t\t\tconst t = getIgnoreCase(themes.choices, value);\n\t\t\t\tif (t) {\n\t\t\t\t\treturn t;\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn value;\n\t\t},\n\t\t/**\r\n   * @namespace cheetahGrid.themes.choices\r\n   */\n\t\tget choices() {\n\t\t\treturn extend(builtin, plugins);\n\t\t}\n\t};\n\tmodule.exports = themes;\n}\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction getPath2D() {\n\t//return require('./legacy/canvas/Path2D');\n\treturn window.Path2D || __webpack_require__(103);\n}\n\nmodule.exports = {\n\tfill(module, ctx, x, y, w, h) {\n\t\tctx.save();\n\t\ttry {\n\t\t\tconst { width, height } = module;\n\t\t\tconst { ud: upsideDown, x: offsetX = 0, y: offsetY = 0 } = module;\n\t\t\tw = w || width;\n\t\t\th = h || height;\n\t\t\tconst xrate = w / width;\n\t\t\tconst yrate = h / (upsideDown ? -height : height);\n\t\t\tx = x || 0;\n\t\t\ty = upsideDown ? (y || 0) + -height * yrate : y || 0;\n\n\t\t\tctx.translate(x, y);\n\t\t\tctx.scale(xrate, yrate);\n\t\t\tif (offsetX !== 0 || offsetY !== 0) {\n\t\t\t\tctx.translate(offsetX, offsetY);\n\t\t\t}\n\t\t\tconst Path2D = getPath2D();\n\t\t\tmodule.path2d = module.path2d || new Path2D(module.d);\n\t\t\tctx.fill(module.path2d);\n\t\t} finally {\n\t\t\tctx.restore();\n\t\t}\n\t},\n\tget Path2D() {\n\t\treturn getPath2D();\n\t}\n};\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst MultilineTextStyle = __webpack_require__(26);\n\tconst BaseColumn = __webpack_require__(11);\n\tconst utils = __webpack_require__(21);\n\tclass MultilineTextColumn extends BaseColumn {\n\t\tconstructor(option = {}) {\n\t\t\tsuper(option);\n\t\t}\n\t\tget StyleClass() {\n\t\t\treturn MultilineTextStyle;\n\t\t}\n\t\tclone() {\n\t\t\treturn new MultilineTextColumn(this);\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, { drawCellBase, getIcon }) {\n\t\t\tconst {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tcolor,\n\t\t\t\tfont,\n\t\t\t\tbgColor,\n\t\t\t\tpadding,\n\t\t\t\tlineHeight\n\t\t\t} = style;\n\t\t\tif (bgColor) {\n\t\t\t\tdrawCellBase({\n\t\t\t\t\tbgColor\n\t\t\t\t});\n\t\t\t}\n\t\t\tconst multilines = value.replace(/\\r?\\n/g, '\\n').replace(/\\r/g, '\\n').split('\\n');\n\t\t\thelper.testFontLoad(font, value, context);\n\t\t\tutils.loadIcons(getIcon(), context, helper, (icons, context) => {\n\t\t\t\thelper.multilineText(multilines, context, {\n\t\t\t\t\ttextAlign,\n\t\t\t\t\ttextBaseline,\n\t\t\t\t\tcolor,\n\t\t\t\t\tfont,\n\t\t\t\t\ticons,\n\t\t\t\t\tpadding,\n\t\t\t\t\tlineHeight\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\tmodule.exports = MultilineTextColumn;\n}\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst Style = __webpack_require__(3);\n\n\tfunction adj(style) {\n\t\tconst { textBaseline = 'top' } = style;\n\t\tstyle.textBaseline = textBaseline;\n\t\treturn style;\n\t}\n\tlet defaultStyle;\n\tclass MultilineTextStyle extends Style {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : defaultStyle = new MultilineTextStyle();\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(adj(style));\n\t\t\tthis._lineHeight = style.lineHeight || '1em';\n\t\t}\n\t\tclone() {\n\t\t\treturn new MultilineTextStyle(this);\n\t\t}\n\t\tget lineHeight() {\n\t\t\treturn this._lineHeight;\n\t\t}\n\t\tset lineHeight(lineHeight) {\n\t\t\tthis._lineHeight = lineHeight;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t}\n\n\tmodule.exports = MultilineTextStyle;\n}\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tfunction getScrollBarWidth() {\n\t\tconst dummy = document.createElement('div');\n\t\tconst { style } = dummy;\n\t\tstyle.position = 'absolute';\n\t\tstyle.height = '9999px';\n\t\tstyle.width = 'calc(100vw - 100%)';\n\t\tstyle.opacity = 0;\n\t\tdummy.textContent = 'x';\n\t\tdocument.body.appendChild(dummy);\n\t\tconst { width } = document.defaultView.getComputedStyle(dummy, '');\n\t\tdocument.body.removeChild(dummy);\n\t\treturn parseInt(width, 10);\n\t}\n\n\tlet SCROLLBAR_SIZE;\n\tconst initDocument = () => {\n\t\t__webpack_require__(60);\n\t\tSCROLLBAR_SIZE = getScrollBarWidth() || 10;\n\t\tconst style = document.createElement('style');\n\t\tstyle.setAttribute('type', 'text/css');\n\t\tstyle.setAttribute('data-name', 'cheetah-grid');\n\t\tstyle.innerHTML = `\n.cheetah-grid .grid-scroll-end-point {\n\twidth: ${SCROLLBAR_SIZE}px;\n\theight: ${SCROLLBAR_SIZE}px;\n}\n.cheetah-grid > canvas {\n\twidth: -webkit-calc(100% - ${SCROLLBAR_SIZE}px);\n\twidth: calc(100% - ${SCROLLBAR_SIZE}px);\n\theight: -webkit-calc(100% - ${SCROLLBAR_SIZE}px);\n\theight: calc(100% - ${SCROLLBAR_SIZE}px);\n}\n\t\t`;\n\n\t\tdocument.head.appendChild(style);\n\t};\n\n\tconst style = {\n\t\tinitDocument() {\n\t\t\tstyle.initDocument = () => {};\n\t\t\tinitDocument();\n\t\t},\n\t\tgetScrollBarSize() {\n\t\t\treturn SCROLLBAR_SIZE;\n\t\t}\n\t};\n\n\tmodule.exports = style;\n}\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst { calcBasePosition, calcStartPosition } = __webpack_require__(9);\n\tconst { ceil, PI } = Math;\n\n\tfunction strokeColorsRect(ctx, borderColors, left, top, width, height) {\n\t\tfunction strokeRectLines(positions) {\n\t\t\tfor (let i = 0; i < borderColors.length; i++) {\n\t\t\t\tconst color = borderColors[i];\n\t\t\t\tconst preColor = borderColors[i - 1];\n\t\t\t\tif (color) {\n\t\t\t\t\tif (preColor !== color) {\n\t\t\t\t\t\tif (preColor) {\n\t\t\t\t\t\t\tctx.strokeStyle = preColor;\n\t\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst pos1 = positions[i];\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tctx.moveTo(pos1.x, pos1.y);\n\t\t\t\t\t}\n\t\t\t\t\tconst pos2 = positions[i + 1];\n\t\t\t\t\tctx.lineTo(pos2.x, pos2.y);\n\t\t\t\t} else {\n\t\t\t\t\tif (preColor) {\n\t\t\t\t\t\tctx.strokeStyle = preColor;\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst preColor = borderColors[borderColors.length - 1];\n\t\t\tif (preColor) {\n\t\t\t\tctx.strokeStyle = preColor;\n\t\t\t\tctx.stroke();\n\t\t\t}\n\t\t}\n\t\tif (borderColors[0] === borderColors[1] && borderColors[0] === borderColors[2] && borderColors[0] === borderColors[3]) {\n\t\t\tif (borderColors[0]) {\n\t\t\t\tctx.strokeStyle = borderColors[0];\n\t\t\t\tctx.strokeRect(left, top, width, height);\n\t\t\t}\n\t\t} else {\n\t\t\tstrokeRectLines([{ x: left, y: top }, { x: left + width, y: top }, { x: left + width, y: top + height }, { x: left, y: top + height }, { x: left, y: top }]);\n\t\t}\n\t}\n\tfunction roundRect(ctx, left, top, width, height, radius) {\n\t\tctx.beginPath();\n\t\tctx.arc(left + radius, top + radius, radius, -PI, -0.5 * PI, false);\n\t\tctx.arc(left + width - radius, top + radius, radius, -0.5 * PI, 0, false);\n\t\tctx.arc(left + width - radius, top + height - radius, radius, 0, 0.5 * PI, false);\n\t\tctx.arc(left + radius, top + height - radius, radius, 0.5 * PI, PI, false);\n\t\tctx.closePath();\n\t}\n\tfunction fillRoundRect(ctx, left, top, width, height, radius) {\n\t\troundRect(ctx, left, top, width, height, radius);\n\t\tctx.fill();\n\t}\n\tfunction strokeRoundRect(ctx, left, top, width, height, radius) {\n\t\troundRect(ctx, left, top, width, height, radius);\n\t\tctx.stroke();\n\t}\n\tfunction fillTextRect(ctx, text, left, top, width, height, {\n\t\toffset = 2,\n\t\tpadding\n\t} = {}) {\n\t\tconst rect = {\n\t\t\tleft,\n\t\t\ttop,\n\t\t\twidth,\n\t\t\theight,\n\t\t\tright: left + width,\n\t\t\tbottom: top + height\n\t\t};\n\t\tctx.save();\n\t\ttry {\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\n\t\t\t//clip\n\t\t\tctx.clip();\n\n\t\t\t//\n\t\t\tconst pos = calcBasePosition(ctx, rect, {\n\t\t\t\toffset,\n\t\t\t\tpadding\n\t\t\t});\n\n\t\t\tctx.fillText(text, pos.x, pos.y);\n\t\t} finally {\n\t\t\tctx.restore();\n\t\t}\n\t}\n\tfunction drawInlineImageRect(ctx, image, srcLeft, srcTop, srcWidth, srcHeight, destWidth, destHeight, left, top, width, height, {\n\t\toffset = 2,\n\t\tpadding\n\t} = {}) {\n\t\tconst rect = {\n\t\t\tleft,\n\t\t\ttop,\n\t\t\twidth,\n\t\t\theight,\n\t\t\tright: left + width,\n\t\t\tbottom: top + height\n\t\t};\n\t\tctx.save();\n\t\ttry {\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\n\t\t\t//clip\n\t\t\tctx.clip();\n\n\t\t\t//\n\t\t\tconst pos = calcStartPosition(ctx, rect, destWidth, destHeight, {\n\t\t\t\toffset,\n\t\t\t\tpadding\n\t\t\t});\n\n\t\t\tctx.drawImage(image, srcLeft, srcTop, srcWidth, srcHeight, pos.x, pos.y, destWidth, destHeight);\n\t\t} finally {\n\t\t\tctx.restore();\n\t\t}\n\t}\n\n\t/**\r\n  * Returns an object containing the width of the checkbox.\r\n  * @param  {CanvasRenderingContext2D} ctx canvas context\r\n  * @return {Object} Object containing the width of the checkbox\r\n  * @memberof cheetahGrid.tools.canvashelper\r\n  */\n\tfunction measureCheckbox(ctx) {\n\t\treturn {\n\t\t\twidth: ctx.measureText('').width\n\t\t};\n\t}\n\n\t/**\r\n  * draw Checkbox\r\n  * @param  {CanvasRenderingContext2D} ctx canvas context\r\n  * @param  {number} x The x coordinate where to start drawing the checkbox (relative to the canvas)\r\n  * @param  {number} y The y coordinate where to start drawing the checkbox (relative to the canvas)\r\n  * @param  {boolean|number} check checkbox check status\r\n  * @param  {object} option option\r\n  * @return {void}\r\n  * @memberof cheetahGrid.tools.canvashelper\r\n  */\n\tfunction drawCheckbox(ctx, x, y, check, {\n\t\tuncheckBgColor = '#FFF',\n\t\tcheckBgColor = 'rgb(76, 73, 72)',\n\t\tborderColor = '#000',\n\t\tboxSize = measureCheckbox(ctx).width\n\t} = {}) {\n\t\tconst checkPoint = typeof check === 'number' ? check > 1 ? 1 : check : 1;\n\n\t\tctx.save();\n\t\ttry {\n\t\t\tctx.fillStyle = check ? checkBgColor : uncheckBgColor;\n\n\t\t\tfillRoundRect(ctx, ceil(x) - 1, ceil(y) - 1, ceil(boxSize + 1), ceil(boxSize + 1), boxSize / 5);\n\t\t\tctx.lineWidth = 1;\n\t\t\tctx.strokeStyle = borderColor;\n\t\t\tstrokeRoundRect(ctx, ceil(x) - 0.5, ceil(y) - 0.5, ceil(boxSize), ceil(boxSize), boxSize / 5);\n\t\t\tif (check) {\n\t\t\t\tctx.lineWidth = ceil(boxSize / 10);\n\t\t\t\tctx.strokeStyle = uncheckBgColor;\n\t\t\t\tlet leftWidth = boxSize / 4;\n\t\t\t\tlet rightWidth = boxSize / 2 * 0.9;\n\t\t\t\tconst leftLeftPos = x + boxSize * 0.2;\n\t\t\t\tconst leftTopPos = y + boxSize / 2;\n\n\t\t\t\tif (checkPoint < 0.5) {\n\t\t\t\t\tleftWidth = leftWidth * (checkPoint * 2);\n\t\t\t\t}\n\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.moveTo(leftLeftPos, leftTopPos);\n\t\t\t\tctx.lineTo(leftLeftPos + leftWidth, leftTopPos + leftWidth);\n\t\t\t\tif (checkPoint > 0.5) {\n\t\t\t\t\tif (checkPoint < 1) {\n\t\t\t\t\t\trightWidth = rightWidth * ((checkPoint - 0.5) * 2);\n\t\t\t\t\t}\n\t\t\t\t\tctx.lineTo(leftLeftPos + leftWidth + rightWidth, leftTopPos + leftWidth - rightWidth);\n\t\t\t\t}\n\t\t\t\tctx.stroke();\n\t\t\t}\n\t\t} finally {\n\t\t\tctx.restore();\n\t\t}\n\t}\n\tfunction drawButton(ctx, left, top, width, height, option = {}) {\n\t\tconst {\n\t\t\tbackgroundColor = '#FFF',\n\t\t\tbgColor = backgroundColor,\n\t\t\tradius = 4,\n\t\t\tshadow = {}\n\t\t} = option;\n\t\tctx.save();\n\t\ttry {\n\t\t\tctx.fillStyle = bgColor;\n\n\t\t\tif (shadow) {\n\t\t\t\tconst {\n\t\t\t\t\tcolor = 'rgba(0, 0, 0, 0.24)',\n\t\t\t\t\tblur = 1,\n\t\t\t\t\toffsetX = 0,\n\t\t\t\t\toffsetY = 2,\n\t\t\t\t\toffset: {\n\t\t\t\t\t\tx: ox = offsetX,\n\t\t\t\t\t\ty: oy = offsetY\n\t\t\t\t\t} = {}\n\t\t\t\t} = shadow;\n\t\t\t\tctx.shadowColor = color;\n\t\t\t\tctx.shadowBlur = blur; //\n\t\t\t\tctx.shadowOffsetX = ox;\n\t\t\t\tctx.shadowOffsetY = oy;\n\t\t\t}\n\n\t\t\tfillRoundRect(ctx, ceil(left), ceil(top), ceil(width), ceil(height), radius);\n\t\t} finally {\n\t\t\tctx.restore();\n\t\t}\n\t}\n\n\t/**\r\n  * canvashelper\r\n  * @type {Object}\r\n  * @namespace cheetahGrid.tools.canvashelper\r\n  * @memberof cheetahGrid.tools\r\n  */\n\tconst canvashelper = {\n\t\troundRect,\n\t\tfillRoundRect,\n\t\tstrokeRoundRect,\n\t\tdrawCheckbox,\n\t\tmeasureCheckbox,\n\t\tfillTextRect,\n\t\tdrawButton,\n\t\tdrawInlineImageRect,\n\t\tstrokeColorsRect\n\t};\n\n\tmodule.exports = canvashelper;\n}\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst action = __webpack_require__(66);\n\tconst type = __webpack_require__(81);\n\tconst style = __webpack_require__(35);\n\n\t/**\r\n  * columns\r\n  * @type {Object}\r\n  * @namespace cheetahGrid.columns\r\n  * @memberof cheetahGrid\r\n  */\n\tmodule.exports = {\n\t\taction,\n\t\ttype,\n\t\tstyle\n\t};\n}\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\n\tconst { bindCellClickAction, bindCellKeyAction } = __webpack_require__(31);\n\n\tconst BaseAction = __webpack_require__(18);\n\n\tclass Action extends BaseAction {\n\t\tconstructor(option = {}) {\n\t\t\tsuper(option);\n\t\t\tthis._action = option.action;\n\t\t}\n\t\tget action() {\n\t\t\treturn this._action;\n\t\t}\n\t\tset action(action) {\n\t\t\tthis._action = action;\n\t\t}\n\t\tclone() {\n\t\t\treturn new Action(this);\n\t\t}\n\t\tgetState(grid) {\n\t\t\treturn {};\n\t\t}\n\t\tbindGridEvent(grid, col, util) {\n\t\t\tconst state = this.getState(grid);\n\t\t\tconst action = cell => {\n\t\t\t\tif (this.disabled) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst record = grid.getRowRecord(cell.row);\n\t\t\t\tthis._action(record);\n\t\t\t};\n\n\t\t\treturn [...bindCellClickAction(grid, col, util, {\n\t\t\t\taction,\n\t\t\t\tmouseOver: e => {\n\t\t\t\t\tif (this.disabled) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tstate.mouseActiveCell = {\n\t\t\t\t\t\tcol: e.col,\n\t\t\t\t\t\trow: e.row\n\t\t\t\t\t};\n\t\t\t\t\tgrid.invalidateCell(e.col, e.row);\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\t\t\tmouseOut: e => {\n\t\t\t\t\tdelete state.mouseActiveCell;\n\t\t\t\t\tgrid.invalidateCell(e.col, e.row);\n\t\t\t\t}\n\t\t\t}), ...bindCellKeyAction(grid, col, util, {\n\t\t\t\taction\n\t\t\t})];\n\t\t}\n\t}\n\n\tmodule.exports = Action;\n}\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\n\tconst { isPromise, event: { cancel } } = __webpack_require__(0);\n\tconst { EVENT_TYPE: {\n\t\t\tCLICK_CELL,\n\t\t\tMOUSEOVER_CELL,\n\t\t\tMOUSEOUT_CELL,\n\t\t\tKEYDOWN\n\t\t} } = __webpack_require__(4);\n\tconst KEY_ENTER = 13;\n\tfunction bindCellClickAction(grid, col, util, {\n\t\taction,\n\t\tmouseOver,\n\t\tmouseOut\n\t}) {\n\t\treturn [\n\t\t// click\n\t\tgrid.listen(CLICK_CELL, e => {\n\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (isPromise(grid.getRowRecord(e.row))) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\taction({\n\t\t\t\tcol: e.col,\n\t\t\t\trow: e.row\n\t\t\t});\n\t\t}),\n\t\t// mouse move\n\t\tgrid.listen(MOUSEOVER_CELL, e => {\n\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (isPromise(grid.getRowRecord(e.row))) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (mouseOver) {\n\t\t\t\tif (!mouseOver({\n\t\t\t\t\tcol: e.col,\n\t\t\t\t\trow: e.row\n\t\t\t\t})) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tgrid.getElement().style.cursor = 'pointer';\n\t\t}), grid.listen(MOUSEOUT_CELL, e => {\n\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (mouseOut) {\n\t\t\t\tmouseOut({\n\t\t\t\t\tcol: e.col,\n\t\t\t\t\trow: e.row\n\t\t\t\t});\n\t\t\t}\n\t\t\tgrid.getElement().style.cursor = '';\n\t\t})];\n\t}\n\tfunction bindCellKeyAction(grid, col, util, { action, acceptKeys = [] }) {\n\t\tacceptKeys = [...acceptKeys, KEY_ENTER];\n\t\treturn [\n\t\t// enter key down\n\t\tgrid.listen(KEYDOWN, (keyCode, e) => {\n\t\t\tif (acceptKeys.indexOf(keyCode) === -1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst sel = grid.selection.select;\n\t\t\tif (!util.isTarget(sel.col, sel.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (isPromise(grid.getRowRecord(sel.row))) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\taction({\n\t\t\t\tcol: sel.col,\n\t\t\t\trow: sel.row\n\t\t\t});\n\t\t\tcancel(e);\n\t\t})];\n\t}\n\n\tmodule.exports = {\n\t\tbindCellClickAction,\n\t\tbindCellKeyAction\n\t};\n}\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tfunction cubicBezier(x2, y2, x3, y3) {\n\t\tlet step;\n\t\tconst err = 0.0001;\n\n\t\tx2 *= 3;\n\t\ty2 *= 3;\n\t\tx3 *= 3;\n\t\ty3 *= 3;\n\n\t\treturn function (t) {\n\t\t\tlet p, a, b, c, d, x, s;\n\t\t\tif (t < 0 || 1 < t) {\n\t\t\t\tthrow new Error(t);\n\t\t\t}\n\n\t\t\tp = step || t;\n\n\t\t\tdo {\n\t\t\t\ta = 1 - p;\n\t\t\t\tb = a * a;\n\t\t\t\tc = p * p;\n\t\t\t\td = c * p;\n\n\t\t\t\tx = x2 * b * p + x3 * a * c + d;\n\t\t\t\ts = t - x;\n\t\t\t\tp += s * 0.5;\n\t\t\t} while (err < Math.abs(s));\n\n\t\t\tstep = p;\n\t\t\treturn y2 * b * p + y3 * a * c + d;\n\t\t};\n\t}\n\tconst EASINGS = {\n\t\tlinear(p) {\n\t\t\treturn p;\n\t\t},\n\t\teaseIn: cubicBezier(0.420, 0.000, 1.000, 1.000),\n\t\teaseOut: cubicBezier(0.000, 0.000, 0.580, 1.000),\n\t\teaseInOut: cubicBezier(0.420, 0.000, 0.580, 1.000)\n\t};\n\n\tconst raf = window.requestAnimationFrame || setTimeout;\n\n\tfunction now() {\n\t\treturn Date.now();\n\t}\n\t/**\r\n  * <pre>\r\n  * Animates.\r\n  * </pre>\r\n  * @function\r\n  * @param {number} duration animation time.\r\n  * @param {function} step\r\n  * @param {function|string} easing\r\n  * @returns {object} Deferred object.\r\n  */\n\tmodule.exports = (duration, step, easing) => {\n\t\tconst startedAt = now();\n\n\t\tif (!easing) {\n\t\t\teasing = EASINGS.easeInOut;\n\t\t} else if (typeof easing === 'string') {\n\t\t\teasing = EASINGS[easing];\n\t\t}\n\n\t\tlet canceledFlg = false;\n\t\tconst createAnim = (resolve, reject) => {\n\t\t\tconst anim = () => {\n\t\t\t\tconst point = now() - startedAt;\n\t\t\t\tif (canceledFlg) {\n\t\t\t\t\t//cancel\n\t\t\t\t\tif (reject) {\n\t\t\t\t\t\treject();\n\t\t\t\t\t}\n\t\t\t\t} else if (point >= duration) {\n\t\t\t\t\t//end\n\t\t\t\t\tstep(1);\n\t\t\t\t\tif (resolve) {\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tstep(easing(point / duration));\n\n\t\t\t\t\traf(anim, 1);\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn anim;\n\t\t};\n\t\tconst cancel = () => {\n\t\t\tcanceledFlg = true;\n\t\t};\n\t\tif (window.Promise) {\n\t\t\tconst result = new window.Promise((resolve, reject) => {\n\t\t\t\tconst anim = createAnim(resolve, reject);\n\t\t\t\tstep(0);\n\t\t\t\tanim();\n\t\t\t});\n\t\t\tresult.cancel = cancel;\n\t\t\treturn result;\n\t\t} else {\n\t\t\tconst anim = createAnim(() => {}, () => {});\n\t\t\tstep(0);\n\t\t\tanim();\n\t\t\treturn {\n\t\t\t\tcancel\n\t\t\t};\n\t\t}\n\t};\n}\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\n\tconst Editor = __webpack_require__(14);\n\tconst { EVENT_TYPE: {\n\t\t\tINPUT_CELL,\n\t\t\tEDITABLEINPUT_CELL,\n\t\t\tSELECTED_CELL,\n\t\t\tDBLCLICK_CELL,\n\t\t\tDBLTAP_CELL,\n\t\t\tKEYDOWN,\n\t\t\tMODIFY_STATUS_EDITABLEINPUT_CELL,\n\t\t\tSCROLL\n\t\t} } = __webpack_require__(4);\n\tconst KEY_ENTER = 13;\n\tconst KEY_F2 = 113;\n\n\tclass BaseInputEditor extends Editor {\n\t\tconstructor(option = {}) {\n\t\t\tsuper(option);\n\t\t}\n\t\tclone() {\n\t\t\treturn new BaseInputEditor(this);\n\t\t}\n\t\tonInputCellInternal(grid, cell, inputValue) {\n\t\t\tthrow new Error();\n\t\t}\n\t\tonOpenCellInternal(grid, cell) {\n\t\t\tthrow new Error();\n\t\t}\n\t\tonChangeSelectCellInternal(grid, cell, selected) {\n\t\t\tthrow new Error();\n\t\t}\n\t\tonSetInputAttrsInternal(grid, cell, input) {\n\t\t\tthrow new Error();\n\t\t}\n\t\tonGridScrollInternal(grid) {\n\t\t\tthrow new Error();\n\t\t}\n\t\tbindGridEvent(grid, col, util) {\n\t\t\tconst open = cell => {\n\t\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.onOpenCellInternal(grid, cell);\n\t\t\t};\n\n\t\t\tconst input = (cell, value) => {\n\t\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.onInputCellInternal(grid, cell, value);\n\t\t\t};\n\t\t\treturn [grid.listen(INPUT_CELL, e => {\n\t\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinput({\n\t\t\t\t\tcol: e.col,\n\t\t\t\t\trow: e.row\n\t\t\t\t}, e.value);\n\t\t\t}), grid.listen(DBLCLICK_CELL, cell => {\n\t\t\t\tif (!util.isTarget(cell.col, cell.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\topen({\n\t\t\t\t\tcol: cell.col,\n\t\t\t\t\trow: cell.row\n\t\t\t\t});\n\t\t\t}), grid.listen(DBLTAP_CELL, e => {\n\t\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\topen({\n\t\t\t\t\tcol: e.col,\n\t\t\t\t\trow: e.row\n\t\t\t\t});\n\n\t\t\t\te.event.preventDefault();\n\t\t\t\te.event.stopPropagation();\n\t\t\t}), grid.listen(KEYDOWN, (keyCode, e) => {\n\t\t\t\tif (keyCode !== KEY_F2 && keyCode !== KEY_ENTER) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst sel = grid.selection.select;\n\t\t\t\tif (!util.isTarget(sel.col, sel.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\topen({\n\t\t\t\t\tcol: sel.col,\n\t\t\t\t\trow: sel.row\n\t\t\t\t});\n\t\t\t}), grid.listen(SELECTED_CELL, e => {\n\t\t\t\tthis.onChangeSelectCellInternal(grid, { col: e.col, row: e.row }, e.selected);\n\t\t\t}), grid.listen(SCROLL, () => {\n\t\t\t\tthis.onGridScrollInternal(grid);\n\t\t\t}), grid.listen(EDITABLEINPUT_CELL, cell => {\n\t\t\t\tif (!util.isTarget(cell.col, cell.row)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}), grid.listen(MODIFY_STATUS_EDITABLEINPUT_CELL, cell => {\n\t\t\t\tif (!util.isTarget(cell.col, cell.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.onSetInputAttrsInternal(grid, {\n\t\t\t\t\tcol: cell.col,\n\t\t\t\t\trow: cell.row\n\t\t\t\t}, cell.input);\n\t\t\t})];\n\t\t}\n\t}\n\n\tmodule.exports = BaseInputEditor;\n}\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nfunction normalize(options) {\n\tif (!options) {\n\t\treturn [];\n\t}\n\tif (__webpack_provided_Array_dot_isArray(options)) {\n\t\treturn options;\n\t}\n\tif (typeof options === 'string') {\n\t\treturn normalize(JSON.parse(options));\n\t}\n\tconst result = [];\n\tfor (const k in options) {\n\t\tresult.push({\n\t\t\tvalue: k,\n\t\t\tcaption: options[k]\n\t\t});\n\t}\n\treturn result;\n}\n\nmodule.exports = {\n\tnormalize\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst BaseStyle = __webpack_require__(20);\n\tconst Style = __webpack_require__(3);\n\tconst NumberStyle = __webpack_require__(36);\n\tconst CheckStyle = __webpack_require__(37);\n\tconst ButtonStyle = __webpack_require__(38);\n\tconst ImageStyle = __webpack_require__(39);\n\tconst IconStyle = __webpack_require__(40);\n\tconst PercentCompleteBarStyle = __webpack_require__(41);\n\n\t/**\r\n  * column styles\r\n  * @type {Object}\r\n  * @namespace cheetahGrid.columns.style\r\n  * @memberof cheetahGrid.columns\r\n  */\n\tconst style = {\n\t\tget EVENT_TYPE() {\n\t\t\treturn BaseStyle.EVENT_TYPE;\n\t\t},\n\t\tget BaseStyle() {\n\t\t\treturn BaseStyle;\n\t\t},\n\t\tget Style() {\n\t\t\treturn Style;\n\t\t},\n\t\tget NumberStyle() {\n\t\t\treturn NumberStyle;\n\t\t},\n\t\tget CheckStyle() {\n\t\t\treturn CheckStyle;\n\t\t},\n\t\tget ButtonStyle() {\n\t\t\treturn ButtonStyle;\n\t\t},\n\t\tget ImageStyle() {\n\t\t\treturn ImageStyle;\n\t\t},\n\t\tget IconStyle() {\n\t\t\treturn IconStyle;\n\t\t},\n\t\tget PercentCompleteBarStyle() {\n\t\t\treturn PercentCompleteBarStyle;\n\t\t},\n\t\tof(columnStyle, record, StyleClass) {\n\t\t\tif (columnStyle) {\n\t\t\t\tif (columnStyle instanceof Style) {\n\t\t\t\t\treturn columnStyle;\n\t\t\t\t} else if (typeof columnStyle === 'function') {\n\t\t\t\t\treturn style.of(columnStyle(record), record, StyleClass);\n\t\t\t\t} else if (record && columnStyle in record) {\n\t\t\t\t\treturn style.of(record[columnStyle], record, StyleClass);\n\t\t\t\t}\n\t\t\t\treturn new StyleClass(columnStyle);\n\t\t\t} else {\n\t\t\t\treturn StyleClass.DEFAULT;\n\t\t\t}\n\t\t}\n\t};\n\tmodule.exports = style;\n}\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst Style = __webpack_require__(3);\n\n\tfunction adj(style) {\n\t\tconst { textAlign = 'right' } = style;\n\t\tstyle.textAlign = textAlign;\n\t\treturn style;\n\t}\n\tlet defaultStyle;\n\tclass NumberStyle extends Style {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : defaultStyle = new NumberStyle();\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(adj(style));\n\t\t}\n\t\tclone() {\n\t\t\treturn new NumberStyle(this);\n\t\t}\n\t}\n\n\tmodule.exports = NumberStyle;\n}\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst StdBaseStyle = __webpack_require__(19);\n\n\tfunction adj(style) {\n\t\tconst { textAlign = 'center' } = style;\n\t\tstyle.textAlign = textAlign;\n\t\treturn style;\n\t}\n\tlet defaultStyle;\n\tclass CheckStyle extends StdBaseStyle {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : defaultStyle = new CheckStyle();\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(adj(style));\n\t\t\tconst {\n\t\t\t\tuncheckBgColor,\n\t\t\t\tcheckBgColor,\n\t\t\t\tborderColor\n\t\t\t} = style;\n\t\t\tthis._uncheckBgColor = uncheckBgColor;\n\t\t\tthis._checkBgColor = checkBgColor;\n\t\t\tthis._borderColor = borderColor;\n\t\t}\n\t\tget uncheckBgColor() {\n\t\t\treturn this._uncheckBgColor;\n\t\t}\n\t\tset uncheckBgColor(uncheckBgColor) {\n\t\t\tthis._uncheckBgColor = uncheckBgColor;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget checkBgColor() {\n\t\t\treturn this._checkBgColor;\n\t\t}\n\t\tset checkBgColor(checkBgColor) {\n\t\t\tthis._checkBgColor = checkBgColor;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget borderColor() {\n\t\t\treturn this._borderColor;\n\t\t}\n\t\tset borderColor(borderColor) {\n\t\t\tthis._borderColor = borderColor;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tclone() {\n\t\t\treturn new CheckStyle(this);\n\t\t}\n\t}\n\n\tmodule.exports = CheckStyle;\n}\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst Style = __webpack_require__(3);\n\n\tfunction adj(style) {\n\t\tconst { textAlign = 'center' } = style;\n\t\tstyle.textAlign = textAlign;\n\t\treturn style;\n\t}\n\tlet defaultStyle;\n\tclass ButtonStyle extends Style {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : defaultStyle = new ButtonStyle();\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(adj(style));\n\t\t\tconst {\n\t\t\t\tbuttonBgColor\n\t\t\t} = style;\n\t\t\tthis._buttonBgColor = buttonBgColor;\n\t\t}\n\t\tget buttonBgColor() {\n\t\t\treturn this._buttonBgColor;\n\t\t}\n\t\tset buttonBgColor(buttonBgColor) {\n\t\t\tthis._buttonBgColor = buttonBgColor;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tclone() {\n\t\t\treturn new ButtonStyle(this);\n\t\t}\n\t}\n\n\tmodule.exports = ButtonStyle;\n}\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst StdBaseStyle = __webpack_require__(19);\n\tlet defaultStyle;\n\tfunction adj(style) {\n\t\tconst { textAlign = 'center' } = style;\n\t\tstyle.textAlign = textAlign;\n\t\treturn style;\n\t}\n\tclass ImageStyle extends StdBaseStyle {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : defaultStyle = new ImageStyle();\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(adj(style));\n\t\t\tthis._imageSizing = style.imageSizing;\n\t\t\tthis._margin = style.margin || 4;\n\t\t}\n\t\tget imageSizing() {\n\t\t\treturn this._imageSizing;\n\t\t}\n\t\tset imageSizing(imageSizing) {\n\t\t\tthis._imageSizing = imageSizing;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget margin() {\n\t\t\treturn this._margin;\n\t\t}\n\t\tset margin(margin) {\n\t\t\tthis._margin = margin;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tclone() {\n\t\t\treturn new ImageStyle(this);\n\t\t}\n\t}\n\tmodule.exports = ImageStyle;\n}\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst Style = __webpack_require__(3);\n\n\tfunction adj(style) {\n\t\tconst { textAlign = 'center' } = style;\n\t\tstyle.textAlign = textAlign;\n\t\treturn style;\n\t}\n\tlet defaultStyle;\n\tclass IconStyle extends Style {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : defaultStyle = new IconStyle();\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(adj(style));\n\t\t}\n\t\tclone() {\n\t\t\treturn new IconStyle(this);\n\t\t}\n\t}\n\n\tmodule.exports = IconStyle;\n}\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst Style = __webpack_require__(3);\n\tlet defaultStyle;\n\tconst DEFAULT_BAR_COLOR = num => {\n\t\tif (num > 80) {\n\t\t\treturn '#20a8d8';\n\t\t}\n\t\tif (num > 50) {\n\t\t\treturn '#4dbd74';\n\t\t}\n\t\tif (num > 20) {\n\t\t\treturn '#ffc107';\n\t\t}\n\t\treturn '#f86c6b';\n\t};\n\tclass PercentCompleteBarStyle extends Style {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : defaultStyle = new PercentCompleteBarStyle();\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(style);\n\t\t\tthis._barColor = style.barColor || DEFAULT_BAR_COLOR;\n\t\t\tthis._barBgColor = style.barBgColor || '#f0f3f5';\n\t\t\tthis._barHeight = style.barHeight || 3;\n\t\t}\n\t\tget barColor() {\n\t\t\treturn this._barColor;\n\t\t}\n\t\tset barColor(barColor) {\n\t\t\tthis._barColor = barColor;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget barBgColor() {\n\t\t\treturn this._barBgColor;\n\t\t}\n\t\tset barBgColor(barBgColor) {\n\t\t\tthis._barBgColor = barBgColor;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget barHeight() {\n\t\t\treturn this._barHeight;\n\t\t}\n\t\tset barHeight(barHeight) {\n\t\t\tthis._barHeight = barHeight;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tclone() {\n\t\t\treturn new PercentCompleteBarStyle(this);\n\t\t}\n\t}\n\tmodule.exports = PercentCompleteBarStyle;\n}\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst { then } = __webpack_require__(0);\nconst LRUCache = __webpack_require__(86);\n\nconst allCache = {};\n\nfunction isDataUrl(url) {\n\treturn url.search(/^(data:)/) !== -1;\n}\n\nfunction loadImage(src) {\n\tif (!window.Promise) {\n\t\tconsole.error('Promise is not loaded. load Promise before this process.');\n\t\treturn {\n\t\t\tthen() {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t};\n\t}\n\tconst img = new Image();\n\tconst result = new window.Promise(resolve => {\n\t\timg.onload = () => {\n\t\t\tresolve(img);\n\t\t};\n\t});\n\timg.onerror = e => {\n\t\tconst url = src.length > 200 ? `${src.substr(0, 200)}...` : src;\n\t\tconsole.warn(`cannot load: ${url}`);\n\t\tthrow new Error(`IMAGE LOAD ERROR: ${url}`);\n\t};\n\timg.src = isDataUrl(src) ? src : `${src}?${Date.now()}`;\n\treturn result;\n}\n\nfunction getCacheOrLoad0(cache, src) {\n\treturn then(src, src => {\n\t\tconst c = cache.get(src);\n\t\tif (c) {\n\t\t\treturn c;\n\t\t}\n\t\tconst result = loadImage(src).then(img => {\n\t\t\tcache.put(src, img);\n\t\t\treturn img;\n\t\t});\n\t\tcache.put(src, result);\n\t\treturn result;\n\t});\n}\n\nfunction getCacheOrLoad(cacheName, cacheSize, src) {\n\tconst cache = allCache[cacheName] || (allCache[cacheName] = new LRUCache(cacheSize));\n\treturn getCacheOrLoad0(cache, src);\n}\n\nmodule.exports = {\n\tloadImage,\n\tgetCacheOrLoad\n};\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*eslint no-bitwise:0*/\n\n\nfunction FROZEN_ROWS_BORDER_COLOR(args) {\n\tconst {\n\t\trow,\n\t\tgrid: { frozenRowCount }\n\t} = args;\n\tif (frozenRowCount - 1 === row) {\n\t\treturn ['#f2f2f2', '#f2f2f2', '#ccc7c7', '#f2f2f2'];\n\t} else {\n\t\treturn ['#f2f2f2'];\n\t}\n}\nfunction BORDER_COLOR(args) {\n\tconst {\n\t\tcol,\n\t\tgrid: { colCount }\n\t} = args;\n\tif (colCount - 1 === col) {\n\t\treturn ['#ccc7c7', '#f2f2f2', '#ccc7c7', null];\n\t} else {\n\t\treturn ['#ccc7c7', null];\n\t}\n}\n/**\r\n * material design theme\r\n * @name MATERIAL_DESIGN\r\n * @type {Object}\r\n * @memberof cheetahGrid.themes.choices\r\n */\nmodule.exports = {\n\tcolor: 'rgba(0, 0, 0, 0.87)',\n\tdefaultBgColor: '#FFF',\n\tfrozenRowsBgColor: '#FFF',\n\tfrozenRowsColor: 'rgba(0, 0, 0, 0.54)',\n\thiliteBorderColor: '#5E9ED6',\n\tselectionBgColor: '#CCE0FF',\n\tborderColor: BORDER_COLOR,\n\tfrozenRowsBorderColor: FROZEN_ROWS_BORDER_COLOR,\n\tcheckbox: {\n\t\tuncheckBgColor: '#FFF',\n\t\tcheckBgColor: 'rgb(76, 73, 72)',\n\t\tborderColor: 'rgba(0, 0, 0, 0.26)'\n\t},\n\tbutton: {\n\t\tcolor: '#FFF',\n\t\tbgColor: '#2196F3'\n\t},\n\tunderlayBackgroundColor: '#FFF'\n};\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = {};\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst DataSource = __webpack_require__(46);\n\tconst CachedDataSource = __webpack_require__(94);\n\n\t/**\r\n  * data modules\r\n  * @type {Object}\r\n  * @namespace cheetahGrid.data\r\n  * @memberof cheetahGrid\r\n  */\n\tmodule.exports = {\n\t\tDataSource,\n\t\tCachedDataSource\n\t};\n}\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst { array, isDef, isPromise, getOrApply, applyChainSafe, emptyFn } = __webpack_require__(0);\n\tconst sort = __webpack_require__(47);\n\tconst EventTarget = __webpack_require__(13);\n\n\tconst EVENT_TYPE = {\n\t\tUPDATE_LENGTH: 'update_length',\n\t\tUPDATED_LENGTH: 'updated_length',\n\t\tUPDATED_ORDER: 'updated_order'\n\t};\n\n\tfunction getValue(value, setPromiseBack) {\n\t\tvalue = getOrApply(value);\n\t\tif (isPromise(value)) {\n\t\t\tvalue = value.then(r => {\n\t\t\t\tif (!isPromise(r)) {\n\t\t\t\t\tsetPromiseBack(r);\n\t\t\t\t}\n\t\t\t\treturn getValue(r, setPromiseBack);\n\t\t\t});\n\t\t\t//\n\t\t\tsetPromiseBack(value);\n\t\t}\n\t\treturn value;\n\t}\n\n\tfunction getField(record, field, setPromiseBack) {\n\t\tif (!isDef(record)) {\n\t\t\treturn undefined;\n\t\t}\n\t\tif (isPromise(record)) {\n\t\t\treturn record.then(r => getField(r, field, setPromiseBack));\n\t\t}\n\t\tif (field in record) {\n\t\t\treturn getValue(record[field], setPromiseBack);\n\t\t}\n\t\tif (typeof field === 'function') {\n\t\t\treturn getValue(field(record), setPromiseBack);\n\t\t}\n\n\t\tconst ss = (field + '').split('.');\n\t\tif (ss.length <= 1) {\n\t\t\treturn getValue(record[field], setPromiseBack);\n\t\t}\n\t\treturn getValue(applyChainSafe(record, (val, name) => getField(val, name, emptyFn), ...ss), setPromiseBack);\n\t}\n\tfunction setField(record, field, value) {\n\t\tif (field in record) {\n\t\t\trecord[field] = value;\n\t\t} else if (typeof field === 'function') {\n\t\t\treturn field(record, value);\n\t\t} else if (typeof field === 'string') {\n\t\t\tconst ss = (field + '').split('.');\n\t\t\tlet obj = record;\n\t\t\tconst { length } = ss;\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tconst f = ss[i];\n\t\t\t\tif (i === length - 1) {\n\t\t\t\t\tobj[f] = value;\n\t\t\t\t} else {\n\t\t\t\t\tobj = obj[f] || (obj[f] = {});\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\trecord[field] = value;\n\t\t}\n\t\treturn true;\n\t}\n\tfunction _getIndex(dataSource, index) {\n\t\tif (!dataSource._sortedIndexMap) {\n\t\t\treturn index;\n\t\t}\n\t\tconst mapIndex = dataSource._sortedIndexMap[index];\n\t\treturn isDef(mapIndex) ? mapIndex : index;\n\t}\n\n\t/**\r\n  * grid data source\r\n  *\r\n  * @classdesc cheetahGrid.data.DataSource\r\n  * @extends EventTarget\r\n  * @memberof cheetahGrid.data\r\n  */\n\tclass DataSource extends EventTarget {\n\t\tstatic get EVENT_TYPE() {\n\t\t\treturn EVENT_TYPE;\n\t\t}\n\t\tstatic ofArray(array) {\n\t\t\treturn new DataSource({\n\t\t\t\tget: index => array[index],\n\t\t\t\tlength: array.length\n\t\t\t});\n\t\t}\n\t\tconstructor({ get, length = 0 } = {}) {\n\t\t\tsuper();\n\t\t\tthis._get = get;\n\t\t\tthis._length = length;\n\t\t\tthis._sortedIndexMap = false;\n\t\t}\n\t\tget(index) {\n\t\t\treturn this.getOriginal(_getIndex(this, index));\n\t\t}\n\t\tgetField(index, field) {\n\t\t\treturn this.getOriginalField(_getIndex(this, index), field);\n\t\t}\n\t\thasField(index, field) {\n\t\t\treturn this.hasOriginalField(_getIndex(this, index), field);\n\t\t}\n\t\tsetField(index, field, value) {\n\t\t\treturn this.setOriginalField(_getIndex(this, index), field, value);\n\t\t}\n\t\tsort(field, order) {\n\t\t\tconst sortedIndexMap = new Array(this._length);\n\n\t\t\tconst orderFn = order !== 'desc' ? (v1, v2) => v1 === v2 ? 0 : v1 > v2 ? 1 : -1 : (v1, v2) => v1 === v2 ? 0 : v1 < v2 ? 1 : -1;\n\n\t\t\treturn sort.sortPromise(index => isDef(sortedIndexMap[index]) ? sortedIndexMap[index] : sortedIndexMap[index] = index, (index, rel) => {\n\t\t\t\tsortedIndexMap[index] = rel;\n\t\t\t}, this._length, orderFn, index => this.getOriginalField(index, field)).then(() => {\n\t\t\t\tthis._sortedIndexMap = sortedIndexMap;\n\t\t\t\tthis.fireListeners(EVENT_TYPE.UPDATED_ORDER);\n\t\t\t});\n\t\t}\n\t\tget length() {\n\t\t\treturn this._length;\n\t\t}\n\t\tset length(length) {\n\t\t\tconst results = this.fireListeners(EVENT_TYPE.UPDATE_LENGTH, length);\n\t\t\tif (array.findIndex(results, v => !v) >= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._length = length;\n\t\t\tthis.fireListeners(EVENT_TYPE.UPDATED_LENGTH, this._length);\n\t\t}\n\t\tdispose() {\n\t\t\tsuper.dispose();\n\t\t}\n\t\tgetOriginal(index) {\n\t\t\treturn getValue(this._get(index), val => {\n\t\t\t\tthis.recordPromiseCallBackInternal(index, val);\n\t\t\t});\n\t\t}\n\t\tgetOriginalField(index, field) {\n\t\t\tif (!isDef(field)) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tconst record = this.getOriginal(index);\n\t\t\treturn getField(record, field, val => {\n\t\t\t\tthis.fieldPromiseCallBackInternal(index, field, val);\n\t\t\t});\n\t\t}\n\t\thasOriginalField(index, field) {\n\t\t\tif (!isDef(field)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (typeof field === 'function') {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tconst record = this.getOriginal(index);\n\t\t\treturn field in record;\n\t\t}\n\t\tsetOriginalField(index, field, value) {\n\t\t\tif (!isDef(field)) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tconst record = this.getOriginal(index);\n\t\t\treturn setField(record, field, value);\n\t\t}\n\t\tfieldPromiseCallBackInternal(index, field, val) {\n\t\t\t//\n\t\t}\n\t\trecordPromiseCallBackInternal(index, val) {\n\t\t\t//\n\t\t}\n\t}\n\tDataSource.EMPTY = new DataSource({\n\t\tlength: 0\n\t});\n\n\tmodule.exports = DataSource;\n}\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst { isPromise } = __webpack_require__(0);\n\n\tfunction wait(val) {\n\t\treturn val.then(v => {\n\t\t\tif (isPromise(v)) {\n\t\t\t\treturn wait(v);\n\t\t\t} else {\n\t\t\t\treturn v;\n\t\t\t}\n\t\t});\n\t}\n\tfunction createArray(get, length) {\n\t\tconst array = new Array(length);\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tarray[i] = get(i);\n\t\t}\n\t\treturn array;\n\t}\n\tfunction createArrayPromise(get, getField, length) {\n\t\treturn new Promise(resolve => {\n\t\t\tconst plist = [];\n\t\t\tconst array = new Array(length);\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tconst data = get(i);\n\t\t\t\tconst record = {\n\t\t\t\t\tv: data,\n\t\t\t\t\tf: data\n\t\t\t\t};\n\t\t\t\tarray[i] = record;\n\t\t\t\tif (isPromise(data)) {\n\t\t\t\t\tplist.push(wait(data).then(v => {\n\t\t\t\t\t\trecord.v = v;\n\t\t\t\t\t\trecord.f = v;\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t}\n\t\t\tPromise.all(plist).then(() => setArrayField(array, getField)).then(resolve);\n\t\t});\n\t}\n\tfunction setArrayField(array, getField) {\n\t\tif (!getField) {\n\t\t\treturn Promise.resolve(array);\n\t\t}\n\t\treturn new Promise(resolve => {\n\t\t\tconst length = array.length;\n\t\t\tconst plist = [];\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tconst record = array[i];\n\t\t\t\trecord.f = getField(record.v);\n\t\t\t\tif (isPromise(record.f)) {\n\t\t\t\t\tplist.push(wait(record.f).then(v => {\n\t\t\t\t\t\trecord.f = v;\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t}\n\t\t\tPromise.all(plist).then(() => resolve(array));\n\t\t});\n\t}\n\tconst sort = {\n\t\tsort(get, set, length, compare, getField) {\n\t\t\tconst old = createArray(get, length);\n\t\t\tif (getField) {\n\t\t\t\told.sort((r1, r2) => compare(getField(r1), getField(r2)));\n\t\t\t} else {\n\t\t\t\told.sort(compare);\n\t\t\t}\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tset(i, old[i]);\n\t\t\t}\n\t\t},\n\t\tsortArray(array, compare) {\n\t\t\tArray.prototype.sort.call(array, compare);\n\t\t},\n\t\tsortPromise(get, set, length, compare, getField) {\n\t\t\tif (window.Promise) {\n\t\t\t\treturn createArrayPromise(get, getField, length).then(array => {\n\t\t\t\t\tarray.sort((r1, r2) => compare(r1.f, r2.f));\n\t\t\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\t\t\tset(i, array[i].v);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsort.sort(get, set, length, compare, getField);\n\t\t\t\tconst dummyPromise = {\n\t\t\t\t\tthen(fn) {\n\t\t\t\t\t\tfn();\n\t\t\t\t\t\treturn dummyPromise;\n\t\t\t\t\t},\n\t\t\t\t\tcatch() {\n\t\t\t\t\t\treturn dummyPromise;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\treturn dummyPromise;\n\t\t\t}\n\t\t}\n\t};\n\tmodule.exports = sort;\n}\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {/*eslint no-bitwise:0*/\n\n\n{\n\tconst { calcStartPosition } = __webpack_require__(9);\n\tconst inlines = __webpack_require__(96);\n\tconst canvashelper = __webpack_require__(28);\n\tconst themes = __webpack_require__(23);\n\tconst { colorToRGB } = __webpack_require__(53);\n\tconst Rect = __webpack_require__(8);\n\tconst { getChainSafe, getOrApply, style: { toBoxArray } } = __webpack_require__(0);\n\tconst fonts = __webpack_require__(49);\n\tconst calc = __webpack_require__(17);\n\n\tfunction invalidateCell(context, grid) {\n\t\tconst { col, row } = context;\n\t\tgrid.invalidateCell(col, row);\n\t}\n\tfunction getColor(color, col, row, grid, context) {\n\t\treturn getOrApply(color, {\n\t\t\tcol,\n\t\t\trow,\n\t\t\tgrid,\n\t\t\tcontext\n\t\t});\n\t}\n\tfunction getThemeColor(grid, ...names) {\n\t\treturn getChainSafe(grid.theme, ...names) || getChainSafe(themes.default, ...names);\n\t}\n\tfunction testFontLoad(font, value, context, grid) {\n\t\tif (font) {\n\t\t\tif (!fonts.check(font, value)) {\n\t\t\t\tfonts.load(font, value, () => invalidateCell(context, grid));\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\tfunction drawInlines(ctx, inlines, rect, offset, offsetTop, offsetBottom, col, row, grid) {\n\t\tfunction drawInline(inline, offsetLeft, offsetRight) {\n\t\t\tif (inline.canDraw()) {\n\t\t\t\tctx.save();\n\t\t\t\ttry {\n\t\t\t\t\tctx.fillStyle = getColor(inline.color() || ctx.fillStyle, col, row, grid, ctx);\n\t\t\t\t\tctx.font = inline.font() || ctx.font;\n\t\t\t\t\tinline.draw({\n\t\t\t\t\t\tctx,\n\t\t\t\t\t\tcanvashelper,\n\t\t\t\t\t\trect,\n\t\t\t\t\t\toffset,\n\t\t\t\t\t\toffsetLeft,\n\t\t\t\t\t\toffsetRight,\n\t\t\t\t\t\toffsetTop,\n\t\t\t\t\t\toffsetBottom\n\t\t\t\t\t});\n\t\t\t\t} finally {\n\t\t\t\t\tctx.restore();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tinline.onReady(() => grid.invalidateCell(col, row));\n\t\t\t\t//noop\n\t\t\t}\n\t\t}\n\t\tif (inlines.length === 1) {\n\t\t\t//1\n\t\t\tconst inline = inlines[0];\n\t\t\tdrawInline(inline, 0, 0);\n\t\t} else {\n\t\t\tconst inlineWidths = inlines.map(inline => (inline.width({ ctx }) || 0) - 0);\n\t\t\tlet offsetRight = inlineWidths.reduce((a, b) => a + b);\n\n\t\t\tlet offsetLeft = 0;\n\t\t\tinlines.forEach((inline, index) => {\n\t\t\t\tconst inlineWidth = inlineWidths[index];\n\t\t\t\toffsetRight -= inlineWidth;\n\t\t\t\tdrawInline(inline, offsetLeft, offsetRight);\n\t\t\t\toffsetLeft += inlineWidth;\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction _inlineRect(grid, ctx, inline, rect, col, row, {\n\t\toffset,\n\t\tcolor,\n\t\ttextAlign,\n\t\ttextBaseline,\n\t\tfont,\n\t\ticons\n\t} = {}) {\n\n\t\t//style\n\t\tctx.fillStyle = getColor(color, col, row, grid, ctx);\n\t\tctx.textAlign = textAlign;\n\t\tctx.textBaseline = textBaseline;\n\t\tctx.font = font || ctx.font;\n\n\t\tconst actInlines = inlines.buildInlines(icons, inline);\n\t\tdrawInlines(ctx, actInlines, rect, offset, 0, 0, col, row, grid);\n\t}\n\n\tfunction _multiInlineRect(grid, ctx, multiInlines, rect, col, row, {\n\t\toffset,\n\t\tcolor,\n\t\ttextAlign,\n\t\ttextBaseline,\n\t\tfont,\n\t\tlineHeight,\n\t\ticons\n\t} = {}) {\n\t\t//style\n\t\tctx.fillStyle = getColor(color, col, row, grid, ctx);\n\t\tctx.textAlign = textAlign;\n\t\tctx.textBaseline = textBaseline;\n\t\tctx.font = font || ctx.font;\n\n\t\tmultiInlines = [...multiInlines];\n\n\t\tlet paddingTop = 0;\n\t\tlet paddingBottom = lineHeight * (multiInlines.length - 1);\n\n\t\tif (ctx.textBaseline === 'top' || ctx.textBaseline === 'hanging') {\n\t\t\tconst em = ctx.measureText('').width;\n\t\t\tconst pad = (lineHeight - em) / 2;\n\t\t\tpaddingTop += pad;\n\t\t\tpaddingBottom -= pad;\n\t\t} else if (ctx.textBaseline === 'bottom' || ctx.textBaseline === 'alphabetic' || ctx.textBaseline === 'ideographic') {\n\t\t\tconst em = ctx.measureText('').width;\n\t\t\tconst pad = (lineHeight - em) / 2;\n\t\t\tpaddingTop -= pad;\n\t\t\tpaddingBottom += pad;\n\t\t}\n\t\tconst line = multiInlines.shift() || '';\n\t\tconst actInlines = inlines.buildInlines(icons, line);\n\t\tdrawInlines(ctx, actInlines, rect, offset, paddingTop, paddingBottom, col, row, grid);\n\t\tpaddingTop += lineHeight;\n\t\tpaddingBottom -= lineHeight;\n\t\twhile (multiInlines.length) {\n\t\t\tconst line = multiInlines.shift();\n\t\t\tconst actInlines = inlines.buildInlines(undefined, line);\n\t\t\tdrawInlines(ctx, actInlines, rect, offset, paddingTop, paddingBottom, col, row, grid);\n\t\t\tpaddingTop += lineHeight;\n\t\t\tpaddingBottom -= lineHeight;\n\t\t}\n\t}\n\n\tfunction drawCheckbox(ctx, rect, check, helper, {\n\t\tanimElapsedTime = 1,\n\t\tuncheckBgColor = helper.theme.checkbox.uncheckBgColor,\n\t\tcheckBgColor = helper.theme.checkbox.checkBgColor,\n\t\tborderColor = helper.theme.checkbox.borderColor,\n\t\ttextAlign = 'center',\n\t\ttextBaseline = 'middle'\n\t} = {}) {\n\t\tconst boxWidth = canvashelper.measureCheckbox(ctx).width;\n\t\tctx.textAlign = textAlign;\n\t\tctx.textBaseline = textBaseline;\n\t\tconst pos = calcStartPosition(ctx, rect, boxWidth + 1 /*+1*/, boxWidth + 1 /*+1*/);\n\t\tif (0 < animElapsedTime && animElapsedTime < 1) {\n\t\t\tconst uncheckBgRGB = colorToRGB(uncheckBgColor);\n\t\t\tconst checkBgRGB = colorToRGB(checkBgColor);\n\t\t\tconst checkRGB = colorName => {\n\t\t\t\tconst start = uncheckBgRGB[colorName];\n\t\t\t\tconst end = checkBgRGB[colorName];\n\t\t\t\tif (animElapsedTime >= 1) {\n\t\t\t\t\treturn end;\n\t\t\t\t}\n\t\t\t\tconst diff = start - end;\n\t\t\t\treturn Math.ceil(start - diff * animElapsedTime);\n\t\t\t};\n\t\t\tconst uncheckRGB = colorName => {\n\t\t\t\tconst end = uncheckBgRGB[colorName];\n\t\t\t\tconst start = checkBgRGB[colorName];\n\t\t\t\tif (animElapsedTime >= 1) {\n\t\t\t\t\treturn end;\n\t\t\t\t}\n\t\t\t\tconst diff = end - start;\n\t\t\t\treturn Math.ceil(start + diff * animElapsedTime);\n\t\t\t};\n\t\t\tuncheckBgColor = check ? uncheckBgColor : `rgb(${uncheckRGB('r')} , ${uncheckRGB('g')}, ${uncheckRGB('b')})`;\n\t\t\tcheckBgColor = `rgb(${checkRGB('r')} , ${checkRGB('g')}, ${checkRGB('b')})`;\n\t\t}\n\n\t\tcanvashelper.drawCheckbox(ctx, pos.x, pos.y, check ? animElapsedTime : false, {\n\t\t\tuncheckBgColor,\n\t\t\tcheckBgColor,\n\t\t\tborderColor\n\t\t});\n\t}\n\n\tclass Theme {\n\t\tconstructor(grid) {\n\t\t\tthis._grid = grid;\n\t\t}\n\t\tgetThemeColor(...name) {\n\t\t\treturn getThemeColor(this._grid, ...name);\n\t\t}\n\t\tget font() {\n\t\t\treturn getThemeColor(this._grid, 'font');\n\t\t}\n\t\tget underlayBackgroundColor() {\n\t\t\treturn getThemeColor(this._grid, 'underlayBackgroundColor');\n\t\t}\n\t\t// color\n\t\tget color() {\n\t\t\treturn getThemeColor(this._grid, 'color');\n\t\t}\n\t\tget frozenRowsColor() {\n\t\t\treturn getThemeColor(this._grid, 'frozenRowsColor');\n\t\t}\n\t\t// background\n\t\tget defaultBgColor() {\n\t\t\treturn getThemeColor(this._grid, 'defaultBgColor');\n\t\t}\n\t\tget frozenRowsBgColor() {\n\t\t\treturn getThemeColor(this._grid, 'frozenRowsBgColor');\n\t\t}\n\t\tget selectionBgColor() {\n\t\t\treturn getThemeColor(this._grid, 'selectionBgColor');\n\t\t}\n\t\t// border\n\t\tget borderColor() {\n\t\t\treturn getThemeColor(this._grid, 'borderColor');\n\t\t}\n\t\tget frozenRowsBorderColor() {\n\t\t\treturn getThemeColor(this._grid, 'frozenRowsBorderColor');\n\t\t}\n\t\tget hiliteBorderColor() {\n\t\t\treturn getThemeColor(this._grid, 'hiliteBorderColor');\n\t\t}\n\t\tget checkbox() {\n\t\t\tconst grid = this._grid;\n\t\t\treturn this._checkbox || (this._checkbox = {\n\t\t\t\tget uncheckBgColor() {\n\t\t\t\t\treturn getThemeColor(grid, 'checkbox', 'uncheckBgColor');\n\t\t\t\t},\n\t\t\t\tget checkBgColor() {\n\t\t\t\t\treturn getThemeColor(grid, 'checkbox', 'checkBgColor');\n\t\t\t\t},\n\t\t\t\tget borderColor() {\n\t\t\t\t\treturn getThemeColor(grid, 'checkbox', 'borderColor');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tget button() {\n\t\t\tconst grid = this._grid;\n\t\t\treturn this._button || (this._button = {\n\t\t\t\tget color() {\n\t\t\t\t\treturn getThemeColor(grid, 'button', 'color');\n\t\t\t\t},\n\t\t\t\tget bgColor() {\n\t\t\t\t\treturn getThemeColor(grid, 'button', 'bgColor');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t}\n\n\tfunction strokeRect(ctx, color, left, top, width, height) {\n\t\tif (!__webpack_provided_Array_dot_isArray(color)) {\n\t\t\tif (color) {\n\t\t\t\tctx.strokeStyle = color;\n\t\t\t\tctx.strokeRect(left, top, width, height);\n\t\t\t}\n\t\t} else {\n\t\t\tconst borderColors = toBoxArray(color);\n\t\t\tcanvashelper.strokeColorsRect(ctx, borderColors, left, top, width, height);\n\t\t}\n\t}\n\n\tclass GridCanvasHelper {\n\t\tconstructor(grid) {\n\t\t\tthis._grid = grid;\n\t\t\tthis._theme = new Theme(grid);\n\t\t}\n\t\tcreateCalculator(context) {\n\t\t\treturn {\n\t\t\t\tcalcWidth(width) {\n\t\t\t\t\treturn calc.toPx(width, {\n\t\t\t\t\t\tget full() {\n\t\t\t\t\t\t\tconst rect = context.getRect();\n\t\t\t\t\t\t\treturn rect.width;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tget em() {\n\t\t\t\t\t\t\tconst ctx = context.getContext();\n\t\t\t\t\t\t\treturn ctx.measureText('').width;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tcalcHeight(height) {\n\t\t\t\t\treturn calc.toPx(height, {\n\t\t\t\t\t\tget full() {\n\t\t\t\t\t\t\tconst rect = context.getRect();\n\t\t\t\t\t\t\treturn rect.height;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tget em() {\n\t\t\t\t\t\t\tconst ctx = context.getContext();\n\t\t\t\t\t\t\treturn ctx.measureText('').width;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tgetColor(color, col, row, ctx) {\n\t\t\treturn getColor(color, col, row, this._grid, ctx);\n\t\t}\n\t\ttoBoxArray(obj) {\n\t\t\treturn toBoxArray(obj);\n\t\t}\n\t\ttoBoxPixelArray(value, context) {\n\t\t\tif (typeof value === 'string' || __webpack_provided_Array_dot_isArray(value)) {\n\t\t\t\tconst calculator = this.createCalculator(context);\n\t\t\t\tconst box = toBoxArray(value);\n\t\t\t\treturn [calculator.calcHeight(box[0]), calculator.calcWidth(box[1]), calculator.calcHeight(box[2]), calculator.calcWidth(box[3])];\n\t\t\t}\n\t\t\treturn toBoxArray(value);\n\t\t}\n\t\tget theme() {\n\t\t\treturn this._theme;\n\t\t}\n\t\tdrawWithClip(context, draw) {\n\t\t\tconst drawRect = context.getDrawRect();\n\t\t\tif (!drawRect) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst ctx = context.getContext();\n\n\t\t\tctx.save();\n\t\t\ttry {\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.rect(drawRect.left, drawRect.top, drawRect.width, drawRect.height);\n\t\t\t\t//clip\n\t\t\t\tctx.clip();\n\n\t\t\t\tdraw(ctx);\n\t\t\t} finally {\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t}\n\t\tdrawBorderWithClip(context, draw) {\n\t\t\tconst drawRect = context.getDrawRect();\n\t\t\tif (!drawRect) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst rect = context.getRect();\n\t\t\tconst ctx = context.getContext();\n\t\t\tctx.save();\n\t\t\ttry {\n\t\t\t\t//clip\n\t\t\t\tctx.beginPath();\n\t\t\t\tlet clipLeft = drawRect.left;\n\t\t\t\tlet clipWidth = drawRect.width;\n\t\t\t\tif (drawRect.left === rect.left) {\n\t\t\t\t\tclipLeft += -1;\n\t\t\t\t\tclipWidth += 1;\n\t\t\t\t}\n\t\t\t\tlet clipTop = drawRect.top;\n\t\t\t\tlet clipHeight = drawRect.height;\n\t\t\t\tif (drawRect.top === rect.top) {\n\t\t\t\t\tclipTop += -1;\n\t\t\t\t\tclipHeight += 1;\n\t\t\t\t}\n\t\t\t\tctx.rect(clipLeft, clipTop, clipWidth, clipHeight);\n\t\t\t\tctx.clip();\n\n\t\t\t\tdraw(ctx);\n\t\t\t} finally {\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t}\n\t\ttext(text, context, {\n\t\t\tpadding,\n\t\t\toffset = 2,\n\t\t\tcolor,\n\t\t\ttextAlign = 'left',\n\t\t\ttextBaseline = 'middle',\n\t\t\tfont,\n\t\t\ticons\n\t\t} = {}) {\n\t\t\tlet rect = context.getRect();\n\n\t\t\tconst { col, row } = context;\n\n\t\t\tif (!color) {\n\t\t\t\t({ color } = this.theme);\n\t\t\t\t// header color\n\t\t\t\tconst isFrozenCell = this._grid.isFrozenCell(col, row);\n\t\t\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\t\t\tcolor = this.theme.frozenRowsColor;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.drawWithClip(context, ctx => {\n\t\t\t\tif (padding) {\n\t\t\t\t\tctx.font = font || ctx.font;\n\t\t\t\t\tpadding = this.toBoxPixelArray(padding, context);\n\t\t\t\t\tconst left = rect.left + padding[3];\n\t\t\t\t\tconst top = rect.top + padding[0];\n\t\t\t\t\tconst width = rect.width - padding[1] - padding[3];\n\t\t\t\t\tconst height = rect.height - padding[0] - padding[2];\n\t\t\t\t\trect = new Rect(left, top, width, height);\n\t\t\t\t}\n\t\t\t\t_inlineRect(this._grid, ctx, text, rect, col, row, {\n\t\t\t\t\toffset,\n\t\t\t\t\tcolor,\n\t\t\t\t\ttextAlign,\n\t\t\t\t\ttextBaseline,\n\t\t\t\t\tfont,\n\t\t\t\t\ticons\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\tmultilineText(multilines, context, {\n\t\t\tpadding,\n\t\t\toffset = 2,\n\t\t\tcolor,\n\t\t\ttextAlign = 'left',\n\t\t\ttextBaseline = 'middle',\n\t\t\tfont,\n\t\t\tlineHeight = '1em',\n\t\t\ticons\n\t\t} = {}) {\n\t\t\tlet rect = context.getRect();\n\n\t\t\tconst { col, row } = context;\n\n\t\t\tif (!color) {\n\t\t\t\t({ color } = this.theme);\n\t\t\t\t// header color\n\t\t\t\tconst isFrozenCell = this._grid.isFrozenCell(col, row);\n\t\t\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\t\t\tcolor = this.theme.frozenRowsColor;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.drawWithClip(context, ctx => {\n\t\t\t\tctx.font = font || ctx.font;\n\t\t\t\tif (padding) {\n\t\t\t\t\tpadding = this.toBoxPixelArray(padding, context);\n\t\t\t\t\tconst left = rect.left + padding[3];\n\t\t\t\t\tconst top = rect.top + padding[0];\n\t\t\t\t\tconst width = rect.width - padding[1] - padding[3];\n\t\t\t\t\tconst height = rect.height - padding[0] - padding[2];\n\t\t\t\t\trect = new Rect(left, top, width, height);\n\t\t\t\t}\n\t\t\t\tconst calculator = this.createCalculator(context);\n\t\t\t\tlineHeight = calculator.calcHeight(lineHeight);\n\t\t\t\t_multiInlineRect(this._grid, ctx, multilines, rect, col, row, {\n\t\t\t\t\toffset,\n\t\t\t\t\tcolor,\n\t\t\t\t\ttextAlign,\n\t\t\t\t\ttextBaseline,\n\t\t\t\t\tfont,\n\t\t\t\t\tlineHeight,\n\t\t\t\t\ticons\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\tfillText(text, x, y, context, {\n\t\t\tcolor,\n\t\t\ttextAlign = 'left',\n\t\t\ttextBaseline = 'top',\n\t\t\tfont\n\t\t} = {}) {\n\n\t\t\tconst { col, row } = context;\n\n\t\t\tif (!color) {\n\t\t\t\t({ color } = this.theme);\n\t\t\t\t// header color\n\t\t\t\tconst isFrozenCell = this._grid.isFrozenCell(col, row);\n\t\t\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\t\t\tcolor = this.theme.frozenRowsColor;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst ctx = context.getContext();\n\t\t\tctx.save();\n\t\t\ttry {\n\t\t\t\tctx.fillStyle = getColor(color, col, row, this._grid, ctx);\n\t\t\t\tctx.textAlign = textAlign;\n\t\t\t\tctx.textBaseline = textBaseline;\n\t\t\t\tctx.font = font || ctx.font;\n\t\t\t\tctx.fillText(text, x, y);\n\t\t\t} finally {\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t}\n\t\tfillCell(context, {\n\t\t\tfillColor = this.theme.defaultBgColor\n\t\t} = {}) {\n\t\t\tconst rect = context.getRect();\n\n\t\t\tthis.drawWithClip(context, ctx => {\n\t\t\t\tconst { col, row } = context;\n\t\t\t\tctx.fillStyle = getColor(fillColor, col, row, this._grid, ctx);\n\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\n\t\t\t\tctx.fill();\n\t\t\t});\n\t\t}\n\t\tfillCellWithState(context, option = {}) {\n\t\t\toption.fillColor = this.getFillColorState(context, option);\n\t\t\tthis.fillCell(context, option);\n\t\t}\n\t\tfillRect(rect, context, {\n\t\t\tfillColor = this.theme.defaultBgColor\n\t\t} = {}) {\n\n\t\t\tconst ctx = context.getContext();\n\t\t\tctx.save();\n\t\t\ttry {\n\t\t\t\tconst { col, row } = context;\n\t\t\t\tctx.fillStyle = getColor(fillColor, col, row, this._grid, ctx);\n\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\n\t\t\t\tctx.fill();\n\t\t\t} finally {\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t}\n\t\tfillRectWithState(rect, context, option = {}) {\n\t\t\toption.fillColor = this.getFillColorState(context, option);\n\n\t\t\tthis.fillRect(rect, context, option);\n\t\t}\n\t\tgetFillColorState(context, option = {}) {\n\t\t\tconst state = context.getSelectState();\n\t\t\tconst { col, row } = context;\n\t\t\tif (!state.selected && state.selection) {\n\t\t\t\treturn this.theme.selectionBgColor;\n\t\t\t} else {\n\t\t\t\tconst isFrozenCell = this._grid.isFrozenCell(col, row);\n\t\t\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\t\t\treturn this.theme.frozenRowsBgColor;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn option.fillColor || this.theme.defaultBgColor;\n\t\t}\n\t\tborder(context, {\n\t\t\tborderColor = this.theme.borderColor,\n\t\t\tlineWidth = 1\n\t\t} = {}) {\n\t\t\tconst rect = context.getRect();\n\n\t\t\tthis.drawBorderWithClip(context, ctx => {\n\t\t\t\tconst { col, row } = context;\n\t\t\t\tconst borderColors = getColor(borderColor, col, row, this._grid, ctx);\n\n\t\t\t\tif (lineWidth === 1) {\n\t\t\t\t\tctx.lineWidth = 1;\n\t\t\t\t\tstrokeRect(ctx, borderColors, rect.left - 0.5, rect.top - 0.5, rect.width, rect.height);\n\t\t\t\t} else if (lineWidth === 2) {\n\t\t\t\t\tctx.lineWidth = 2;\n\t\t\t\t\tstrokeRect(ctx, borderColors, rect.left, rect.top, rect.width - 1, rect.height - 1);\n\t\t\t\t} else {\n\t\t\t\t\tctx.lineWidth = lineWidth;\n\t\t\t\t\tconst startOffset = lineWidth / 2 - 1;\n\t\t\t\t\tstrokeRect(ctx, borderColors, rect.left + startOffset, rect.top + startOffset, rect.width - lineWidth + 1, rect.height - lineWidth + 1);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tborderWithState(context, option = {}) {\n\t\t\tconst rect = context.getRect();\n\t\t\tconst state = context.getSelectState();\n\t\t\tconst { col, row } = context;\n\n\t\t\t//\n\t\t\tif (state.selected) {\n\t\t\t\toption.borderColor = this.theme.hiliteBorderColor;\n\t\t\t\toption.lineWidth = 2;\n\t\t\t\tthis.border(context, option);\n\t\t\t} else {\n\t\t\t\t// header color\n\t\t\t\tconst isFrozenCell = this._grid.isFrozenCell(col, row);\n\t\t\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\t\t\toption.borderColor = this.theme.frozenRowsBorderColor;\n\t\t\t\t}\n\n\t\t\t\toption.lineWidth = 1;\n\t\t\t\tthis.border(context, option);\n\n\t\t\t\t//\n\t\t\t\tconst sel = this._grid.selection.select;\n\t\t\t\tif (sel.col + 1 === col && sel.row === row) {\n\t\t\t\t\t//\n\t\t\t\t\tthis.drawBorderWithClip(context, ctx => {\n\t\t\t\t\t\tconst borderColors = toBoxArray(getColor(this.theme.hiliteBorderColor, sel.col, sel.row, this._grid, ctx));\n\t\t\t\t\t\tctx.lineWidth = 1;\n\t\t\t\t\t\tctx.strokeStyle = borderColors[1];\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tctx.moveTo(rect.left - 0.5, rect.top);\n\t\t\t\t\t\tctx.lineTo(rect.left - 0.5, rect.bottom);\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t});\n\t\t\t\t} else if (sel.col === col && sel.row + 1 === row) {\n\t\t\t\t\t//\n\t\t\t\t\tthis.drawBorderWithClip(context, ctx => {\n\t\t\t\t\t\tconst borderColors = toBoxArray(getColor(this.theme.hiliteBorderColor, sel.col, sel.row, this._grid, ctx));\n\t\t\t\t\t\tctx.lineWidth = 1;\n\t\t\t\t\t\tctx.strokeStyle = borderColors[0];\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tctx.moveTo(rect.left, rect.top - 0.5);\n\t\t\t\t\t\tctx.lineTo(rect.right, rect.top - 0.5);\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcheckbox(check, context, option = {}) {\n\t\t\tthis.drawWithClip(context, ctx => {\n\t\t\t\tdrawCheckbox(ctx, context.getRect(), check, this, option);\n\t\t\t});\n\t\t}\n\t\tbutton(caption, context, {\n\t\t\tbgColor = this.theme.button.bgColor,\n\t\t\tpadding,\n\t\t\toffset = 2,\n\t\t\tcolor = this.theme.button.color,\n\t\t\ttextAlign = 'center',\n\t\t\ttextBaseline = 'middle',\n\t\t\tshadow,\n\t\t\tfont,\n\t\t\ticons\n\t\t} = {}) {\n\t\t\tconst rect = context.getRect();\n\n\t\t\tthis.drawWithClip(context, ctx => {\n\t\t\t\tconst { col, row } = context;\n\t\t\t\tpadding = this.toBoxPixelArray(padding || rect.height / 8, context);\n\t\t\t\tconst left = rect.left + padding[3];\n\t\t\t\tconst top = rect.top + padding[0];\n\t\t\t\tconst width = rect.width - padding[1] - padding[3];\n\t\t\t\tconst height = rect.height - padding[0] - padding[2];\n\n\t\t\t\tcanvashelper.drawButton(ctx, left, top, width, height, {\n\t\t\t\t\tbgColor,\n\t\t\t\t\tradius: rect.height / 8,\n\t\t\t\t\toffset,\n\t\t\t\t\tshadow\n\t\t\t\t});\n\t\t\t\t_inlineRect(this._grid, ctx, caption, new Rect(left, top, width, height), col, row, {\n\t\t\t\t\toffset,\n\t\t\t\t\tcolor,\n\t\t\t\t\ttextAlign,\n\t\t\t\t\ttextBaseline,\n\t\t\t\t\tfont,\n\t\t\t\t\ticons\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\ttestFontLoad(font, value, context) {\n\t\t\treturn testFontLoad(font, value, context, this._grid);\n\t\t}\n\t}\n\n\tmodule.exports = GridCanvasHelper;\n}\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst loads = {};\n\tconst legacy = !document.fonts;\n\tconst load = legacy ? function (font, testStr, callback) {\n\t\t//for legacy(IE)\n\t\tif (loads[font + ' @ ' + testStr]) {\n\t\t\tcallback();\n\t\t\treturn;\n\t\t}\n\t\t__webpack_require__(98).load(font, testStr, () => {\n\t\t\tloads[font + ' @ ' + testStr] = true;\n\t\t\tcallback();\n\t\t}, () => {\n\t\t\tloads[font + ' @ ' + testStr] = true;\n\t\t\tcallback();\n\t\t});\n\t} : function (font, testStr, callback) {\n\t\tif (loads.all || loads[font]) {\n\t\t\tcallback();\n\t\t\treturn;\n\t\t}\n\t\tdocument.fonts.ready.then(() => {\n\t\t\tloads.all = true;\n\t\t});\n\t\tdocument.fonts.load(font).then(() => {\n\t\t\tloads[font] = true;\n\t\t\tcallback();\n\t\t});\n\t};\n\tconst check = legacy ? function (font, testStr) {\n\t\t//for legacy(IE)\n\t\tif (loads[font + ' @ ' + testStr]) {\n\t\t\treturn true;\n\t\t}\n\t\tload(font, testStr, () => {});\n\t\treturn false;\n\t} : function (font, testStr) {\n\t\tif (loads.all || loads[font]) {\n\t\t\treturn true;\n\t\t}\n\t\tif (!document.fonts.check(font)) {\n\t\t\tload(font, testStr, () => {});\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t};\n\n\tmodule.exports = {\n\t\tcheck,\n\t\tload\n\t};\n}\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Inline = __webpack_require__(12);\nconst { getCacheOrLoad } = __webpack_require__(42);\nconst { isPromise } = __webpack_require__(0);\n\nclass InlineImage extends Inline {\n\tconstructor({\n\t\tsrc,\n\t\twidth,\n\t\theight,\n\t\timageLeft,\n\t\timageTop,\n\t\timageWidth,\n\t\timageHeight\n\t}) {\n\t\tsuper();\n\t\tthis._src = src;\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tthis._imageLeft = imageLeft;\n\t\tthis._imageTop = imageTop;\n\t\tthis._imageWidth = imageWidth;\n\t\tthis._imageHeight = imageHeight;\n\n\t\tthis._onloaded = [];\n\n\t\tthis._loaded = false;\n\t\tif (isPromise(src)) {\n\t\t\tsrc.then(s => {\n\t\t\t\tthis._src = s;\n\t\t\t\tthis._loadImage(s);\n\t\t\t});\n\t\t} else {\n\t\t\tthis._loadImage(src);\n\t\t}\n\t}\n\t_loadImage(src) {\n\t\tconst img = this._inlineImg = getCacheOrLoad('InlineImage', 50, src);\n\t\tif (isPromise(img)) {\n\t\t\timg.then(i => {\n\t\t\t\tthis._loaded = true;\n\t\t\t\tthis._inlineImg = i;\n\n\t\t\t\tthis._onloaded.forEach(fn => fn());\n\t\t\t});\n\t\t} else {\n\t\t\tthis._loaded = true;\n\t\t}\n\t}\n\twidth({ ctx }) {\n\t\treturn this._width || (this._loaded ? this._inlineImg.width : 0);\n\t}\n\tfont() {\n\t\treturn null;\n\t}\n\tcolor() {\n\t\treturn null;\n\t}\n\tcanDraw() {\n\t\treturn this._loaded;\n\t}\n\tonReady(callback) {\n\t\tif (isPromise(this._src) || isPromise(this._inlineImg)) {\n\t\t\tthis._onloaded.push(() => callback());\n\t\t}\n\t}\n\tdraw({\n\t\tctx,\n\t\tcanvashelper,\n\t\trect,\n\t\toffset,\n\t\toffsetLeft,\n\t\toffsetRight,\n\t\toffsetTop,\n\t\toffsetBottom\n\t}) {\n\t\tconst img = this._inlineImg;\n\t\tcanvashelper.drawInlineImageRect(ctx, img, this._imageLeft || 0, this._imageTop || 0, this._imageWidth || img.width, this._imageHeight || img.height, this._width || img.width, this._height || img.height, rect.left, rect.top, rect.width, rect.height, {\n\t\t\toffset: offset + 1,\n\t\t\tpadding: {\n\t\t\t\tleft: offsetLeft,\n\t\t\t\tright: offsetRight,\n\t\t\t\ttop: offsetTop,\n\t\t\t\tbottom: offsetBottom\n\t\t\t}\n\t\t});\n\t}\n}\n\nmodule.exports = InlineImage;\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*eslint-disable camelcase*/\n\n\nconst { extend } = __webpack_require__(0);\nconst plugins = __webpack_require__(52);\nconst builtins = {\n\tget arrow_upward() {\n\t\treturn __webpack_require__(106);\n\t},\n\tget arrow_downward() {\n\t\treturn __webpack_require__(107);\n\t},\n\tget edit() {\n\t\treturn __webpack_require__(108);\n\t},\n\tget add() {\n\t\treturn __webpack_require__(109);\n\t},\n\tget star() {\n\t\treturn __webpack_require__(110);\n\t},\n\tget star_border() {\n\t\treturn __webpack_require__(111);\n\t},\n\tget star_half() {\n\t\treturn __webpack_require__(112);\n\t}\n};\n\nmodule.exports = {\n\tget() {\n\t\treturn extend(builtins, plugins);\n\t}\n};\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = {};\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst rgbMap = {};\n\tfunction styleColorToRGB(color) {\n\t\tconst dummy = document.createElement('div');\n\t\tconst { style } = dummy;\n\t\tstyle.color = color;\n\t\tstyle.position = 'fixed';\n\t\tstyle.height = '1px';\n\t\tstyle.width = '1px';\n\t\tstyle.opacity = 0;\n\t\tdocument.body.appendChild(dummy);\n\t\tconst { color: styleColor } = document.defaultView.getComputedStyle(dummy, '');\n\t\tdocument.body.removeChild(dummy);\n\t\treturn colorToRGB0(styleColor);\n\t}\n\n\tfunction hexToNum(hex) {\n\t\treturn parseInt(hex, 16);\n\t}\n\tfunction createRGB(r, g, b, a = 1) {\n\t\treturn { r, g, b, a };\n\t}\n\tfunction tripleHexToRGB({ 1: r, 2: g, 3: b }) {\n\t\treturn createRGB(hexToNum(r + r), hexToNum(g + g), hexToNum(b + b));\n\t}\n\tfunction sextupleHexToRGB({ 1: r1, 2: r2, 3: g1, 4: g2, 5: b1, 6: b2 }) {\n\t\treturn createRGB(hexToNum(r1 + r2), hexToNum(g1 + g2), hexToNum(b1 + b2));\n\t}\n\n\tfunction testRGB({ r, g, b, a }) {\n\t\treturn 0 <= r && r <= 255 && 0 <= g && g <= 255 && 0 <= b && b <= 255 && 0 <= a && a <= 1;\n\t}\n\tfunction rateToByte(r) {\n\t\treturn Math.ceil(r * 255 / 100);\n\t}\n\tfunction colorToRGB0(color) {\n\t\tif (color.match(/^#[0-9a-f]{3}$/i)) {\n\t\t\treturn tripleHexToRGB(color);\n\t\t}\n\t\tif (color.match(/^#[0-9a-f]{6}$/i)) {\n\t\t\treturn sextupleHexToRGB(color);\n\t\t}\n\t\tlet ret = color.match(/^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/i);\n\t\tif (ret) {\n\t\t\tconst rgb = createRGB(ret[1] - 0, ret[2] - 0, ret[3] - 0);\n\t\t\tif (testRGB(rgb)) {\n\t\t\t\treturn rgb;\n\t\t\t}\n\t\t}\n\t\tret = color.match(/^rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d(\\.\\d)?)\\s*\\)$/i);\n\t\tif (ret) {\n\t\t\tconst rgb = createRGB(ret[1] - 0, ret[2] - 0, ret[3] - 0, ret[4] - 0);\n\t\t\tif (testRGB(rgb)) {\n\t\t\t\treturn rgb;\n\t\t\t}\n\t\t}\n\t\tret = color.match(/^rgb\\(\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*\\)$/i);\n\t\tif (ret) {\n\t\t\tconst rgb = createRGB(rateToByte(ret[1]), rateToByte(ret[3]), rateToByte(ret[5]));\n\t\t\tif (testRGB(rgb)) {\n\t\t\t\treturn rgb;\n\t\t\t}\n\t\t}\n\t\tret = color.match(/^rgba\\(\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d(\\.\\d)?)\\s*\\)$/i);\n\t\tif (ret) {\n\t\t\tconst rgb = createRGB(rateToByte(ret[1]), rateToByte(ret[3]), rateToByte(ret[5]), ret[7] - 0);\n\t\t\tif (testRGB(rgb)) {\n\t\t\t\treturn rgb;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\tfunction colorToRGB(color) {\n\t\tif (typeof color !== 'string') {\n\t\t\treturn createRGB(0, 0, 0, 0);\n\t\t}\n\t\tcolor = color.toLowerCase().trim();\n\t\tif (rgbMap[color]) {\n\t\t\treturn rgbMap[color];\n\t\t}\n\t\treturn colorToRGB0(color) || (rgbMap[color] = styleColorToRGB(color));\n\t}\n\n\tmodule.exports = {\n\t\tcolorToRGB\n\t};\n}\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst EventTarget = __webpack_require__(13);\n\n\tconst EVENT_TYPE = {\n\t\tCHANGE_STYLE: 'change_style'\n\t};\n\n\tlet defaultStyle;\n\tclass BaseStyle extends EventTarget {\n\t\tstatic get EVENT_TYPE() {\n\t\t\treturn EVENT_TYPE;\n\t\t}\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : defaultStyle = new BaseStyle();\n\t\t}\n\t\tconstructor({\n\t\t\ttextAlign = 'left',\n\t\t\ttextBaseline = 'middle',\n\t\t\tbgColor\n\t\t} = {}) {\n\t\t\tsuper();\n\t\t\tthis._textAlign = textAlign;\n\t\t\tthis._textBaseline = textBaseline;\n\t\t\tthis._bgColor = bgColor;\n\t\t}\n\t\tget textAlign() {\n\t\t\treturn this._textAlign;\n\t\t}\n\t\tset textAlign(textAlign) {\n\t\t\tthis._textAlign = textAlign;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget textBaseline() {\n\t\t\treturn this._textBaseline;\n\t\t}\n\t\tset textBaseline(textBaseline) {\n\t\t\tthis._textBaseline = textBaseline;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget bgColor() {\n\t\t\treturn this._bgColor;\n\t\t}\n\t\tset bgColor(bgColor) {\n\t\t\tthis._bgColor = bgColor;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tdoChangeStyle() {\n\t\t\tthis.fireListeners(EVENT_TYPE.CHANGE_STYLE);\n\t\t}\n\t\tclone() {\n\t\t\treturn new BaseStyle(this);\n\t\t}\n\t}\n\tmodule.exports = BaseStyle;\n}\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst styleContents = __webpack_require__(16);\n\tconst { Style } = styleContents;\n\n\tclass BaseHeader {\n\t\tconstructor(headerCell) {\n\t\t\tthis._headerCell = headerCell;\n\t\t\tthis.onDrawCell = this.onDrawCell.bind(this); //\n\t\t}\n\t\tget StyleClass() {\n\t\t\treturn Style;\n\t\t}\n\t\tonDrawCell(cellValue, info, context, grid) {\n\t\t\tconst { style, drawCellBase } = info;\n\t\t\tdelete info.getRecord;\n\t\t\tdelete info.style;\n\t\t\tconst helper = grid.getGridCanvasHelper();\n\t\t\tdrawCellBase();\n\t\t\t//\n\t\t\tthis.drawInternal(cellValue, context, styleContents.of(style, this.StyleClass), helper, grid, info);\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, info) {}\n\t\tbindGridEvent(grid) {\n\t\t\treturn [];\n\t\t}\n\t}\n\tmodule.exports = BaseHeader;\n}\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst { extend } = __webpack_require__(0);\nconst DrawGrid = __webpack_require__(4);\nconst EVENT_TYPE = extend(DrawGrid.EVENT_TYPE, {\n\tCHANGED_VALUE: 'changed_value'\n});\nmodule.exports = EVENT_TYPE;\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst core = __webpack_require__(58);\n\tconst tools = __webpack_require__(65);\n\tconst columns = __webpack_require__(29);\n\tconst themes = __webpack_require__(23);\n\tconst data = __webpack_require__(45);\n\n\tconst ListGrid = __webpack_require__(95);\n\tconst GridCanvasHelper = __webpack_require__(48);\n\n\tconst icons = __webpack_require__(51);\n\tconst register = __webpack_require__(129);\n\n\t/**\r\n  * Cheetah Grid\r\n  * @type {Object}\r\n  * @namespace cheetahGrid\r\n  */\n\tmodule.exports = {\n\t\tcore,\n\t\ttools,\n\n\t\t// impl Grids\n\t\tListGrid,\n\n\t\t// objects\n\t\tcolumns,\n\t\tthemes,\n\t\tdata,\n\n\t\t// helper\n\t\tGridCanvasHelper,\n\t\tget icons() {\n\t\t\treturn icons.get();\n\t\t},\n\n\t\t//plugin registers\n\t\tregister,\n\n\t\tget _internal() {\n\t\t\tconsole.warn('use internal!!');\n\t\t\treturn {\n\t\t\t\tcolor: __webpack_require__(53),\n\t\t\t\tsort: __webpack_require__(47),\n\t\t\t\tcalc: __webpack_require__(17),\n\t\t\t\tsymbolManager: __webpack_require__(1),\n\t\t\t\tpath2DManager: __webpack_require__(24)\n\t\t\t};\n\t\t}\n\t};\n}\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst DrawGrid = __webpack_require__(4);\n\n\t/**\r\n  * core modules\r\n  * @type {Object}\r\n  * @namespace cheetahGrid.core\r\n  * @memberof cheetahGrid\r\n  */\n\tmodule.exports = {\n\t\tDrawGrid\n\t};\n}\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst EventHandler = __webpack_require__(5);\n\tconst style = __webpack_require__(27);\n\tconst { browser } = __webpack_require__(0);\n\n\tconst MAX_SCROLL = browser.heightLimit - 1000;\n\n\tfunction _update(scrollable) {\n\t\tlet domHeight;\n\t\tif (scrollable._height > MAX_SCROLL) {\n\t\t\tconst sbSize = style.getScrollBarSize();\n\t\t\tconst offsetHeight = scrollable._scrollable.offsetHeight;\n\t\t\tconst vScrollRange = MAX_SCROLL - offsetHeight + sbSize;\n\t\t\tconst rScrollRange = scrollable._height - offsetHeight + sbSize;\n\t\t\tscrollable._p = vScrollRange / rScrollRange;\n\t\t\tdomHeight = MAX_SCROLL;\n\t\t} else {\n\t\t\tscrollable._p = 1;\n\t\t\tdomHeight = scrollable._height;\n\t\t}\n\n\t\tscrollable._endPointElement.style.top = domHeight.toFixed() + 'px';\n\t\tscrollable._endPointElement.style.left = scrollable._width.toFixed() + 'px';\n\t}\n\n\tclass Scrollable {\n\t\tconstructor() {\n\t\t\tthis._handler = new EventHandler();\n\n\t\t\tthis._scrollable = document.createElement('div');\n\t\t\tthis._scrollable.classList.add('grid-scrollable');\n\t\t\tthis._height = 0;\n\t\t\tthis._width = 0;\n\n\t\t\tthis._endPointElement = document.createElement('div');\n\t\t\tthis._endPointElement.classList.add('grid-scroll-end-point');\n\t\t\t_update(this);\n\t\t\tthis._scrollable.appendChild(this._endPointElement);\n\n\t\t\t// const mousewheelevt = (/Firefox/i.test(navigator.userAgent)) ? 'DOMMouseScroll' : 'mousewheel'; //FF doesn't recognize mousewheel as of FF3.x\n\t\t\t// this._handler.on(this._scrollable, mousewheelevt, (evt) => {\n\t\t\t// const delta = evt.detail ? evt.detail * (-120) : evt.wheelDelta;\n\t\t\t// const point = Math.min(Math.abs(delta) / 12, this.scrollHeight / 5);\n\t\t\t// this.scrollTop += delta < 0 ? point : -point;\n\t\t\t// });\n\t\t}\n\t\tcalcTop(top) {\n\t\t\tconst relativeTop = top - this.scrollTop;\n\t\t\treturn this._scrollable.scrollTop + relativeTop;\n\t\t}\n\t\tgetElement() {\n\t\t\treturn this._scrollable;\n\t\t}\n\t\tsetScrollSize(width, height) {\n\t\t\tthis._width = width;\n\t\t\tthis._height = height;\n\t\t\t_update(this);\n\t\t}\n\t\tget scrollWidth() {\n\t\t\treturn this._width;\n\t\t}\n\t\tset scrollWidth(width) {\n\t\t\tthis._width = width;\n\t\t\t_update(this);\n\t\t}\n\t\tget scrollHeight() {\n\t\t\treturn this._height;\n\t\t}\n\t\tset scrollHeight(height) {\n\t\t\tthis._height = height;\n\t\t\t_update(this);\n\t\t}\n\t\tget scrollLeft() {\n\t\t\treturn Math.ceil(this._scrollable.scrollLeft);\n\t\t}\n\t\tset scrollLeft(scrollLeft) {\n\t\t\tthis._scrollable.scrollLeft = scrollLeft;\n\t\t}\n\t\tget scrollTop() {\n\t\t\treturn Math.ceil(this._scrollable.scrollTop / this._p);\n\t\t}\n\t\tset scrollTop(scrollTop) {\n\t\t\tthis._scrollable.scrollTop = scrollTop * this._p;\n\t\t}\n\t\tonScroll(fn) {\n\t\t\tthis._handler.on(this._scrollable, 'scroll', fn);\n\t\t}\n\t\tdispose() {\n\t\t\tthis._handler.dispose();\n\t\t}\n\t}\n\n\tmodule.exports = Scrollable;\n}\n\n/***/ }),\n/* 60 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar content = __webpack_require__(61);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(7)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n/***/ }),\n/* 61 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(6)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".cheetah-grid .grid-scrollable{height:100%;width:100%;position:absolute;overflow:scroll}.cheetah-grid .grid-scroll-end-point{opacity:0;position:relative}.cheetah-grid{position:relative;width:100%;height:100%}.cheetah-grid>canvas{position:absolute;width:0;height:0}.cheetah-grid .grid-focus-control{position:relative!important;width:1px;height:1px;opacity:0;padding:0;margin:0;box-sizing:border-box;pointer-events:none;max-width:0;max-height:0;float:none!important}.cheetah-grid input.grid-focus-control::-ms-clear{visibility:hidden}.cheetah-grid input.grid-focus-control.composition{opacity:1;max-width:none;max-height:none}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 62 */\n/***/ (function(module, exports) {\n\n\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n\n\n/***/ }),\n/* 63 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst indexFirst = (ary, elm) => {\n\t\tlet low = 0;\n\t\tlet high = ary.length - 1;\n\t\twhile (low <= high) {\n\t\t\tconst i = Math.floor((low + high) / 2);\n\t\t\tif (ary[i] === elm) {\n\t\t\t\treturn i;\n\t\t\t} else if (ary[i] > elm) {\n\t\t\t\thigh = i - 1;\n\t\t\t} else {\n\t\t\t\tlow = i + 1;\n\t\t\t}\n\t\t}\n\t\treturn high < 0 ? 0 : high;\n\t};\n\n\tclass NumberMap {\n\t\tconstructor() {\n\t\t\tthis._keys = [];\n\t\t\tthis._vals = {};\n\t\t\tthis._sorted = false;\n\t\t}\n\t\tput(key, value) {\n\t\t\tif (!(key in this._vals)) {\n\t\t\t\tthis._keys.push(key);\n\t\t\t\tthis._sorted = false;\n\t\t\t}\n\t\t\tthis._vals[key] = value;\n\t\t}\n\t\tget(key) {\n\t\t\treturn this._vals[key];\n\t\t}\n\t\teachAll(fn) {\n\t\t\tthis._keys.forEach(key => {\n\t\t\t\tfn(this.get(key), key);\n\t\t\t});\n\t\t}\n\t\teach(keyFrom, keyTo, fn) {\n\t\t\tconst { _keys: keys } = this;\n\t\t\tconst { length } = keys;\n\t\t\tif (!this._sorted) {\n\t\t\t\tkeys.sort((a, b) => {\n\t\t\t\t\tif (a < b) {\n\t\t\t\t\t\treturn -1;\n\t\t\t\t\t}\n\t\t\t\t\tif (a > b) {\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\t}\n\t\t\t\t\treturn 0;\n\t\t\t\t});\n\t\t\t\tthis._sorted = true;\n\t\t\t}\n\n\t\t\tfor (let i = indexFirst(keys, keyFrom); i < length; i++) {\n\t\t\t\tconst key = keys[i];\n\t\t\t\tif (keyFrom <= key && key <= keyTo) {\n\t\t\t\t\tfn(this.get(key), key);\n\t\t\t\t} else if (keyTo < key) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tmodule.exports = NumberMap;\n}\n\n/***/ }),\n/* 64 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst EventHandler = __webpack_require__(5);\nconst handler = new EventHandler();\n\nlet ratio;\nfunction setRatio() {\n\tratio = Math.ceil(window.devicePixelRatio || 1);\n\tif (ratio > 1 && ratio % 2 !== 0) {\n\t\tratio += 1;\n\t}\n}\nsetRatio();\nhandler.on(window, 'resize', setRatio);\n\nmodule.exports = {\n\ttransform(canvas) {\n\t\tconst ctx = canvas.getContext('2d');\n\n\t\tconst getAttribute = canvas.getAttribute;\n\t\tcanvas.getAttribute = function (name, ...args) {\n\t\t\tlet result = getAttribute.call(this, name, ...args);\n\t\t\tif (name === 'width' || name === 'height') {\n\t\t\t\tresult /= ratio;\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t\tconst setAttribute = canvas.setAttribute;\n\t\tcanvas.setAttribute = function (name, val, ...args) {\n\t\t\tconst wh = name === 'width' || name === 'height';\n\t\t\tif (wh) {\n\t\t\t\tval *= ratio;\n\t\t\t}\n\t\t\tconst result = setAttribute.call(this, name, val, ...args);\n\t\t\tif (wh) {\n\t\t\t\tctx.scale(ratio, ratio);\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\n\t\tObject.defineProperty(canvas, 'width', {\n\t\t\tget() {\n\t\t\t\treturn canvas.getAttribute('width');\n\t\t\t},\n\t\t\tset: val => {\n\t\t\t\tcanvas.setAttribute('width', Math.floor(val));\n\t\t\t},\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true\n\t\t});\n\t\tObject.defineProperty(canvas, 'height', {\n\t\t\tget() {\n\t\t\t\treturn canvas.getAttribute('height');\n\t\t\t},\n\t\t\tset: val => {\n\t\t\t\tcanvas.setAttribute('height', Math.floor(val));\n\t\t\t},\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true\n\t\t});\n\t\tconst drawImage = ctx.drawImage;\n\t\tctx.drawImage = function (img, ...args) {\n\t\t\tif (img !== canvas || ratio === 1) {\n\t\t\t\treturn drawImage.call(this, img, ...args);\n\t\t\t}\n\t\t\tthis.save();\n\t\t\ttry {\n\t\t\t\tthis.scale(1 / ratio, 1 / ratio);\n\t\t\t\tif (args.length > 4) {\n\t\t\t\t\targs[4] = args[4] * ratio;\n\t\t\t\t\targs[5] = args[5] * ratio;\n\t\t\t\t} else {\n\t\t\t\t\targs[0] = args[0] * ratio;\n\t\t\t\t\targs[1] = args[1] * ratio;\n\t\t\t\t}\n\t\t\t\treturn drawImage.call(this, img, ...args);\n\t\t\t} finally {\n\t\t\t\tthis.restore();\n\t\t\t}\n\t\t};\n\n\t\treturn canvas;\n\t}\n};\n\n/***/ }),\n/* 65 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst canvashelper = __webpack_require__(28);\n\n\t/**\r\n  * tools\r\n  * @type {Object}\r\n  * @namespace cheetahGrid.tools\r\n  * @memberof cheetahGrid\r\n  */\n\tmodule.exports = {\n\t\tcanvashelper\n\t};\n}\n\n/***/ }),\n/* 66 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst BaseAction = __webpack_require__(18);\n\tconst Action = __webpack_require__(30);\n\tconst Editor = __webpack_require__(14);\n\tconst CheckEditor = __webpack_require__(67);\n\tconst ButtonAction = __webpack_require__(68);\n\tconst SmallDialogInputEditor = __webpack_require__(69);\n\tconst InlineInputEditor = __webpack_require__(73);\n\tconst InlineMenuEditor = __webpack_require__(77);\n\n\tclass ImmutableCheckEditor extends CheckEditor {\n\t\tget disabled() {\n\t\t\treturn this._disabled;\n\t\t}\n\t\tget readOnly() {\n\t\t\treturn this._readOnly;\n\t\t}\n\t}\n\tclass ImmutableInputEditor extends SmallDialogInputEditor {\n\t\tget disabled() {\n\t\t\treturn this._disabled;\n\t\t}\n\t\tget readOnly() {\n\t\t\treturn this._readOnly;\n\t\t}\n\t}\n\n\t/**\r\n  * column actions\r\n  * @type {Object}\r\n  * @namespace cheetahGrid.columns.action\r\n  * @memberof cheetahGrid.columns\r\n  */\n\tconst action = {\n\t\tACTIONS: {\n\t\t\tCHECK: new ImmutableCheckEditor(),\n\t\t\tINPUT: new ImmutableInputEditor()\n\t\t},\n\t\tget BaseAction() {\n\t\t\treturn BaseAction;\n\t\t},\n\t\tget Editor() {\n\t\t\treturn Editor;\n\t\t},\n\t\tget Action() {\n\t\t\treturn Action;\n\t\t},\n\t\tget CheckEditor() {\n\t\t\treturn CheckEditor;\n\t\t},\n\t\tget ButtonAction() {\n\t\t\treturn ButtonAction;\n\t\t},\n\t\tget SmallDialogInputEditor() {\n\t\t\treturn SmallDialogInputEditor;\n\t\t},\n\t\tget InlineInputEditor() {\n\t\t\tconsole.warn('InlineInputEditor is an experiment stage');\n\t\t\treturn InlineInputEditor;\n\t\t},\n\t\tget InlineMenuEditor() {\n\t\t\treturn InlineMenuEditor;\n\t\t},\n\t\tof(columnAction) {\n\t\t\tif (!columnAction) {\n\t\t\t\treturn action.ACTIONS.DEFAULT;\n\t\t\t} else if (typeof columnAction === 'string') {\n\t\t\t\treturn action.ACTIONS[columnAction.toUpperCase()] || action.of(null);\n\t\t\t} else {\n\t\t\t\treturn columnAction;\n\t\t\t}\n\t\t}\n\t};\n\tmodule.exports = action;\n}\n\n/***/ }),\n/* 67 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst { obj: { setReadonly }, isPromise } = __webpack_require__(0);\n\tconst { bindCellClickAction, bindCellKeyAction } = __webpack_require__(31);\n\tconst animate = __webpack_require__(32);\n\n\tconst Editor = __webpack_require__(14);\n\tconst { CHECK_COLUMN_STATE_ID } = __webpack_require__(1);\n\n\tconst KEY_ENTER = 13;\n\tconst KEY_SPACE = 32;\n\n\tfunction toggleValue(val) {\n\t\tif (typeof val === 'number') {\n\t\t\tif (val === 0) {\n\t\t\t\treturn 1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t} else if (typeof val === 'string') {\n\t\t\tif (val === 'false') {\n\t\t\t\treturn 'true';\n\t\t\t} else if (val === 'off') {\n\t\t\t\treturn 'on';\n\t\t\t} else if (val.match(/^0+$/)) {\n\t\t\t\treturn val.replace(/^(0*)0$/, '$11');\n\t\t\t} else if (val === 'true') {\n\t\t\t\treturn 'false';\n\t\t\t} else if (val === 'on') {\n\t\t\t\treturn 'off';\n\t\t\t} else if (val.match(/^0*1$/)) {\n\t\t\t\treturn val.replace(/^(0*)1$/, '$10');\n\t\t\t}\n\t\t}\n\t\treturn !val;\n\t}\n\n\tclass CheckEditor extends Editor {\n\t\tclone() {\n\t\t\treturn new CheckEditor(this);\n\t\t}\n\t\tbindGridEvent(grid, col, util) {\n\t\t\tif (!grid[CHECK_COLUMN_STATE_ID]) {\n\t\t\t\tsetReadonly(grid, CHECK_COLUMN_STATE_ID, {});\n\t\t\t}\n\t\t\tconst state = grid[CHECK_COLUMN_STATE_ID];\n\n\t\t\tconst action = cell => {\n\t\t\t\tconst key = cell.col + ':' + cell.row;\n\t\t\t\tconst blockKey = key + '::block';\n\t\t\t\tif (this.readOnly || this.disabled || state[blockKey]) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst ret = grid.doChangeValue(cell.col, cell.row, toggleValue);\n\t\t\t\tif (ret) {\n\n\t\t\t\t\tconst onChange = () => {\n\t\t\t\t\t\t// checkbox animation\n\t\t\t\t\t\tanimate(200, point => {\n\t\t\t\t\t\t\tif (point === 1) {\n\t\t\t\t\t\t\t\tdelete state[key];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tstate[key] = {\n\t\t\t\t\t\t\t\t\telapsed: point\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tgrid.invalidateCell(cell.col, cell.row);\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\t\tif (isPromise(ret)) {\n\t\t\t\t\t\tstate[blockKey] = true;\n\t\t\t\t\t\tret.then(() => {\n\t\t\t\t\t\t\tdelete state[blockKey];\n\t\t\t\t\t\t\tonChange();\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tonChange();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn [...bindCellClickAction(grid, col, util, {\n\t\t\t\taction,\n\t\t\t\tmouseOver: e => {\n\t\t\t\t\tif (this.disabled) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tstate.mouseActiveCell = {\n\t\t\t\t\t\tcol: e.col,\n\t\t\t\t\t\trow: e.row\n\t\t\t\t\t};\n\t\t\t\t\tgrid.invalidateCell(e.col, e.row);\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\t\t\tmouseOut: e => {\n\t\t\t\t\tdelete state.mouseActiveCell;\n\t\t\t\t\tgrid.invalidateCell(e.col, e.row);\n\t\t\t\t}\n\t\t\t}), ...bindCellKeyAction(grid, col, util, {\n\t\t\t\taction: e => {\n\t\t\t\t\tconst selrange = grid.selection.range;\n\t\t\t\t\tconst col = grid.selection.select.col;\n\t\t\t\t\tfor (let row = selrange.start.row; row <= selrange.end.row; row++) {\n\t\t\t\t\t\tif (!util.isTarget(col, row)) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\taction({\n\t\t\t\t\t\t\tcol,\n\t\t\t\t\t\t\trow\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tacceptKeys: [KEY_ENTER, KEY_SPACE]\n\t\t\t})];\n\t\t}\n\t}\n\n\tmodule.exports = CheckEditor;\n}\n\n/***/ }),\n/* 68 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst { obj: { setReadonly } } = __webpack_require__(0);\n\tconst Action = __webpack_require__(30);\n\tconst { BUTTON_COLUMN_STATE_ID } = __webpack_require__(1);\n\tclass ButtonAction extends Action {\n\t\tgetState(grid) {\n\t\t\tif (!grid[BUTTON_COLUMN_STATE_ID]) {\n\t\t\t\tsetReadonly(grid, BUTTON_COLUMN_STATE_ID, {});\n\t\t\t}\n\t\t\treturn grid[BUTTON_COLUMN_STATE_ID];\n\t\t}\n\t}\n\n\tmodule.exports = ButtonAction;\n}\n\n/***/ }),\n/* 69 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst { obj: { setReadonly } } = __webpack_require__(0);\n\nconst SmallDialogInputElement = __webpack_require__(70);\nconst { SMALL_DIALOG_INPUT_EDITOR_STATE_ID: _ } = __webpack_require__(1);\n\nlet globalElement = null;\nlet bindGridCount = 0;\nfunction attachInput(grid, cell, editor, value) {\n\tif (!grid[_]) {\n\t\tsetReadonly(grid, _, {});\n\t}\n\tif (!globalElement) {\n\t\tglobalElement = new SmallDialogInputElement();\n\t}\n\tconst state = grid[_];\n\tif (!state.element) {\n\t\tstate.element = globalElement;\n\t\tbindGridCount++;\n\t\tgrid.addDisposable({\n\t\t\tdispose() {\n\t\t\t\tbindGridCount--;\n\t\t\t\tif (!bindGridCount) {\n\t\t\t\t\tglobalElement.dispose();\n\t\t\t\t\tglobalElement = null;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tglobalElement.attach(grid, editor, cell.col, cell.row, value);\n}\nfunction detachInput(gridFocus) {\n\tif (globalElement) {\n\t\tglobalElement.detach(gridFocus);\n\t}\n}\nconst BaseInputEditor = __webpack_require__(33);\nclass SmallDialogInputEditor extends BaseInputEditor {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._helperText = option.helperText;\n\t\tthis._inputValidator = option.inputValidator;\n\t\tthis._validator = option.validator;\n\t\tthis._classList = option.classList;\n\t\tthis._type = option.type;\n\t}\n\tdispose() {\n\t\tthis._inputDialogManager.dispose();\n\t\tthis._inputDialogManager = null;\n\t}\n\tget classList() {\n\t\treturn this._classList && (__webpack_provided_Array_dot_isArray(this._classList) ? this._classList : [this._classList]);\n\t}\n\tset classList(classList) {\n\t\tthis._classList = classList;\n\t}\n\tget type() {\n\t\treturn this._type;\n\t}\n\tset type(type) {\n\t\tthis._type = type;\n\t}\n\tget helperText() {\n\t\treturn this._helperText;\n\t}\n\tget inputValidator() {\n\t\treturn this._inputValidator;\n\t}\n\tget validator() {\n\t\treturn this._validator;\n\t}\n\tclone() {\n\t\treturn new SmallDialogInputEditor(this);\n\t}\n\tonInputCellInternal(grid, cell, inputValue) {\n\t\tattachInput(grid, cell, this, inputValue);\n\t}\n\tonOpenCellInternal(grid, cell) {\n\t\tgrid.doGetCellValue(cell.col, cell.row, value => {\n\t\t\tattachInput(grid, cell, this, value);\n\t\t});\n\t}\n\tonChangeSelectCellInternal(grid, cell, selected) {\n\t\t// cancel input\n\t\tdetachInput();\n\t}\n\tonGridScrollInternal(grid) {\n\t\t// cancel input\n\t\tdetachInput(true);\n\t}\n\tonChangeDisabledInternal() {\n\t\t// cancel input\n\t\tdetachInput(true);\n\t}\n\tonChangeReadOnlyInternal() {\n\t\t// cancel input\n\t\tdetachInput(true);\n\t}\n\tonSetInputAttrsInternal(grid, cell, input) {\n\t\tSmallDialogInputElement.setInputAttrs(this, grid, input);\n\t}\n}\n\nmodule.exports = SmallDialogInputEditor;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 70 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n\tevent: {\n\t\tgetKeyCode,\n\t\tcancel: cancelEvent\n\t},\n\tthen\n} = __webpack_require__(0);\n\nconst EventHandler = __webpack_require__(5);\nconst {\n\tcreateElement\n} = __webpack_require__(15);\n\nconst CLASSNAME = 'cheetah-grid__small-dialog-input';\nconst INPUT_CLASSNAME = CLASSNAME + '__input';\nconst HIDDEN_CLASSNAME = CLASSNAME + '--hidden';\nconst SHOWN_CLASSNAME = CLASSNAME + '--shown';\n\nconst KEY_ENTER = 13;\nconst KEY_ESC = 27;\n\nfunction _focus(input, handler) {\n\tconst focus = () => {\n\t\tinput.focus();\n\n\t\tconst end = input.value.length;\n\t\ttry {\n\t\t\tif (typeof input.selectionStart !== 'undefined') {\n\t\t\t\tinput.selectionStart = end;\n\t\t\t\tinput.selectionEnd = end;\n\t\t\t\treturn;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t//ignore\n\t\t}\n\t\tif (document.selection) {\n\t\t\tconst range = input.createTextRange();\n\t\t\trange.collapse();\n\t\t\trange.moveEnd('character', end);\n\t\t\trange.moveStart('character', end);\n\t\t\trange.select();\n\t\t}\n\t};\n\thandler.tryWithOffEvents(input, 'blur', () => {\n\t\tfocus();\n\t});\n}\n\nfunction createDialogElement() {\n\t__webpack_require__(71);\n\tconst element = createElement('div', { classList: [CLASSNAME, HIDDEN_CLASSNAME] });\n\tconst input = createElement('input', { classList: INPUT_CLASSNAME });\n\tinput.readonly = true;\n\tinput.tabIndex = -1;\n\telement.appendChild(input);\n\treturn element;\n}\n\nfunction bindProps(grid, dialog, input, editor) {\n\tconst { classList, helperText } = editor;\n\tif (classList) {\n\t\tdialog.classList.add(...classList);\n\t}\n\tif (helperText && typeof helperText !== 'function') {\n\t\tdialog.dataset.helperText = helperText;\n\t}\n\tsetInputAttrs(editor, grid, input);\n}\n\nfunction unbindProps(grid, dialog, input, editor) {\n\tconst { classList } = editor;\n\tif (classList) {\n\t\tdialog.classList.remove(...classList);\n\t}\n\tdelete dialog.dataset.helperText;\n\tinput.type = '';\n}\n\nfunction setInputAttrs(editor, grid, input) {\n\tconst { type } = editor;\n\tinput.type = type || '';\n}\n\nclass SmallDialogInputElement {\n\tstatic setInputAttrs(...args) {\n\t\tsetInputAttrs(...args);\n\t}\n\tconstructor() {\n\t\tthis._handler = new EventHandler();\n\t\tthis._dialog = createDialogElement();\n\t\tthis._input = this._dialog.querySelector('.' + INPUT_CLASSNAME);\n\t\tthis._bindDialogEvents();\n\t}\n\tdispose() {\n\t\tconst dialog = this._dialog;\n\t\tthis.detach();\n\t\tthis._handler.dispose();\n\t\tthis._dialog = null;\n\t\tthis._input = null;\n\t\tthis._beforePropEditor = null;\n\t\tif (dialog.parentElement) {\n\t\t\tdialog.parentElement.removeChild(dialog);\n\t\t}\n\t}\n\tattach(grid, editor, col, row, value) {\n\t\tconst handler = this._handler;\n\t\tconst dialog = this._dialog;\n\t\tconst input = this._input;\n\n\t\tif (this._beforePropEditor) {\n\t\t\tunbindProps(grid, dialog, input, this._beforePropEditor);\n\t\t}\n\n\t\tdelete dialog.dataset.errorMessage;\n\t\tdialog.classList.remove(SHOWN_CLASSNAME);\n\t\tdialog.classList.add(HIDDEN_CLASSNAME);\n\t\tinput.readonly = false;\n\t\tinput.tabIndex = 0;\n\t\tconst { element, rect } = grid.getAttachCellArea(col, row);\n\t\tdialog.style.top = rect.top.toFixed() + 'px';\n\t\tdialog.style.left = rect.left.toFixed() + 'px';\n\t\tdialog.style.width = rect.width.toFixed() + 'px';\n\t\tinput.style.height = rect.height.toFixed() + 'px';\n\t\telement.appendChild(dialog);\n\n\t\tinput.value = value;\n\t\tinput.style.font = grid.font || '16px sans-serif';\n\t\tconst activeData = { grid, col, row, editor };\n\t\tthis._onInputValue(input, activeData);\n\t\t_focus(input, handler);\n\t\tdialog.classList.add(SHOWN_CLASSNAME);\n\t\tdialog.classList.remove(HIDDEN_CLASSNAME);\n\t\tinput.readonly = true;\n\n\t\tbindProps(grid, dialog, input, editor);\n\n\t\tthis._activeData = activeData;\n\t\tthis._beforePropEditor = editor;\n\t}\n\tdetach(gridFocus) {\n\t\tif (this._isActive()) {\n\t\t\tconst dialog = this._dialog;\n\t\t\tconst input = this._input;\n\n\t\t\tdialog.classList.remove(SHOWN_CLASSNAME);\n\t\t\tdialog.classList.add(HIDDEN_CLASSNAME);\n\t\t\tinput.readonly = false;\n\t\t\tinput.tabIndex = -1;\n\n\t\t\tconst { grid, col, row } = this._activeData;\n\n\t\t\tgrid.invalidateCell(col, row);\n\t\t\tif (gridFocus) {\n\t\t\t\tgrid.focus();\n\t\t\t}\n\t\t}\n\t\tthis._activeData = null;\n\t\tthis._beforeValue = null;\n\t}\n\t_doChangeValue() {\n\t\tif (!this._isActive()) {\n\t\t\treturn false;\n\t\t}\n\t\tconst input = this._input;\n\t\tconst { value } = input;\n\t\treturn then(this._validate(value), res => {\n\t\t\tif (res && value === input.value) {\n\t\t\t\tconst { grid, col, row } = this._activeData;\n\t\t\t\tgrid.doChangeValue(col, row, () => value);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\t}\n\t_isActive() {\n\t\tconst dialog = this._dialog;\n\t\tif (!dialog || !dialog.parentElement) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!this._activeData) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\t_bindDialogEvents() {\n\t\tconst handler = this._handler;\n\t\tconst dialog = this._dialog;\n\t\tconst input = this._input;\n\t\tconst stopPropagationOnly = e => e.stopPropagation(); // grid\n\t\thandler.on(dialog, 'click', stopPropagationOnly);\n\t\thandler.on(dialog, 'dblclick', stopPropagationOnly);\n\t\thandler.on(dialog, 'mousedown', stopPropagationOnly);\n\t\thandler.on(dialog, 'touchstart', stopPropagationOnly);\n\n\t\thandler.on(input, 'compositionstart', e => {\n\t\t\tinput.classList.add('composition');\n\t\t});\n\t\thandler.on(input, 'compositionend', e => {\n\t\t\tinput.classList.remove('composition');\n\t\t\tthis._onInputValue(input);\n\t\t});\n\t\tconst onKeyupAndPress = e => {\n\t\t\tif (input.classList.contains('composition')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._onInputValue(input);\n\t\t};\n\t\thandler.on(input, 'keyup', onKeyupAndPress);\n\t\thandler.on(input, 'keypress', onKeyupAndPress);\n\t\thandler.on(input, 'keydown', e => {\n\t\t\tif (input.classList.contains('composition')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst keyCode = getKeyCode(e);\n\t\t\tif (keyCode === KEY_ESC) {\n\t\t\t\tthis.detach(true);\n\t\t\t\tcancelEvent(e);\n\t\t\t} else if (keyCode === KEY_ENTER) {\n\t\t\t\tconst input = this._input;\n\t\t\t\tconst { value } = input;\n\t\t\t\tthen(this._doChangeValue(), r => {\n\t\t\t\t\tif (r && value === input.value) {\n\t\t\t\t\t\tthis.detach(true);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tcancelEvent(e);\n\t\t\t} else {\n\t\t\t\tthis._onInputValue(input);\n\t\t\t}\n\t\t});\n\t}\n\t_onInputValue(input, activeData) {\n\t\tconst before = this._beforeValue;\n\t\tconst { value } = input;\n\t\tif (before !== value) {\n\t\t\tthis._onInputValueChange(value, before, activeData);\n\t\t}\n\t\tthis._beforeValue = value;\n\t}\n\t_onInputValueChange(after, before, activeData) {\n\t\tactiveData = activeData || this._activeData;\n\t\tconst dialog = this._dialog;\n\t\tconst { grid, col, row, editor } = activeData;\n\t\tif (typeof editor.helperText === 'function') {\n\t\t\tconst helperText = editor.helperText(after, { grid, col, row });\n\t\t\tif (helperText) {\n\t\t\t\tdialog.dataset.helperText = helperText;\n\t\t\t} else {\n\t\t\t\tdelete dialog.dataset.helperText;\n\t\t\t}\n\t\t}\n\t\tif ('errorMessage' in dialog.dataset) {\n\t\t\tthis._validate(after, true);\n\t\t}\n\t}\n\t_validate(value, inputOnly) {\n\t\tconst dialog = this._dialog;\n\t\tconst input = this._input;\n\t\tconst { grid, col, row, editor } = this._activeData;\n\t\tlet message = null;\n\t\tif (editor.inputValidator) {\n\t\t\tmessage = editor.inputValidator(value, { grid, col, row });\n\t\t}\n\t\treturn then(message, message => {\n\t\t\tif (!message && editor.validator && !inputOnly) {\n\t\t\t\tmessage = editor.validator(value, { grid, col, row });\n\t\t\t}\n\t\t\treturn then(message, message => {\n\t\t\t\tif (message && value === input.value) {\n\t\t\t\t\tdialog.dataset.errorMessage = message;\n\t\t\t\t} else {\n\t\t\t\t\tdelete dialog.dataset.errorMessage;\n\t\t\t\t}\n\t\t\t\treturn !message;\n\t\t\t});\n\t\t});\n\t}\n}\n\nmodule.exports = SmallDialogInputElement;\n\n/***/ }),\n/* 71 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar content = __webpack_require__(72);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(7)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n/***/ }),\n/* 72 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(6)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".cheetah-grid__small-dialog-input__input::-ms-clear{visibility:hidden}@keyframes cheetah-grid__small-dialog-input--hidden-animation{0%{opacity:1}99%{opacity:1}to{opacity:0}}.cheetah-grid__small-dialog-input{position:absolute;box-sizing:content-box;margin:-1px auto auto -1px;border-radius:3px;background-color:#fafafa;transition:padding .15s ease-out,box-shadow .15s ease-out}.cheetah-grid__small-dialog-input--hidden{box-shadow:none;padding:0;pointer-events:none;animation:cheetah-grid__small-dialog-input--hidden-animation .15s ease-out;opacity:0}.cheetah-grid__small-dialog-input--shown{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);padding:8px 24px}.cheetah-grid__small-dialog-input__input{width:100%;height:100%;box-sizing:border-box;padding:3px 2px 0 4px;border:none;border-bottom:1px solid rgba(0,0,0,.87);outline:none;background-color:transparent;transition:all .3s ease-out}.cheetah-grid__small-dialog-input__input:focus{border-bottom:1px solid #2196f3;box-shadow:0 1px 0 0 #2196f3}.cheetah-grid__small-dialog-input:after{content:\\\"\\\";font-family:Roboto;font-size:12px;font-size:.75rem;min-height:1em;line-height:1;display:block;width:100%;padding-top:8px}.cheetah-grid__small-dialog-input.helper-text--right-justified:after{text-align:right}.cheetah-grid__small-dialog-input[data-helper-text]:after{content:attr(data-helper-text);color:rgba(0,0,0,.87)}.cheetah-grid__small-dialog-input[data-error-message] input{border-bottom:1px solid #ff1744;box-shadow:0 1px 0 0 #ff1744}.cheetah-grid__small-dialog-input[data-error-message]:after{content:attr(data-error-message);color:#ff1744;text-align:left}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 73 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst { obj: { setReadonly } } = __webpack_require__(0);\nconst BaseInputEditor = __webpack_require__(33);\nconst InlineInputElement = __webpack_require__(74);\nconst { INLINE_INPUT_EDITOR_STATE_ID: _ } = __webpack_require__(1);\n\nlet globalElement = null;\nlet bindGridCount = 0;\nfunction attachInput(grid, cell, editor, value) {\n\tif (!grid[_]) {\n\t\tsetReadonly(grid, _, {});\n\t}\n\tif (!globalElement) {\n\t\tglobalElement = new InlineInputElement();\n\t}\n\tconst state = grid[_];\n\tif (!state.element) {\n\t\tstate.element = globalElement;\n\t\tbindGridCount++;\n\t\tgrid.addDisposable({\n\t\t\tdispose() {\n\t\t\t\tbindGridCount--;\n\t\t\t\tif (!bindGridCount) {\n\t\t\t\t\tglobalElement.dispose();\n\t\t\t\t\tglobalElement = null;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tglobalElement.attach(grid, editor, cell.col, cell.row, value);\n}\nfunction detachInput(gridFocus) {\n\tif (globalElement) {\n\t\tglobalElement.detach(gridFocus);\n\t}\n}\nfunction doChangeValue(grid) {\n\tif (globalElement) {\n\t\tglobalElement.doChangeValue();\n\t}\n}\n\nclass InlineInputEditor extends BaseInputEditor {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._classList = option.classList;\n\t\tthis._type = option.type;\n\t}\n\tget classList() {\n\t\treturn this._classList && (__webpack_provided_Array_dot_isArray(this._classList) ? this._classList : [this._classList]);\n\t}\n\tset classList(classList) {\n\t\tthis._classList = classList;\n\t}\n\tget type() {\n\t\treturn this._type;\n\t}\n\tset type(type) {\n\t\tthis._type = type;\n\t}\n\tclone() {\n\t\treturn new InlineInputEditor(this);\n\t}\n\tonInputCellInternal(grid, cell, inputValue) {\n\t\tattachInput(grid, cell, this, inputValue);\n\t}\n\tonOpenCellInternal(grid, cell) {\n\t\tgrid.doGetCellValue(cell.col, cell.row, value => {\n\t\t\tattachInput(grid, cell, this, value);\n\t\t});\n\t}\n\tonChangeSelectCellInternal(grid, cell, selected) {\n\t\tdoChangeValue(grid);\n\t\tdetachInput();\n\t}\n\tonGridScrollInternal(grid) {\n\t\tdoChangeValue(grid);\n\t\tdetachInput(true);\n\t}\n\tonChangeDisabledInternal() {\n\t\t// cancel input\n\t\tdetachInput(true);\n\t}\n\tonChangeReadOnlyInternal() {\n\t\t// cancel input\n\t\tdetachInput(true);\n\t}\n\tonSetInputAttrsInternal(grid, cell, input) {\n\t\tInlineInputElement.setInputAttrs(this, grid, input);\n\t}\n}\n\nmodule.exports = InlineInputEditor;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 74 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n\tevent: {\n\t\tgetKeyCode,\n\t\tcancel: cancelEvent\n\t}\n} = __webpack_require__(0);\n\nconst EventHandler = __webpack_require__(5);\nconst {\n\tcreateElement\n} = __webpack_require__(15);\nconst KEY_ENTER = 13;\n\nconst CLASSNAME = 'cheetah-grid__inline-input';\n\nfunction createInputElement() {\n\t__webpack_require__(75);\n\treturn createElement('input', { classList: CLASSNAME });\n}\n\nfunction setInputAttrs(editor, grid, input) {\n\tconst { classList, type } = editor;\n\tif (classList) {\n\t\tinput.classList.add(...classList);\n\t}\n\tinput.type = type || '';\n}\n\nclass InlineInputElement {\n\tstatic setInputAttrs(...args) {\n\t\tsetInputAttrs(...args);\n\t}\n\tconstructor() {\n\t\tthis._handler = new EventHandler();\n\t\tthis._input = createInputElement();\n\t\tthis._bindInputEvents();\n\t}\n\tdispose() {\n\t\tthis.detach();\n\t\tthis._handler.dispose();\n\t\tthis._input = null;\n\t\tthis._beforePropEditor = null;\n\t}\n\tattach(grid, editor, col, row, value) {\n\t\tconst input = this._input;\n\t\tconst handler = this._handler;\n\n\t\tif (this._beforePropEditor) {\n\t\t\tconst { classList } = this._beforePropEditor;\n\t\t\tif (classList) {\n\t\t\t\tinput.classList.remove(...classList);\n\t\t\t}\n\t\t}\n\n\t\tinput.style.font = grid.font || '16px sans-serif';\n\n\t\tconst { element, rect } = grid.getAttachCellArea(col, row);\n\t\tinput.style.top = rect.top.toFixed() + 'px';\n\t\tinput.style.left = rect.left.toFixed() + 'px';\n\t\tinput.style.width = rect.width.toFixed() + 'px';\n\t\tinput.style.height = rect.height.toFixed() + 'px';\n\t\telement.appendChild(input);\n\n\t\tsetInputAttrs(editor, grid, input);\n\t\tinput.value = value;\n\n\t\tthis._activeData = { grid, col, row, editor };\n\t\tthis._beforePropEditor = editor;\n\n\t\tconst focus = () => {\n\t\t\tinput.focus();\n\n\t\t\tconst end = input.value.length;\n\t\t\ttry {\n\t\t\t\tif (typeof input.selectionStart !== 'undefined') {\n\t\t\t\t\tinput.selectionStart = end;\n\t\t\t\t\tinput.selectionEnd = end;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t//ignore\n\t\t\t}\n\t\t\tif (document.selection) {\n\t\t\t\tconst range = input.createTextRange();\n\t\t\t\trange.collapse();\n\t\t\t\trange.moveEnd('character', end);\n\t\t\t\trange.moveStart('character', end);\n\t\t\t\trange.select();\n\t\t\t}\n\t\t};\n\t\thandler.tryWithOffEvents(input, 'blur', () => {\n\t\t\tfocus();\n\t\t});\n\t}\n\tdetach(gridFocus) {\n\t\tif (this._isActive()) {\n\t\t\tconst { grid, col, row } = this._activeData;\n\t\t\tconst input = this._input;\n\t\t\tthis._handler.tryWithOffEvents(input, 'blur', () => {\n\t\t\t\tinput.parentElement.removeChild(input);\n\t\t\t});\n\t\t\tgrid.invalidateCell(col, row);\n\t\t\tif (gridFocus) {\n\t\t\t\tgrid.focus();\n\t\t\t}\n\t\t}\n\t\tthis._activeData = null;\n\t}\n\tdoChangeValue() {\n\t\tif (!this._isActive()) {\n\t\t\treturn;\n\t\t}\n\t\tconst input = this._input;\n\t\tconst { value } = input;\n\t\tconst { grid, col, row } = this._activeData;\n\t\tgrid.doChangeValue(col, row, () => value);\n\t}\n\t_isActive() {\n\t\tconst input = this._input;\n\t\tif (!input || !input.parentElement) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!this._activeData) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\t_bindInputEvents() {\n\t\tconst handler = this._handler;\n\t\tconst input = this._input;\n\t\tconst stopPropagationOnly = e => e.stopPropagation(); // grid\n\t\thandler.on(input, 'click', stopPropagationOnly);\n\t\thandler.on(input, 'mousedown', stopPropagationOnly);\n\t\thandler.on(input, 'touchstart', stopPropagationOnly);\n\t\thandler.on(input, 'dblclick', stopPropagationOnly);\n\n\t\thandler.on(input, 'compositionstart', e => {\n\t\t\tinput.classList.add('composition');\n\t\t});\n\t\thandler.on(input, 'compositionend', e => {\n\t\t\tinput.classList.remove('composition');\n\t\t});\n\t\thandler.on(input, 'keydown', e => {\n\t\t\tif (input.classList.contains('composition')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (getKeyCode(e) === KEY_ENTER) {\n\t\t\t\tif (!this._isActive()) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst { grid } = this._activeData;\n\n\t\t\t\tthis.doChangeValue();\n\t\t\t\tif (grid) {\n\t\t\t\t\tgrid.focus();\n\t\t\t\t}\n\t\t\t\tthis.detach();\n\t\t\t\tcancelEvent(e);\n\t\t\t}\n\t\t});\n\t\thandler.on(input, 'blur', e => {\n\t\t\tthis.doChangeValue();\n\t\t\tthis.detach();\n\t\t});\n\t}\n}\n\nmodule.exports = InlineInputElement;\n\n/***/ }),\n/* 75 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar content = __webpack_require__(76);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(7)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n/***/ }),\n/* 76 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(6)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".cheetah-grid__inline-input::-ms-clear{visibility:hidden}.cheetah-grid__inline-input{position:absolute;box-sizing:border-box}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 77 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst { obj: { setReadonly } } = __webpack_require__(0);\nconst { normalize } = __webpack_require__(34);\n\nconst Editor = __webpack_require__(14);\nconst { EVENT_TYPE: {\n\t\tSELECTED_CELL,\n\t\tCLICK_CELL,\n\t\tKEYDOWN,\n\t\tSCROLL,\n\t\tMOUSEOVER_CELL,\n\t\tMOUSEOUT_CELL,\n\t\tMOUSEMOVE_CELL\n\t} } = __webpack_require__(4);\nconst InlineMenuElement = __webpack_require__(78);\nconst { INLINE_MENU_EDITOR_STATE_ID: _ } = __webpack_require__(1);\n\nlet globalElement = null;\nlet bindGridCount = 0;\nfunction attachMenu(grid, cell, editor, value) {\n\tif (!grid[_]) {\n\t\tsetReadonly(grid, _, {});\n\t}\n\tif (!globalElement) {\n\t\tglobalElement = new InlineMenuElement();\n\t}\n\tconst state = grid[_];\n\tif (!state.element) {\n\t\tstate.element = globalElement;\n\t\tbindGridCount++;\n\t\tgrid.addDisposable({\n\t\t\tdispose() {\n\t\t\t\tbindGridCount--;\n\t\t\t\tif (!bindGridCount) {\n\t\t\t\t\tglobalElement.dispose();\n\t\t\t\t\tglobalElement = null;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tglobalElement.attach(grid, editor, cell.col, cell.row, value);\n}\nfunction detachMenu(gridFocus) {\n\tif (globalElement) {\n\t\tglobalElement.detach(gridFocus);\n\t}\n}\n\nconst KEY_ENTER = 13;\nconst KEY_F2 = 113;\n\nclass InlineMenuEditor extends Editor {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._classList = option.classList;\n\t\tthis._options = normalize(option.options);\n\t}\n\tdispose() {}\n\tget classList() {\n\t\treturn this._classList && (__webpack_provided_Array_dot_isArray(this._classList) ? this._classList : [this._classList]);\n\t}\n\tset classList(classList) {\n\t\tthis._classList = classList;\n\t}\n\tget options() {\n\t\treturn this._options;\n\t}\n\tset options(options) {\n\t\tthis._options = normalize(options);\n\t}\n\tclone() {\n\t\treturn new InlineMenuEditor(this);\n\t}\n\tonChangeDisabledInternal() {\n\t\t// cancel input\n\t\tdetachMenu(true);\n\t}\n\tonChangeReadOnlyInternal() {\n\t\t// cancel input\n\t\tdetachMenu(true);\n\t}\n\tbindGridEvent(grid, col, util) {\n\t\tconst open = cell => {\n\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tgrid.doGetCellValue(cell.col, cell.row, value => {\n\t\t\t\tattachMenu(grid, cell, this, value);\n\t\t\t});\n\t\t};\n\n\t\treturn [grid.listen(CLICK_CELL, cell => {\n\t\t\tif (!util.isTarget(cell.col, cell.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\topen({\n\t\t\t\tcol: cell.col,\n\t\t\t\trow: cell.row\n\t\t\t});\n\t\t}), grid.listen(KEYDOWN, (keyCode, e) => {\n\t\t\tif (keyCode !== KEY_F2 && keyCode !== KEY_ENTER) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst sel = grid.selection.select;\n\t\t\tif (!util.isTarget(sel.col, sel.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\topen({\n\t\t\t\tcol: sel.col,\n\t\t\t\trow: sel.row\n\t\t\t});\n\t\t}), grid.listen(SELECTED_CELL, e => {\n\t\t\tdetachMenu();\n\t\t}), grid.listen(SCROLL, () => {\n\t\t\tdetachMenu(true);\n\t\t}),\n\n\t\t// mouse move\n\t\tgrid.listen(MOUSEOVER_CELL, e => {\n\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tgrid.getElement().style.cursor = 'pointer';\n\t\t}), grid.listen(MOUSEMOVE_CELL, e => {\n\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!grid.getElement().style.cursor) {\n\t\t\t\tgrid.getElement().style.cursor = 'pointer';\n\t\t\t}\n\t\t}), grid.listen(MOUSEOUT_CELL, e => {\n\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tgrid.getElement().style.cursor = '';\n\t\t})];\n\t}\n}\n\nmodule.exports = InlineMenuEditor;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 78 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst {\n\tisDef,\n\tevent: {\n\t\tgetKeyCode,\n\t\tcancel: cancelEvent\n\t}\n} = __webpack_require__(0);\n\nconst EventHandler = __webpack_require__(5);\nconst {\n\tcreateElement,\n\tappendHtml,\n\tempty,\n\tdisableFocus,\n\tisFocusable,\n\tfindPrevSiblingFocusable,\n\tfindNextSiblingFocusable\n} = __webpack_require__(15);\n\nconst KEY_TAB = 9;\nconst KEY_ENTER = 13;\nconst KEY_UP = 38;\nconst KEY_DOWN = 40;\nconst KEY_ESC = 27;\n\nconst CLASSNAME = 'cheetah-grid__inline-menu';\nconst ITEM_CLASSNAME = CLASSNAME + '__menu-item';\nconst HIDDEN_CLASSNAME = CLASSNAME + '--hidden';\nconst SHOWN_CLASSNAME = CLASSNAME + '--shown';\nconst EMPTY_ITEM_CLASSNAME = ITEM_CLASSNAME + '--empty';\n\nfunction findItemParents(target) {\n\tlet el = target;\n\twhile (!el.classList.contains(ITEM_CLASSNAME)) {\n\t\tel = el.parentElement;\n\t\tif (!el || el.classList.contains(CLASSNAME)) {\n\t\t\treturn undefined;\n\t\t}\n\t}\n\treturn el;\n}\n\nfunction createMenuElement() {\n\t__webpack_require__(79);\n\treturn createElement('ul', { classList: CLASSNAME });\n}\nfunction attachElement(element, rect, menu) {\n\tmenu.style.top = rect.top.toFixed() + 'px';\n\tmenu.style.left = rect.left.toFixed() + 'px';\n\tmenu.style.width = rect.width.toFixed() + 'px';\n\tmenu.style['line-height'] = rect.height.toFixed() + 'px';\n\telement.appendChild(menu);\n}\n\nfunction optionToLi({ classList, caption, value, html }, index) {\n\tconst item = createElement('li', { classList: ITEM_CLASSNAME });\n\titem.tabIndex = 0;\n\titem.dataset.valueindex = index;\n\tif (classList) {\n\t\titem.classList.add(...(__webpack_provided_Array_dot_isArray(classList) ? classList : [classList]));\n\t}\n\n\tif (caption) {\n\t\tconst span = createElement('span', { text: caption });\n\t\titem.appendChild(span);\n\t} else if (html) {\n\t\tappendHtml(item, html);\n\t}\n\n\tif (value === '' || !isDef(value)) {\n\t\titem.classList.add(EMPTY_ITEM_CLASSNAME);\n\t}\n\n\treturn item;\n}\n\nfunction openMenu(grid, editor, col, row, value, menu) {\n\tconst { options, classList } = editor;\n\tmenu.classList.remove(SHOWN_CLASSNAME);\n\tmenu.classList.add(HIDDEN_CLASSNAME);\n\tempty(menu);\n\tmenu.style.font = grid.font || '16px sans-serif';\n\tlet emptyItemEl = null;\n\tlet valueItemEl = null;\n\n\toptions.forEach((option, i) => {\n\t\tconst item = optionToLi(option, i);\n\t\tmenu.appendChild(item);\n\t\tif (option.value === value) {\n\t\t\tvalueItemEl = item;\n\t\t\titem.dataset.select = true;\n\t\t}\n\t\tif (item.classList.contains(EMPTY_ITEM_CLASSNAME)) {\n\t\t\temptyItemEl = item;\n\t\t}\n\t});\n\tconst focusEl = valueItemEl || emptyItemEl || menu.children[0];\n\tif (classList) {\n\t\tmenu.classList.add(...classList);\n\t}\n\tconst children = Array.prototype.slice.call(menu.children, 0);\n\tconst focusIndex = children.indexOf(focusEl);\n\tconst { element, rect } = grid.getAttachCellArea(col, row);\n\n\t// Cover the right line\n\trect.width++;\n\n\t// append for calculation\n\tattachElement(element, rect, menu);\n\n\t// Make the selection item at the middle\n\tlet offset = 0;\n\tlet allHeight = 0;\n\tfor (let i = 0; i < children.length; i++) {\n\t\tconst offsetHeight = children[i].offsetHeight;\n\t\tif (i < focusIndex) {\n\t\t\toffset += offsetHeight;\n\t\t}\n\t\tallHeight += offsetHeight;\n\t}\n\trect.offsetTop(-offset);\n\tmenu.style['transform-origin'] = `center ${offset + Math.ceil(children[focusIndex].offsetHeight / 2)}px 0px`;\n\tattachElement(element, rect, menu);\n\n\t// Control not to overflow the screen range\n\tconst menuClientRect = menu.getBoundingClientRect();\n\tconst scaleDiff = (allHeight - menuClientRect.height) / 2;\n\tconst orgMenuTop = menuClientRect.top - scaleDiff;\n\tlet menuTop = orgMenuTop;\n\tconst menuBottom = menuTop + allHeight;\n\tconst winBottom = window.innerHeight;\n\tconst winMargin = 20;\n\tif (menuBottom > winBottom - winMargin) {\n\t\tconst diff = menuBottom - winBottom + winMargin;\n\t\tmenuTop -= diff;\n\t}\n\tif (menuTop < 0 /*winTop*/ + winMargin) {\n\t\tmenuTop = winMargin;\n\t}\n\tif (menuTop !== orgMenuTop) {\n\t\trect.offsetTop(-(orgMenuTop - menuTop));\n\t\t// re update\n\t\tattachElement(element, rect, menu);\n\t}\n\n\tif (focusEl) {\n\t\tfocusEl.focus();\n\t}\n\tmenu.classList.remove(HIDDEN_CLASSNAME);\n\tmenu.classList.add(SHOWN_CLASSNAME);\n}\n\nfunction closeMenu(grid, col, row, menu) {\n\tmenu.classList.remove(SHOWN_CLASSNAME);\n\tmenu.classList.add(HIDDEN_CLASSNAME);\n\tdisableFocus(menu);\n}\n\nclass InlineMenuElement {\n\tconstructor() {\n\t\tthis._handler = new EventHandler();\n\t\tthis._menu = createMenuElement();\n\t\tthis._bindMenuEvents();\n\t}\n\tdispose() {\n\t\tconst menu = this._menu;\n\t\tthis.detach();\n\t\tthis._handler.dispose();\n\t\tthis._menu = null;\n\t\tthis._beforePropEditor = null;\n\t\tif (menu.parentElement) {\n\t\t\tmenu.parentElement.removeChild(menu);\n\t\t}\n\t}\n\tattach(grid, editor, col, row, value) {\n\t\tconst menu = this._menu;\n\n\t\tif (this._beforePropEditor) {\n\t\t\tconst { classList } = this._beforePropEditor;\n\t\t\tif (classList) {\n\t\t\t\tmenu.classList.remove(...classList);\n\t\t\t}\n\t\t}\n\n\t\topenMenu(grid, editor, col, row, value, menu);\n\t\tthis._activeData = { grid, col, row, editor };\n\t\tthis._beforePropEditor = editor;\n\t}\n\tdetach(gridFocus) {\n\t\tif (this._isActive()) {\n\t\t\tconst { grid, col, row } = this._activeData;\n\t\t\tconst menu = this._menu;\n\t\t\tcloseMenu(grid, col, row, menu);\n\n\t\t\tgrid.invalidateCell(col, row);\n\t\t\tif (gridFocus) {\n\t\t\t\tgrid.focus();\n\t\t\t}\n\t\t}\n\t\tthis._activeData = null;\n\t}\n\t_doChangeValue(valueindex) {\n\t\tif (!this._isActive()) {\n\t\t\treturn;\n\t\t}\n\t\tconst { grid, col, row, editor } = this._activeData;\n\t\tconst { value } = editor.options[valueindex];\n\t\tgrid.doChangeValue(col, row, () => value);\n\t}\n\t_isActive() {\n\t\tconst menu = this._menu;\n\t\tif (!menu || !menu.parentElement) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!this._activeData) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\t_bindMenuEvents() {\n\t\tconst handler = this._handler;\n\t\tconst menu = this._menu;\n\n\t\tconst stopPropagationOnly = e => e.stopPropagation(); // grid\n\n\t\thandler.on(menu, 'mousedown', stopPropagationOnly);\n\t\thandler.on(menu, 'touchstart', stopPropagationOnly);\n\t\thandler.on(menu, 'dblclick', stopPropagationOnly);\n\n\t\thandler.on(menu, 'click', e => {\n\t\t\te.stopPropagation();\n\t\t\tconst item = findItemParents(e.target);\n\t\t\tif (!item) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst valueindex = item.dataset.valueindex;\n\t\t\tthis._doChangeValue(item.dataset.valueindex);\n\t\t\tthis.detach(true);\n\t\t});\n\t\thandler.on(menu, 'keydown', e => {\n\t\t\tconst item = findItemParents(e.target);\n\t\t\tif (!item) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst keyCode = getKeyCode(e);\n\t\t\tif (keyCode === KEY_ENTER) {\n\t\t\t\tconst valueindex = item.dataset.valueindex;\n\t\t\t\tthis._doChangeValue(valueindex);\n\t\t\t\tthis.detach(true);\n\t\t\t\tcancelEvent(e);\n\t\t\t} else if (keyCode === KEY_ESC) {\n\t\t\t\tthis.detach(true);\n\t\t\t\tcancelEvent(e);\n\t\t\t} else if (keyCode === KEY_UP) {\n\t\t\t\tconst n = findPrevSiblingFocusable(item);\n\t\t\t\tif (n) {\n\t\t\t\t\tn.focus();\n\t\t\t\t\tcancelEvent(e);\n\t\t\t\t}\n\t\t\t} else if (keyCode === KEY_DOWN) {\n\t\t\t\tconst n = findNextSiblingFocusable(item);\n\t\t\t\tif (n) {\n\t\t\t\t\tn.focus();\n\t\t\t\t\tcancelEvent(e);\n\t\t\t\t}\n\t\t\t} else if (keyCode === KEY_TAB) {\n\t\t\t\tif (!e.shiftKey) {\n\t\t\t\t\tif (!findNextSiblingFocusable(item)) {\n\t\t\t\t\t\tlet n = menu.querySelector('.' + ITEM_CLASSNAME);\n\t\t\t\t\t\tif (!isFocusable(n)) {\n\t\t\t\t\t\t\tn = findNextSiblingFocusable(n);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (n) {\n\t\t\t\t\t\t\tn.focus();\n\t\t\t\t\t\t\tcancelEvent(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!findPrevSiblingFocusable(item)) {\n\t\t\t\t\t\tconst items = menu.querySelectorAll('.' + ITEM_CLASSNAME);\n\t\t\t\t\t\tlet n = items[items.length - 1];\n\t\t\t\t\t\tif (!isFocusable(n)) {\n\t\t\t\t\t\t\tn = findPrevSiblingFocusable(n);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (n) {\n\t\t\t\t\t\t\tn.focus();\n\t\t\t\t\t\t\tcancelEvent(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\nmodule.exports = InlineMenuElement;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 79 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar content = __webpack_require__(80);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(7)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n/***/ }),\n/* 80 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(6)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".cheetah-grid__inline-menu{position:absolute;color:rgba(0,0,0,.87);box-sizing:content-box;margin:-1px auto auto -1px;padding:8px 0;background-color:#fafafa;list-style-type:none;border-radius:2px;max-height:calc(100vh - 40px);overflow-y:auto}.cheetah-grid__inline-menu--hidden{transform:scale(.9);box-shadow:none;opacity:0;pointer-events:none;transition:all 50ms ease-out}.cheetah-grid__inline-menu--hidden *{pointer-events:none}.cheetah-grid__inline-menu--shown{transform:translateY(-7px);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);opacity:1;transition:all .15s ease-out}.cheetah-grid__inline-menu__menu-item{height:100%;box-sizing:border-box;display:flex;align-items:center;justify-content:flex-start;outline:none;cursor:pointer;position:relative;overflow:hidden;padding:0 16px}.cheetah-grid__inline-menu__menu-item--empty{color:rgba(0,0,0,.38)}.cheetah-grid__inline-menu__menu-item:before{content:\\\"\\\";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background-color:#000;opacity:0;pointer-events:none;transition:opacity 15ms linear}.cheetah-grid__inline-menu__menu-item:hover:before,.cheetah-grid__inline-menu__menu-item[data-select]:before{opacity:.04}.cheetah-grid__inline-menu__menu-item:focus:before{opacity:.12}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 81 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst Column = __webpack_require__(10);\n\tconst NumberColumn = __webpack_require__(82);\n\tconst CheckColumn = __webpack_require__(83);\n\tconst ButtonColumn = __webpack_require__(84);\n\tconst ImageColumn = __webpack_require__(85);\n\tconst PercentCompleteBarColumn = __webpack_require__(87);\n\tconst IconColumn = __webpack_require__(88);\n\tconst BranchGraphColumn = __webpack_require__(89);\n\tconst MenuColumn = __webpack_require__(91);\n\tconst MultilineTextColumn = __webpack_require__(25);\n\n\t/**\r\n  * column types\r\n  * @type {Object}\r\n  * @namespace cheetahGrid.columns.type\r\n  * @memberof cheetahGrid.columns\r\n  */\n\tconst type = {\n\t\tTYPES: {\n\t\t\tDEFAULT: new Column(),\n\t\t\tNUMBER: new NumberColumn(),\n\t\t\tCHECK: new CheckColumn(),\n\t\t\tBUTTON: new ButtonColumn(),\n\t\t\tIMAGE: new ImageColumn(),\n\t\t\tMULTILINETEXT: new MultilineTextColumn()\n\t\t},\n\t\tget Column() {\n\t\t\treturn Column;\n\t\t},\n\t\tget NumberColumn() {\n\t\t\treturn NumberColumn;\n\t\t},\n\t\tget CheckColumn() {\n\t\t\treturn CheckColumn;\n\t\t},\n\t\tget ButtonColumn() {\n\t\t\treturn ButtonColumn;\n\t\t},\n\t\tget ImageColumn() {\n\t\t\treturn ImageColumn;\n\t\t},\n\t\tget PercentCompleteBarColumn() {\n\t\t\treturn PercentCompleteBarColumn;\n\t\t},\n\t\tget IconColumn() {\n\t\t\treturn IconColumn;\n\t\t},\n\t\tget BranchGraphColumn() {\n\t\t\treturn BranchGraphColumn;\n\t\t},\n\t\tget MenuColumn() {\n\t\t\treturn MenuColumn;\n\t\t},\n\t\tget MultilineTextColumn() {\n\t\t\treturn MultilineTextColumn;\n\t\t},\n\t\tof(columnType) {\n\t\t\tif (!columnType) {\n\t\t\t\treturn type.TYPES.DEFAULT;\n\t\t\t} else if (typeof columnType === 'string') {\n\t\t\t\treturn type.TYPES[columnType.toUpperCase()] || type.of(null);\n\t\t\t} else {\n\t\t\t\treturn columnType;\n\t\t\t}\n\t\t}\n\t};\n\tmodule.exports = type;\n}\n\n/***/ }),\n/* 82 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst Column = __webpack_require__(10);\n\tconst NumberStyle = __webpack_require__(36);\n\tlet defaultFotmat;\n\tclass NumberColumn extends Column {\n\t\tstatic get defaultFotmat() {\n\t\t\treturn defaultFotmat || (defaultFotmat = new Intl.NumberFormat());\n\t\t}\n\t\tstatic set defaultFotmat(fmt) {\n\t\t\tdefaultFotmat = fmt;\n\t\t}\n\t\tconstructor(option = {}) {\n\t\t\tsuper(option);\n\t\t\tthis._format = option.format;\n\t\t}\n\t\tget StyleClass() {\n\t\t\treturn NumberStyle;\n\t\t}\n\t\tclone() {\n\t\t\treturn new NumberColumn(this);\n\t\t}\n\t\tget format() {\n\t\t\treturn this._format;\n\t\t}\n\t\twithFormat(format) {\n\t\t\tconst c = this.clone();\n\t\t\tc._format = format;\n\t\t\treturn c;\n\t\t}\n\t\tconvertInternal(value) {\n\t\t\tif (isNaN(value - 0)) {\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tconst format = this._format || NumberColumn.defaultFotmat;\n\t\t\treturn format.format(value - 0);\n\t\t}\n\t}\n\n\tmodule.exports = NumberColumn;\n}\n\n/***/ }),\n/* 83 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst BaseColumn = __webpack_require__(11);\n\tconst CheckStyle = __webpack_require__(37);\n\tconst { CHECK_COLUMN_STATE_ID } = __webpack_require__(1);\n\n\tfunction toBoolean(val) {\n\t\tif (typeof val === 'string') {\n\t\t\tif (val === 'false') {\n\t\t\t\treturn false;\n\t\t\t} else if (val === 'off') {\n\t\t\t\treturn false;\n\t\t\t} else if (val.match(/^0+$/)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn val;\n\t}\n\n\tclass CheckColumn extends BaseColumn {\n\t\tget StyleClass() {\n\t\t\treturn CheckStyle;\n\t\t}\n\t\tclone() {\n\t\t\treturn new CheckColumn(this);\n\t\t}\n\t\tconvertInternal(value) {\n\t\t\treturn toBoolean(value);\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, { drawCellBase }) {\n\t\t\tconst {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tborderColor,\n\t\t\t\tcheckBgColor,\n\t\t\t\tuncheckBgColor,\n\t\t\t\tbgColor\n\t\t\t} = style;\n\t\t\tif (bgColor) {\n\t\t\t\tdrawCellBase({\n\t\t\t\t\tbgColor\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tconst { col, row } = context;\n\t\t\tconst key = col + ':' + row;\n\t\t\tconst state = grid[CHECK_COLUMN_STATE_ID] && grid[CHECK_COLUMN_STATE_ID][key];\n\n\t\t\tconst opt = {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tborderColor,\n\t\t\t\tcheckBgColor,\n\t\t\t\tuncheckBgColor\n\t\t\t};\n\t\t\tif (state) {\n\t\t\t\topt.animElapsedTime = state.elapsed;\n\t\t\t}\n\t\t\thelper.checkbox(value, context, opt);\n\t\t}\n\t\tbindGridEvent(grid, col, util) {\n\t\t\treturn [];\n\t\t}\n\t}\n\n\tmodule.exports = CheckColumn;\n}\n\n/***/ }),\n/* 84 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst Column = __webpack_require__(10);\n\tconst ButtonStyle = __webpack_require__(38);\n\tconst { BUTTON_COLUMN_STATE_ID } = __webpack_require__(1);\n\tconst utils = __webpack_require__(21);\n\n\tclass ButtonColumn extends Column {\n\t\tconstructor(option = {}) {\n\t\t\tsuper(option);\n\t\t\tthis._caption = option.caption;\n\t\t}\n\t\tget StyleClass() {\n\t\t\treturn ButtonStyle;\n\t\t}\n\t\tget caption() {\n\t\t\treturn this._caption;\n\t\t}\n\t\twithCaption(caption) {\n\t\t\tconst c = this.clone();\n\t\t\tc._caption = caption;\n\t\t\treturn c;\n\t\t}\n\t\tclone() {\n\t\t\treturn new ButtonColumn(this);\n\t\t}\n\t\tconvertInternal(value) {\n\t\t\treturn this._caption || value;\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, { drawCellBase, getIcon }) {\n\t\t\tconst { textAlign, textBaseline, bgColor, color, buttonBgColor, font, padding } = style;\n\t\t\tif (bgColor) {\n\t\t\t\tdrawCellBase({\n\t\t\t\t\tbgColor\n\t\t\t\t});\n\t\t\t}\n\t\t\thelper.testFontLoad(font, value, context);\n\t\t\tconst { col, row } = context;\n\t\t\tlet active = false;\n\t\t\tconst state = grid[BUTTON_COLUMN_STATE_ID];\n\t\t\tif (state) {\n\t\t\t\tif (state.mouseActiveCell && state.mouseActiveCell.col === col && state.mouseActiveCell.row === row) {\n\t\t\t\t\tactive = true;\n\t\t\t\t} else if (context.getSelectState().selected) {\n\t\t\t\t\tactive = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tutils.loadIcons(getIcon(), context, helper, (icons, context) => {\n\t\t\t\thelper.button(value, context, {\n\t\t\t\t\ttextAlign,\n\t\t\t\t\ttextBaseline,\n\t\t\t\t\tbgColor: buttonBgColor,\n\t\t\t\t\tcolor,\n\t\t\t\t\tfont,\n\t\t\t\t\tpadding,\n\t\t\t\t\tshadow: active ? {\n\t\t\t\t\t\tcolor: 'rgba(0, 0, 0, 0.48)',\n\t\t\t\t\t\tblur: 6,\n\t\t\t\t\t\toffsetY: 3\n\t\t\t\t\t} : true,\n\t\t\t\t\ticons\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\tmodule.exports = ButtonColumn;\n}\n\n/***/ }),\n/* 85 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst ImageStyle = __webpack_require__(39);\n\tconst { getCacheOrLoad } = __webpack_require__(42);\n\tconst { calcStartPosition } = __webpack_require__(9);\n\tconst BaseColumn = __webpack_require__(11);\n\n\tconst MAX_LRU_CACHE_SIZE = 50;\n\tfunction getImage(url) {\n\t\treturn getCacheOrLoad('ImageColumn', MAX_LRU_CACHE_SIZE, url);\n\t}\n\n\tfunction calcKeepAspectRatioSize(width, height, maxWidth, maxHeight) {\n\t\tlet newWidth = width;\n\t\tlet newHeight = height;\n\t\tif (newWidth > maxWidth) {\n\t\t\tnewWidth = maxWidth;\n\t\t\tnewHeight = newWidth * height / width;\n\t\t}\n\t\tif (newHeight > maxHeight) {\n\t\t\tnewHeight = maxHeight;\n\t\t\tnewWidth = newHeight * width / height;\n\t\t}\n\t\treturn {\n\t\t\twidth: newWidth,\n\t\t\theight: newHeight\n\t\t};\n\t}\n\n\tclass ImageColumn extends BaseColumn {\n\t\tget StyleClass() {\n\t\t\treturn ImageStyle;\n\t\t}\n\t\tonDrawCell(cellValue, info, context, grid) {\n\t\t\treturn super.onDrawCell(getImage(cellValue), info, context, grid);\n\t\t}\n\t\tclone() {\n\t\t\treturn new ImageColumn(this);\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, { drawCellBase }) {\n\t\t\tif (value) {\n\t\t\t\tconst {\n\t\t\t\t\ttextAlign,\n\t\t\t\t\ttextBaseline,\n\t\t\t\t\tmargin,\n\t\t\t\t\tbgColor\n\t\t\t\t} = style;\n\t\t\t\tif (bgColor) {\n\t\t\t\t\tdrawCellBase({\n\t\t\t\t\t\tbgColor\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\thelper.drawWithClip(context, ctx => {\n\n\t\t\t\t\tctx.textAlign = textAlign;\n\t\t\t\t\tctx.textBaseline = textBaseline;\n\t\t\t\t\tconst rect = context.getRect();\n\t\t\t\t\tif (style.imageSizing === 'keep-aspect-ratio') {\n\t\t\t\t\t\tconst { width, height } = calcKeepAspectRatioSize(value.width, value.height, rect.width - margin * 2, rect.height - margin * 2);\n\t\t\t\t\t\tconst pos = calcStartPosition(ctx, rect, width, height, {\n\t\t\t\t\t\t\toffset: margin\n\t\t\t\t\t\t});\n\t\t\t\t\t\tctx.drawImage(value, 0, 0, value.width, value.height, pos.x, pos.y, width, height);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tctx.drawImage(value, 0, 0, value.width, value.height, rect.left + margin, rect.top + margin, rect.width - margin * 2, rect.height - margin * 2);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\tmodule.exports = ImageColumn;\n}\n\n/***/ }),\n/* 86 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nclass LRUCache {\n\tconstructor(cacheSize) {\n\t\tthis._list = [];\n\t\tthis._map = {};\n\t\tthis._cacheSize = cacheSize || 50;\n\t}\n\tget(key) {\n\t\tconst val = this._map[key];\n\t\tif (val) {\n\t\t\tconst idx = this._list.indexOf(key);\n\t\t\tthis._list.splice(idx, 1);\n\t\t\tthis._list.push(key);\n\t\t}\n\t\treturn val;\n\t}\n\tput(key, value) {\n\t\tif (this._map[key]) {\n\t\t\tconst idx = this._list.indexOf(key);\n\t\t\tthis._list.splice(idx, 1);\n\t\t}\n\t\tthis._map[key] = value;\n\t\tthis._list.push(key);\n\t\tif (this._list.length > this._cacheSize) {\n\t\t\tconst remKey = this._list.shift();\n\t\t\tdelete this._map[remKey];\n\t\t}\n\t}\n}\nmodule.exports = LRUCache;\n\n/***/ }),\n/* 87 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst PercentCompleteBarStyle = __webpack_require__(41);\n\tconst { getOrApply, str } = __webpack_require__(0);\n\tconst Column = __webpack_require__(10);\n\n\tconst MARGIN = 2;\n\n\tclass PercentCompleteBarColumn extends Column {\n\t\tconstructor(option = {}) {\n\t\t\tsuper(option);\n\t\t\tthis._min = option.min || 0;\n\t\t\tthis._max = option.max || this._min + 100;\n\t\t\tthis._formatter = option.formatter || (v => v);\n\t\t}\n\t\tget StyleClass() {\n\t\t\treturn PercentCompleteBarStyle;\n\t\t}\n\t\tclone() {\n\t\t\treturn new PercentCompleteBarColumn(this);\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, info) {\n\t\t\tsuper.drawInternal(this._formatter(value), context, style, helper, grid, info);\n\t\t\tconst {\n\t\t\t\tbarColor,\n\t\t\t\tbarBgColor,\n\t\t\t\tbarHeight\n\t\t\t} = style;\n\n\t\t\tlet svalue = value + '';\n\t\t\tif (str.endsWith(svalue, '%')) {\n\t\t\t\tsvalue = svalue.substr(0, svalue.length - 1);\n\t\t\t}\n\t\t\tconst num = svalue - 0;\n\t\t\tconst rate = num < this._min ? 0 : num > this._max ? 1 : (num - this._min) / (this._max - this._min);\n\n\t\t\thelper.drawWithClip(context, ctx => {\n\t\t\t\tconst rect = context.getRect();\n\n\t\t\t\tconst barMaxWidth = rect.width - MARGIN * 2 - 1 /**/;\n\t\t\t\tconst barTop = rect.bottom - MARGIN - barHeight - 1 /**/;\n\t\t\t\tconst barLeft = rect.left + MARGIN;\n\t\t\t\tctx.fillStyle = getOrApply(barBgColor, rate * 100) || '#f0f3f5';\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.rect(barLeft, barTop, barMaxWidth, barHeight);\n\t\t\t\tctx.fill();\n\n\t\t\t\tconst barSize = Math.min(barMaxWidth * rate, barMaxWidth);\n\t\t\t\tctx.fillStyle = getOrApply(barColor, rate * 100) || '#20a8d8';\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.rect(barLeft, barTop, barSize, barHeight);\n\t\t\t\tctx.fill();\n\t\t\t});\n\t\t}\n\t}\n\tmodule.exports = PercentCompleteBarColumn;\n}\n\n/***/ }),\n/* 88 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst IconStyle = __webpack_require__(40);\n\tconst Column = __webpack_require__(10);\n\tconst icons = __webpack_require__(22);\n\n\tfunction repeatArray(val, count) {\n\t\tif (count === Infinity) {\n\t\t\tcount = 0;\n\t\t}\n\t\tconst a = [];\n\t\tfor (let i = 0; i < count; i++) {\n\t\t\ta.push(val);\n\t\t}\n\t\treturn a;\n\t}\n\n\tclass IconColumn extends Column {\n\t\tconstructor(option = {}) {\n\t\t\tsuper(option);\n\t\t\tthis._tagName = option.tagName || 'i';\n\t\t\tthis._className = option.className;\n\t\t\tthis._content = option.content;\n\t\t\tthis._name = option.name;\n\t\t\tthis._iconWidth = option.iconWidth;\n\t\t}\n\t\tget StyleClass() {\n\t\t\treturn IconStyle;\n\t\t}\n\t\tclone() {\n\t\t\treturn new IconColumn(this);\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, info) {\n\t\t\tconst num = value - 0;\n\t\t\tif (!isNaN(num)) {\n\t\t\t\tconst icon = {};\n\t\t\t\ticons.iconPropKeys.forEach(k => {\n\t\t\t\t\ticon[k] = style[k];\n\t\t\t\t});\n\t\t\t\ticon.className = this._className;\n\t\t\t\ticon.tagName = this._tagName;\n\t\t\t\ticon.content = this._content;\n\t\t\t\ticon.name = this._name;\n\t\t\t\tif (this._iconWidth) {\n\t\t\t\t\ticon.width = this._iconWidth;\n\t\t\t\t}\n\n\t\t\t\tinfo.getIcon = () => repeatArray(icon, num);\n\t\t\t} else {\n\t\t\t\tinfo.getIcon = () => null;\n\t\t\t}\n\t\t\tsuper.drawInternal('', context, style, helper, grid, info);\n\t\t}\n\t}\n\tmodule.exports = IconColumn;\n}\n\n/***/ }),\n/* 89 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst { isDef, getOrApply, isPromise, obj: { isObject } } = __webpack_require__(0);\nconst BranchGraphStyle = __webpack_require__(90);\nconst BaseColumn = __webpack_require__(11);\nconst { BRANCH_GRAPH_COLUMN_STATE_ID: _ } = __webpack_require__(1);\n\nfunction getAllColumnData(grid, col, callback) {\n\tconst dataSource = grid.dataSource;\n\tlet field = grid.getField(col);\n\tif (isObject(field) && field.get && field.set) {\n\t\tfield = field.get;\n\t}\n\tconst allData = [];\n\tlet promise;\n\tfor (let index = 0; index < dataSource.length; index++) {\n\t\tconst data = dataSource.getField(index, field);\n\t\tif (isPromise(data)) {\n\t\t\tconst dataIndex = allData.length;\n\t\t\tallData.push(data);\n\t\t\tif (!promise) {\n\t\t\t\tpromise = data.then(d => {\n\t\t\t\t\tallData[dataIndex] = d;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tpromise = promise.then(() => data).then(d => {\n\t\t\t\t\tallData[dataIndex] = d;\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tallData.push(data);\n\t\t}\n\t}\n\n\tif (promise) {\n\t\tpromise.then(() => callback(allData));\n\t} else {\n\t\tcallback(allData);\n\t}\n}\n\nclass BranchLine {\n\tconstructor({ fromIndex, toIndex, colorIndex, point }) {\n\t\tthis.fromIndex = fromIndex;\n\t\tthis.toIndex = toIndex;\n\t\tthis.colorIndex = colorIndex;\n\t\tthis.point = point;\n\t}\n}\nclass BranchPoint {\n\tconstructor({ index, commit = false, lines = [], tag }) {\n\t\tthis.index = index;\n\t\tthis.commit = commit;\n\t\tthis.lines = lines;\n\t\tthis.tag = tag;\n\t}\n\tstatic mergeLines(lines) {\n\t\tconst result = lines.filter(l => isDef(l.fromIndex) && isDef(l.toIndex));\n\n\t\tconst froms = lines.filter(l => isDef(l.fromIndex) && !isDef(l.toIndex));\n\t\tconst tos = lines.filter(l => !isDef(l.fromIndex) && isDef(l.toIndex));\n\n\t\tfroms.forEach(f => {\n\t\t\tfor (let i = 0; i < tos.length; i++) {\n\t\t\t\tconst t = tos[i];\n\t\t\t\tif (t.point) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (f.colorIndex === t.colorIndex) {\n\t\t\t\t\tf.toIndex = t.toIndex;\n\t\t\t\t\ttos.splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tresult.push(f);\n\t\t});\n\n\t\treturn result.concat(tos);\n\t}\n\tstatic merge(a, b) {\n\t\tif (!a) {\n\t\t\treturn b;\n\t\t}\n\t\treturn new BranchPoint({\n\t\t\tindex: a.index,\n\t\t\tcommit: a.commit || b.commit,\n\t\t\tlines: BranchPoint.mergeLines(a.lines.concat(b.lines)),\n\t\t\ttag: a.tag || b.tag\n\t\t});\n\t}\n}\n\nfunction joinLine(timeline, branchIndex) {\n\tconst reverse = [...timeline].reverse();\n\tfor (let i = 0; i < reverse.length; i++) {\n\t\tconst f = reverse[i][branchIndex];\n\t\tif (f) {\n\t\t\tf.lines = BranchPoint.mergeLines(f.lines.concat([new BranchLine({\n\t\t\t\ttoIndex: branchIndex,\n\t\t\t\tcolorIndex: branchIndex\n\t\t\t})]));\n\n\t\t\tfor (let j = 0; j < i; j++) {\n\t\t\t\tconst tl = reverse[j];\n\t\t\t\ttl[branchIndex] = new BranchPoint({\n\t\t\t\t\tindex: branchIndex,\n\t\t\t\t\tlines: [new BranchLine({\n\t\t\t\t\t\tfromIndex: branchIndex,\n\t\t\t\t\t\ttoIndex: branchIndex,\n\t\t\t\t\t\tcolorIndex: branchIndex\n\t\t\t\t\t})]\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\nfunction branch({ timeline, branches }, from, to) {\n\tconst fromIndex = branches.indexOf(from);\n\tlet toIndex = branches.indexOf(to);\n\tif (toIndex < 0) {\n\t\ttoIndex = branches.length;\n\t\tbranches.push(to);\n\t}\n\n\tfunction findBranchRootIndex() {\n\t\tfor (let index = timeline.length - 1; index >= 0; index--) {\n\t\t\tconst tl = timeline[index];\n\t\t\tconst from = tl[fromIndex];\n\t\t\tif (from && from.commit) {\n\t\t\t\treturn index;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t}\n\n\tif (fromIndex < 0) {\n\t\treturn new BranchPoint({\n\t\t\tindex: toIndex\n\t\t});\n\t} else {\n\t\tconst fromTargetIndex = findBranchRootIndex();\n\t\tif (fromTargetIndex === -1) {\n\t\t\treturn null;\n\t\t}\n\t\tconst branchTargetFromIndex = fromTargetIndex + 1;\n\t\tconst branchPoint = new BranchPoint({\n\t\t\tindex: toIndex,\n\t\t\tlines: [new BranchLine({\n\t\t\t\tfromIndex,\n\t\t\t\tcolorIndex: toIndex\n\t\t\t})]\n\t\t});\n\t\tlet point;\n\t\tlet result;\n\t\tif (branchTargetFromIndex < timeline.length) {\n\t\t\tconst targetLine = timeline[branchTargetFromIndex];\n\t\t\tpoint = targetLine[toIndex] = BranchPoint.merge(targetLine[toIndex], branchPoint);\n\t\t} else {\n\t\t\tpoint = branchPoint;\n\t\t\tresult = branchPoint;\n\t\t}\n\t\tconst from = timeline[fromTargetIndex][fromIndex];\n\t\tfrom.lines = BranchPoint.mergeLines(from.lines.concat([new BranchLine({\n\t\t\ttoIndex,\n\t\t\tcolorIndex: toIndex,\n\t\t\tpoint\n\t\t})]));\n\t\treturn result;\n\t}\n}\n\nfunction commit({ timeline, branches }, name) {\n\tconst index = branches.indexOf(name);\n\tif (index < 0) {\n\t\treturn null;\n\t}\n\tconst result = new BranchPoint({\n\t\tindex,\n\t\tcommit: true\n\t});\n\n\tif (joinLine(timeline, index)) {\n\t\tresult.lines = BranchPoint.mergeLines(result.lines.concat([new BranchLine({\n\t\t\tfromIndex: index,\n\t\t\tcolorIndex: index\n\t\t})]));\n\t}\n\treturn result;\n}\n\nfunction commitTag({ timeline, branches }, name, tag) {\n\tlet index = branches.indexOf(name);\n\tif (index < 0) {\n\t\tindex = branches.length;\n\t\tbranches.push(name);\n\t}\n\treturn new BranchPoint({\n\t\tindex,\n\t\ttag\n\t});\n}\n\nfunction commitMerge({ timeline, branches }, from, to) {\n\tconst fromIndex = branches.indexOf(from);\n\tconst toIndex = branches.indexOf(to);\n\tif (toIndex < 0 || fromIndex < 0) {\n\t\treturn new BranchPoint({\n\t\t\tindex: toIndex,\n\t\t\tcommit: true\n\t\t});\n\t}\n\tconst result = new BranchPoint({\n\t\tindex: toIndex,\n\t\tcommit: true,\n\t\tlines: [new BranchLine({\n\t\t\tfromIndex,\n\t\t\tcolorIndex: fromIndex\n\t\t}), new BranchLine({\n\t\t\tfromIndex: toIndex,\n\t\t\tcolorIndex: toIndex\n\t\t})]\n\t});\n\tconst froms = [...timeline];\n\tconst fromTargetLine = froms.pop();\n\tif (fromTargetLine) {\n\t\tfromTargetLine[fromIndex] = BranchPoint.merge(fromTargetLine[fromIndex], new BranchPoint({\n\t\t\tindex: toIndex,\n\t\t\tlines: [new BranchLine({\n\t\t\t\ttoIndex,\n\t\t\t\tcolorIndex: fromIndex\n\t\t\t})]\n\t\t}));\n\t}\n\n\tjoinLine(froms, fromIndex);\n\n\tjoinLine(timeline, toIndex);\n\n\treturn result;\n}\n\nfunction calcCommand(info, command) {\n\tconst { timeline } = info;\n\tconst timelineData = [];\n\t// const last = timeline.length > 0 ? timeline[timeline.length - 1] : null;\n\tconst commands = __webpack_provided_Array_dot_isArray(command) ? command : [command];\n\tcommands.forEach(cmd => {\n\t\tif (!cmd) {\n\t\t\treturn;\n\t\t}\n\t\tlet point;\n\t\tif (cmd.command === 'branch') {\n\t\t\tconst from = isObject(cmd.branch) ? cmd.branch.from : null;\n\t\t\tconst to = isObject(cmd.branch) ? cmd.branch.to : cmd.branch;\n\t\t\tpoint = branch(info, from, to);\n\t\t} else if (cmd.command === 'commit') {\n\t\t\tconst { branch } = cmd;\n\t\t\tpoint = commit(info, branch);\n\t\t} else if (cmd.command === 'merge') {\n\t\t\tconst { from, to } = cmd.branch;\n\t\t\tpoint = commitMerge(info, from, to);\n\t\t} else if (cmd.command === 'tag') {\n\t\t\tconst { branch, tag } = cmd;\n\t\t\tpoint = commitTag(info, branch, tag);\n\t\t}\n\t\tif (point && point.index > -1) {\n\t\t\ttimelineData[point.index] = BranchPoint.merge(timelineData[point.index], point);\n\t\t}\n\t});\n\ttimeline.push(timelineData);\n}\n\nfunction calcBranchesInfo(start, grid, col) {\n\tconst result = {\n\t\tbranches: [],\n\t\ttimeline: []\n\t};\n\tgetAllColumnData(grid, col, data => {\n\t\tif (start !== 'top') {\n\t\t\tdata = [...data].reverse();\n\t\t}\n\t\tdata.forEach(command => {\n\t\t\tcalcCommand(result, command);\n\t\t});\n\t});\n\treturn result;\n}\n\nfunction calcBranchXPoints(ctx, left, width, radius, branches, timeline) {\n\tlet w = Math.max(width / branches.length + 1, 5);\n\ttimeline.forEach(tl => {\n\t\ttl.forEach((p, index) => {\n\t\t\tif (index <= 0) {\n\t\t\t\t// \n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (p.tag) {\n\t\t\t\tconst textWidth = ctx.measureText(p.tag).width;\n\t\t\t\tif (w * index + radius * 2 + 4 + textWidth > width) {\n\t\t\t\t\tw = Math.max((width - radius * 2 - 4 - textWidth) / index, 5);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\tconst result = [];\n\tlet x = left;\n\tbranches.forEach(() => {\n\t\tresult.push(Math.ceil(x + radius));\n\t\tx += w;\n\t});\n\treturn result;\n}\n\nfunction renderMerge(grid, ctx, x, y, upLineIndex, downLineIndex, colorIndex, {\n\tbranchXPoints, margin, branchColors, branchLineWidth, mergeStyle\n}, {\n\twidth, col, row, branches\n}) {\n\tif (isDef(upLineIndex) || isDef(downLineIndex)) {\n\t\tctx.strokeStyle = getOrApply(branchColors, branches[colorIndex], colorIndex);\n\t\tctx.lineWidth = branchLineWidth;\n\t\tctx.lineCap = 'round';\n\t\tctx.beginPath();\n\n\t\tif (isDef(upLineIndex)) {\n\t\t\tconst upX = branchXPoints[upLineIndex];\n\t\t\tconst upRect = grid.getCellRelativeRect(col, row - 1);\n\t\t\tconst upY = upRect.top + upRect.height / 2;\n\t\t\tctx.moveTo(upX, upY);\n\t\t\tif (mergeStyle === 'bezier') {\n\t\t\t\tctx.bezierCurveTo(upX, (y + upY) / 2, x, (y + upY) / 2, x, y);\n\t\t\t} else {\n\t\t\t\tctx.lineTo(x, y);\n\t\t\t}\n\t\t} else {\n\t\t\tctx.moveTo(x, y);\n\t\t}\n\n\t\tif (isDef(downLineIndex)) {\n\t\t\tconst downX = branchXPoints[downLineIndex];\n\t\t\tconst downRect = grid.getCellRelativeRect(col, row + 1);\n\t\t\tconst downY = downRect.top + downRect.height / 2;\n\t\t\tif (mergeStyle === 'bezier') {\n\t\t\t\tctx.bezierCurveTo(x, (y + downY) / 2, downX, (y + downY) / 2, downX, downY);\n\t\t\t} else {\n\t\t\t\tctx.lineTo(downX, downY);\n\t\t\t}\n\t\t}\n\n\t\tctx.stroke();\n\t}\n}\n\n/**\r\n * BranchGraphColumn<br>\r\n * <br>\r\n * # Data command<br>\r\n * ## mastar branch or orphan branch<br>\r\n * <pre><code class=\"js\">\r\n * {\r\n * \tcommand: 'branch',\r\n * \tbranch: 'branch name A',\r\n * }\r\n * </code></pre>\r\n * ## commit<br>\r\n * <pre><code class=\"js\">\r\n * {\r\n * \tcommand: 'commit',\r\n * \tbranch: 'branch name A'\r\n * }\r\n * </code></pre>\r\n * ## branch<br>\r\n * <pre><code class=\"js\">\r\n * {\r\n * \tcommand: 'branch',\r\n * \tbranch: {\r\n * \t\tfrom: 'branch name A',\r\n * \t\tto: 'branch name B'\r\n * \t}\r\n * }\r\n * </code></pre>\r\n * ## merge<br>\r\n * <pre><code class=\"js\">\r\n * {\r\n * \tcommand: 'merge',\r\n * \tbranch: {\r\n * \t\tfrom: 'branch name B',\r\n * \t\tto: 'branch name A'\r\n * \t}\r\n * }\r\n * </code></pre>\r\n * ## tag<br>\r\n * <pre><code class=\"js\">\r\n * {\r\n * \tcommand: 'tag',\r\n * \tbranch: 'branch name A',\r\n * \ttag: 'tag name'\r\n * }\r\n * </code></pre>\r\n *\r\n *\r\n * @memberof cheetahGrid.columns.type\r\n */\nclass BranchGraphColumn extends BaseColumn {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._start = option.start || 'bottom';\n\t\tthis._cache = isDef(option.cache) ? option.cache : false;\n\t}\n\tget StyleClass() {\n\t\treturn BranchGraphStyle;\n\t}\n\tclearCache(grid) {\n\t\tdelete grid[_];\n\t}\n\tonDrawCell(cellValue, info, context, grid) {\n\t\tif (this._cache) {\n\t\t\tconst state = grid[_] || (grid[_] = {});\n\t\t\tconst { col } = context;\n\t\t\tif (!state[col]) {\n\t\t\t\tstate[col] = calcBranchesInfo(this._start, grid, col);\n\t\t\t}\n\t\t}\n\t\treturn super.onDrawCell(cellValue, info, context, grid);\n\t}\n\tclone() {\n\t\treturn new BranchGraphColumn(this);\n\t}\n\tdrawInternal(value, context, style, helper, grid, { drawCellBase }) {\n\t\tconst { col, row } = context;\n\t\tconst { timeline, branches } = this._cache && grid[_] ? grid[_][col] : calcBranchesInfo(this._start, grid, col);\n\n\t\tconst { upLineIndexKey, downLineIndexKey } = this._start !== 'top' ? { upLineIndexKey: 'toIndex', downLineIndexKey: 'fromIndex' } : { upLineIndexKey: 'fromIndex', downLineIndexKey: 'toIndex' };\n\t\tconst data = this._start !== 'top' ? timeline[timeline.length - (row - grid.frozenRowCount) - 1] : timeline[row - grid.frozenRowCount];\n\n\t\tconst {\n\t\t\tbranchColors,\n\t\t\tbranchLineWidth,\n\t\t\tcircleSize,\n\t\t\tmergeStyle,\n\t\t\tmargin,\n\t\t\tbgColor\n\t\t} = style;\n\t\tif (bgColor) {\n\t\t\tdrawCellBase({\n\t\t\t\tbgColor\n\t\t\t});\n\t\t}\n\n\t\tconst rect = context.getRect();\n\t\tconst radius = circleSize / 2;\n\t\tconst width = rect.width - margin * 2;\n\n\t\thelper.drawWithClip(context, ctx => {\n\t\t\tctx.textAlign = 'left';\n\t\t\tctx.textBaseline = 'middle';\n\t\t\tconst branchXPoints = calcBranchXPoints(ctx, rect.left + margin, width, radius, branches, timeline);\n\n\t\t\tconst y = rect.top + rect.height / 2;\n\n\t\t\t// draw join lines\n\t\t\tdata.map((point, index) => point ? point.lines.map(line => ({\n\t\t\t\tcolorIndex: line.colorIndex,\n\t\t\t\tupLineIndex: line[upLineIndexKey],\n\t\t\t\tdownLineIndex: line[downLineIndexKey],\n\t\t\t\tpointIndex: index\n\t\t\t})) : []).reduce((p, c) => p.concat(c), []). // flatMap\n\t\t\t// order of overlap\n\t\t\tsort((a, b) => b.colorIndex - a.colorIndex).forEach(line => {\n\t\t\t\tconst x = branchXPoints[line.pointIndex];\n\t\t\t\trenderMerge(grid, ctx, x, y, line.upLineIndex, line.downLineIndex, line.colorIndex, {\n\t\t\t\t\tmargin,\n\t\t\t\t\tbranchXPoints,\n\t\t\t\t\tbranchLineWidth,\n\t\t\t\t\tbranchColors,\n\t\t\t\t\tmergeStyle\n\t\t\t\t}, {\n\t\t\t\t\twidth, col, row, branches\n\t\t\t\t});\n\t\t\t});\n\t\t\t// draw commit points\n\t\t\tdata.forEach((p, index) => {\n\t\t\t\tif (p && p.commit) {\n\t\t\t\t\tconst x = branchXPoints[index];\n\t\t\t\t\tctx.fillStyle = getOrApply(branchColors, branches[index], index);\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.arc(x, y, radius, 0, Math.PI * 2, true);\n\t\t\t\t\tctx.fill();\n\t\t\t\t\tctx.closePath();\n\t\t\t\t}\n\t\t\t});\n\t\t\t// draw tags\n\t\t\tdata.forEach((p, index) => {\n\t\t\t\tif (p && p.tag) {\n\t\t\t\t\tctx.fillStyle = getOrApply(branchColors, branches[index], index);\n\t\t\t\t\tctx.fillText(p.tag, branchXPoints[index] + radius + 4, y);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n}\nmodule.exports = BranchGraphColumn;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 90 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst BaseStyle = __webpack_require__(20);\nlet defaultStyle;\nfunction adj(style) {\n\tconst { textAlign = 'center' } = style;\n\tstyle.textAlign = textAlign;\n\treturn style;\n}\nconst DEFAULT_BRANCH_COLORS = (name, index) => {\n\tswitch (index % 3) {\n\t\tcase 0:\n\t\t\treturn '#979797';\n\t\tcase 1:\n\t\t\treturn '#008fb5';\n\t\tcase 2:\n\t\t\treturn '#f1c109';\n\t\tdefault:\n\t}\n\treturn '#979797';\n};\nclass BranchGraphStyle extends BaseStyle {\n\tstatic get DEFAULT() {\n\t\treturn defaultStyle ? defaultStyle : defaultStyle = new BranchGraphStyle();\n\t}\n\tconstructor(style = {}) {\n\t\tsuper(adj(style));\n\t\tthis._branchColors = style.branchColors || DEFAULT_BRANCH_COLORS;\n\t\tthis._margin = style.margin || 4;\n\t\tthis._circleSize = style.circleSize || 16;\n\t\tthis._branchLineWidth = style.branchLineWidth || 4;\n\t\tthis._mergeStyle = style.mergeStyle === 'straight' ? 'straight' : 'bezier';\n\t}\n\tget branchColors() {\n\t\treturn this._branchColors;\n\t}\n\tset branchColors(branchColors) {\n\t\tthis._branchColors = branchColors;\n\t\tthis.doChangeStyle();\n\t}\n\tget margin() {\n\t\treturn this._margin;\n\t}\n\tset margin(margin) {\n\t\tthis._margin = margin;\n\t\tthis.doChangeStyle();\n\t}\n\tget circleSize() {\n\t\treturn this._circleSize;\n\t}\n\tset circleSize(circleSize) {\n\t\tthis._circleSize = circleSize;\n\t\tthis.doChangeStyle();\n\t}\n\tget branchLineWidth() {\n\t\treturn this._branchLineWidth;\n\t}\n\tset branchLineWidth(branchLineWidth) {\n\t\tthis._branchLineWidth = branchLineWidth;\n\t\tthis.doChangeStyle();\n\t}\n\tget mergeStyle() {\n\t\treturn this._mergeStyle;\n\t}\n\tset mergeStyle(mergeStyle) {\n\t\tthis._mergeStyle = mergeStyle;\n\t\tthis.doChangeStyle();\n\t}\n\tclone() {\n\t\treturn new BranchGraphStyle(this);\n\t}\n}\nmodule.exports = BranchGraphStyle;\n\n/***/ }),\n/* 91 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst { normalize } = __webpack_require__(34);\n\tconst { isDef } = __webpack_require__(0);\n\tconst BaseColumn = __webpack_require__(11);\n\tconst Style = __webpack_require__(3);\n\tconst utils = __webpack_require__(21);\n\n\tclass MenuColumn extends BaseColumn {\n\t\tconstructor(option = {}) {\n\t\t\tsuper(option);\n\t\t\tthis._options = normalize(option.options);\n\t\t}\n\t\tget StyleClass() {\n\t\t\treturn Style;\n\t\t}\n\t\tclone() {\n\t\t\treturn new MenuColumn(this);\n\t\t}\n\t\tget options() {\n\t\t\treturn this._options;\n\t\t}\n\t\twithOptions(options) {\n\t\t\tconst c = this.clone();\n\t\t\tc._options = normalize(options);\n\t\t\treturn c;\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, { drawCellBase, getIcon }) {\n\t\t\tconst {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tfont,\n\t\t\t\tbgColor,\n\t\t\t\tpadding\n\t\t\t} = style;\n\t\t\tlet {\n\t\t\t\tcolor\n\t\t\t} = style;\n\t\t\tif (bgColor) {\n\t\t\t\tdrawCellBase({\n\t\t\t\t\tbgColor\n\t\t\t\t});\n\t\t\t}\n\t\t\tconst text = this._convertInternal(value);\n\t\t\thelper.testFontLoad(font, text, context);\n\t\t\tutils.loadIcons(getIcon(), context, helper, (icons, context) => {\n\t\t\t\tconst basePadding = helper.toBoxPixelArray(padding || 0, context);\n\t\t\t\tconst textPadding = basePadding.slice(0);\n\t\t\t\ttextPadding[1] += 26; // icon padding\n\t\t\t\tconst iconPadding = basePadding.slice(0);\n\t\t\t\ticonPadding[1] += 8;\n\t\t\t\tif (!isDef(color) && (!isDef(value) || value === '')) {\n\t\t\t\t\tcolor = 'rgba(0, 0, 0, .38)';\n\t\t\t\t}\n\t\t\t\thelper.text(text, context, {\n\t\t\t\t\ttextAlign,\n\t\t\t\t\ttextBaseline,\n\t\t\t\t\tcolor,\n\t\t\t\t\tfont,\n\t\t\t\t\ticons,\n\t\t\t\t\tpadding: textPadding\n\t\t\t\t});\n\t\t\t\t// draw icon\n\t\t\t\thelper.text('', context, {\n\t\t\t\t\ttextAlign: 'right',\n\t\t\t\t\ttextBaseline,\n\t\t\t\t\tcolor,\n\t\t\t\t\tfont,\n\t\t\t\t\ticons: [{\n\t\t\t\t\t\tpath: 'M0 2 5 7 10 2z',\n\t\t\t\t\t\twidth: 10,\n\t\t\t\t\t\tcolor: 'rgba(0, 0, 0, .54)'\n\t\t\t\t\t}],\n\t\t\t\t\tpadding: iconPadding\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\tconvertInternal(value) {\n\t\t\treturn value;\n\t\t}\n\t\t_convertInternal(value) {\n\t\t\tconst options = this._options;\n\t\t\tfor (let i = 0; i < options.length; i++) {\n\t\t\t\tconst option = options[i];\n\t\t\t\tif (option.value === value) {\n\t\t\t\t\tvalue = option.caption;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn super.convertInternal(value);\n\t\t}\n\t}\n\n\tmodule.exports = MenuColumn;\n}\n\n/***/ }),\n/* 92 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*eslint no-bitwise:0*/\n\n\n{\n\tconst { getChainSafe } = __webpack_require__(0);\n\tconst defaultTheme = __webpack_require__(43);\n\n\tfunction getProp(obj, superObj, names, defNames) {\n\t\treturn getChainSafe(obj, ...names) || defNames && getChainSafe(obj, ...defNames) || getChainSafe(superObj, ...names);\n\t}\n\tfunction createTheme(obj = {}, superTheme = defaultTheme) {\n\t\treturn {\n\t\t\tget font() {\n\t\t\t\treturn getProp(obj, superTheme, ['font']);\n\t\t\t},\n\t\t\tget underlayBackgroundColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['underlayBackgroundColor']);\n\t\t\t},\n\t\t\t// color\n\t\t\tget color() {\n\t\t\t\treturn getProp(obj, superTheme, ['color']);\n\t\t\t},\n\t\t\tget frozenRowsColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['frozenRowsColor'], ['color']);\n\t\t\t},\n\t\t\t// background\n\t\t\tget defaultBgColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['defaultBgColor']);\n\t\t\t},\n\t\t\tget frozenRowsBgColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['frozenRowsBgColor'], ['defaultBgColor']);\n\t\t\t},\n\t\t\tget selectionBgColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['selectionBgColor'], ['defaultBgColor']);\n\t\t\t},\n\t\t\t// border\n\t\t\tget borderColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['borderColor']);\n\t\t\t},\n\t\t\tget frozenRowsBorderColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['frozenRowsBorderColor'], ['borderColor']);\n\t\t\t},\n\t\t\tget hiliteBorderColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['hiliteBorderColor'], ['borderColor']);\n\t\t\t},\n\t\t\tget checkbox() {\n\t\t\t\treturn this._checkbox || (this._checkbox = {\n\t\t\t\t\tget uncheckBgColor() {\n\t\t\t\t\t\treturn getProp(obj, superTheme, ['checkbox', 'uncheckBgColor'], ['defaultBgColor']);\n\t\t\t\t\t},\n\t\t\t\t\tget checkBgColor() {\n\t\t\t\t\t\treturn getProp(obj, superTheme, ['checkbox', 'checkBgColor'], ['defaultBgColor']);\n\t\t\t\t\t},\n\t\t\t\t\tget borderColor() {\n\t\t\t\t\t\treturn getProp(obj, superTheme, ['checkbox', 'borderColor'], ['borderColor']);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tget button() {\n\t\t\t\treturn this._button || (this._button = {\n\t\t\t\t\tget color() {\n\t\t\t\t\t\treturn getProp(obj, superTheme, ['button', 'color'], ['color']);\n\t\t\t\t\t},\n\t\t\t\t\tget bgColor() {\n\t\t\t\t\t\treturn getProp(obj, superTheme, ['button', 'bgColor'], ['defaultBgColor']);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\textends(obj) {\n\t\t\t\treturn createTheme(obj, this);\n\t\t\t}\n\t\t};\n\t}\n\n\t/**\r\n  * theme object\r\n  * @type {Object}\r\n  * @namespace cheetahGrid.themes.theme\r\n  * @memberof cheetahGrid.themes\r\n  */\n\tmodule.exports = {\n\t\tcreate(obj) {\n\t\t\treturn createTheme(obj);\n\t\t}\n\t};\n}\n\n/***/ }),\n/* 93 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*eslint no-bitwise:0*/\n\n\nfunction DEFAULT_BG_COLOR(args) {\n\tconst {\n\t\trow,\n\t\tgrid: { frozenRowCount }\n\t} = args;\n\tif (!(row - frozenRowCount & 1)) {\n\t\treturn '#FFF';\n\t} else {\n\t\treturn '#F6F6F6';\n\t}\n}\nconst cacheLinearGradient = {};\nfunction getLinearGradient(context, left, top, right, bottom, colorStops) {\n\tlet stop;\n\tconst stopsKey = [];\n\tfor (stop in colorStops) {\n\t\tstopsKey.push(`${stop}@${colorStops[stop]}`);\n\t}\n\tconst key = `${left}/${top}/${right}/${bottom}/${stopsKey.join(',')}`;\n\tconst ret = cacheLinearGradient[key];\n\tif (ret) {\n\t\treturn ret;\n\t}\n\tconst grad = context.createLinearGradient(left, top, left, bottom);\n\tfor (stop in colorStops) {\n\t\tgrad.addColorStop(stop, colorStops[stop]);\n\t}\n\treturn cacheLinearGradient[key] = grad;\n}\nfunction FROZEN_ROWS_BG_COLOR(args) {\n\tconst {\n\t\tcol,\n\t\tgrid,\n\t\tgrid: { frozenRowCount },\n\t\tcontext\n\t} = args;\n\tconst { left, top } = grid.getCellRelativeRect(col, 0);\n\tconst { bottom } = grid.getCellRelativeRect(col, frozenRowCount - 1);\n\n\treturn getLinearGradient(context, left, top, left, bottom, { 0: '#FFF', 1: '#D3D3D3' });\n}\n/**\r\n * basic theme\r\n * @name BASIC\r\n * @type {Object}\r\n * @memberof cheetahGrid.themes.choices\r\n */\nmodule.exports = {\n\tcolor: '#000',\n\tdefaultBgColor: DEFAULT_BG_COLOR,\n\tfrozenRowsBgColor: FROZEN_ROWS_BG_COLOR,\n\thiliteBorderColor: '#5E9ED6',\n\tselectionBgColor: '#CCE0FF',\n\tborderColor: '#000',\n\tcheckbox: {\n\t\tuncheckBgColor: '#FFF',\n\t\tcheckBgColor: 'rgb(76, 73, 72)'\n\t},\n\tbutton: {\n\t\tcolor: '#FFF',\n\t\tbgColor: '#2196F3'\n\t},\n\tunderlayBackgroundColor: '#F6F6F6'\n};\n\n/***/ }),\n/* 94 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst { getChainSafe } = __webpack_require__(0);\n\tconst DataSource = __webpack_require__(46);\n\n\tfunction _setFieldCache({ _fCache }, index, field, value) {\n\t\tconst recCache = _fCache[index] || (_fCache[index] = {});\n\t\trecCache[field] = value;\n\t}\n\t/**\r\n  * grid data source\r\n  *\r\n  * @classdesc cheetahGrid.data.CachedDataSource\r\n  * @extends cheetahGrid.data.DataSource\r\n  * @memberof cheetahGrid.data\r\n  */\n\tclass CachedDataSource extends DataSource {\n\t\tstatic get EVENT_TYPE() {\n\t\t\treturn DataSource.EVENT_TYPE;\n\t\t}\n\t\tstatic ofArray(array) {\n\t\t\treturn new CachedDataSource({\n\t\t\t\tget: index => array[index],\n\t\t\t\tlength: array.length\n\t\t\t});\n\t\t}\n\t\tconstructor(opt = {}) {\n\t\t\tsuper(opt);\n\t\t\tthis._rCache = {};\n\t\t\tthis._fCache = {};\n\t\t}\n\t\tgetOriginal(index) {\n\t\t\tif (this._rCache && this._rCache[index]) {\n\t\t\t\treturn this._rCache[index];\n\t\t\t}\n\t\t\treturn super.getOriginal(index);\n\t\t}\n\t\tgetOriginalField(index, field) {\n\t\t\tconst cache = getChainSafe(this._fCache, index, field);\n\t\t\tif (cache) {\n\t\t\t\treturn cache;\n\t\t\t}\n\t\t\treturn super.getOriginalField(index, field);\n\t\t}\n\t\tsetOriginalField(index, field, value) {\n\t\t\tconst fCache = this._fCache;\n\t\t\tif (fCache && fCache[index]) {\n\t\t\t\tdelete fCache[index]; // clear row cache\n\t\t\t}\n\t\t\treturn super.setOriginalField(index, field, value);\n\t\t}\n\t\tclearCache() {\n\t\t\tif (this._rCache) {\n\t\t\t\tthis._rCache = {};\n\t\t\t}\n\t\t\tif (this._fCache) {\n\t\t\t\tthis._fCache = {};\n\t\t\t}\n\t\t}\n\t\tfieldPromiseCallBackInternal(index, field, val) {\n\t\t\t_setFieldCache(this, index, field, val);\n\t\t}\n\t\trecordPromiseCallBackInternal(index, val) {\n\t\t\tthis._rCache[index] = val;\n\t\t}\n\t\tdispose() {\n\t\t\tsuper.dispose();\n\t\t}\n\t}\n\n\tmodule.exports = CachedDataSource;\n}\n\n/***/ }),\n/* 95 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\n{\n\tconst { isDef, isPromise, then, obj: { isObject } } = __webpack_require__(0);\n\tconst GridCanvasHelper = __webpack_require__(48);\n\tconst columns = __webpack_require__(29);\n\tconst { BaseStyle } = columns.style;\n\tconst headerType = __webpack_require__(113);\n\tconst { BaseStyle: HeaderBaseStyle } = __webpack_require__(16);\n\tconst DrawGrid = __webpack_require__(4);\n\tconst { DataSource, CachedDataSource } = __webpack_require__(45);\n\tconst themes = __webpack_require__(23);\n\tconst icons = __webpack_require__(22);\n\tconst MessageHandler = __webpack_require__(117);\n\tconst EVENT_TYPE = __webpack_require__(56);\n\n\t//protected symbol\n\tconst { PROTECTED_SYMBOL: _ } = __webpack_require__(1);\n\n\tlet headerId = 0;\n\t//private methods\n\tfunction _getHeaderCellRange(grid, col, row) {\n\t\treturn grid[_].headerMap.getHeaderCellRange(col, row);\n\t}\n\tfunction _updateRect(grid, col, row, context) {\n\t\tconst rect = context.getRect();\n\t\tconst {\n\t\t\tstartCol,\n\t\t\tendCol,\n\t\t\tstartRow,\n\t\t\tendRow\n\t\t} = _getHeaderCellRange(grid, col, row);\n\t\tfor (let c = col - 1; c >= startCol; c--) {\n\t\t\trect.left -= grid.getColWidth(c);\n\t\t}\n\t\tfor (let c = col + 1; c <= endCol; c++) {\n\t\t\trect.right += grid.getColWidth(c);\n\t\t}\n\t\tfor (let r = row - 1; r >= startRow; r--) {\n\t\t\trect.top -= grid.getRowHeight(r);\n\t\t}\n\t\tfor (let r = row + 1; r <= endRow; r++) {\n\t\t\trect.bottom += grid.getRowHeight(r);\n\t\t}\n\t\tcontext.setRect(rect);\n\t}\n\tfunction _getCellValue(grid, col, row) {\n\t\tif (row < grid[_].headerMap.rowCount) {\n\t\t\treturn grid[_].headerMap.getCell(col, row).caption;\n\t\t} else {\n\t\t\tlet { field } = grid[_].headerMap.columns[col];\n\t\t\tif (isObject(field) && field.get && field.set) {\n\t\t\t\tfield = field.get;\n\t\t\t}\n\t\t\treturn _getField(grid, field, row);\n\t\t}\n\t}\n\tfunction _setCellValue(grid, col, row, value) {\n\t\tif (row < grid[_].headerMap.rowCount) {\n\t\t\t// nop\n\t\t\treturn false;\n\t\t} else {\n\t\t\tlet { field } = grid[_].headerMap.columns[col];\n\t\t\tif (isObject(field) && field.get && field.set) {\n\t\t\t\tfield = field.set;\n\t\t\t}\n\t\t\tconst index = _getRowRecordIndex(grid, row);\n\t\t\tconst res = grid[_].dataSource.setField(index, field, value);\n\t\t\treturn isPromise(res) ? res : true;\n\t\t}\n\t}\n\tfunction _getCellMessage(grid, col, row) {\n\t\tif (row < grid[_].headerMap.rowCount) {\n\t\t\treturn null;\n\t\t} else {\n\t\t\tconst { message } = grid[_].headerMap.columns[col];\n\t\t\tif (!message) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn _getField(grid, message, row);\n\t\t}\n\t}\n\tfunction _getCellIcon0(grid, icon, row) {\n\t\tif (!isDef(icon)) {\n\t\t\treturn null;\n\t\t}\n\t\tif (__webpack_provided_Array_dot_isArray(icon)) {\n\t\t\treturn icon.map(i => _getCellIcon0(grid, i, row));\n\t\t}\n\t\tif (!isObject(icon)) {\n\t\t\treturn _getField(grid, icon, row);\n\t\t}\n\t\tconst retIcon = {};\n\t\ticons.iconPropKeys.forEach(k => {\n\t\t\tif (icon[k]) {\n\t\t\t\tconst f = _getField(grid, icon[k], row);\n\t\t\t\tif (isDef(f)) {\n\t\t\t\t\tretIcon[k] = f;\n\t\t\t\t} else {\n\t\t\t\t\tif (!_hasField(grid, icon[k], row)) {\n\t\t\t\t\t\tretIcon[k] = icon[k];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn retIcon;\n\t}\n\tfunction _getCellIcon(grid, col, row) {\n\t\tconst { icon } = grid[_].headerMap.columns[col];\n\t\treturn _getCellIcon0(grid, icon, row);\n\t}\n\tfunction _getField(grid, field, row) {\n\t\tif (!isDef(field)) {\n\t\t\treturn null;\n\t\t}\n\t\tif (row < grid[_].headerMap.rowCount) {\n\t\t\treturn null;\n\t\t} else {\n\t\t\tconst index = _getRowRecordIndex(grid, row);\n\t\t\treturn grid[_].dataSource.getField(index, field);\n\t\t}\n\t}\n\tfunction _hasField(grid, field, row) {\n\t\tif (!isDef(field)) {\n\t\t\treturn false;\n\t\t}\n\t\tif (row < grid[_].headerMap.rowCount) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\tconst index = _getRowRecordIndex(grid, row);\n\t\t\treturn grid[_].dataSource.hasField(index, field);\n\t\t}\n\t}\n\tfunction _onDrawValue(grid, cellValue, context, { col, row }, style, draw) {\n\t\tconst helper = grid[_].gridCanvasHelper;\n\n\t\tconst drawCellBg = ({ bgColor } = {}) => {\n\t\t\tconst fillOpt = {\n\t\t\t\tfillColor: bgColor\n\t\t\t};\n\t\t\t//cell\n\t\t\thelper.fillCellWithState(context, fillOpt);\n\t\t};\n\t\tconst drawCellBorder = () => {\n\n\t\t\tif (context.col === grid.frozenColCount - 1) {\n\t\t\t\t//\n\t\t\t\tconst rect = context.getRect();\n\t\t\t\thelper.drawWithClip(context, ctx => {\n\t\t\t\t\tconst borderColor = context.row >= grid.frozenRowCount ? helper.theme.borderColor : helper.theme.frozenRowsBorderColor;\n\n\t\t\t\t\tconst borderColors = helper.toBoxArray(helper.getColor(borderColor, context.col, context.row, ctx));\n\t\t\t\t\tif (borderColors[1]) {\n\t\t\t\t\t\tctx.lineWidth = 1;\n\t\t\t\t\t\tctx.strokeStyle = borderColors[1];\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tctx.moveTo(rect.right - 2.5, rect.top);\n\t\t\t\t\t\tctx.lineTo(rect.right - 2.5, rect.bottom);\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (context.row < grid[_].headerMap.rowCount) {\n\t\t\t\t_headerBorderWithState(grid, helper, context);\n\t\t\t} else {\n\t\t\t\thelper.borderWithState(context);\n\t\t\t}\n\t\t};\n\n\t\tconst drawCellBase = ({ bgColor } = {}) => {\n\t\t\tdrawCellBg({ bgColor });\n\t\t\tdrawCellBorder();\n\t\t};\n\t\tconst info = {\n\t\t\tgetRecord: () => grid.getRowRecord(row),\n\t\t\tgetIcon: () => _getCellIcon(grid, col, row),\n\t\t\tgetMessage: () => _getCellMessage(grid, col, row),\n\t\t\tmessageHandler: grid[_].messageHandler,\n\t\t\tstyle,\n\t\t\tdrawCellBase,\n\t\t\tdrawCellBg,\n\t\t\tdrawCellBorder\n\t\t};\n\n\t\treturn draw(cellValue, info, context, grid);\n\t}\n\tfunction _headerBorderWithState(grid, helper, context) {\n\t\tconst { col, row } = context;\n\t\tconst sel = grid.selection.select;\n\t\tif (sel.row >= grid[_].headerMap.rowCount) {\n\t\t\t//\n\t\t\thelper.borderWithState(context);\n\t\t\treturn;\n\t\t}\n\n\t\tconst { id } = grid[_].headerMap.getCell(col, row);\n\n\t\tconst rect = context.getRect();\n\t\tconst option = {};\n\n\t\tconst { id: selId } = grid[_].headerMap.getCell(sel.col, sel.row);\n\t\t//\n\t\tif (selId === id) {\n\t\t\toption.borderColor = helper.theme.hiliteBorderColor;\n\t\t\toption.lineWidth = 2;\n\t\t\thelper.border(context, option);\n\t\t} else {\n\t\t\toption.lineWidth = 1;\n\t\t\t// header color\n\t\t\tconst isFrozenCell = grid.isFrozenCell(col, row);\n\t\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\t\toption.borderColor = helper.theme.frozenRowsBorderColor;\n\t\t\t}\n\t\t\thelper.border(context, option);\n\n\t\t\t//\n\t\t\tif (col > 0 && grid[_].headerMap.getCell(col - 1, row).id === selId) {\n\t\t\t\t//\n\t\t\t\thelper.drawBorderWithClip(context, ctx => {\n\t\t\t\t\tconst borderColors = helper.toBoxArray(helper.getColor(helper.theme.hiliteBorderColor, sel.col, sel.row, ctx));\n\t\t\t\t\tif (borderColors[1]) {\n\t\t\t\t\t\tctx.lineWidth = 1;\n\t\t\t\t\t\tctx.strokeStyle = borderColors[1];\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tctx.moveTo(rect.left - 0.5, rect.top);\n\t\t\t\t\t\tctx.lineTo(rect.left - 0.5, rect.bottom);\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else if (row > 0 && grid[_].headerMap.getCell(col, row - 1).id === selId) {\n\t\t\t\t//\n\t\t\t\thelper.drawBorderWithClip(context, ctx => {\n\t\t\t\t\tconst borderColors = helper.toBoxArray(helper.getColor(helper.theme.hiliteBorderColor, sel.col, sel.row, ctx));\n\t\t\t\t\tif (borderColors[0]) {\n\t\t\t\t\t\tctx.lineWidth = 1;\n\t\t\t\t\t\tctx.strokeStyle = borderColors[0];\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tctx.moveTo(rect.left, rect.top - 0.5);\n\t\t\t\t\t\tctx.lineTo(rect.right, rect.top - 0.5);\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\tfunction _refreshHeader(grid) {\n\t\tif (grid[_].headerEvents) {\n\t\t\tgrid[_].headerEvents.forEach(id => grid.unlisten(id));\n\t\t}\n\t\tgrid[_].headerMap = new HeaderMap(grid[_].header);\n\t\tgrid[_].headerEvents = [];\n\t\tgrid[_].headerMap.headerObjects.forEach(cell => {\n\t\t\tconst ids = cell.headerType.bindGridEvent(grid);\n\t\t\tgrid[_].headerEvents.push(...ids);\n\t\t\tif (cell.style) {\n\t\t\t\tif (cell.style instanceof HeaderBaseStyle) {\n\t\t\t\t\tconst id = cell.style.listen(HeaderBaseStyle.EVENT_TYPE.CHANGE_STYLE, () => {\n\t\t\t\t\t\tgrid.invalidate();\n\t\t\t\t\t});\n\t\t\t\t\tgrid[_].headerEvents.push(id);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tgrid[_].headerMap.columns.forEach((col, index) => {\n\t\t\tif (col.action) {\n\t\t\t\tconst ids = col.action.bindGridEvent(grid, index, {\n\t\t\t\t\tisTarget(col, row) {\n\t\t\t\t\t\treturn index === col && grid.frozenRowCount <= row;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tgrid[_].headerEvents.push(...ids);\n\t\t\t}\n\t\t\tif (col.columnType) {\n\t\t\t\tconst ids = col.columnType.bindGridEvent(grid, index, {\n\t\t\t\t\tisTarget(col, row) {\n\t\t\t\t\t\treturn index === col && grid.frozenRowCount <= row;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tgrid[_].headerEvents.push(...ids);\n\t\t\t}\n\t\t\tif (col.style) {\n\t\t\t\tif (col.style instanceof BaseStyle) {\n\t\t\t\t\tconst id = col.style.listen(columns.style.EVENT_TYPE.CHANGE_STYLE, () => {\n\t\t\t\t\t\tgrid.invalidate();\n\t\t\t\t\t});\n\t\t\t\t\tgrid[_].headerEvents.push(id);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tgrid.colCount = grid[_].headerMap.columns.length;\n\t\t_refreshRowCount(grid);\n\t\tgrid.frozenRowCount = grid[_].headerMap.rowCount;\n\t\tfor (let col = 0; col < grid[_].headerMap.columns.length; col++) {\n\t\t\tconst column = grid[_].headerMap.columns[col];\n\t\t\tconst { width, minWidth, maxWidth } = column;\n\t\t\tif (width && (width > 0 || typeof width === 'string')) {\n\t\t\t\tgrid.setColWidth(col, width);\n\t\t\t}\n\t\t\tif (minWidth && (minWidth > 0 || typeof minWidth === 'string')) {\n\t\t\t\tgrid.setMinColWidth(col, minWidth);\n\t\t\t}\n\t\t\tif (maxWidth && (maxWidth > 0 || typeof maxWidth === 'string')) {\n\t\t\t\tgrid.setMaxColWidth(col, maxWidth);\n\t\t\t}\n\t\t}\n\t\tconst isArrayHeaderRowHeight = __webpack_provided_Array_dot_isArray(grid[_].headerRowHeight);\n\t\tfor (let row = 0; row < grid[_].headerMap.rowCount; row++) {\n\t\t\tconst height = isArrayHeaderRowHeight ? grid[_].headerRowHeight[row] : grid[_].headerRowHeight;\n\t\t\tif (height && height > 0) {\n\t\t\t\tgrid.setRowHeight(row, height);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction _refreshRowCount(grid) {\n\t\tgrid.rowCount = grid[_].dataSource.length + grid[_].headerMap.rowCount;\n\t}\n\tfunction _tryWithUpdateDataSource(grid, fn) {\n\t\tif (grid[_].dataSourceEventIds) {\n\t\t\tgrid[_].dataSourceEventIds.forEach(id => grid[_].handler.off(id));\n\t\t}\n\n\t\tfn(grid);\n\n\t\tgrid[_].dataSourceEventIds = [grid[_].handler.on(grid[_].dataSource, DataSource.EVENT_TYPE.UPDATED_LENGTH, () => {\n\t\t\t_refreshRowCount(grid);\n\t\t\tgrid.invalidate();\n\t\t}), grid[_].handler.on(grid[_].dataSource, DataSource.EVENT_TYPE.UPDATED_ORDER, () => {\n\t\t\tgrid.invalidate();\n\t\t})];\n\t}\n\tfunction _setRecords(grid, records = []) {\n\t\t_tryWithUpdateDataSource(grid, () => {\n\t\t\tgrid[_].records = records;\n\t\t\tgrid[_].dataSource = CachedDataSource.ofArray(grid[_].records);\n\t\t});\n\t}\n\tfunction _setDataSource(grid, dataSource) {\n\t\t_tryWithUpdateDataSource(grid, () => {\n\t\t\tif (dataSource) {\n\t\t\t\tif (dataSource instanceof DataSource) {\n\t\t\t\t\tgrid[_].dataSource = dataSource;\n\t\t\t\t} else {\n\t\t\t\t\tgrid[_].dataSource = new CachedDataSource(dataSource);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tgrid[_].dataSource = DataSource.EMPTY;\n\t\t\t}\n\t\t\tgrid[_].records = null;\n\t\t});\n\t}\n\n\tfunction _getRowRecordIndex(grid, row) {\n\t\tif (row < grid[_].headerMap.rowCount) {\n\t\t\treturn undefined;\n\t\t} else {\n\t\t\treturn row - grid[_].headerMap.rowCount;\n\t\t}\n\t}\n\t//end private methods\n\t//\n\t//\n\t//\n\n\tclass HeaderMap {\n\t\tconstructor(header) {\n\t\t\tthis._columns = [];\n\t\t\tthis._headerCells = [];\n\t\t\tthis._headerObjects = [];\n\n\t\t\tthis._addHeaders(0, header, []);\n\t\t\tthis._setupHeaderType();\n\t\t}\n\t\tget columns() {\n\t\t\treturn this._columns;\n\t\t}\n\t\tget rowCount() {\n\t\t\treturn this._headerCells.length;\n\t\t}\n\t\tget headerObjects() {\n\t\t\treturn this._headerObjects;\n\t\t}\n\t\tgetCell(col, row) {\n\t\t\treturn this._headerCells[row][col];\n\t\t}\n\t\tgetHeaderCellRangeById(id) {\n\t\t\tfor (let r = 0; r < this.rowCount; r++) {\n\t\t\t\tfor (let c = 0; c < this.columns.length; c++) {\n\t\t\t\t\tif (id === this.getCell(c, r).id) {\n\t\t\t\t\t\treturn this.getHeaderCellRange(c, r);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn undefined;\n\t\t}\n\t\tgetHeaderCellRange(col, row) {\n\t\t\tconst result = {\n\t\t\t\tstartCol: col,\n\t\t\t\tstartRow: row,\n\t\t\t\tendCol: col,\n\t\t\t\tendRow: row,\n\t\t\t\tisCellInRange(col, row) {\n\t\t\t\t\treturn this.startCol <= col && col <= this.endCol && this.startRow <= row && row <= this.endRow;\n\t\t\t\t}\n\t\t\t};\n\t\t\tconst { id } = this.getCell(col, row);\n\t\t\tfor (let c = col - 1; c >= 0; c--) {\n\t\t\t\tif (id !== this.getCell(c, row).id) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tresult.startCol = c;\n\t\t\t}\n\t\t\tfor (let c = col + 1; c < this.columns.length; c++) {\n\t\t\t\tif (id !== this.getCell(c, row).id) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tresult.endCol = c;\n\t\t\t}\n\t\t\tfor (let r = row - 1; r >= 0; r--) {\n\t\t\t\tif (id !== this.getCell(col, r).id) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tresult.startRow = r;\n\t\t\t}\n\t\t\tfor (let r = row + 1; r < this.rowCount; r++) {\n\t\t\t\tif (id !== this.getCell(col, r).id) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tresult.endRow = r;\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t\t_addHeaders(row, header, roots) {\n\t\t\tconst rowCells = this._headerCells[row] || this._newRow(row);\n\t\t\theader.forEach(hd => {\n\t\t\t\tconst col = this._columns.length;\n\t\t\t\tconst cell = {\n\t\t\t\t\tid: headerId++,\n\t\t\t\t\tcaption: hd.caption,\n\t\t\t\t\tstyle: hd.headerStyle,\n\t\t\t\t\tsort: hd.sort\n\t\t\t\t};\n\t\t\t\tthis._headerObjects.push(cell);\n\t\t\t\trowCells[col] = cell;\n\t\t\t\tfor (let r = row - 1; r >= 0; r--) {\n\t\t\t\t\tthis._headerCells[r][col] = roots[r];\n\t\t\t\t}\n\t\t\t\tif (hd.columns) {\n\t\t\t\t\tthis._addHeaders(row + 1, hd.columns, [...roots, cell]);\n\t\t\t\t} else {\n\t\t\t\t\tthis._columns.push({\n\t\t\t\t\t\twidth: hd.width,\n\t\t\t\t\t\tminWidth: hd.minWidth,\n\t\t\t\t\t\tmaxWidth: hd.maxWidth,\n\t\t\t\t\t\tfield: hd.field,\n\t\t\t\t\t\ticon: hd.icon,\n\t\t\t\t\t\tmessage: hd.message,\n\t\t\t\t\t\tcolumnType: columns.type.of(hd.columnType),\n\t\t\t\t\t\taction: columns.action.of(hd.action),\n\t\t\t\t\t\tstyle: hd.style,\n\t\t\t\t\t\tdefine: hd\n\t\t\t\t\t});\n\t\t\t\t\tfor (let r = row + 1; r < this._headerCells.length; r++) {\n\t\t\t\t\t\tthis._headerCells[r][col] = cell;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t_setupHeaderType() {\n\t\t\tthis._headerObjects.forEach(cell => {\n\t\t\t\tcell.range = this.getHeaderCellRangeById(cell.id);\n\t\t\t\tcell.headerType = headerType.create(cell);\n\t\t\t});\n\t\t}\n\t\t_newRow(row) {\n\t\t\tconst newRow = this._headerCells[row] = [];\n\t\t\tif (!this._columns.length) {\n\t\t\t\treturn newRow;\n\t\t\t}\n\t\t\tconst prev = this._headerCells[row - 1];\n\t\t\tfor (let col = 0; col < prev.length; col++) {\n\t\t\t\tnewRow[col] = prev[col];\n\t\t\t}\n\t\t\treturn newRow;\n\t\t}\n\t}\n\n\tfunction adjustListGridOption(options) {\n\t\tif (options) {\n\t\t\tdelete options.frozenRowCount;\n\t\t\tdelete options.colCount;\n\t\t\tdelete options.rowCount;\n\t\t}\n\t\treturn options;\n\t}\n\n\t/**\r\n  * ListGrid\r\n  * @classdesc cheetahGrid.ListGrid\r\n  * @extends cheetahGrid.core.DrawGrid\r\n  * @memberof cheetahGrid\r\n  */\n\tclass ListGrid extends DrawGrid {\n\t\tstatic get EVENT_TYPE() {\n\t\t\treturn EVENT_TYPE;\n\t\t}\n\t\t/**\r\n   * constructor\r\n   *\r\n   * <pre>\r\n   * Constructor options\r\n   * -----\r\n   * header: see header property\r\n   * records {array}: records data\r\n   * dataSource {DataSource}: records data source\r\n   * frozenColCount {number}: default 0\r\n   * defaultRowHeight {number}: default grid row height. default 40\r\n   * defaultColWidth {number}: default grid col width. default 80\r\n   * borderColor: border color\r\n   * parentElement {Element}: canvas parentElement\r\n   * theme {object}: theme\r\n   * -----\r\n   * </pre>\r\n   *\r\n   * @constructor\r\n   * @param  {Object} options Constructor options\r\n   */\n\t\tconstructor(options = {}) {\n\t\t\tsuper(adjustListGridOption(options));\n\t\t\tthis[_].header = options.header || [];\n\t\t\tthis[_].headerRowHeight = options.headerRowHeight || [];\n\t\t\tif (options.dataSource) {\n\t\t\t\t_setDataSource(this, options.dataSource);\n\t\t\t} else {\n\t\t\t\t_setRecords(this, options.records);\n\t\t\t}\n\t\t\t_refreshHeader(this);\n\t\t\tthis[_].sortState = {\n\t\t\t\tcol: -1,\n\t\t\t\torder: undefined\n\t\t\t};\n\t\t\tthis[_].gridCanvasHelper = new GridCanvasHelper(this);\n\t\t\tthis[_].theme = themes.of(options.theme);\n\t\t\tthis[_].messageHandler = new MessageHandler(this, (col, row) => _getCellMessage(this, col, row));\n\t\t\tthis.invalidate();\n\t\t\tthis[_].handler.on(window, 'resize', () => {\n\t\t\t\tthis.updateSize();\n\t\t\t\tthis.updateScroll();\n\t\t\t\tthis.invalidate();\n\t\t\t});\n\t\t}\n\t\tdispose() {\n\t\t\tthis[_].messageHandler.dispose();\n\t\t\tsuper.dispose();\n\t\t}\n\t\t/**\r\n   * header define\r\n   * @type {Array}\r\n   */\n\t\tget header() {\n\t\t\treturn this[_].header;\n\t\t}\n\t\t/**\r\n   * header define\r\n   * <pre>\r\n   * column options\r\n   * -----\r\n   * caption: header caption\r\n   * field: field name\r\n   * width: column width\r\n   * minWidth: column min width\r\n   * maxWidth: column max width\r\n   * icon: icon name\r\n   * message: message key name\r\n   * columnType: ColumnType\r\n   * action: ColumnAction\r\n   * style: ColumnStyle\r\n   * sort: define sort setting\r\n   * -----\r\n   *\r\n   * multiline header\r\n   * -----\r\n   * caption: header caption\r\n   * columns: columns define\r\n   * -----\r\n   * </pre>\r\n   *\r\n   * @type {Array}\r\n   */\n\t\tset header(header) {\n\t\t\tthis[_].header = header;\n\t\t\t_refreshHeader(this);\n\t\t}\n\t\tget records() {\n\t\t\treturn this[_].records;\n\t\t}\n\t\tset records(records) {\n\t\t\t_setRecords(this, records);\n\t\t\t_refreshRowCount(this);\n\t\t\tthis.invalidate();\n\t\t}\n\t\tget dataSource() {\n\t\t\treturn this[_].dataSource;\n\t\t}\n\t\tset dataSource(dataSource) {\n\t\t\t_setDataSource(this, dataSource);\n\t\t\t_refreshRowCount(this);\n\t\t\tthis.invalidate();\n\t\t}\n\t\tget theme() {\n\t\t\treturn this[_].theme;\n\t\t}\n\t\tset theme(theme) {\n\t\t\tthis[_].theme = themes.of(theme);\n\t\t\tthis.invalidate();\n\t\t}\n\t\tget font() {\n\t\t\treturn super.font || this[_].gridCanvasHelper.theme.font;\n\t\t}\n\t\tset font(font) {\n\t\t\tsuper.font = font;\n\t\t}\n\t\tget underlayBackgroundColor() {\n\t\t\treturn super.underlayBackgroundColor || this[_].gridCanvasHelper.theme.underlayBackgroundColor;\n\t\t}\n\t\tset underlayBackgroundColor(underlayBackgroundColor) {\n\t\t\tsuper.underlayBackgroundColor = underlayBackgroundColor;\n\t\t}\n\t\tget sortState() {\n\t\t\treturn this[_].sortState;\n\t\t}\n\t\tset sortState(sortState) {\n\t\t\tthis[_].sortState = sortState;\n\t\t}\n\t\tgetField(col) {\n\t\t\treturn this[_].headerMap.columns[col].field;\n\t\t}\n\t\tgetRowRecord(row) {\n\t\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t\treturn undefined;\n\t\t\t} else {\n\t\t\t\treturn this[_].dataSource.get(_getRowRecordIndex(this, row));\n\t\t\t}\n\t\t}\n\t\tgetGridCanvasHelper() {\n\t\t\treturn this[_].gridCanvasHelper;\n\t\t}\n\t\tgetCopyCellValue(col, row) {\n\t\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t\tconst { startCol, startRow } = _getHeaderCellRange(this, col, row);\n\t\t\t\tif (startCol !== col || startRow !== row) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn _getCellValue(this, col, row);\n\t\t}\n\t\tonDrawCell(col, row, context) {\n\t\t\tconst column = this[_].headerMap.columns[col];\n\n\t\t\tlet draw;\n\t\t\tlet style;\n\t\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t\tconst hd = this[_].headerMap.getCell(col, row);\n\t\t\t\tdraw = hd.headerType.onDrawCell;\n\t\t\t\t({ style } = hd);\n\t\t\t\t_updateRect(this, col, row, context);\n\t\t\t} else {\n\t\t\t\tdraw = column.columnType.onDrawCell;\n\t\t\t\t({ style } = column);\n\t\t\t}\n\t\t\tconst cellValue = _getCellValue(this, col, row);\n\t\t\treturn _onDrawValue(this, cellValue, context, { col, row }, style, draw);\n\t\t}\n\t\tdoGetCellValue(col, row, valueCallback) {\n\t\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t\t// nop\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tconst value = _getCellValue(this, col, row);\n\t\t\t\tif (isPromise(value)) {\n\t\t\t\t\t//\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tvalueCallback(value);\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\tdoChangeValue(col, row, changeValueCallback) {\n\t\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t\t// nop\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tconst before = _getCellValue(this, col, row);\n\t\t\t\tif (isPromise(before)) {\n\t\t\t\t\t//\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tconst after = changeValueCallback(before);\n\t\t\t\tif (after === undefined) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn then(_setCellValue(this, col, row, after), ret => {\n\t\t\t\t\tif (ret) {\n\t\t\t\t\t\tconst { field } = this[_].headerMap.columns[col];\n\t\t\t\t\t\tconst self = this;\n\t\t\t\t\t\tthis.fireListeners(EVENT_TYPE.CHANGED_VALUE, {\n\t\t\t\t\t\t\tcol,\n\t\t\t\t\t\t\trow,\n\t\t\t\t\t\t\tget record() {\n\t\t\t\t\t\t\t\treturn self.getRowRecord(row);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfield,\n\t\t\t\t\t\t\tvalue: after\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn ret;\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tbindEventsInternal() {\n\t\t\tthis.listen(EVENT_TYPE.SELECTED_CELL, e => {\n\t\t\t\tif (e.row < this[_].headerMap.rowCount) {\n\t\t\t\t\tconst { startCol, endCol, startRow, endRow } = _getHeaderCellRange(this, e.col, e.row);\n\t\t\t\t\tif (startCol !== endCol || startRow !== endRow) {\n\t\t\t\t\t\tthis.invalidateGridRect(startCol, startRow, endCol, endRow);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tgetMoveLeftColByKeyDownInternal({ col, row }) {\n\t\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t\tconst { startCol } = _getHeaderCellRange(this, col, row);\n\t\t\t\tcol = startCol;\n\t\t\t}\n\t\t\treturn super.getMoveLeftColByKeyDownInternal({ col, row });\n\t\t}\n\t\tgetMoveRightColByKeyDownInternal({ col, row }) {\n\t\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t\tconst { endCol } = _getHeaderCellRange(this, col, row);\n\t\t\t\tcol = endCol;\n\t\t\t}\n\t\t\treturn super.getMoveRightColByKeyDownInternal({ col, row });\n\t\t}\n\t\tgetMoveUpRowByKeyDownInternal({ col, row }) {\n\t\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t\tconst { startRow } = _getHeaderCellRange(this, col, row);\n\t\t\t\trow = startRow;\n\t\t\t}\n\t\t\treturn super.getMoveUpRowByKeyDownInternal({ col, row });\n\t\t}\n\t\tgetMoveDownRowByKeyDownInternal({ col, row }) {\n\t\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t\tconst { endRow } = _getHeaderCellRange(this, col, row);\n\t\t\t\trow = endRow;\n\t\t\t}\n\t\t\treturn super.getMoveDownRowByKeyDownInternal({ col, row });\n\t\t}\n\t\tgetOffsetInvalidateCells() {\n\t\t\treturn 1;\n\t\t}\n\t\tgetColumnIndexByField(field) {\n\t\t\tfor (const columnIndex in this[_].headerMap.columns) {\n\t\t\t\tif (this[_].headerMap.columns[columnIndex].field === field) {\n\t\t\t\t\treturn columnIndex - 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t\tfocusGridCell(field, index) {\n\t\t\tconst {\n\t\t\t\tstart: { col: startCol, row: startRow },\n\t\t\t\tend: { col: endCol, row: endRow }\n\t\t\t} = this.selection.range;\n\n\t\t\tconst newCol = this.getColumnIndexByField(field);\n\t\t\tconst newRow = index + this[_].headerMap.rowCount;\n\t\t\tthis.focusCell(newCol, newRow);\n\t\t\tthis.selection.select = {\n\t\t\t\tcol: newCol,\n\t\t\t\trow: newRow\n\t\t\t};\n\t\t\tthis.invalidateGridRect(startCol, startRow, endCol, endRow);\n\t\t\tthis.invalidateCell(newCol, newRow);\n\t\t}\n\t\tmakeVisibleGridCell(field, index) {\n\t\t\tthis.makeVisibleCell(this.getColumnIndexByField(field), index + this[_].headerMap.rowCount);\n\t\t}\n\t}\n\tmodule.exports = ListGrid;\n}\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 96 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst Inline = __webpack_require__(12);\nconst InlineIcon = __webpack_require__(97);\nconst InlineImage = __webpack_require__(50);\nconst InlineSvg = __webpack_require__(100);\nconst InlineDrawer = __webpack_require__(101);\nconst InlinePath2D = __webpack_require__(102);\nconst { isDef } = __webpack_require__(0);\nconst { calcStartPosition } = __webpack_require__(9);\nconst icons = __webpack_require__(51);\nconst path2DManager = __webpack_require__(24);\n\nfunction drawRegisteredIcon(ctx, icon, drawWidth, drawHeight, left, top, width, height, {\n\toffset = 2,\n\tpadding\n} = {}) {\n\tconst rect = {\n\t\tleft,\n\t\ttop,\n\t\twidth,\n\t\theight,\n\t\tright: left + width,\n\t\tbottom: top + height\n\t};\n\tctx.save();\n\ttry {\n\t\tctx.beginPath();\n\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\n\t\t//clip\n\t\tctx.clip();\n\n\t\t//\n\t\tconst pos = calcStartPosition(ctx, rect, drawWidth, drawHeight, {\n\t\t\toffset,\n\t\t\tpadding\n\t\t});\n\t\tpath2DManager.fill(icon, ctx, pos.x, pos.y, drawWidth, drawHeight);\n\t} finally {\n\t\tctx.restore();\n\t}\n}\n\nmodule.exports = {\n\ticonOf(icon) {\n\t\tif (icon instanceof Inline) {\n\t\t\treturn icon;\n\t\t}\n\t\tif (!icon) {\n\t\t\treturn null;\n\t\t}\n\t\tif (icon.font && icon.content) {\n\t\t\treturn new InlineIcon(icon);\n\t\t}\n\t\tif (icon.src) {\n\t\t\treturn new InlineImage({\n\t\t\t\tsrc: icon.src,\n\t\t\t\twidth: icon.width,\n\t\t\t\theight: icon.width\n\t\t\t});\n\t\t}\n\t\tif (icon.svg) {\n\t\t\treturn new InlineSvg({\n\t\t\t\tsvg: icon.svg,\n\t\t\t\twidth: icon.width,\n\t\t\t\theight: icon.width\n\t\t\t});\n\t\t}\n\t\tif (icon.path) {\n\t\t\treturn new InlinePath2D({\n\t\t\t\tpath: icon.path,\n\t\t\t\twidth: icon.width,\n\t\t\t\theight: icon.width,\n\t\t\t\tcolor: icon.color\n\t\t\t});\n\t\t}\n\t\tconst regedIcons = icons.get();\n\t\tif (icon.name && regedIcons[icon.name]) {\n\t\t\tconst regedIcon = regedIcons[icon.name];\n\t\t\tconst width = icon.width || Math.max(regedIcon.width, regedIcon.height);\n\t\t\treturn new InlineDrawer({\n\t\t\t\tdraw({\n\t\t\t\t\tctx,\n\t\t\t\t\tcanvashelper,\n\t\t\t\t\trect,\n\t\t\t\t\toffset,\n\t\t\t\t\toffsetLeft,\n\t\t\t\t\toffsetRight,\n\t\t\t\t\toffsetTop,\n\t\t\t\t\toffsetBottom\n\t\t\t\t}) {\n\t\t\t\t\tdrawRegisteredIcon(ctx, regedIcon, width, width, rect.left, rect.top, rect.width, rect.height, {\n\t\t\t\t\t\toffset: offset + 1,\n\t\t\t\t\t\tpadding: {\n\t\t\t\t\t\t\tleft: offsetLeft,\n\t\t\t\t\t\t\tright: offsetRight,\n\t\t\t\t\t\t\ttop: offsetTop,\n\t\t\t\t\t\t\tbottom: offsetBottom\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\twidth,\n\t\t\t\theight: width,\n\t\t\t\tcolor: icon.color\n\t\t\t});\n\t\t}\n\t\treturn new InlineIcon(icon);\n\t},\n\tof(content) {\n\t\tif (!isDef(content)) {\n\t\t\treturn null;\n\t\t}\n\t\tif (content instanceof Inline) {\n\t\t\treturn content;\n\t\t}\n\t\treturn new Inline(content);\n\t},\n\tbuildInlines(icons, inline) {\n\t\tconst result = [];\n\t\tif (icons) {\n\t\t\tresult.push(...icons.map(icon => this.iconOf(icon)).filter(e => !!e));\n\t\t}\n\t\tif (__webpack_provided_Array_dot_isArray(inline) && inline.filter(il => il instanceof Inline).length) {\n\t\t\tresult.push(...inline.map(il => this.of(il)).filter(e => !!e));\n\t\t} else {\n\t\t\tconst il = this.of(inline);\n\t\t\tif (il) {\n\t\t\t\tresult.push(il);\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 97 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Inline = __webpack_require__(12);\nconst fonts = __webpack_require__(49);\n\nclass InlineIcon extends Inline {\n\tconstructor(icon) {\n\t\tsuper();\n\t\tthis._icon = icon || {};\n\t}\n\twidth({ ctx }) {\n\t\tconst icon = this._icon;\n\t\tif (icon.width) {\n\t\t\treturn icon.width;\n\t\t}\n\t\tif (icon.font && fonts.check(icon.font, icon.content)) {\n\t\t\tctx.save();\n\t\t\ttry {\n\t\t\t\tctx.font = icon.font || ctx.font;\n\t\t\t\treturn ctx.measureText(icon.content).width;\n\t\t\t} finally {\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\tfont() {\n\t\treturn this._icon.font;\n\t}\n\tcolor() {\n\t\treturn this._icon.color;\n\t}\n\tcanDraw() {\n\t\tconst icon = this._icon;\n\t\treturn icon.font ? fonts.check(icon.font, icon.content) : true;\n\t}\n\tonReady(callback) {\n\t\tconst icon = this._icon;\n\t\tif (icon.font && !fonts.check(icon.font, icon.content)) {\n\t\t\tfonts.load(icon.font, icon.content, callback);\n\t\t}\n\t}\n\tdraw({\n\t\tctx,\n\t\tcanvashelper,\n\t\trect,\n\t\toffset,\n\t\toffsetLeft,\n\t\toffsetRight,\n\t\toffsetTop,\n\t\toffsetBottom\n\t}) {\n\t\tconst icon = this._icon;\n\t\tif (icon.content) {\n\t\t\tcanvashelper.fillTextRect(ctx, icon.content, rect.left, rect.top, rect.width, rect.height, {\n\t\t\t\toffset: offset + 1,\n\t\t\t\tpadding: {\n\t\t\t\t\tleft: offsetLeft,\n\t\t\t\t\tright: offsetRight,\n\t\t\t\t\ttop: offsetTop,\n\t\t\t\t\tbottom: offsetBottom\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}\n\nmodule.exports = InlineIcon;\n\n/***/ }),\n/* 98 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n//see https://github.com/typekit/webfontloader\n\n//http://defghi1977.html.xdomain.jp/tech/canvasMemo/canvasMemo.htm\n\nconst FontRuler = __webpack_require__(99);\n\nconst LastResortFonts = {\n\tSERIF: 'serif',\n\tSANS_SERIF: 'sans-serif'\n};\n\nconst watchRunners = {};\n\nclass FontWatchRunner {\n\tstatic load(font, testStr, activeCallback, inactiveCallback) {\n\t\tconst c = watchRunners[font] || (watchRunners[font] = {});\n\t\ttestStr = testStr + '';\n\t\tlet runner;\n\t\tif (c[testStr]) {\n\t\t\trunner = c[testStr];\n\t\t} else {\n\t\t\trunner = c[testStr] = new FontWatchRunner(font, testStr);\n\t\t}\n\t\trunner.then(activeCallback, inactiveCallback);\n\t}\n\tconstructor(font, testStr) {\n\t\tthis.activeCallbacks = [];\n\t\tthis.inactiveCallbacks = [];\n\t\tthis.status = null;\n\t\tthis.lastResortWidths_ = {};\n\n\t\tthis.fontRulerA_ = new FontRuler(font + ',' + LastResortFonts.SERIF, testStr);\n\t\tthis.fontRulerB_ = new FontRuler(font + ',' + LastResortFonts.SANS_SERIF, testStr);\n\t\tconst lastResortRulerA = new FontRuler('4px ' + LastResortFonts.SERIF, testStr);\n\t\tconst lastResortRulerB = new FontRuler('4px ' + LastResortFonts.SANS_SERIF, testStr);\n\n\t\t//start\n\t\tthis.lastResortWidths_[LastResortFonts.SERIF] = lastResortRulerA.getWidth();\n\t\tthis.lastResortWidths_[LastResortFonts.SANS_SERIF] = lastResortRulerB.getWidth();\n\n\t\tlastResortRulerA.remove();\n\t\tlastResortRulerB.remove();\n\n\t\tthis.started_ = Date.now();\n\n\t\tthis.check_();\n\t}\n\tthen(activeCallback, inactiveCallback) {\n\t\tif (this.status) {\n\t\t\tif (this.status !== 'ng') {\n\t\t\t\tactiveCallback();\n\t\t\t} else {\n\t\t\t\tinactiveCallback();\n\t\t\t}\n\t\t} else {\n\t\t\tthis.activeCallbacks.push(activeCallback);\n\t\t\tthis.inactiveCallbacks.push(inactiveCallback);\n\t\t}\n\t}\n\tcheck_() {\n\t\tconst widthA = this.fontRulerA_.getWidth();\n\t\tconst widthB = this.fontRulerB_.getWidth();\n\n\t\tif (this.isFallbackFont_(widthA, widthB) || this.isLastResortFont_(widthA, widthB)) {\n\t\t\tif (Date.now() - this.started_ >= 3000) {\n\t\t\t\t// timeout\n\t\t\t\tif (this.isLastResortFont_(widthA, widthB)) {\n\t\t\t\t\tthis.finish_(this.activeCallbacks);\n\t\t\t\t\tthis.status = 'ok';\n\t\t\t\t} else {\n\t\t\t\t\tthis.finish_(this.inactiveCallbacks);\n\t\t\t\t\tthis.status = 'ng';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.check_();\n\t\t\t\t}, 50);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.finish_(this.activeCallbacks);\n\t\t\tthis.status = 'ok';\n\t\t}\n\t}\n\tisFallbackFont_(a, b) {\n\t\treturn this.widthMatches_(a, LastResortFonts.SERIF) && this.widthMatches_(b, LastResortFonts.SANS_SERIF);\n\t}\n\twidthsMatchLastResortWidths_(a, b) {\n\t\tfor (const font in LastResortFonts) {\n\t\t\tif (LastResortFonts.hasOwnProperty(font)) {\n\t\t\t\tif (this.widthMatches_(a, LastResortFonts[font]) && this.widthMatches_(b, LastResortFonts[font])) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\twidthMatches_(width, lastResortFont) {\n\t\treturn width === this.lastResortWidths_[lastResortFont];\n\t}\n\tisLastResortFont_(a, b) {\n\t\treturn hasWebKitFallbackBug() && this.widthsMatchLastResortWidths_(a, b);\n\t}\n\tfinish_(callbacks) {\n\t\tsetTimeout(() => {\n\t\t\tthis.fontRulerA_.remove();\n\t\t\tthis.fontRulerB_.remove();\n\t\t\tcallbacks.forEach(cb => cb());\n\t\t}, 0);\n\t}\n}\n\nlet HAS_WEBKIT_FALLBACK_BUG = null;\nfunction hasWebKitFallbackBug() {\n\tif (HAS_WEBKIT_FALLBACK_BUG === null) {\n\t\tconst match = /AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent);\n\n\t\tHAS_WEBKIT_FALLBACK_BUG = !!match && (parseInt(match[1], 10) < 536 || parseInt(match[1], 10) === 536 && parseInt(match[2], 10) <= 11);\n\t}\n\treturn HAS_WEBKIT_FALLBACK_BUG;\n}\n\nmodule.exports = FontWatchRunner;\n\n/***/ }),\n/* 99 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n//see https://github.com/typekit/webfontloader\n\nfunction computeStyle(font) {\n\treturn [{\n\t\tdisplay: 'block',\n\t\tposition: 'absolute',\n\t\ttop: '-9999px',\n\t\tleft: '-9999px',\n\t\twidth: 'auto',\n\t\theight: 'auto',\n\t\tmargin: '0',\n\t\tpadding: '0',\n\t\t'white-space': 'nowrap',\n\t\tfont\n\t}, {\n\t\t'font-variant': 'normal',\n\t\t'font-size': '300px',\n\t\t'font-style': 'normal',\n\t\t'font-weight': '400',\n\t\t'line-height': 'normal'\n\t}];\n}\n\nclass FontRuler {\n\tconstructor(font, testStr) {\n\t\tconst e = document.createElement('span');\n\t\te.setAttribute('aria-hidden', 'true');\n\t\te.textContent = testStr || 'BESbswy';\n\n\t\tcomputeStyle(font).forEach(style => {\n\t\t\tfor (const key in style) {\n\t\t\t\te.style[key] = style[key];\n\t\t\t}\n\t\t});\n\t\tdocument.body.appendChild(e);\n\t\tthis.el_ = e;\n\t}\n\tgetWidth() {\n\t\treturn this.el_.offsetWidth;\n\t}\n\tremove() {\n\t\tdocument.body.removeChild(this.el_);\n\t}\n}\n\nmodule.exports = FontRuler;\n\n/***/ }),\n/* 100 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst InlineImage = __webpack_require__(50);\nconst { then } = __webpack_require__(0);\n\nfunction buildSvgDataUrl(svg) {\n\tconst data = typeof svg === 'string' ? svg : new XMLSerializer().serializeToString(svg);\n\tconst url = 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(data); //svgbase64\n\treturn url;\n}\nfunction getSvgElement(svg) {\n\tif (typeof svg === 'string') {\n\t\tconst parser = new DOMParser();\n\t\treturn parser.parseFromString(svg, 'image/svg+xml');\n\t} else {\n\t\treturn svg;\n\t}\n}\n\nclass InlineSvg extends InlineImage {\n\tconstructor({\n\t\tsvg,\n\t\twidth,\n\t\theight,\n\t\timageLeft,\n\t\timageTop,\n\t\timageWidth,\n\t\timageHeight\n\t}) {\n\t\tconst svgElem = then(svg, getSvgElement);\n\t\tconst elmWidth = svgElem.getAttribute ? svgElem.getAttribute('width') : null;\n\t\tconst elmHeight = svgElem.getAttribute ? svgElem.getAttribute('height') : null;\n\t\tsuper({\n\t\t\tsrc: then(svg, buildSvgDataUrl),\n\t\t\twidth: width || elmWidth,\n\t\t\theight: height || elmHeight,\n\t\t\timageWidth: elmWidth,\n\t\t\timageHeight: elmHeight\n\t\t});\n\t}\n}\n\nmodule.exports = InlineSvg;\n\n/***/ }),\n/* 101 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Inline = __webpack_require__(12);\n\nclass InlineDrawer extends Inline {\n\tconstructor({\n\t\tdraw,\n\t\twidth,\n\t\theight,\n\t\tcolor\n\t}) {\n\t\tsuper();\n\n\t\tthis._draw = draw;\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tthis._color = color;\n\t}\n\twidth({ ctx }) {\n\t\treturn this._width;\n\t}\n\tfont() {\n\t\treturn null;\n\t}\n\tcolor() {\n\t\treturn this._color;\n\t}\n\tcanDraw() {\n\t\treturn true;\n\t}\n\tonReady(callback) {}\n\tdraw({\n\t\tctx,\n\t\tcanvashelper,\n\t\trect,\n\t\toffset,\n\t\toffsetLeft,\n\t\toffsetRight,\n\t\toffsetTop,\n\t\toffsetBottom\n\t}) {\n\t\tthis._draw({\n\t\t\tctx,\n\t\t\tcanvashelper,\n\t\t\trect,\n\t\t\toffset,\n\t\t\toffsetLeft,\n\t\t\toffsetRight,\n\t\t\toffsetTop,\n\t\t\toffsetBottom\n\t\t});\n\t}\n}\n\nmodule.exports = InlineDrawer;\n\n/***/ }),\n/* 102 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Inline = __webpack_require__(12);\nconst { calcStartPosition } = __webpack_require__(9);\nconst path2DManager = __webpack_require__(24);\n\nclass InlinePath2D extends Inline {\n\tconstructor({\n\t\tpath,\n\t\twidth,\n\t\theight,\n\t\tcolor\n\t}) {\n\t\tsuper();\n\t\t// IEPath2Dpolyfill\n\t\tthis._path = new path2DManager.Path2D(path);\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tthis._color = color;\n\t}\n\twidth({ ctx }) {\n\t\treturn this._width;\n\t}\n\tfont() {\n\t\treturn null;\n\t}\n\tcolor() {\n\t\treturn this._color;\n\t}\n\tcanDraw() {\n\t\treturn true;\n\t}\n\tonReady(callback) {}\n\tdraw({\n\t\tctx,\n\t\tcanvashelper,\n\t\trect,\n\t\toffset,\n\t\toffsetLeft,\n\t\toffsetRight,\n\t\toffsetTop,\n\t\toffsetBottom\n\t}) {\n\t\toffset++;\n\t\tconst padding = {\n\t\t\tleft: offsetLeft,\n\t\t\tright: offsetRight,\n\t\t\ttop: offsetTop,\n\t\t\tbottom: offsetBottom\n\t\t};\n\t\tctx.save();\n\t\ttry {\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\n\t\t\t//clip\n\t\t\tctx.clip();\n\n\t\t\t//\n\t\t\tconst pos = calcStartPosition(ctx, rect, this._width, this._height, {\n\t\t\t\toffset,\n\t\t\t\tpadding\n\t\t\t});\n\t\t\tctx.translate(pos.x, pos.y);\n\t\t\tctx.fill(this._path);\n\t\t} finally {\n\t\t\tctx.restore();\n\t\t}\n\t}\n}\n\nmodule.exports = InlinePath2D;\n\n/***/ }),\n/* 103 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst PathCommandsParser = __webpack_require__(104);\nconst parser = new PathCommandsParser();\n\nclass Path2D {\n\tconstructor(arg) {\n\t\tthis._ops = [];\n\t\t['closePath', 'moveTo', 'lineTo', 'bezierCurveTo', 'quadraticCurveTo', 'arc', 'rect'].forEach(name => {\n\t\t\tthis[name] = (...args) => {\n\t\t\t\tthis._ops.push({ op: name, args });\n\t\t\t};\n\t\t});\n\t\tif (arg === undefined) {\n\t\t\treturn;\n\t\t}\n\t\tif (typeof arg === 'string') {\n\t\t\ttry {\n\t\t\t\tthis._ops = parser.parse(arg);\n\t\t\t} catch (e) {\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t} else if (arg.hasOwnProperty('_ops')) {\n\t\t\tthis._ops = [...this._ops];\n\t\t} else {\n\t\t\tthrow new Error(`Error: ${typeof arg} is not a valid argument to Path`);\n\t\t}\n\t}\n}\n\nconst CanvasRenderingContext2D = window.CanvasRenderingContext2D;\n\nconst originalFill = CanvasRenderingContext2D.prototype.fill;\n\nCanvasRenderingContext2D.prototype.fill = function (...args) {\n\tif (args[0] instanceof Path2D) {\n\t\tconst path = args[0];\n\t\tthis.beginPath();\n\t\tpath._ops.forEach(op => {\n\t\t\tthis[op.op](...op.args);\n\t\t});\n\t\toriginalFill.apply(this, Array.prototype.slice.call(args, 1));\n\t} else {\n\t\toriginalFill.apply(this, args);\n\t}\n};\n\nmodule.exports = Path2D;\n\n/***/ }),\n/* 104 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst PathCommands = __webpack_require__(105);\n\nfunction pathTokens(d) {\n\tlet idx = 0;\n\treturn {\n\t\tnext() {\n\t\t\tlet s = '';\n\t\t\twhile (d.length > idx) {\n\t\t\t\tconst c = d[idx];\n\t\t\t\tidx++;\n\t\t\t\tif (' ,\\n\\r\\t'.indexOf(c) > -1) {\n\t\t\t\t\tif (s) {\n\t\t\t\t\t\treturn s;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst type = '.+-1234567890'.indexOf(c) > -1 ? 'num' : 'str';\n\t\t\t\t\tif (type === 'str') {\n\t\t\t\t\t\tif (s) {\n\t\t\t\t\t\t\tidx--;\n\t\t\t\t\t\t\treturn s;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn c;\n\t\t\t\t\t}\n\t\t\t\t\tif ('-+'.indexOf(c) > -1) {\n\t\t\t\t\t\tif (s) {\n\t\t\t\t\t\t\tidx--;\n\t\t\t\t\t\t\treturn s;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (c === '.') {\n\t\t\t\t\t\tif (s.indexOf('.') > -1) {\n\t\t\t\t\t\t\tidx--;\n\t\t\t\t\t\t\treturn s;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\ts += c;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn s || null;\n\t\t}\n\t};\n}\n\nfunction command(builder, cmd, argsProvider) {\n\tif (cmd.toUpperCase() === 'M' || cmd.toUpperCase() === 'L' || cmd.toUpperCase() === 'T') {\n\t\tbuilder.command(cmd, argsProvider.next(), argsProvider.next());\n\t\treturn cmd === 'M' ? 'L' : cmd === 'm' ? 'l' : cmd;\n\t} else if (cmd.toUpperCase() === 'H' || cmd.toUpperCase() === 'V') {\n\t\tbuilder.command(cmd, argsProvider.next());\n\t\treturn cmd;\n\t} else if (cmd.toUpperCase() === 'Z') {\n\t\tbuilder.command(cmd);\n\t\treturn cmd;\n\t} else if (cmd.toUpperCase() === 'C') {\n\t\tbuilder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\n\t\treturn cmd;\n\t} else if (cmd.toUpperCase() === 'S' || cmd.toUpperCase() === 'Q') {\n\t\tbuilder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\n\t\treturn cmd;\n\t} else if (cmd.toUpperCase() === 'A') {\n\t\tbuilder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\n\t\treturn cmd;\n\t} else {\n\t\t// https://developer.mozilla.org/ja/docs/Web/SVG/Tutorial/Paths\n\t\tconsole.warn('unsupported:' + cmd);\n\t}\n\treturn null;\n}\n\nconst canvasOperations = window.CanvasRenderingContext2D ? Object.keys(window.CanvasRenderingContext2D.prototype) : ['save', 'restore', 'beginPath', 'closePath', 'moveTo', 'lineTo', 'bezierCurveTo', 'quadraticCurveTo', 'arc', 'arcTo', 'ellipse', 'rect', 'translate', 'rotate', 'scale'];\n\nclass PathCommandsParser {\n\tconstructor() {\n\t\tthis._commands = new PathCommands(this);\n\t\tcanvasOperations.forEach(op => {\n\t\t\tthis[op] = (...args) => {\n\t\t\t\tthis._ops.push({\n\t\t\t\t\top,\n\t\t\t\t\targs\n\t\t\t\t});\n\t\t\t};\n\t\t});\n\t}\n\tcommand(name, ...args) {\n\t\targs = args || [];\n\t\tfor (let i = 0; i < args.length; i++) {\n\t\t\targs[i] = args[i] - 0;\n\t\t}\n\t\tthis._commands[name](...args);\n\t}\n\tparse(d) {\n\t\tconst ops = this._ops = [];\n\t\tconst tokens = pathTokens(d);\n\t\ttry {\n\t\t\tlet cmd;\n\t\t\tlet subsequentCommand;\n\t\t\twhile (cmd = tokens.next()) {\n\t\t\t\tif (!isNaN(cmd - 0)) {\n\t\t\t\t\tlet fst = true;\n\t\t\t\t\tconst argsProvider = {\n\t\t\t\t\t\tnext() {\n\t\t\t\t\t\t\tif (fst) {\n\t\t\t\t\t\t\t\tfst = false;\n\t\t\t\t\t\t\t\treturn cmd;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn tokens.next();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tsubsequentCommand = command(this, subsequentCommand, argsProvider);\n\t\t\t\t} else {\n\t\t\t\t\tsubsequentCommand = command(this, cmd, tokens);\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.log('Error: ' + d);\n\t\t\tthrow e;\n\t\t}\n\t\treturn ops;\n\t}\n}\n\nmodule.exports = PathCommandsParser;\n\n/***/ }),\n/* 105 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction mag(v) {\n\treturn Math.sqrt(Math.pow(v[0], 2) + Math.pow(v[1], 2));\n}\n\nfunction dot(u, v) {\n\treturn u[0] * v[0] + u[1] * v[1];\n}\n\nfunction ratio(u, v) {\n\treturn dot(u, v) / (mag(u) * mag(v));\n}\n\nfunction clamp(value, min, max) {\n\treturn Math.min(Math.max(value, min), max);\n}\n\nfunction angle(u, v) {\n\tlet sign = 1.0;\n\tif (u[0] * v[1] - u[1] * v[0] < 0) {\n\t\tsign = -1.0;\n\t}\n\treturn sign * Math.acos(clamp(ratio(u, v)), -1, 1);\n}\n\nfunction rotClockwise(v, angle) {\n\tconst cost = Math.cos(angle);\n\tconst sint = Math.sin(angle);\n\treturn [cost * v[0] + sint * v[1], -1 * sint * v[0] + cost * v[1]];\n}\n\nfunction rotCounterClockwise(v, angle) {\n\tconst cost = Math.cos(angle);\n\tconst sint = Math.sin(angle);\n\treturn [cost * v[0] - sint * v[1], sint * v[0] + cost * v[1]];\n}\n\nfunction midPoint(u, v) {\n\treturn [(u[0] - v[0]) / 2.0, (u[1] - v[1]) / 2.0];\n}\n\nfunction meanVec(u, v) {\n\treturn [(u[0] + v[0]) / 2.0, (u[1] + v[1]) / 2.0];\n}\n\nfunction pointMul(u, v) {\n\treturn [u[0] * v[0], u[1] * v[1]];\n}\n\nfunction scale(c, v) {\n\treturn [c * v[0], c * v[1]];\n}\n\nfunction sum(u, v) {\n\treturn [u[0] + v[0], u[1] + v[1]];\n}\n// Convert an SVG elliptical arc to a series of canvas commands.\n//\n// x1, y1, x2, y2: start and stop coordinates of the ellipse.\n// rx, ry: radii of the ellipse.\n// phi: rotation of the ellipse.\n// fA: large arc flag.\n// fS: sweep flag.\nfunction ellipseFromEllipticalArc(ctx, x1, y1, rx, ry, phi, fA, fS, x2, y2) {\n\t// Convert from endpoint to center parametrization, as detailed in:\n\t//   http://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\n\tif (rx === 0 || ry === 0) {\n\t\tctx.lineTo(x2, x1);\n\t\treturn;\n\t}\n\tphi = phi * (Math.PI / 180.0);\n\trx = Math.abs(rx);\n\try = Math.abs(ry);\n\tconst xPrime = rotClockwise(midPoint(x1, x2), phi); // F.6.5.1\n\tconst xPrime2 = pointMul(xPrime, xPrime);\n\tlet rx2 = Math.pow(rx, 2);\n\tlet ry2 = Math.pow(ry, 2);\n\n\tconst lambda = Math.sqrt(xPrime2[0] / rx2 + xPrime2[1] / ry2);\n\tif (lambda > 1) {\n\t\trx *= lambda;\n\t\try *= lambda;\n\t\trx2 = Math.pow(rx, 2);\n\t\try2 = Math.pow(ry, 2);\n\t}\n\tlet factor = Math.sqrt(Math.abs(rx2 * ry2 - rx2 * xPrime2[1] - ry2 * xPrime2[0]) / (rx2 * xPrime2[1] + ry2 * xPrime2[0]));\n\tif (fA === fS) {\n\t\tfactor *= -1.0;\n\t}\n\tconst cPrime = scale(factor, [rx * xPrime[1] / ry, -ry * xPrime[0] / rx]); // F.6.5.2\n\tconst c = sum(rotCounterClockwise(cPrime, phi), meanVec(x1, x2)); // F.6.5.3\n\tconst x1UnitVector = [(xPrime[0] - cPrime[0]) / rx, (xPrime[1] - cPrime[1]) / ry];\n\tconst x2UnitVector = [(-1.0 * xPrime[0] - cPrime[0]) / rx, (-1.0 * xPrime[1] - cPrime[1]) / ry];\n\tconst theta = angle([1, 0], x1UnitVector); // F.6.5.5\n\tconst deltaTheta = angle(x1UnitVector, x2UnitVector); // F.6.5.6\n\tconst start = theta;\n\tconst end = theta + deltaTheta;\n\tctx.save();\n\tctx.translate(c[0], c[1]);\n\tctx.rotate(phi);\n\tctx.scale(rx, ry);\n\tctx.arc(0, 0, 1, start, end, 1 - fS);\n\tctx.restore();\n}\n\nclass PathCommands {\n\tconstructor(ctx) {\n\t\tlet lMx;\n\t\tlet lMy;\n\t\tlet lx = 0;\n\t\tlet ly = 0;\n\t\tlet reflected;\n\t\tlet lastCommand = '';\n\t\tfunction makeReflected() {\n\t\t\tif ('CcSsQqTt'.indexOf(lastCommand) < 0) {\n\t\t\t\treturn { x: lx, y: ly };\n\t\t\t}\n\t\t\treturn reflected;\n\t\t}\n\n\t\tthis.M = (px, py) => {\n\t\t\tctx.moveTo(px, py);\n\t\t\tlMx = px;\n\t\t\tlMy = py;\n\t\t\tlx = px;\n\t\t\tly = py;\n\t\t\tlastCommand = 'M';\n\t\t\treturn this;\n\t\t};\n\t\tthis.m = (px, py) => this.M(px + lx, py + ly);\n\t\tthis.L = (px, py) => {\n\t\t\tctx.lineTo(px, py);\n\t\t\tlx = px;\n\t\t\tly = py;\n\t\t\tlastCommand = 'L';\n\t\t\treturn this;\n\t\t};\n\t\tthis.l = (px, py) => this.L(px + lx, py + ly);\n\t\tthis.H = px => this.L(px, ly);\n\t\tthis.h = px => this.H(px + lx);\n\t\tthis.V = py => this.L(lx, py);\n\t\tthis.v = py => this.V(py + ly);\n\t\tthis.Z = () => {\n\t\t\tctx.closePath();\n\t\t\tlx = lMx;\n\t\t\tly = lMy;\n\t\t\tlastCommand = 'Z';\n\t\t\treturn this;\n\t\t};\n\t\tthis.z = () => this.Z();\n\t\t//C x1 y1, x2 y2, x y (or c dx1 dy1, dx2 dy2, dx dy)\n\t\tthis.C = (cp1x, cp1y, cp2x, cp2y, px, py) => {\n\t\t\tctx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, px, py);\n\t\t\tlx = px;\n\t\t\tly = py;\n\t\t\treflected = {\n\t\t\t\tx: 2 * px - cp2x,\n\t\t\t\ty: 2 * py - cp2y\n\t\t\t};\n\t\t\tlastCommand = 'C';\n\t\t\treturn this;\n\t\t};\n\t\tthis.c = (cp1x, cp1y, cp2x, cp2y, px, py) => this.C(cp1x + lx, cp1y + ly, cp2x + lx, cp2y + ly, px + lx, py + ly);\n\t\t//S x2 y2, x y (or s dx2 dy2, dx dy)\n\t\tthis.S = (cpx, cpy, px, py) => {\n\t\t\tconst { x: cp1x, y: cp1y } = makeReflected(lastCommand);\n\t\t\treturn this.C(cp1x, cp1y, cpx, cpy, px, py);\n\t\t};\n\t\tthis.s = (cpx, cpy, px, py) => this.S(cpx + lx, cpy + ly, px + lx, py + ly);\n\t\t//Q x1 y1, x y (or q dx1 dy1, dx dy)\n\t\tthis.Q = (cpx, cpy, px, py) => {\n\t\t\tctx.quadraticCurveTo(cpx, cpy, px, py);\n\t\t\tlx = px;\n\t\t\tly = py;\n\t\t\treflected = {\n\t\t\t\tx: 2 * px - cpx,\n\t\t\t\ty: 2 * py - cpy\n\t\t\t};\n\t\t\tlastCommand = 'Q';\n\t\t\treturn this;\n\t\t};\n\t\tthis.q = (cpx, cpy, px, py) => this.Q(cpx + lx, cpy + ly, px + lx, py + ly);\n\t\t//T x y (or t dx dy)\n\t\tthis.T = (px, py) => {\n\t\t\tconst { x: cpx, y: cpy } = makeReflected();\n\t\t\treturn this.Q(cpx, cpy, px, py);\n\t\t};\n\t\tthis.t = (px, py) => this.T(px + lx, py + ly);\n\t\t//A rx ry x-axis-rotation large-arc-flag sweep-flag x y\n\t\tthis.A = (rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py) => {\n\t\t\tconst x1 = lx;\n\t\t\tconst y1 = ly;\n\n\t\t\tellipseFromEllipticalArc(ctx, x1, y1, rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py);\n\n\t\t\tlx = px;\n\t\t\tly = py;\n\t\t\tlastCommand = 'A';\n\t\t\treturn this;\n\t\t};\n\t\t//a rx ry x-axis-rotation large-arc-flag sweep-flag dx dy\n\t\tthis.a = (rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py) => this.A(rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px + lx, py + ly);\n\t}\n}\n\nmodule.exports = PathCommands;\n\n/***/ }),\n/* 106 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M8 24l2.83 2.83L22 15.66V40h4V15.66l11.17 11.17L40 24 24 8 8 24z\"/></svg>\n\t@ material-design-icons\\navigation\\svg\\production\\ic_arrow_upward_48px.svg\n\t*/\n\td: 'M8 24l2.83 2.83L22 15.66V40h4V15.66l11.17 11.17L40 24 24 8 8 24z',\n\twidth: 48,\n\theight: 48,\n\t\n};\n\n/***/ }),\n/* 107 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path fill=\"#010101\" d=\"M40 24l-2.82-2.82L26 32.34V8h-4v24.34L10.84 21.16 8 24l16 16 16-16z\"/></svg>\n\t@ material-design-icons\\navigation\\svg\\production\\ic_arrow_downward_48px.svg\n\t*/\n\td: 'M40 24l-2.82-2.82L26 32.34V8h-4v24.34L10.84 21.16 8 24l16 16 16-16z',\n\twidth: 48,\n\theight: 48,\n\t\n};\n\n/***/ }),\n/* 108 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z\"/></svg>\n\t@ material-design-icons\\image\\svg\\production\\ic_edit_48px.svg\n\t*/\n\td: 'M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z',\n\twidth: 48,\n\theight: 48,\n\t\n};\n\n/***/ }),\n/* 109 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z\"/></svg>\n\t@ material-design-icons\\content\\svg\\production\\ic_add_48px.svg\n\t*/\n\td: 'M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z',\n\twidth: 48,\n\theight: 48,\n\t\n};\n\n/***/ }),\n/* 110 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z\"/></svg>\n\t@ material-design-icons\\toggle\\svg\\production\\ic_star_24px.svg\n\t*/\n\td: 'M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z',\n\twidth: 24,\n\theight: 24,\n\t\n};\n\n/***/ }),\n/* 111 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\"/></svg>\n\t@ material-design-icons\\toggle\\svg\\production\\ic_star_border_24px.svg\n\t*/\n\td: 'M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z',\n\twidth: 24,\n\theight: 24,\n\t\n};\n\n/***/ }),\n/* 112 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\"/></svg>\n\t@ material-design-icons\\toggle\\svg\\production\\ic_star_half_24px.svg\n\t*/\n\td: 'M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z',\n\twidth: 24,\n\theight: 24,\n\t\n};\n\n/***/ }),\n/* 113 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst Header = __webpack_require__(114);\n\tconst SortHeader = __webpack_require__(116);\n\n\tconst type = {\n\t\tcreate(headerCell) {\n\t\t\tif (headerCell.sort) {\n\t\t\t\treturn new SortHeader(headerCell);\n\t\t\t}\n\t\t\treturn new Header(headerCell);\n\t\t}\n\t};\n\tmodule.exports = type;\n}\n\n/***/ }),\n/* 114 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst styleContents = __webpack_require__(16);\n\tconst { Style } = styleContents;\n\tconst BaseHeader = __webpack_require__(55);\n\n\tclass Header extends BaseHeader {\n\t\tget StyleClass() {\n\t\t\treturn Style;\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, { drawCellBase }) {\n\t\t\tconst {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tcolor,\n\t\t\t\tfont,\n\t\t\t\tbgColor\n\t\t\t} = style;\n\n\t\t\tif (bgColor) {\n\t\t\t\tdrawCellBase({\n\t\t\t\t\tbgColor\n\t\t\t\t});\n\t\t\t}\n\n\t\t\thelper.text(value, context, {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tcolor,\n\t\t\t\tfont\n\t\t\t});\n\t\t}\n\t\tbindGridEvent(grid) {\n\t\t\treturn [];\n\t\t}\n\t}\n\tmodule.exports = Header;\n}\n\n/***/ }),\n/* 115 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst BaseStyle = __webpack_require__(54);\n\tlet defaultStyle;\n\tclass Style extends BaseStyle {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : defaultStyle = new Style();\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(style);\n\t\t\tthis._color = style.color;\n\t\t}\n\t\tget color() {\n\t\t\treturn this._color;\n\t\t}\n\t\tset color(color) {\n\t\t\tthis._color = color;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tclone() {\n\t\t\treturn new Style(this);\n\t\t}\n\t}\n\tmodule.exports = Style;\n}\n\n/***/ }),\n/* 116 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst styleContents = __webpack_require__(16);\n\tconst { Style } = styleContents;\n\tconst BaseHeader = __webpack_require__(55);\n\tconst { isDef } = __webpack_require__(0);\n\tconst { EVENT_TYPE: {\n\t\t\tCLICK_CELL,\n\t\t\tMOUSEOVER_CELL,\n\t\t\tMOUSEOUT_CELL,\n\t\t\tMOUSEMOVE_CELL\n\t\t} } = __webpack_require__(4);\n\n\tclass SortHeader extends BaseHeader {\n\t\tconstructor(headerCell) {\n\t\t\tsuper(headerCell);\n\t\t\tthis._sort = headerCell.sort;\n\t\t\tthis._range = headerCell.range;\n\t\t}\n\t\tget StyleClass() {\n\t\t\treturn Style;\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, { drawCellBase }) {\n\t\t\tconst {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline = 'middle',\n\t\t\t\tcolor,\n\t\t\t\tbgColor,\n\t\t\t\tfont\n\t\t\t} = style;\n\n\t\t\tif (bgColor) {\n\t\t\t\tdrawCellBase({\n\t\t\t\t\tbgColor\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tconst state = grid.sortState;\n\t\t\tlet order = undefined;\n\t\t\tif (this._range.isCellInRange(state.col, this._range.startRow)) {\n\t\t\t\torder = state.order;\n\t\t\t}\n\n\t\t\tconst ctx = context.getContext();\n\t\t\tconst arrowSize = ctx.measureText('').width * 1.2;\n\n\t\t\thelper.text(value, context, {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tcolor,\n\t\t\t\tfont,\n\t\t\t\ticons: [{\n\t\t\t\t\tname: isDef(order) ? order === 'asc' ? 'arrow_downward' : 'arrow_upward' : null,\n\t\t\t\t\twidth: arrowSize,\n\t\t\t\t\tcolor: 'rgba(0, 0, 0, 0.38)'\n\t\t\t\t}]\n\t\t\t});\n\t\t}\n\t\t_executeSort(newState, grid) {\n\t\t\tif (typeof this._sort === 'function') {\n\t\t\t\tthis._sort(newState.order, newState.col, grid);\n\t\t\t} else {\n\t\t\t\tgrid.dataSource.sort(grid.getField(newState.col), newState.order);\n\t\t\t}\n\t\t}\n\t\tbindGridEvent(grid) {\n\t\t\treturn [grid.listen(CLICK_CELL, e => {\n\t\t\t\tif (!this._range.isCellInRange(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst state = grid.sortState;\n\t\t\t\tlet newState;\n\t\t\t\tif (this._range.isCellInRange(state.col, e.row)) {\n\t\t\t\t\tnewState = {\n\t\t\t\t\t\tcol: this._range.startCol,\n\t\t\t\t\t\torder: state.order === 'asc' ? 'desc' : 'asc'\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tnewState = {\n\t\t\t\t\t\tcol: this._range.startCol,\n\t\t\t\t\t\torder: 'asc'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tgrid.sortState = newState;\n\t\t\t\tthis._executeSort(newState, grid);\n\t\t\t\tgrid.invalidateGridRect(0, 0, grid.colCount - 1, grid.rowCount - 1);\n\t\t\t}),\n\t\t\t// mouse move\n\t\t\tgrid.listen(MOUSEOVER_CELL, e => {\n\t\t\t\tif (!this._range.isCellInRange(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tgrid.getElement().style.cursor = 'pointer';\n\t\t\t}),\n\t\t\t//MOUSEENTER'col-resize'move\n\t\t\tgrid.listen(MOUSEMOVE_CELL, e => {\n\t\t\t\tif (!this._range.isCellInRange(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!grid.getElement().style.cursor) {\n\t\t\t\t\tgrid.getElement().style.cursor = 'pointer';\n\t\t\t\t}\n\t\t\t}), grid.listen(MOUSEOUT_CELL, e => {\n\t\t\t\tif (!this._range.isCellInRange(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tgrid.getElement().style.cursor = '';\n\t\t\t})];\n\t\t}\n\t}\n\tmodule.exports = SortHeader;\n}\n\n/***/ }),\n/* 117 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst { isPromise } = __webpack_require__(0);\nconst {\n\tSELECTED_CELL,\n\tSCROLL,\n\tCHANGED_VALUE\n} = __webpack_require__(56);\nconst ErrorMessage = __webpack_require__(118);\nconst WarningMessage = __webpack_require__(124);\nconst InfoMessage = __webpack_require__(128);\n\nclass MessageHandler {\n\tconstructor(grid, getMessage) {\n\t\tthis._grid = grid;\n\t\tthis._messageInstances = {};\n\t\tthis._bindGridEvent(grid, getMessage);\n\t}\n\tdispose() {\n\t\tconst messageInstances = this._messageInstances;\n\t\tfor (const k in messageInstances) {\n\t\t\tmessageInstances[k].dispose();\n\t\t}\n\t\tthis._messageInstances = null;\n\t}\n\tdrawCellMessage(message, context, style, helper, info) {\n\n\t\tif (!message || isPromise(message)) {\n\t\t\treturn;\n\t\t}\n\t\tconst instance = this._getMessageInstanceOfMessage(message);\n\t\tinstance.drawCellMessage(message, context, style, helper, info);\n\t}\n\t_attach(col, row, message) {\n\t\tconst info = this._attachInfo;\n\t\tconst instance = this._getMessageInstanceOfMessage(message);\n\t\tif (info && info.instance !== instance) {\n\t\t\tinfo.instance.detachMessageElement();\n\t\t}\n\t\tinstance.attachMessageElement(col, row, this._toMessageText(message));\n\t\tthis._attachInfo = { col, row, instance };\n\t}\n\t_move(col, row) {\n\t\tconst info = this._attachInfo;\n\t\tif (!info || info.col !== col || info.row !== row) {\n\t\t\treturn;\n\t\t}\n\t\tconst { instance } = info;\n\t\tinstance.moveMessageElement(col, row);\n\t}\n\t_detach() {\n\t\tconst info = this._attachInfo;\n\t\tif (!info) {\n\t\t\treturn;\n\t\t}\n\t\tconst { instance } = info;\n\t\tinstance.detachMessageElement();\n\t\tthis._attachInfo = null;\n\t}\n\t_bindGridEvent(grid, getMessage) {\n\t\tconst onSelectMessage = sel => {\n\t\t\tconst message = getMessage(sel.col, sel.row);\n\t\t\tif (!message || isPromise(message)) {\n\t\t\t\tthis._detach();\n\t\t\t} else {\n\t\t\t\tthis._attach(sel.col, sel.row, message);\n\t\t\t}\n\t\t};\n\t\tgrid.listen(SELECTED_CELL, e => {\n\t\t\tif (!e.selected) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (e.before.col === e.col && e.before.row === e.row) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tonSelectMessage(e);\n\t\t});\n\t\tgrid.listen(SCROLL, () => {\n\t\t\tconst sel = grid.selection.select;\n\t\t\tthis._move(sel.col, sel.row);\n\t\t});\n\t\tgrid.listen(CHANGED_VALUE, e => {\n\t\t\tconst sel = grid.selection.select;\n\t\t\tif (sel.col !== e.col || sel.row !== e.row) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tonSelectMessage(e);\n\t\t});\n\t}\n\t_getMessageInstanceOfMessage(message) {\n\t\tmessage = message || '';\n\t\tif (typeof message === 'string') {\n\t\t\treturn this._createMessageInstance('error', ErrorMessage);\n\t\t}\n\t\tconst type = ('' + message.type).toLowerCase();\n\t\tif (type === 'info') {\n\t\t\treturn this._createMessageInstance('info', InfoMessage);\n\t\t} else if (type === 'warning') {\n\t\t\treturn this._createMessageInstance('warning', WarningMessage);\n\t\t}\n\t\treturn this._createMessageInstance('error', ErrorMessage);\n\t}\n\t_toMessageText(message) {\n\t\tmessage = message || '';\n\t\tif (typeof message === 'string') {\n\t\t\treturn message;\n\t\t}\n\t\tif (message.message) {\n\t\t\treturn message.message;\n\t\t}\n\t\treturn '' + message;\n\t}\n\t_createMessageInstance(name, Message) {\n\t\tconst messageInstances = this._messageInstances;\n\t\treturn messageInstances[name] || (messageInstances[name] = new Message(this._grid));\n\t}\n}\n\nmodule.exports = MessageHandler;\n\n/***/ }),\n/* 118 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Rect = __webpack_require__(8);\nconst BaseMessage = __webpack_require__(130);\nconst ErrorMessageElement = __webpack_require__(119);\n\nconst RED_A100 = '#ff8a80';\n// const RED_A400 = '#FF1744';\n\nclass ErrorMessage extends BaseMessage {\n\tcreateMessageElementInternal() {\n\t\treturn new ErrorMessageElement();\n\t}\n\tdrawCellMessageInternal(message, context, style, helper, info) {\n\t\tconst { bgColor } = style;\n\n\t\tconst { selected } = context.getSelectState();\n\n\t\tconst rect = context.getRect();\n\n\t\thelper.drawBorderWithClip(context, ctx => {\n\t\t\tif (!selected) {\n\t\t\t\t// draw box\n\t\t\t\tctx.fillStyle = RED_A100;\n\t\t\t\tconst boxRect = rect.copy();\n\t\t\t\tboxRect.left = boxRect.right - 24;\n\t\t\t\tctx.fillRect(boxRect.left, boxRect.top, boxRect.width, boxRect.height - 1);\n\n\t\t\t\t// draw exclamation mark\n\t\t\t\tconst fillColor = bgColor;\n\t\t\t\tconst height = 20;\n\t\t\t\tconst width = height / 5;\n\t\t\t\tconst left = boxRect.left + (boxRect.width - width) / 2;\n\t\t\t\tconst top = boxRect.top + (boxRect.height - height) / 2;\n\t\t\t\thelper.fillRectWithState(new Rect(left, top, width, height / 5 * 3), context, { fillColor });\n\t\t\t\thelper.fillRectWithState(new Rect(left, top + height / 5 * 4, width, height / 5), context, { fillColor });\n\t\t\t}\n\t\t});\n\t}\n}\n\nmodule.exports = ErrorMessage;\n\n/***/ }),\n/* 119 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst MessageElement = __webpack_require__(131);\n\nconst CLASSNAME = 'cheetah-grid__error-message-element';\nconst MESSAGE_CLASSNAME = CLASSNAME + '__message';\n\nclass ErrorMessageElement extends MessageElement {\n\tconstructor() {\n\t\tsuper();\n\t\t__webpack_require__(122);\n\t\tthis._rootElement.classList.add(CLASSNAME);\n\t\tthis._messageElement.classList.add(MESSAGE_CLASSNAME);\n\t}\n}\n\nmodule.exports = ErrorMessageElement;\n\n/***/ }),\n/* 120 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar content = __webpack_require__(121);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(7)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n/***/ }),\n/* 121 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(6)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".cheetah-grid__message-element{position:absolute;margin-top:-2px;box-sizing:border-box;border-radius:0 0 3px 3px;background-color:hsla(0,0%,98%,.85);padding:8px 2px;pointer-events:none;user-select:none}.cheetah-grid__message-element--hidden{opacity:0;display:none}.cheetah-grid__message-element__message{font-family:Roboto;font-size:12px;font-size:.75rem;min-height:1em;line-height:1;display:block;width:100%}.cheetah-grid__message-element{border-top:1px solid rgba(0,0,0,.87);color:rgba(0,0,0,.87)}.cheetah-grid__message-element.helper-text--right-justified{text-align:right}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 122 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar content = __webpack_require__(123);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(7)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n/***/ }),\n/* 123 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(6)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".cheetah-grid__error-message-element{border-top:1px solid #ff1744;color:#ff1744}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 124 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Rect = __webpack_require__(8);\nconst BaseMessage = __webpack_require__(130);\nconst WarningMessageElement = __webpack_require__(125);\n\nconst DEEP_ORANGE_A100 = '#ff9e80';\n\nclass WarningMessage extends BaseMessage {\n\tcreateMessageElementInternal() {\n\t\treturn new WarningMessageElement();\n\t}\n\tdrawCellMessageInternal(message, context, style, helper, info) {\n\t\tconst { bgColor } = style;\n\n\t\tconst { selected } = context.getSelectState();\n\n\t\tconst rect = context.getRect();\n\n\t\thelper.drawBorderWithClip(context, ctx => {\n\t\t\tif (!selected) {\n\t\t\t\t// draw box\n\t\t\t\tctx.fillStyle = DEEP_ORANGE_A100;\n\t\t\t\tconst boxRect = rect.copy();\n\t\t\t\tboxRect.left = boxRect.right - 24;\n\t\t\t\tctx.fillRect(boxRect.left, boxRect.top, boxRect.width, boxRect.height - 1);\n\n\t\t\t\t// draw exclamation mark\n\t\t\t\tconst fillColor = bgColor;\n\t\t\t\tconst height = 20;\n\t\t\t\tconst width = height / 5;\n\t\t\t\tconst left = boxRect.left + (boxRect.width - width) / 2;\n\t\t\t\tconst top = boxRect.top + (boxRect.height - height) / 2;\n\t\t\t\thelper.fillRectWithState(new Rect(left, top, width, height / 5 * 3), context, { fillColor });\n\t\t\t\thelper.fillRectWithState(new Rect(left, top + height / 5 * 4, width, height / 5), context, { fillColor });\n\t\t\t}\n\t\t});\n\t}\n}\n\nmodule.exports = WarningMessage;\n\n/***/ }),\n/* 125 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst MessageElement = __webpack_require__(131);\n\nconst CLASSNAME = 'cheetah-grid__warning-message-element';\nconst MESSAGE_CLASSNAME = CLASSNAME + '__message';\n\nclass WarningMessageElement extends MessageElement {\n\tconstructor() {\n\t\tsuper();\n\t\t__webpack_require__(126);\n\t\tthis._rootElement.classList.add(CLASSNAME);\n\t\tthis._messageElement.classList.add(MESSAGE_CLASSNAME);\n\t}\n}\n\nmodule.exports = WarningMessageElement;\n\n/***/ }),\n/* 126 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar content = __webpack_require__(127);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(7)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n/***/ }),\n/* 127 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(6)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".cheetah-grid__warning-message-element{border-top:1px solid #dd2c00;color:#dd2c00}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 128 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst BaseMessage = __webpack_require__(130);\nconst MessageElement = __webpack_require__(131);\n\nconst Rect = __webpack_require__(8);\n\nconst GREY_L2 = '#e0e0e0';\n// const GREY_L1 = '#bdbdbd';\n\nclass InfoMessage extends BaseMessage {\n\tcreateMessageElementInternal() {\n\t\treturn new MessageElement();\n\t}\n\tdrawCellMessageInternal(message, context, style, helper, info) {\n\t\tconst { bgColor } = style;\n\n\t\tconst { selected } = context.getSelectState();\n\n\t\tconst rect = context.getRect();\n\n\t\thelper.drawBorderWithClip(context, ctx => {\n\t\t\tif (!selected) {\n\t\t\t\t// draw box\n\t\t\t\tctx.fillStyle = GREY_L2;\n\t\t\t\tconst boxRect = rect.copy();\n\t\t\t\tboxRect.left = boxRect.right - 24;\n\t\t\t\tctx.fillRect(boxRect.left, boxRect.top, boxRect.width, boxRect.height - 1);\n\n\t\t\t\t// draw i mark\n\t\t\t\tconst fillColor = bgColor;\n\t\t\t\tconst height = 20;\n\t\t\t\tconst width = height / 5;\n\t\t\t\tconst left = boxRect.left + (boxRect.width - width) / 2;\n\t\t\t\tconst top = boxRect.top + (boxRect.height - height) / 2;\n\t\t\t\thelper.fillRectWithState(new Rect(left, top, width, height / 5), context, { fillColor });\n\t\t\t\thelper.fillRectWithState(new Rect(left, top + height / 5 * 2, width, height / 5 * 3), context, { fillColor });\n\t\t\t}\n\t\t});\n\t}\n}\n\nmodule.exports = InfoMessage;\n\n/***/ }),\n/* 129 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst themePlugins = __webpack_require__(44);\nconst iconPlugins = __webpack_require__(52);\n\nfunction register(obj, name, value) {\n\tif (value) {\n\t\tconst old = obj[name];\n\t\tobj[name] = value;\n\t\treturn old;\n\t} else {\n\t\treturn obj[name];\n\t}\n}\nfunction registers(obj, values) {\n\tfor (const k in values) {\n\t\tobj[k] = values[k];\n\t}\n}\nmodule.exports = {\n\ttheme(name, theme) {\n\t\treturn register(themePlugins, name, theme);\n\t},\n\ticon(name, icon) {\n\t\treturn register(iconPlugins, name, icon);\n\t},\n\ticons(icons) {\n\t\tregisters(iconPlugins, icons);\n\t}\n};\n\n/***/ }),\n/* 130 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nclass BaseMessage {\n\tconstructor(grid) {\n\t\tthis._grid = grid;\n\t}\n\tdispose() {\n\t\tthis.detachMessageElement();\n\t\tif (this._messageElement) {\n\t\t\tthis._messageElement.dispose();\n\t\t}\n\t\tthis._messageElement = null;\n\t}\n\t_getMessageElement() {\n\t\treturn this._messageElement || (this._messageElement = this.createMessageElementInternal());\n\t}\n\tcreateMessageElementInternal() {}\n\tdrawCellMessageInternal(message, context, style, helper, info) {}\n\tattachMessageElement(col, row, message) {\n\t\tconst messageElement = this._getMessageElement();\n\t\tmessageElement.attach(this._grid, col, row, message);\n\t}\n\tmoveMessageElement(col, row) {\n\t\tconst messageElement = this._getMessageElement();\n\t\tmessageElement.move(this._grid, col, row);\n\t}\n\tdetachMessageElement() {\n\t\tconst messageElement = this._getMessageElement();\n\t\tmessageElement._detach();\n\t}\n\tdrawCellMessage(message, context, style, helper, info) {\n\t\tthis.drawCellMessageInternal(message, context, style, helper, info);\n\t}\n}\n\nmodule.exports = BaseMessage;\n\n/***/ }),\n/* 131 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst EventHandler = __webpack_require__(5);\nconst {\n\tcreateElement\n} = __webpack_require__(15);\n\nconst CLASSNAME = 'cheetah-grid__message-element';\nconst MESSAGE_CLASSNAME = CLASSNAME + '__message';\nconst HIDDEN_CLASSNAME = CLASSNAME + '--hidden';\nconst SHOWN_CLASSNAME = CLASSNAME + '--shown';\n\nfunction createrootElement() {\n\t__webpack_require__(120);\n\tconst element = createElement('div', { classList: [CLASSNAME, HIDDEN_CLASSNAME] });\n\tconst message = createElement('span', { classList: [MESSAGE_CLASSNAME] });\n\telement.appendChild(message);\n\treturn element;\n}\n\nclass MessageElement {\n\tconstructor() {\n\t\tthis._handler = new EventHandler();\n\t\tconst rootElement = this._rootElement = createrootElement();\n\t\tthis._messageElement = rootElement.querySelector(`.${MESSAGE_CLASSNAME}`);\n\t}\n\tdispose() {\n\t\tthis.detach();\n\t\tthis._handler.dispose();\n\t\tthis._rootElement = null;\n\t\tthis._messageElement = null;\n\t}\n\tattach(grid, col, row, message) {\n\t\tconst rootElement = this._rootElement;\n\t\tconst messageElement = this._messageElement;\n\n\t\trootElement.classList.remove(SHOWN_CLASSNAME);\n\t\trootElement.classList.add(HIDDEN_CLASSNAME);\n\n\t\tif (this._attachCell(grid, col, row)) {\n\t\t\trootElement.classList.add(SHOWN_CLASSNAME);\n\t\t\trootElement.classList.remove(HIDDEN_CLASSNAME);\n\n\t\t\tmessageElement.textContent = message;\n\t\t} else {\n\t\t\tthis._detach();\n\t\t}\n\t}\n\tmove(grid, col, row) {\n\t\tconst rootElement = this._rootElement;\n\t\tif (this._attachCell(grid, col, row)) {\n\n\t\t\trootElement.classList.add(SHOWN_CLASSNAME);\n\t\t\trootElement.classList.remove(HIDDEN_CLASSNAME);\n\t\t} else {\n\t\t\tthis._detach();\n\t\t}\n\t}\n\tdetach() {\n\t\tthis._detach();\n\t}\n\t_detach() {\n\t\tconst rootElement = this._rootElement;\n\t\tif (rootElement.parentElement) {\n\t\t\trootElement.parentElement.removeChild(rootElement);\n\t\t\trootElement.classList.remove(SHOWN_CLASSNAME);\n\t\t\trootElement.classList.add(HIDDEN_CLASSNAME);\n\t\t}\n\t}\n\t_attachCell(grid, col, row) {\n\t\tconst rootElement = this._rootElement;\n\t\tconst { element, rect } = grid.getAttachCellArea(col, row);\n\n\t\tconst { bottom: top, left, width } = rect;\n\t\tconst { frozenRowCount, frozenColCount } = grid;\n\t\tif (row >= frozenRowCount && frozenRowCount > 0) {\n\t\t\tconst { rect: frozenRect } = grid.getAttachCellArea(col, frozenRowCount - 1);\n\t\t\tif (top < frozenRect.bottom) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else {\n\t\t\tif (top < 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\tif (col >= frozenColCount && frozenColCount > 0) {\n\t\t\tconst { rect: frozenRect } = grid.getAttachCellArea(frozenColCount - 1, row);\n\t\t\tif (left < frozenRect.right) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else {\n\t\t\tif (left < 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\tconst { offsetHeight, offsetWidth } = element;\n\t\tif (offsetHeight < top) {\n\t\t\treturn false;\n\t\t}\n\t\tif (offsetWidth < left) {\n\t\t\treturn false;\n\t\t}\n\n\t\trootElement.style.top = top.toFixed() + 'px';\n\t\trootElement.style.left = left.toFixed() + 'px';\n\t\trootElement.style.width = width.toFixed() + 'px';\n\t\tif (rootElement.parentElement !== element) {\n\t\t\telement.appendChild(rootElement);\n\t\t}\n\t\treturn true;\n\t}\n}\n\nmodule.exports = MessageElement;\n\n/***/ })\n/******/ ]);\n});\n}).call(typeof global !== \"undefined\" ? global : window);","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cheetahGrid\"] = factory();\n\telse\n\t\troot[\"cheetahGrid\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 57);\n","'use strict';\r\n{\r\n\tlet arrayFind;\r\n\tlet arrayFindIndex;\r\n\tconst array = {\r\n\t\tget find() {\r\n\t\t\tif (arrayFind) {\r\n\t\t\t\treturn arrayFind;\r\n\t\t\t}\r\n\t\t\tif (Array.prototype.find) {\r\n\t\t\t\tarrayFind = (arr, predicate) => Array.prototype.find.call(arr, predicate);\r\n\t\t\t} else {\r\n\t\t\t\tarrayFind = (arr, predicate) => {\r\n\t\t\t\t\tconst index = array.findIndex(arr, predicate);\r\n\t\t\t\t\treturn index >= 0 ? arr[index] : undefined;\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\treturn arrayFind;\r\n\t\t},\r\n\t\tget findIndex() {\r\n\t\t\tif (arrayFindIndex) {\r\n\t\t\t\treturn arrayFindIndex;\r\n\t\t\t}\r\n\t\t\tif (Array.prototype.findIndex) {\r\n\t\t\t\tarrayFindIndex = (arr, predicate) => Array.prototype.findIndex.call(arr, predicate);\r\n\t\t\t} else {\r\n\t\t\t\tarrayFindIndex = (arr, predicate) => {\r\n\t\t\t\t\tconst length = arr.length;\r\n\t\t\t\t\tfor (let i = 0; i < length; i++) {\r\n\t\t\t\t\t\tconst value = arr[i];\r\n\t\t\t\t\t\tif (predicate(value, i, arr)) {\r\n\t\t\t\t\t\t\treturn i;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\treturn arrayFindIndex;\r\n\t\t},\r\n\t};\r\n\t\r\n\tfunction isDef(data) {\r\n\t\treturn data !== null && typeof data !== 'undefined';\r\n\t}\r\n\tconst ua = window.navigator.userAgent.toLowerCase();\r\n\tconst IE = (ua.match(/(msie)/) || ua.match(/trident/));\r\n\tconst Chrome = (ua.indexOf('chrome') > -1) && (ua.indexOf('edge') === -1);\r\n\tconst Firefox = (ua.indexOf('firefox') > -1);\r\n\r\n\tfunction setReadonly(obj, name, value) {\r\n\t\tObject.defineProperty(obj, name, {\r\n\t\t\tenumerable: false,\r\n\t\t\tconfigurable: true,\r\n\t\t\tvalue,\r\n\t\t});\r\n\t}\r\n\r\n\tfunction each(obj, fn) {\r\n\t\tfor (const key in obj) {\r\n\t\t\tfn(obj[key], key, obj);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction isObject(obj) {\r\n\t\treturn obj === Object(obj);\r\n\t}\r\n\r\n\tfunction extend(...args) {\r\n\t\tconst result = {};\r\n\t\targs.forEach((source) => {\r\n\t\t\tfor (const key in source) {\r\n\t\t\t\tObject.defineProperty(result, key, {\r\n\t\t\t\t\tget() {\r\n\t\t\t\t\t\treturn source[key];\r\n\t\t\t\t\t},\r\n\t\t\t\t\tset(val) {\r\n\t\t\t\t\t\tsource[key] = val;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tconfigurable: true,\r\n\t\t\t\t\tenumerable: true,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn result;\r\n\t}\r\n\tfunction isDescendantElement(root, target) {\r\n\t\twhile (target.parentElement) {\r\n\t\t\tconst p = target.parentElement;\r\n\t\t\tif (root === p) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\ttarget = p;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\tfunction applyChainSafe(obj, fn, ...names) {\r\n\t\tlet value = obj;\r\n\t\tfor (let i = 0; i < names.length && isDef(value); i++) {\r\n\t\t\tvalue = fn(value, names[i]);\r\n\t\t}\r\n\t\treturn value;\r\n\t}\r\n\tfunction getChainSafe(obj, ...names) {\r\n\t\treturn applyChainSafe(obj, (val, name) => val[name], ...names);\r\n\t}\r\n\tfunction getOrApply(value, ...args) {\r\n\t\tif (typeof value === 'function') {\r\n\t\t\treturn value(...args);\r\n\t\t} else {\r\n\t\t\treturn value;\r\n\t\t}\r\n\t}\r\n\tfunction endsWith(str, searchString, position) {\r\n\t\tconst subjectString = str.toString();\r\n\t\tif (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {\r\n\t\t\tposition = subjectString.length;\r\n\t\t}\r\n\t\tposition -= searchString.length;\r\n\t\tconst lastIndex = subjectString.lastIndexOf(searchString, position);\r\n\t\treturn lastIndex !== -1 && lastIndex === position;\r\n\t}\r\n\tconst isPromise = (data) => data && typeof data.then === 'function';\r\n\tconst then = (result, callback) => isPromise(result) ? result.then((r) => callback(r)) : callback(result);\r\n\tfunction getMouseButtons(e) {\r\n\t\tif (isDef(e.buttons)) {\r\n\t\t\treturn e.buttons;\r\n\t\t}\r\n\t\t/*for legacy*/\r\n\t\tif (isDef(e.which)) {\r\n\t\t\tif (e.which === 3) { //right?\r\n\t\t\t\treturn 4;\r\n\t\t\t}\r\n\t\t\tif (e.which === 2) { //middle?\r\n\t\t\t\treturn 4;\r\n\t\t\t}\r\n\t\t\treturn e.which;//left or no\r\n\t\t}\r\n\t\t\r\n\t\tif (e.button === 0 || e.button === 1) {\r\n\t\t\treturn 1;//candidate left\r\n\t\t}\r\n\t\tif (e.button === 2) {\r\n\t\t\treturn 2;// right\r\n\t\t}\r\n\t\treturn 0;//no or middle?\r\n\t}\r\n\tfunction getKeyCode(e) {\r\n\t\treturn e.keyCode || e.which;\r\n\t}\r\n\tfunction isTouchEvent(e) {\r\n\t\treturn !!e.changedTouches;\r\n\t}\r\n\tfunction getIgnoreCase(obj, name) {\r\n\t\tif (obj[name]) {\r\n\t\t\treturn obj[name];\r\n\t\t}\r\n\t\tconst l = name.toLowerCase();\r\n\t\tif (obj[l]) {\r\n\t\t\treturn obj[l];\r\n\t\t}\r\n\t\tconst u = name.toLowerCase();\r\n\t\tif (obj[u]) {\r\n\t\t\treturn obj[u];\r\n\t\t}\r\n\t\tfor (const k in obj) {\r\n\t\t\tif (k.toLowerCase() === l) {\r\n\t\t\t\treturn obj[k];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn undefined;\r\n\t}\r\n\tfunction cancel(e) {\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\t}\r\n\r\n\r\n\tfunction toBoxArray(obj) {\r\n\t\tif (!Array.isArray(obj)) {\r\n\t\t\treturn [obj/*top*/, obj/*right*/, obj/*bottom*/, obj/*left*/];\r\n\t\t}\r\n\t\tif (obj.length === 3) {\r\n\t\t\treturn [obj[0]/*top*/, obj[1]/*right*/, obj[2]/*bottom*/, obj[1]/*left*/];\r\n\t\t}\r\n\t\tif (obj.length === 2) {\r\n\t\t\treturn [obj[0]/*top*/, obj[1]/*right*/, obj[0]/*bottom*/, obj[1]/*left*/];\r\n\t\t}\r\n\t\tif (obj.length === 1) {\r\n\t\t\treturn [obj[0]/*top*/, obj[0]/*right*/, obj[0]/*bottom*/, obj[0]/*left*/];\r\n\t\t}\r\n\t\treturn obj;\r\n\t}\r\n\r\n\t// Chrome 33554431\r\n\t// FireFox 17895588\r\n\t// IE 10737433\r\n\tmodule.exports = {\r\n\t\tisDef,\r\n\t\tbrowser: {\r\n\t\t\tIE,\r\n\t\t\tChrome,\r\n\t\t\tFirefox,\r\n\t\t\theightLimit: Chrome ? 33554431\r\n\t\t\t: Firefox ? 17895588\r\n\t\t\t: 10737433 // default IE limit\r\n\t\t},\r\n\t\textend,\r\n\t\tisDescendantElement,\r\n\t\tgetChainSafe,\r\n\t\tapplyChainSafe,\r\n\t\tgetOrApply,\r\n\t\tgetIgnoreCase,\r\n\t\tisPromise,\r\n\t\tthen,\r\n\t\tarray,\r\n\t\tobj: {\r\n\t\t\tsetReadonly,\r\n\t\t\teach,\r\n\t\t\tisObject,\r\n\t\t},\r\n\t\tstr: {\r\n\t\t\tendsWith\r\n\t\t},\r\n\t\tevent: {\r\n\t\t\tgetMouseButtons,\r\n\t\t\tgetKeyCode,\r\n\t\t\tisTouchEvent,\r\n\t\t\tcancel,\r\n\t\t},\r\n\t\tstyle: {\r\n\t\t\ttoBoxArray,\r\n\t\t},\r\n\t\temptyFn() {},\r\n\t};\r\n}","'use strict';\r\n{\r\n\tconst Symbol = window.Symbol ? window.Symbol : (() => {\r\n\t\tlet nextId = 1;\r\n\t\treturn (name) => {\r\n\t\t\tconst id = nextId++;\r\n\t\t\tif (name) {\r\n\t\t\t\treturn ` $$$ ${name} - ${id} $$$ `;\r\n\t\t\t} else {\r\n\t\t\t\treturn ` $$$ ${id} $$$ `;\r\n\t\t\t}\r\n\t\t};\r\n\t})();\r\n\tconst mem = {};\r\n\r\n\tmodule.exports = {\r\n\t\tget(name) {\r\n\t\t\tif (name) {\r\n\t\t\t\treturn mem[name] ? mem[name] : (mem[name] = Symbol(name));\r\n\t\t\t} else {\r\n\t\t\t\treturn Symbol();\r\n\t\t\t}\r\n\t\t},\r\n\t\tget PROTECTED_SYMBOL() {\r\n\t\t\treturn this.get('protected');\r\n\t\t},\r\n\t\tget CHECK_COLUMN_STATE_ID() {\r\n\t\t\treturn this.get('chkcol.stateID');\r\n\t\t},\r\n\t\tget BUTTON_COLUMN_STATE_ID() {\r\n\t\t\treturn this.get('btncol.stateID');\r\n\t\t},\r\n\t\tget COLUMN_FADEIN_STATE_ID() {\r\n\t\t\treturn this.get('col.fadein_stateID');\r\n\t\t},\r\n\t\tget BRANCH_GRAPH_COLUMN_STATE_ID() {\r\n\t\t\treturn this.get('branch_graph_col.stateID');\r\n\t\t},\r\n\t\tget SMALL_DIALOG_INPUT_EDITOR_STATE_ID() {\r\n\t\t\treturn this.get('small_dialog_input_editor.stateID');\r\n\t\t},\r\n\t\tget INLINE_INPUT_EDITOR_STATE_ID() {\r\n\t\t\treturn this.get('inline_input_editor.stateID');\r\n\t\t},\r\n\t\tget INLINE_MENU_EDITOR_STATE_ID() {\r\n\t\t\treturn this.get('inline_menu_editor.stateID');\r\n\t\t}\r\n\t};\r\n\r\n}","'use strict';\r\n\r\nmodule.exports = {\r\n\t'Array_isArray': window.Array.isArray\r\n};","'use strict';\r\n{\r\n\tconst StdBaseStyle = require('./StdBaseStyle');\r\n\tlet defaultStyle;\r\n\tclass Style extends StdBaseStyle {\r\n\t\tstatic get DEFAULT() {\r\n\t\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new Style());\r\n\t\t}\r\n\t\tconstructor(style = {}) {\r\n\t\t\tsuper(style);\r\n\t\t\tthis._color = style.color;\r\n\t\t\tthis._font = style.font;\r\n\t\t\tthis._padding = style.padding;\r\n\t\t}\r\n\t\tget color() {\r\n\t\t\treturn this._color;\r\n\t\t}\r\n\t\tset color(color) {\r\n\t\t\tthis._color = color;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t\tget font() {\r\n\t\t\treturn this._font;\r\n\t\t}\r\n\t\tset font(font) {\r\n\t\t\tthis._font = font;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t\tget padding() {\r\n\t\t\treturn this._padding;\r\n\t\t}\r\n\t\tset padding(padding) {\r\n\t\t\tthis._padding = padding;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new Style(this);\r\n\t\t}\r\n\t}\r\n\tmodule.exports = Style;\r\n}","'use strict';\r\n{\r\n\tconst {\r\n\t\tisDef,\r\n\t\tbrowser,\r\n\t\tisDescendantElement,\r\n\t\tarray,\r\n\t\tisPromise,\r\n\t\tevent: {\r\n\t\t\tisTouchEvent,\r\n\t\t\tgetMouseButtons,\r\n\t\t\tgetKeyCode,\r\n\t\t\tcancel: cancelEvent,\r\n\t\t}\r\n\t} = require('../internal/utils');\r\n\t\r\n\tconst EventTarget = require('./EventTarget');\r\n\tconst Rect = require('../internal/Rect');\r\n\tconst Scrollable = require('../internal/Scrollable');\r\n\tconst EventHandler = require('../internal/EventHandler');\r\n\tconst NumberMap = require('../internal/NumberMap');\r\n\tconst style = require('../internal/style');\r\n\tconst calc = require('../internal/calc');\r\n\tconst hiDPI = require('../internal/hiDPI');\r\n\t//protected symbol\r\n\tconst {PROTECTED_SYMBOL: _} = require('../internal/symbolManager');\r\n\r\n\tfunction createRootElement() {\r\n\t\tconst element = document.createElement('div');\r\n\t\telement.classList.add('cheetah-grid');\r\n\t\treturn element;\r\n\t}\r\n\r\n\tconst KEY_END = 35;\r\n\tconst KEY_HOME = 36;\r\n\tconst KEY_LEFT = 37;\r\n\tconst KEY_UP = 38;\r\n\tconst KEY_RIGHT = 39;\r\n\tconst KEY_DOWN = 40;\r\n\tconst KEY_ALPHA_C = 67;\r\n\r\n\tconst EVENT_TYPE = {\r\n\t\tCLICK_CELL: 'click_cell',\r\n\t\tDBLCLICK_CELL: 'dblclick_cell',\r\n\t\tDBLTAP_CELL: 'dbltap_cell',\r\n\t\tMOUSEDOWN_CELL: 'mousedown_cell',\r\n\t\tMOUSEUP_CELL: 'mouseup_cell',\r\n\t\tSELECTED_CELL: 'selected_cell',\r\n\t\tKEYDOWN: 'keydown',\r\n\t\tMOUSEMOVE_CELL: 'mousemove_cell',\r\n\t\tMOUSEENTER_CELL: 'mouseenter_cell',\r\n\t\tMOUSELEAVE_CELL: 'mouseleave_cell',\r\n\t\tMOUSEOVER_CELL: 'mouseover_cell',\r\n\t\tMOUSEOUT_CELL: 'mouseout_cell',\r\n\t\tINPUT_CELL: 'input_cell',\r\n\t\tEDITABLEINPUT_CELL: 'editableinput_cell',\r\n\t\tMODIFY_STATUS_EDITABLEINPUT_CELL: 'modify_status_editableinput_cell',\r\n\t\tRESIZE_COLUMN: 'resize_column',\r\n\t\tSCROLL: 'scroll',\r\n\t};\r\n\r\n\t//private methods\r\n\tfunction _vibrate(e) {\r\n\t\tif (navigator.vibrate && isTouchEvent(e)) {\r\n\t\t\tnavigator.vibrate(50);\r\n\t\t}\r\n\t}\r\n\tfunction _getTargetRowAt(grid, absoluteY) {\r\n\t\tconst internal = grid.getTargetRowAtInternal(absoluteY);\r\n\t\tif (isDef(internal)) {\r\n\t\t\treturn internal;\r\n\t\t}\r\n\t\tconst findBefore = (startRow, startBottom) => {\r\n\t\t\tlet bottom = startBottom;\r\n\t\t\tfor (let row = startRow; row >= 0; row--) {\r\n\t\t\t\tconst height = _getRowHeight(grid, row);\r\n\t\t\t\tconst top = bottom - height;\r\n\t\t\t\tif (top <= absoluteY && absoluteY < bottom) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\ttop,\r\n\t\t\t\t\t\trow,\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\tbottom = top;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t};\r\n\t\tconst findAfter = (startRow, startBottom) => {\r\n\t\t\tlet top = startBottom - _getRowHeight(grid, startRow);\r\n\t\t\tconst {rowCount} = grid[_];\r\n\t\t\tfor (let row = startRow; row < rowCount; row++) {\r\n\t\t\t\tconst height = _getRowHeight(grid, row);\r\n\t\t\t\tconst bottom = top + height;\r\n\t\t\t\tif (top <= absoluteY && absoluteY < bottom) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\ttop,\r\n\t\t\t\t\t\trow,\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\ttop = bottom;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t};\r\n\t\tconst candRow = Math.min(Math.ceil(absoluteY / grid[_].defaultRowHeight), grid.rowCount - 1);\r\n\t\tconst bottom = _getRowsHeight(grid, 0, candRow);\r\n\t\tif (absoluteY >= bottom) {\r\n\t\t\treturn findAfter(candRow, bottom);\r\n\t\t} else {\r\n\t\t\treturn findBefore(candRow, bottom);\r\n\t\t}\r\n\t}\r\n\tfunction _getTargetColAt(grid, absoluteX) {\r\n\t\tlet left = 0;\r\n\t\tconst {colCount} = grid[_];\r\n\t\tfor (let col = 0; col < colCount; col++) {\r\n\t\t\tconst width = _getColWidth(grid, col);\r\n\t\t\tconst right = left + width;\r\n\t\t\tif (right > absoluteX) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tleft,\r\n\t\t\t\t\tcol,\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tleft = right;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\tfunction _getTargetFrozenRowAt(grid, absoluteY) {\r\n\t\tif (!grid[_].frozenRowCount) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tlet {top} = grid[_].scroll;\r\n\t\tconst rowCount = grid[_].frozenRowCount;\r\n\t\tfor (let row = 0; row < rowCount; row++) {\r\n\t\t\tconst height = _getRowHeight(grid, row);\r\n\t\t\tconst bottom = top + height;\r\n\t\t\tif (bottom > absoluteY) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\ttop,\r\n\t\t\t\t\trow,\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\ttop = bottom;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\tfunction _getTargetFrozenColAt(grid, absoluteX) {\r\n\t\tif (!grid[_].frozenColCount) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tlet {left} = grid[_].scroll;\r\n\t\tconst colCount = grid[_].frozenColCount;\r\n\t\tfor (let col = 0; col < colCount; col++) {\r\n\t\t\tconst width = _getColWidth(grid, col);\r\n\t\t\tconst right = left + width;\r\n\t\t\tif (right > absoluteX) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tleft,\r\n\t\t\t\t\tcol,\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tleft = right;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\tfunction _getFrozenRowsRect(grid) {\r\n\t\tif (!grid[_].frozenRowCount) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tconst {top} = grid[_].scroll;\r\n\t\tlet height = 0;\r\n\t\tconst rowCount = grid[_].frozenRowCount;\r\n\t\tfor (let row = 0; row < rowCount; row++) {\r\n\t\t\theight += _getRowHeight(grid, row);\r\n\t\t}\r\n\t\treturn new Rect(\r\n\t\t\t\tgrid[_].scroll.left,\r\n\t\t\t\ttop,\r\n\t\t\t\tgrid[_].canvas.width,\r\n\t\t\t\theight\r\n\t\t);\r\n\t}\r\n\tfunction _getFrozenColsRect(grid) {\r\n\t\tif (!grid[_].frozenColCount) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tconst {left} = grid[_].scroll;\r\n\t\tlet width = 0;\r\n\t\tconst colCount = grid[_].frozenColCount;\r\n\t\tfor (let col = 0; col < colCount; col++) {\r\n\t\t\twidth += _getColWidth(grid, col);\r\n\t\t}\r\n\t\treturn new Rect(\r\n\t\t\t\tleft,\r\n\t\t\t\tgrid[_].scroll.top,\r\n\t\t\t\twidth,\r\n\t\t\t\tgrid[_].canvas.height\r\n\t\t);\r\n\t}\r\n\tfunction _isCellDrawing(grid, col, row) {\r\n\t\tif (!grid[_].drawCells[row]) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn !!grid[_].drawCells[row][col];\r\n\t}\r\n\tfunction _putCellDrawing(grid, col, row, context) {\r\n\t\tif (!grid[_].drawCells[row]) {\r\n\t\t\tgrid[_].drawCells[row] = {};\r\n\t\t}\r\n\t\tgrid[_].drawCells[row][col] = context;\r\n\t}\r\n\tfunction _removeCellDrawing(grid, col, row) {\r\n\t\tif (!grid[_].drawCells[row]) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tdelete grid[_].drawCells[row][col];\r\n\t\tif (Object.keys(grid[_].drawCells[row]).length === 0) {\r\n\t\t\tdelete grid[_].drawCells[row];\r\n\t\t}\r\n\t}\r\n\tfunction _drawCell(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect,\r\n\t\t\tskipAbsoluteTop, skipAbsoluteLeft, drawLayers) {\r\n\t\tconst rect = new Rect(\r\n\t\t\t\tabsoluteLeft - visibleRect.left,\r\n\t\t\t\tabsoluteTop - visibleRect.top,\r\n\t\t\t\twidth,\r\n\t\t\t\theight\r\n\t\t);\r\n\r\n\t\tconst drawRect = Rect.bounds(\r\n\t\t\t\tMath.max(absoluteLeft, skipAbsoluteLeft) - visibleRect.left,\r\n\t\t\t\tMath.max(absoluteTop, skipAbsoluteTop) - visibleRect.top,\r\n\t\t\t\trect.right,\r\n\t\t\t\trect.bottom\r\n\t\t);\r\n\r\n\t\tif (drawRect.height > 0 && drawRect.width > 0) {\r\n\t\t\tctx.save();\r\n\t\t\ttry {\r\n\t\t\t\tconst dcContext = new DrawCellContext(\r\n\t\t\t\t\t\tcol, row,\r\n\t\t\t\t\t\tctx, rect, drawRect,\r\n\t\t\t\t\t\t_isCellDrawing(grid, col, row),\r\n\t\t\t\t\t\tgrid[_].selection,\r\n\t\t\t\t\t\tdrawLayers\r\n\t\t\t\t);\r\n\t\t\t\tconst p = grid.onDrawCell(col, row, dcContext);\r\n\t\t\t\tif (isPromise(p)) {\r\n\t\t\t\t\t//\r\n\t\t\t\t\t_putCellDrawing(grid, col, row, dcContext);\r\n\r\n\t\t\t\t\tconst pCol = col;\r\n\t\t\t\t\tdcContext._delayMode(grid, () => {\r\n\t\t\t\t\t\t_removeCellDrawing(grid, pCol, row);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tp.then(() => {\r\n\t\t\t\t\t\tdcContext.terminate();\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} finally {\r\n\t\t\t\tctx.restore();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction _drawRow(grid, ctx, initFrozenCol, initCol,\r\n\t\t\tdrawRight, row, absoluteTop, height, visibleRect, skipAbsoluteTop, drawLayers) {\r\n\t\tconst {colCount} = grid[_];\r\n\t\tconst drawOuter = (col, absoluteLeft) => {\r\n\t\t\t//\r\n\t\t\tif (col >= (colCount - 1) && grid[_].canvas.width > (absoluteLeft - visibleRect.left)) {\r\n\t\t\t\tconst outerLeft = absoluteLeft - visibleRect.left;\r\n\t\t\t\tctx.save();\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.fillStyle = grid.underlayBackgroundColor || '#F6F6F6';\r\n\t\t\t\tctx.rect(outerLeft, absoluteTop - visibleRect.top, grid[_].canvas.width - outerLeft, height);\r\n\t\t\t\tctx.fill();\r\n\t\t\t\tctx.restore();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tlet skipAbsoluteLeft = 0;\r\n\t\tif (initFrozenCol) {\r\n\t\t\tlet absoluteLeft = initFrozenCol.left;\r\n\t\t\tconst count = grid[_].frozenColCount;\r\n\t\t\tfor (let {col} = initFrozenCol; col < count; col++) {\r\n\t\t\t\tconst width = _getColWidth(grid, col);\r\n\r\n\t\t\t\t_drawCell(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect,\r\n\t\t\t\t\t\tskipAbsoluteTop, 0,\r\n\t\t\t\t\t\tdrawLayers);\r\n\t\t\t\t\t\r\n\t\t\t\tabsoluteLeft += width;\r\n\t\t\t\tif (drawRight <= absoluteLeft) { //\r\n\t\t\t\t\tdrawOuter(col, absoluteLeft);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tskipAbsoluteLeft = absoluteLeft;\r\n\t\t}\r\n\r\n\t\tlet absoluteLeft = initCol.left;\r\n\t\tfor (let {col} = initCol; col < colCount; col++) {\r\n\t\t\tconst width = _getColWidth(grid, col);\r\n\t\t\t_drawCell(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect,\r\n\t\t\t\t\tskipAbsoluteTop, skipAbsoluteLeft,\r\n\t\t\t\t\tdrawLayers);\r\n\r\n\t\t\tabsoluteLeft += width;\r\n\t\t\tif (drawRight <= absoluteLeft) { //\r\n\t\t\t\tdrawOuter(col, absoluteLeft);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\tdrawOuter(colCount - 1, absoluteLeft);\r\n\r\n\t}\r\n\tfunction _invalidateRect(grid, drawRect) {\r\n\t\tconst visibleRect = _getVisibleRect(grid);\r\n\t\tconst {rowCount} = grid[_];\r\n\t\tconst ctx = grid._getInitContext();\r\n\r\n\t\tconst initRow = _getTargetRowAt(grid, Math.max(visibleRect.top, drawRect.top)) || {\r\n\t\t\ttop: _getRowsHeight(grid, 0, rowCount - 1),\r\n\t\t\trow: rowCount\r\n\t\t};\r\n\t\tconst initCol = _getTargetColAt(grid, Math.max(visibleRect.left, drawRect.left)) || {\r\n\t\t\tleft: _getColsWidth(grid, 0, grid[_].colCount - 1),\r\n\t\t\tcol: grid[_].colCount\r\n\t\t};\r\n\t\tconst drawBottom = Math.min(visibleRect.bottom, drawRect.bottom);\r\n\t\tconst drawRight = Math.min(visibleRect.right, drawRect.right);\r\n\r\n\t\tconst initFrozenRow = _getTargetFrozenRowAt(grid, Math.max(visibleRect.top, drawRect.top));\r\n\t\tconst initFrozenCol = _getTargetFrozenColAt(grid, Math.max(visibleRect.left, drawRect.left));\r\n\r\n\t\tconst drawLayers = new DrawLayers();\r\n\r\n\t\tconst drawOuter = (row, absoluteTop) => {\r\n\t\t\t//\r\n\t\t\tif (row >= (rowCount - 1) && grid[_].canvas.height > (absoluteTop - visibleRect.top)) {\r\n\t\t\t\tconst outerTop = absoluteTop - visibleRect.top;\r\n\t\t\t\tctx.save();\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.fillStyle = grid.underlayBackgroundColor || '#F6F6F6';\r\n\t\t\t\tctx.rect(0, outerTop, grid[_].canvas.width, grid[_].canvas.height - outerTop);\r\n\t\t\t\tctx.fill();\r\n\t\t\t\tctx.restore();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tlet skipAbsoluteTop = 0;\r\n\t\tif (initFrozenRow) {\r\n\t\t\tlet absoluteTop = initFrozenRow.top;\r\n\t\t\tconst count = grid[_].frozenRowCount;\r\n\t\t\tfor (let {row} = initFrozenRow; row < count; row++) {\r\n\t\t\t\tconst height = _getRowHeight(grid, row);\r\n\t\t\t\t_drawRow(grid,\r\n\t\t\t\t\t\tctx, initFrozenCol, initCol, drawRight,\r\n\t\t\t\t\t\trow, absoluteTop, height, visibleRect, 0,\r\n\t\t\t\t\t\tdrawLayers\r\n\t\t\t\t);\r\n\t\t\t\tabsoluteTop += height;\r\n\t\t\t\tif (drawBottom <= absoluteTop) { //\r\n\t\t\t\t\tdrawOuter(row, absoluteTop);\r\n\t\t\t\t\tdrawLayers.draw(ctx);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tskipAbsoluteTop = absoluteTop;\r\n\t\t}\r\n\r\n\t\tlet absoluteTop = initRow.top;\r\n\t\tfor (let {row} = initRow; row < rowCount; row++) {\r\n\t\t\tconst height = _getRowHeight(grid, row);\r\n\t\t\t\t\r\n\t\t\t//\r\n\t\t\t_drawRow(grid,\r\n\t\t\t\t\tctx, initFrozenCol, initCol, drawRight,\r\n\t\t\t\t\trow, absoluteTop, height, visibleRect, skipAbsoluteTop,\r\n\t\t\t\t\tdrawLayers\r\n\t\t\t);\r\n\r\n\t\t\tabsoluteTop += height;\r\n\t\t\tif (drawBottom <= absoluteTop) { //\r\n\t\t\t\tdrawOuter(row, absoluteTop);\r\n\t\t\t\tdrawLayers.draw(ctx);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\tdrawOuter(rowCount - 1, absoluteTop);\r\n\r\n\t\tdrawLayers.draw(ctx);\r\n\t}\r\n\r\n\tfunction _toPxWidth(grid, width) {\r\n\t\treturn Math.round(calc.toPx(width, grid[_].calcWidthContext));\r\n\t}\r\n\r\n\tfunction _getDefaultColPxWidth(grid) {\r\n\t\treturn _toPxWidth(grid, grid.defaultColWidth);\r\n\t}\r\n\r\n\tfunction _adjustColWidth(grid, col, orgWidth) {\r\n\t\tconst limit = grid[_].colWidthsLimit[col];\r\n\t\tif (!limit) {\r\n\t\t\treturn orgWidth;\r\n\t\t}\r\n\t\t\r\n\t\tif (limit.min) {\r\n\t\t\tconst min = _toPxWidth(grid, limit.min);\r\n\t\t\tif (min > orgWidth) {\r\n\t\t\t\treturn min;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (limit.max) {\r\n\t\t\tconst max = _toPxWidth(grid, limit.max);\r\n\t\t\tif (max < orgWidth) {\r\n\t\t\t\treturn max;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn orgWidth;\r\n\t}\r\n\r\n\tfunction _getColWidth(grid, col) {\r\n\t\tconst width = grid[_].colWidthsMap.get(col);\r\n\t\tif (width) {\r\n\t\t\treturn _adjustColWidth(grid, col, _toPxWidth(grid, width));\r\n\t\t}\r\n\t\treturn _getDefaultColPxWidth(grid);\r\n\t}\r\n\tfunction _setColWidth(grid, col, width) {\r\n\t\tgrid[_].colWidthsMap.put(col, width);\r\n\t}\r\n\tfunction _getColsWidth(grid, startCol, endCol) {\r\n\t\tconst colCount = endCol - startCol + 1;\r\n\t\tlet w = _getDefaultColPxWidth(grid) * colCount;\r\n\t\tgrid[_].colWidthsMap.each(startCol, endCol, (width, col) => {\r\n\t\t\tw += _adjustColWidth(grid, col, _toPxWidth(grid, width)) - _getDefaultColPxWidth(grid);\r\n\t\t});\r\n\t\treturn w;\r\n\t}\r\n\r\n\tfunction _getRowHeight(grid, row) {\r\n\t\tconst internal = grid.getRowHeightInternal(row);\r\n\t\tif (isDef(internal)) {\r\n\t\t\treturn internal;\r\n\t\t}\r\n\t\tconst height = grid[_].rowHeightsMap.get(row);\r\n\t\tif (height) {\r\n\t\t\treturn height;\r\n\t\t}\r\n\t\treturn grid[_].defaultRowHeight;\r\n\t}\r\n\tfunction _setRowHeight(grid, row, height) {\r\n\t\tgrid[_].rowHeightsMap.put(row, height);\r\n\t}\r\n\tfunction _getRowsHeight(grid, startRow, endRow) {\r\n\t\tconst internal = grid.getRowsHeightInternal(startRow, endRow);\r\n\t\tif (isDef(internal)) {\r\n\t\t\treturn internal;\r\n\t\t}\r\n\t\tconst rowCount = endRow - startRow + 1;\r\n\t\tlet h = grid[_].defaultRowHeight * rowCount;\r\n\t\tgrid[_].rowHeightsMap.each(startRow, endRow, (height) => {\r\n\t\t\th += height - grid[_].defaultRowHeight;\r\n\t\t});\r\n\t\treturn h;\r\n\t}\r\n\r\n\tfunction _getScrollWidth(grid) {\r\n\t\tlet w = _getDefaultColPxWidth(grid) * grid[_].colCount;\r\n\t\tgrid[_].colWidthsMap.eachAll((width, col) => {\r\n\t\t\tw += _adjustColWidth(grid, col, _toPxWidth(grid, width)) - _getDefaultColPxWidth(grid);\r\n\t\t});\r\n\t\treturn w;\r\n\t}\r\n\tfunction _getScrollHeight(grid, row) {\r\n\t\tconst internal = grid.getScrollHeightInternal(row);\r\n\t\tif (isDef(internal)) {\r\n\t\t\treturn internal;\r\n\t\t}\r\n\t\tlet h = grid[_].defaultRowHeight * grid[_].rowCount;\r\n\t\tgrid[_].rowHeightsMap.eachAll((height) => {\r\n\t\t\th += height - grid[_].defaultRowHeight;\r\n\t\t});\r\n\t\treturn h;\r\n\t}\r\n\tfunction _onScroll(grid, e) {\r\n\t\tconst lastLeft = grid[_].scroll.left;\r\n\t\tconst lastTop = grid[_].scroll.top;\r\n\t\tconst moveX = grid[_].scrollable.scrollLeft - lastLeft;\r\n\t\tconst moveY = grid[_].scrollable.scrollTop - lastTop;\r\n\r\n\t\t//\r\n\t\tgrid[_].scroll = {\r\n\t\t\tleft: grid[_].scrollable.scrollLeft,\r\n\t\t\ttop: grid[_].scrollable.scrollTop,\r\n\t\t};\r\n\t\tconst visibleRect = _getVisibleRect(grid);\r\n\t\tif ((Math.abs(moveX) >= visibleRect.width) || (Math.abs(moveY) >= visibleRect.height)) {\r\n\t\t\t//\r\n\t\t\t_invalidateRect(grid, visibleRect);\r\n\t\t} else {\r\n\t\t\t//\r\n\t\t\tgrid[_].context.drawImage(grid[_].canvas, -moveX, -moveY);\r\n\r\n\t\t\t\t\r\n\t\t\tif (moveX !== 0) {\r\n\t\t\t\t//\r\n\t\t\t\tconst redrawRect = visibleRect.copy();\r\n\t\t\t\tif (moveX < 0) {\r\n\t\t\t\t\tredrawRect.width = -moveX;\r\n\t\t\t\t\tif (grid[_].frozenColCount > 0) {\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\tconst frozenRect = _getFrozenColsRect(grid);\r\n\t\t\t\t\t\tredrawRect.width += frozenRect.width;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (moveX > 0) {\r\n\t\t\t\t\tredrawRect.left = redrawRect.right - moveX;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//\r\n\t\t\t\t_invalidateRect(grid, redrawRect);\r\n\r\n\t\t\t\tif (moveX > 0) {\r\n\t\t\t\t\tif (grid[_].frozenColCount > 0) {\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t_invalidateRect(grid, _getFrozenColsRect(grid));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (moveY !== 0) {\r\n\t\t\t\t//\r\n\t\t\t\tconst redrawRect = visibleRect.copy();\r\n\t\t\t\tif (moveY < 0) {\r\n\t\t\t\t\tredrawRect.height = -moveY;\r\n\t\t\t\t\tif (grid[_].frozenRowCount > 0) {\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\tconst frozenRect = _getFrozenRowsRect(grid);\r\n\t\t\t\t\t\tredrawRect.height += frozenRect.height;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (moveY > 0) {\r\n\t\t\t\t\tredrawRect.top = redrawRect.bottom - moveY;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//\r\n\t\t\t\t_invalidateRect(grid, redrawRect);\r\n\r\n\t\t\t\tif (moveY > 0) {\r\n\t\t\t\t\tif (grid[_].frozenRowCount > 0) {\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t_invalidateRect(grid, _getFrozenRowsRect(grid));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction _onKeyDownMove(grid, e) {\r\n\t\tconst {shiftKey} = e;\r\n\t\tconst keyCode = getKeyCode(e);\r\n\t\tconst focusCell = shiftKey ? grid.selection._focus : grid.selection._sel;\r\n\t\tif (keyCode === KEY_LEFT) {\r\n\t\t\tconst col = grid.getMoveLeftColByKeyDownInternal(focusCell);\r\n\t\t\tif (col < 0) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t_moveFocusCell(grid, col, focusCell.row, shiftKey);\r\n\t\t\tcancelEvent(e);\r\n\t\t} else if (keyCode === KEY_UP) {\r\n\t\t\tconst row = grid.getMoveUpRowByKeyDownInternal(focusCell);\r\n\t\t\tif (row < 0) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t_moveFocusCell(grid, focusCell.col, row, shiftKey);\r\n\t\t\tcancelEvent(e);\r\n\t\t} else if (keyCode === KEY_RIGHT) {\r\n\t\t\tconst col = grid.getMoveRightColByKeyDownInternal(focusCell);\r\n\t\t\tif (grid.colCount <= col) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t_moveFocusCell(grid, col, focusCell.row, shiftKey);\r\n\t\t\tcancelEvent(e);\r\n\t\t} else if (keyCode === KEY_DOWN) {\r\n\t\t\tconst row = grid.getMoveDownRowByKeyDownInternal(focusCell);\r\n\t\t\tif (grid.rowCount <= row) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t_moveFocusCell(grid, focusCell.col, row, shiftKey);\r\n\t\t\tcancelEvent(e);\r\n\t\t} else if (keyCode === KEY_HOME) {\r\n\t\t\tconst row = e.ctrlKey ? 0 : focusCell.row;\r\n\t\t\t_moveFocusCell(grid, 0, row, e.shiftKey);\r\n\t\t\tcancelEvent(e);\r\n\t\t} else if (keyCode === KEY_END) {\r\n\t\t\tconst row = e.ctrlKey ? grid.rowCount - 1 : focusCell.row;\r\n\t\t\t_moveFocusCell(grid, grid.colCount - 1, row, shiftKey);\r\n\t\t\tcancelEvent(e);\r\n\t\t}\r\n\t}\r\n\tfunction _moveFocusCell(grid, col, row, shiftKey) {\r\n\t\tconst offset = grid.getOffsetInvalidateCells();\r\n\r\n\t\tfunction extendRange(range) {\r\n\t\t\tif (offset > 0) {\r\n\t\t\t\trange.start.col -= offset;\r\n\t\t\t\trange.start.row -= offset;\r\n\t\t\t\trange.end.col += offset;\r\n\t\t\t\trange.end.row += offset;\r\n\t\t\t}\r\n\t\t\treturn range;\r\n\t\t}\r\n\r\n\t\tconst beforeRange = extendRange(grid.selection.range);\r\n\t\tconst beforeRect = grid.getCellsRect(\r\n\t\t\t\tbeforeRange.start.col, beforeRange.start.row,\r\n\t\t\t\tbeforeRange.end.col, beforeRange.end.row\r\n\t\t);\r\n\r\n\t\tgrid.selection._setFocusCell(col, row, shiftKey);\r\n\t\tgrid.makeVisibleCell(col, row);\r\n\t\tgrid.focusCell(col, row);\r\n\t\t\t\r\n\t\tconst afterRange = extendRange(grid.selection.range);\r\n\t\tconst afterRect = grid.getCellsRect(\r\n\t\t\t\tafterRange.start.col, afterRange.start.row,\r\n\t\t\t\tafterRange.end.col, afterRange.end.row\r\n\t\t);\r\n\r\n\t\tif (afterRect.intersection(beforeRect)) {\r\n\t\t\tconst invalidateRect = Rect.max(afterRect, beforeRect);\r\n\t\t\t_invalidateRect(grid, invalidateRect);\r\n\t\t} else {\r\n\t\t\t_invalidateRect(grid, beforeRect);\r\n\t\t\t_invalidateRect(grid, afterRect);\r\n\t\t}\r\n\t}\r\n\tfunction _getMouseAbstractPoint(grid, e) {\r\n\t\tif (isTouchEvent(e)) {\r\n\t\t\te = e.changedTouches[0];\r\n\t\t}\r\n\t\tconst clientX = e.clientX || (e.pageX + window.scrollX);\r\n\t\tconst clientY = e.clientY || (e.pageY + window.scrollY);\r\n\t\tconst rect = grid[_].canvas.getBoundingClientRect();\r\n\t\tif (rect.right <= clientX) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif (rect.bottom <= clientY) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tconst x = clientX - rect.left + grid[_].scroll.left;\r\n\t\tconst y = clientY - rect.top + grid[_].scroll.top;\r\n\t\treturn {x, y};\r\n\t}\r\n\r\n\tfunction _bindEvents(grid) {\r\n\t\tconst getCellEventArgsSet = (e) => {\r\n\t\t\tconst abstractPos = _getMouseAbstractPoint(grid, e);\r\n\t\t\tif (!abstractPos) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\tconst cell = grid.getCellAt(abstractPos.x, abstractPos.y);\r\n\t\t\tif (cell.col < 0 || cell.row < 0) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tabstractPos,\r\n\t\t\t\t\tcell\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tconst eventArgs = {\r\n\t\t\t\tcol: cell.col,\r\n\t\t\t\trow: cell.row,\r\n\t\t\t\tevent: e,\r\n\t\t\t};\r\n\t\t\treturn {\r\n\t\t\t\tabstractPos,\r\n\t\t\t\tcell,\r\n\t\t\t\teventArgs\r\n\t\t\t};\r\n\t\t};\r\n\t\tconst canResizeColumn = (col) => {\r\n\t\t\tconst limit = grid[_].colWidthsLimit[col];\r\n\t\t\tif (!limit || !limit.min || !limit.max) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn limit.max !== limit.min;\r\n\t\t};\r\n\t\tgrid[_].handler.on(grid[_].element, 'mousedown', (e) => {\r\n\t\t\tconst eventArgsSet = getCellEventArgsSet(e);\r\n\t\t\tconst {abstractPos, eventArgs} = eventArgsSet;\r\n\t\t\tif (!abstractPos) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (eventArgs) {\r\n\t\t\t\tconst results = grid.fireListeners(EVENT_TYPE.MOUSEDOWN_CELL, eventArgs);\r\n\t\t\t\tif (array.findIndex(results, (v) => !v) >= 0) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (getMouseButtons(e) !== 1) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y);\r\n\t\t\tif (resizeCol >= 0 && canResizeColumn(resizeCol)) {\r\n\t\t\t\t//\r\n\t\t\t\tgrid[_].columnResizer.start(resizeCol, e);\r\n\t\t\t} else {\r\n\t\t\t\t//\r\n\t\t\t\tgrid[_].cellSelector.start(e);\r\n\t\t\t}\r\n\t\t});\r\n\t\tlet doubleTapBefore = null;\r\n\t\tlet longTouchId = null;\r\n\t\tgrid[_].handler.on(grid[_].element, 'touchstart', (e) => {\r\n\t\t\r\n\t\t\tif (!doubleTapBefore) {\r\n\t\t\t\tdoubleTapBefore = getCellEventArgsSet(e).eventArgs;\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tdoubleTapBefore = null;\r\n\t\t\t\t}, 350);\r\n\t\t\t} else {\r\n\t\t\t\tconst {eventArgs} = getCellEventArgsSet(e);\r\n\t\t\t\tif (eventArgs &&\r\n\t\t\t\t\teventArgs.col === doubleTapBefore.col &&\r\n\t\t\t\t\teventArgs.row === doubleTapBefore.row) {\r\n\t\t\t\t\tgrid.fireListeners(EVENT_TYPE.DBLTAP_CELL, eventArgs);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdoubleTapBefore = null;\r\n\r\n\t\t\t\tif (e.defaultPrevented) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tlongTouchId = setTimeout(() => {\r\n\t\t\t\t//\r\n\t\t\t\tlongTouchId = null;\r\n\t\t\t\tconst abstractPos = _getMouseAbstractPoint(grid, e);\r\n\t\t\t\tif (!abstractPos) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y, 15);\r\n\t\t\t\tif (resizeCol >= 0 && canResizeColumn(resizeCol)) {\r\n\t\t\t\t\t//\r\n\t\t\t\t\tgrid[_].columnResizer.start(resizeCol, e);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//\r\n\t\t\t\t\tgrid[_].cellSelector.start(e);\r\n\t\t\t\t}\r\n\t\t\t}, 500);\r\n\t\t});\r\n\r\n\t\tfunction cancel(e) {\r\n\t\t\tif (longTouchId) {\r\n\t\t\t\tclearTimeout(longTouchId);\r\n\t\t\t\tlongTouchId = null;\r\n\t\t\t}\r\n\t\t}\r\n\t\tgrid[_].handler.on(grid[_].element, 'touchcancel', cancel);\r\n\t\tgrid[_].handler.on(grid[_].element, 'touchmove', cancel);\r\n\t\tgrid[_].handler.on(grid[_].element, 'touchend', (e) => {\r\n\t\t\tif (longTouchId) {\r\n\t\t\t\tclearTimeout(longTouchId);\r\n\t\t\t\tgrid[_].cellSelector.select(e);\r\n\t\t\t\tlongTouchId = null;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tlet isMouseover = false;\r\n\t\tlet mouseEnterCell = null;\r\n\t\tlet mouseOverCell = null;\r\n\t\tfunction onMouseenterCell(cell) {\r\n\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSEENTER_CELL, cell);\r\n\t\t\tmouseEnterCell = cell;\r\n\t\t}\r\n\t\tfunction onMouseleaveCell() {\r\n\t\t\tconst beforeMouseCell = mouseEnterCell;\r\n\t\t\tmouseEnterCell = null;\r\n\t\t\tif (beforeMouseCell) {\r\n\t\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSELEAVE_CELL, {\r\n\t\t\t\t\tcol: beforeMouseCell.col,\r\n\t\t\t\t\trow: beforeMouseCell.row,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\tfunction onMouseoverCell(cell) {\r\n\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSEOVER_CELL, cell);\r\n\t\t\tmouseOverCell = cell;\r\n\t\t}\r\n\t\tfunction onMouseoutCell() {\r\n\t\t\tconst beforeMouseCell = mouseOverCell;\r\n\t\t\tmouseOverCell = null;\r\n\t\t\tif (beforeMouseCell) {\r\n\t\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSEOUT_CELL, {\r\n\t\t\t\t\tcol: beforeMouseCell.col,\r\n\t\t\t\t\trow: beforeMouseCell.row,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst scrollElement = grid[_].scrollable.getElement();\r\n\t\tgrid[_].handler.on(scrollElement, 'mouseover', (e) => {\r\n\t\t\tisMouseover = true;\r\n\t\t});\r\n\t\tgrid[_].handler.on(scrollElement, 'mouseout', (e) => {\r\n\t\t\tisMouseover = false;\r\n\t\t\tonMouseoutCell();\r\n\t\t});\r\n\r\n\t\tgrid[_].handler.on(grid[_].element, 'mouseleave', (e) => {\r\n\t\t\tonMouseleaveCell();\r\n\t\t});\r\n\t\t\t\r\n\t\tgrid[_].handler.on(grid[_].element, 'mousemove', (e) => {\r\n\t\t\tconst eventArgsSet = getCellEventArgsSet(e);\r\n\t\t\tconst {abstractPos, eventArgs} = eventArgsSet;\r\n\t\t\tif (eventArgs) {\r\n\t\t\t\tconst beforeMouseCell = mouseEnterCell;\r\n\t\t\t\tif (beforeMouseCell) {\r\n\t\t\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSEMOVE_CELL, eventArgs);\r\n\t\t\t\t\tif (beforeMouseCell.col !== eventArgs.col || beforeMouseCell.row !== eventArgs.row) {\r\n\t\t\t\t\t\tonMouseoutCell();\r\n\t\t\t\t\t\tonMouseleaveCell();\r\n\t\t\t\t\t\tconst cell = {\r\n\t\t\t\t\t\t\tcol: eventArgs.col,\r\n\t\t\t\t\t\t\trow: eventArgs.row,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tonMouseenterCell(cell);\r\n\t\t\t\t\t\tif (isMouseover) {\r\n\t\t\t\t\t\t\tonMouseoverCell(cell);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (isMouseover && !mouseOverCell) {\r\n\t\t\t\t\t\tonMouseoverCell({\r\n\t\t\t\t\t\t\tcol: eventArgs.col,\r\n\t\t\t\t\t\t\trow: eventArgs.row,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst cell = {\r\n\t\t\t\t\t\tcol: eventArgs.col,\r\n\t\t\t\t\t\trow: eventArgs.row,\r\n\t\t\t\t\t};\r\n\t\t\t\t\tonMouseenterCell(cell);\r\n\t\t\t\t\tif (isMouseover) {\r\n\t\t\t\t\t\tonMouseoverCell(cell);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSEMOVE_CELL, eventArgs);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tonMouseoutCell();\r\n\t\t\t\tonMouseleaveCell();\r\n\t\t\t}\r\n\t\t\tif (grid[_].columnResizer.moving(e) || grid[_].cellSelector.moving(e)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst {style} = grid[_].element;\r\n\t\t\tif (!abstractPos) {\r\n\t\t\t\tif (style.cursor === 'col-resize') {\r\n\t\t\t\t\tstyle.cursor = '';\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y);\r\n\t\t\tif (resizeCol >= 0 && canResizeColumn(resizeCol)) {\r\n\t\t\t\tstyle.cursor = 'col-resize';\r\n\t\t\t} else {\r\n\t\t\t\tif (style.cursor === 'col-resize') {\r\n\t\t\t\t\tstyle.cursor = '';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tgrid[_].handler.on(grid[_].element, 'click', (e) => {\r\n\t\t\tif (grid[_].columnResizer.lastMoving(e) || grid[_].cellSelector.lastMoving(e)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!grid.hasListeners(EVENT_TYPE.CLICK_CELL)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst {eventArgs} = getCellEventArgsSet(e);\r\n\t\t\tif (!eventArgs) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tgrid.fireListeners(EVENT_TYPE.CLICK_CELL, eventArgs);\r\n\t\t});\r\n\t\tgrid[_].handler.on(grid[_].element, 'dblclick', (e) => {\r\n\t\t\tif (!grid.hasListeners(EVENT_TYPE.DBLCLICK_CELL)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst {eventArgs} = getCellEventArgsSet(e);\r\n\t\t\tif (!eventArgs) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tgrid.fireListeners(EVENT_TYPE.DBLCLICK_CELL, eventArgs);\r\n\t\t});\r\n\t\tgrid[_].focusControl.listen('keydown', (keyCode, e) => {\r\n\t\t\tgrid.fireListeners(EVENT_TYPE.KEYDOWN, keyCode, e);\r\n\t\t});\r\n\t\tgrid[_].selection.listen(EVENT_TYPE.SELECTED_CELL, (data) => {\r\n\t\t\tgrid.fireListeners(EVENT_TYPE.SELECTED_CELL, data, data.selected);\r\n\t\t});\r\n\r\n\t\tgrid[_].scrollable.onScroll((e) => {\r\n\t\t\t_onScroll(grid, e);\r\n\t\t\tgrid.fireListeners(EVENT_TYPE.SCROLL, {event: e});\r\n\t\t});\r\n\t\tgrid[_].focusControl.onKeyDownMove((e) => {\r\n\t\t\t_onKeyDownMove(grid, e);\r\n\t\t});\r\n\t\tgrid.listen('copydata', (range) => {\r\n\t\t\tlet copyValue = '';\r\n\t\t\tfor (let {row} = range.start; row <= range.end.row; row++) {\r\n\t\t\t\tfor (let {col} = range.start; col <= range.end.col; col++) {\r\n\t\t\t\t\tconst copyCellValue = grid.getCopyCellValue(col, row);\r\n\t\t\t\t\tif (window.Promise && copyCellValue instanceof window.Promise) {\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconst strCellValue = '' + copyCellValue;\r\n\t\t\t\t\t\tif (strCellValue.match(/^\\[object .*\\]$/)) {\r\n\t\t\t\t\t\t\t//object \r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcopyValue += strCellValue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tif (col < range.end.col) {\r\n\t\t\t\t\t\tcopyValue += '\\t';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcopyValue += '\\n';\r\n\t\t\t}\r\n\t\t\treturn copyValue;\r\n\t\t});\r\n\t\tgrid[_].focusControl.onCopy((e) => array.find(grid.fireListeners('copydata', grid[_].selection.range), isDef));\r\n\t\tgrid[_].focusControl.onInput((value) => {\r\n\t\t\tconst {col, row} = grid[_].selection.select;\r\n\t\t\tgrid.fireListeners(EVENT_TYPE.INPUT_CELL, {col, row, value});\r\n\t\t});\r\n\t\tgrid.bindEventsInternal();\r\n\t}\r\n\r\n\tfunction _getResizeColAt(grid, abstractX, abstractY, offset = 5) {\r\n\t\tif (grid[_].frozenRowCount <= 0) {\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t\tconst frozenRect = _getFrozenRowsRect(grid);\r\n\t\tif (!frozenRect.inPoint(abstractX, abstractY)) {\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t\tconst cell = grid.getCellAt(abstractX, abstractY);\r\n\t\tconst cellRect = grid.getCellRect(cell.col, cell.row);\r\n\t\tif (abstractX < cellRect.left + offset) {\r\n\t\t\treturn cell.col - 1;\r\n\t\t}\r\n\t\tif (cellRect.right - offset < abstractX) {\r\n\t\t\treturn cell.col;\r\n\t\t}\r\n\t\treturn -1;\r\n\t}\r\n\tfunction _getVisibleRect(grid) {\r\n\t\treturn new Rect(\r\n\t\t\t\tgrid[_].scroll.left,\r\n\t\t\t\tgrid[_].scroll.top,\r\n\t\t\t\tgrid[_].canvas.width,\r\n\t\t\t\tgrid[_].canvas.height\r\n\t\t);\r\n\t}\r\n\tfunction _getScrollableVisibleRect(grid) {\r\n\t\tlet frozenColsWidth = 0;\r\n\t\tif (grid[_].frozenColCount > 0) {\r\n\t\t\t//\r\n\t\t\tconst frozenRect = _getFrozenColsRect(grid);\r\n\t\t\tfrozenColsWidth = frozenRect.width;\r\n\t\t}\r\n\t\tlet frozenRowsHeight = 0;\r\n\t\tif (grid[_].frozenRowCount > 0) {\r\n\t\t\t//\r\n\t\t\tconst frozenRect = _getFrozenRowsRect(grid);\r\n\t\t\tfrozenRowsHeight = frozenRect.height;\r\n\t\t}\r\n\t\treturn new Rect(\r\n\t\t\t\tgrid[_].scroll.left + frozenColsWidth,\r\n\t\t\t\tgrid[_].scroll.top + frozenRowsHeight,\r\n\t\t\t\tgrid[_].canvas.width - frozenColsWidth,\r\n\t\t\t\tgrid[_].canvas.height - frozenRowsHeight\r\n\t\t);\r\n\t}\r\n\r\n\tfunction _toRelativeRect(grid, absoluteRect) {\r\n\t\tconst rect = absoluteRect.copy();\r\n\t\tconst visibleRect = _getVisibleRect(grid);\r\n\t\trect.offsetLeft(-visibleRect.left);\r\n\t\trect.offsetTop(-visibleRect.top);\r\n\r\n\t\treturn rect;\r\n\t}\r\n\t//end private methods\r\n\t//\r\n\t//\r\n\t//\r\n\t//\r\n\r\n\t/**\r\n\t * managing mouse down moving\r\n\t * @private\r\n\t */\r\n\tclass BaseMouseDownMover {\r\n\t\tconstructor(grid) {\r\n\t\t\tthis._grid = grid;\r\n\t\t\tthis._handler = new EventHandler();\r\n\t\t\tthis._events = {};\r\n\t\t\tthis._started = false;\r\n\t\t\tthis._moved = false;\r\n\t\t}\r\n\t\tmoving(e) {\r\n\t\t\treturn !!this._started;\r\n\t\t}\r\n\t\tlastMoving(e) {\r\n\t\t\t// mouseupclick\r\n\t\t\tif (this.moving(e)) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tconst last = this._mouseEndPoint;\r\n\t\t\tif (!last) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tconst pt = _getMouseAbstractPoint(this._grid, e);\r\n\t\t\treturn pt.x === last.x && pt.y === last.y;\r\n\t\t}\r\n\t\t_bindMoveAndUp(e) {\r\n\t\t\tif (!isTouchEvent(e)) {\r\n\t\t\t\tthis._events.mousemove = this._handler.on(document.body, 'mousemove', (e) => this._mouseMove(e));\r\n\t\t\t\tthis._events.mouseup = this._handler.on(document.body, 'mouseup', (e) => this._mouseUp(e));\r\n\t\t\t} else {\r\n\t\t\t\tthis._events.touchmove = this._handler.on(document.body, 'touchmove', (e) => this._mouseMove(e), {passive: false});\r\n\t\t\t\tthis._events.touchend = this._handler.on(document.body, 'touchend', (e) => this._mouseUp(e));\r\n\t\t\t\tthis._events.touchcancel = this._handler.on(document.body, 'touchcancel', (e) => this._mouseUp(e));\r\n\t\t\t}\r\n\t\t\tthis._started = true;\r\n\t\t\tthis._moved = false;\r\n\t\t}\r\n\t\t_mouseMove(e) {\r\n\t\t\tif (!isTouchEvent(e)) {\r\n\t\t\t\tif (getMouseButtons(e) !== 1) {\r\n\t\t\t\t\tthis._mouseUp(e);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis._moved = this._moveInternal(e) || this._moved/*calculation on after*/;\r\n\r\n\t\t\tcancelEvent(e);\r\n\t\t}\r\n\t\t_moveInternal(e) {\r\n\t\t\t//protected\r\n\t\t}\r\n\t\t_mouseUp(e) {\r\n\t\t\tthis._handler.off(this._events.mousemove);\r\n\t\t\tthis._handler.off(this._events.touchmove);\r\n\t\t\tthis._handler.off(this._events.mouseup);\r\n\t\t\tthis._handler.off(this._events.touchend);\r\n\t\t\t// this._handler.off(this._events.mouseleave);\r\n\t\t\tthis._handler.off(this._events.touchcancel);\r\n\r\n\t\t\tthis._started = false;\r\n\r\n\t\t\tthis._upInternal(e);\r\n\r\n\t\t\t// mouseupclick\r\n\t\t\tif (this._moved) { //\r\n\t\t\t\tthis._mouseEndPoint = _getMouseAbstractPoint(this._grid, e);\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis._mouseEndPoint = null;\r\n\t\t\t\t}, 10);\r\n\t\t\t}\r\n\t\t}\r\n\t\t_upInternal(e) {\r\n\t\t\t//protected\r\n\t\t}\r\n\t\tdispose() {\r\n\t\t\tthis._handler.dispose();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * managing cell selection operation with mouse\r\n\t * @private\r\n\t */\r\n\tclass CellSelector extends BaseMouseDownMover {\r\n\t\tstart(e) {\r\n\t\t\tconst cell = this._getTargetCell(e);\r\n\t\t\tif (!cell) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t_moveFocusCell(this._grid, cell.col, cell.row, e.shiftKey);\r\n\r\n\t\t\tthis._bindMoveAndUp(e);\r\n\r\n\t\t\tthis._cell = cell;\r\n\r\n\t\t\tcancelEvent(e);\r\n\t\t\t_vibrate(e);\r\n\t\t}\r\n\t\tselect(e) {\r\n\t\t\tconst cell = this._getTargetCell(e);\r\n\t\t\tif (!cell) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t_moveFocusCell(this._grid, cell.col, cell.row, e.shiftKey);\r\n\t\t\tthis._cell = cell;\r\n\t\t}\r\n\t\t_moveInternal(e) {\r\n\t\t\tconst cell = this._getTargetCell(e);\r\n\t\t\tif (!cell || (this._cell.col === cell.col && this._cell.row === cell.row)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t_moveFocusCell(this._grid, cell.col, cell.row, true);\r\n\r\n\t\t\t//make visible\r\n\t\t\tconst makeVisibleCol = (() => {\r\n\t\t\t\tif (cell.col < this._cell.col && 0 < cell.col) {\r\n\t\t\t\t\t// move left\r\n\t\t\t\t\treturn cell.col - 1;\r\n\t\t\t\t} else if (this._cell.col < cell.col && cell.col + 1 < this._grid.colCount) {\r\n\t\t\t\t\t// move right\r\n\t\t\t\t\treturn cell.col + 1;\r\n\t\t\t\t}\r\n\t\t\t\treturn cell.col;\r\n\t\t\t})();\r\n\t\t\tconst makeVisibleRow = (() => {\r\n\t\t\t\tif (cell.row < this._cell.row && 0 < cell.row) {\r\n\t\t\t\t\t// move up\r\n\t\t\t\t\treturn cell.row - 1;\r\n\t\t\t\t} else if (this._cell.row < cell.row && cell.row + 1 < this._grid.rowCount) {\r\n\t\t\t\t\t// move down\r\n\t\t\t\t\treturn cell.row + 1;\r\n\t\t\t\t}\r\n\t\t\t\treturn cell.row;\r\n\t\t\t})();\r\n\t\t\tif (makeVisibleCol !== cell.col || makeVisibleRow !== cell.row) {\r\n\t\t\t\tthis._grid.makeVisibleCell(makeVisibleCol, makeVisibleRow);\r\n\t\t\t}\r\n\t\t\tthis._cell = cell;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t_getTargetCell(e) {\r\n\t\t\tconst abstractPos = _getMouseAbstractPoint(this._grid, e);\r\n\t\t\tif (!abstractPos) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tconst cell = this._grid.getCellAt(abstractPos.x, abstractPos.y);\r\n\t\t\tif (cell.col < 0 || cell.row < 0) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\treturn cell;\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t * managing row width changing operation with mouse\r\n\t * @private\r\n\t */\r\n\tclass ColumnResizer extends BaseMouseDownMover {\r\n\t\tconstructor(grid) {\r\n\t\t\tsuper(grid);\r\n\t\t\tthis._targetCol = -1;\r\n\t\t}\r\n\t\tstart(col, e) {\r\n\t\t\tlet pageX;\r\n\t\t\tif (!isTouchEvent(e)) {\r\n\t\t\t\t({pageX} = e);\r\n\t\t\t} else {\r\n\t\t\t\t({pageX} = e.changedTouches[0]);\r\n\t\t\t}\r\n\r\n\t\t\tthis._x = pageX;\r\n\t\t\tthis._preX = 0;\r\n\r\n\t\t\tthis._bindMoveAndUp(e);\r\n\r\n\t\t\tthis._targetCol = col;\r\n\t\t\tthis._invalidateAbsoluteLeft = _getColsWidth(this._grid, 0, col - 1);\r\n\r\n\t\t\tcancelEvent(e);\r\n\t\t\t_vibrate(e);\r\n\t\t}\r\n\t\t_moveInternal(e) {\r\n\t\t\tconst pageX = isTouchEvent(e) ? e.changedTouches[0].pageX : e.pageX;\r\n\r\n\t\t\tconst x = pageX - this._x;\r\n\t\t\tconst moveX = x - this._preX;\r\n\t\t\tthis._preX = x;\r\n\t\t\tconst pre = this._grid.getColWidth(this._targetCol);\r\n\t\t\tlet afterSize = _adjustColWidth(this._grid, this._targetCol, pre + moveX);\r\n\t\t\tif (afterSize < 10 && moveX < 0) {\r\n\t\t\t\tafterSize = 10;\r\n\t\t\t}\r\n\t\t\t_setColWidth(this._grid, this._targetCol, afterSize);\r\n\r\n\t\t\tconst rect = _getVisibleRect(this._grid);\r\n\t\t\trect.left = this._invalidateAbsoluteLeft;\r\n\t\t\t_invalidateRect(this._grid, rect);\r\n\r\n\t\t\tthis._grid.fireListeners(EVENT_TYPE.RESIZE_COLUMN, {col: this._targetCol});\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t_upInternal(e) {\r\n\t\t\tthis._grid.updateScroll();\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\tfunction setSafeInputValue(input, value) {\r\n\t\tconst {type} = input;\r\n\t\tinput.type = '';\r\n\t\tinput.value = value;\r\n\t\tif (type) {\r\n\t\t\tinput.type = type;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Manage focus\r\n\t * @private\r\n\t */\r\n\tclass FocusControl extends EventTarget {\r\n\t\tconstructor(grid, parentElement, scrollable) {\r\n\t\t\tsuper();\r\n\t\t\tthis._grid = grid;\r\n\t\t\tthis._scrollable = scrollable;\r\n\t\t\tthis._handler = new EventHandler();\r\n\t\t\tthis._input = document.createElement('input');\r\n\t\t\tthis._input.classList.add('grid-focus-control');\r\n\t\t\tthis._input.readOnly = true;\r\n\t\t\tparentElement.appendChild(this._input);\r\n\r\n\t\t\tthis._handler.on(this._input, 'compositionstart', (e) => {\r\n\t\t\t\tthis._input.classList.add('composition');\r\n\t\t\t\tthis._input.style.font = this._grid.font || '16px sans-serif';\r\n\t\t\t\tthis._isComposition = true;\r\n\t\t\t\tgrid.focus();\r\n\t\t\t});\r\n\t\t\tthis._handler.on(this._input, 'compositionend', (e) => {\r\n\t\t\t\tthis._isComposition = false;\r\n\t\t\t\tthis._input.classList.remove('composition');\r\n\t\t\t\tthis._input.style.font = '';\r\n\t\t\t\tif (!this._input.readOnly) {\r\n\t\t\t\t\tthis.fireListeners('input', this._input.value);\r\n\t\t\t\t}\r\n\t\t\t\tsetSafeInputValue(this._input, '');\r\n\t\t\t});\r\n\t\t\tthis._handler.on(this._input, 'keypress', (e) => {\r\n\t\t\t\tif (this._isComposition) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!this._input.readOnly && e.key && e.key.length === 1) {\r\n\t\t\t\t\tif (e.key === 'c' && (e.ctrlKey || e.metaKey)) {\r\n\t\t\t\t\t\t//copy! for Firefox\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.fireListeners('input', e.key);\r\n\t\t\t\t\t\tcancelEvent(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tsetSafeInputValue(this._input, '');\r\n\t\t\t});\r\n\t\t\tthis._handler.on(this._input, 'keydown', (e) => {\r\n\t\t\t\tif (this._isComposition) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst keyCode = getKeyCode(e);\r\n\t\t\t\tthis.fireListeners('keydown', keyCode, e);\r\n\r\n\t\t\t\tif (!this._input.readOnly && this._input.value) {\r\n\t\t\t\t\t// for Safari\r\n\t\t\t\t\tthis.fireListeners('input', this._input.value);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsetSafeInputValue(this._input, '');\r\n\t\t\t});\r\n\t\t\tconst inputClear = (e) => {\r\n\t\t\t\tif (this._isComposition) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tsetSafeInputValue(this._input, '');\r\n\t\t\t};\r\n\r\n\t\t\tthis._handler.on(this._input, 'input', inputClear);\r\n\t\t\tthis._handler.on(this._input, 'keyup', inputClear);\r\n\t\t\tthis._handler.on(document, 'keydown', (e) => {\r\n\t\t\t\tif (!browser.IE) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (e.target !== this._input) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst keyCode = getKeyCode(e);\r\n\t\t\t\tif (keyCode === KEY_ALPHA_C && e.ctrlKey) {\r\n\t\t\t\t\tsetSafeInputValue(this._input, 'dummy');\r\n\t\t\t\t\tthis._input.select();\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tsetSafeInputValue(this._input, '');\r\n\t\t\t\t\t}, 100);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthis._handler.on(document, 'copy', (e) => {\r\n\t\t\t\tif (this._isComposition) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!isDescendantElement(parentElement, e.target)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tsetSafeInputValue(this._input, '');\r\n\t\t\t\tconst data = array.find(this.fireListeners('copy'), isDef);\r\n\t\t\t\tif (isDef(data)) {\r\n\t\t\t\t\tcancelEvent(e);\r\n\t\t\t\t\tif (browser.IE) {\r\n\t\t\t\t\t\twindow.clipboardData.setData('Text', data); // IE\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\te.clipboardData.setData('text/plain', data); // Chrome, Firefox\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tonKeyDownMove(fn) {\r\n\t\t\tthis._handler.on(this._input, 'keydown', (e) => {\r\n\t\t\t\tif (this._isComposition) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst keyCode = getKeyCode(e);\r\n\t\t\t\tif (keyCode === KEY_LEFT ||\r\n\t\t\t\t\tkeyCode === KEY_UP ||\r\n\t\t\t\t\tkeyCode === KEY_RIGHT ||\r\n\t\t\t\t\tkeyCode === KEY_DOWN ||\r\n\t\t\t\t\tkeyCode === KEY_HOME ||\r\n\t\t\t\t\tkeyCode === KEY_END\r\n\t\t\t\t) {\r\n\t\t\t\t\tfn(e);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tonInput(fn) {\r\n\t\t\treturn this.listen('input', fn);\r\n\t\t}\r\n\t\tonCopy(fn) {\r\n\t\t\treturn this.listen('copy', fn);\r\n\t\t}\r\n\t\tfocus() {\r\n\t\t\t// this._input.value = '';\r\n\t\t\tthis._input.focus();\r\n\t\t}\r\n\t\tsetFocusRect(rect) {\r\n\t\t\tconst top = this._scrollable.calcTop(rect.top);\r\n\t\t\tthis._input.style.top = (top - style.getScrollBarSize()).toFixed() + 'px';//position:relative IE position:relative\r\n\t\t\tthis._input.style.left = rect.left.toFixed() + 'px';\r\n\t\t\tthis._input.style.width = rect.width.toFixed() + 'px';\r\n\t\t\tthis._input.style.height = rect.height.toFixed() + 'px';\r\n\t\t}\r\n\t\tset editMode(editMode) {\r\n\t\t\tthis._input.readOnly = !editMode;\r\n\t\t}\r\n\t\tresetInputStatus() {\r\n\t\t\tconst el = this._input;\r\n\t\t\tconst composition = el.classList.contains('composition');\r\n\t\t\t\r\n\t\t\tconst atts = el.attributes;\r\n\t\t\tconst removeNames = [];\r\n\t\t\tfor (let i = 0, n = atts.length; i < n; i++) {\r\n\t\t\t\tconst att = atts[i];\r\n\t\t\t\tif (!this._inputStatus.hasOwnProperty(att.nodeName)) {\r\n\t\t\t\t\tremoveNames.push(att.name);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tremoveNames.forEach((removeName) => {\r\n\t\t\t\tel.removeAttribute(removeName);\r\n\t\t\t});\r\n\t\t\tfor (const name in this._inputStatus) {\r\n\t\t\t\tel.setAttribute(name, this._inputStatus[name]);\r\n\t\t\t}\r\n\t\t\tif (composition) {\r\n\t\t\t\tel.classList.add('composition');\r\n\t\t\t\tel.style.font = this._grid.font || '16px sans-serif';\r\n\t\t\t} else {\r\n\t\t\t\tel.classList.remove('composition');\r\n\t\t\t}\r\n\t\t}\r\n\t\tstoreInputStatus() {\r\n\t\t\tconst el = this._input;\r\n\t\t\tthis._inputStatus = {};\r\n\t\t\tconst atts = el.attributes;\r\n\t\t\tfor (let i = 0, n = atts.length; i < n; i++) {\r\n\t\t\t\tconst att = atts[i];\r\n\t\t\t\tthis._inputStatus[att.name] = att.value;\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetDefaultInputStatus() {\r\n\t\t\t// \r\n\t\t\t// this._input.style.font = this._grid.font || '16px sans-serif';\r\n\t\t}\r\n\t\tget editMode() {\r\n\t\t\treturn !this._input.readOnly;\r\n\t\t}\r\n\t\tget input() {\r\n\t\t\treturn this._input;\r\n\t\t}\r\n\t\tdispose() {\r\n\t\t\tsuper.dispose();\r\n\t\t\tthis._handler.dispose();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Selected area management\r\n\t */\r\n\tclass Selection extends EventTarget {\r\n\t\tconstructor(grid) {\r\n\t\t\tsuper();\r\n\t\t\tthis._grid = grid;\r\n\r\n\t\t\tthis._sel = {col: 0, row: 0};\r\n\t\t\tthis._focus = {col: 0, row: 0};\r\n\t\t\t\r\n\t\t\tthis._start = {col: 0, row: 0};\r\n\t\t\tthis._end = {col: 0, row: 0};\r\n\t\t}\r\n\t\tget range() {\r\n\t\t\tconst startCol = Math.min(this._start.col, this._end.col);\r\n\t\t\tconst startRow = Math.min(this._start.row, this._end.row);\r\n\t\t\tconst endCol = Math.max(this._start.col, this._end.col);\r\n\t\t\tconst endRow = Math.max(this._start.row, this._end.row);\r\n\t\t\treturn {\r\n\t\t\t\tstart: {\r\n\t\t\t\t\tcol: startCol,\r\n\t\t\t\t\trow: startRow,\r\n\t\t\t\t},\r\n\t\t\t\tend: {\r\n\t\t\t\t\tcol: endCol,\r\n\t\t\t\t\trow: endRow,\r\n\t\t\t\t},\r\n\t\t\t\tinCell(col, row) {\r\n\t\t\t\t\treturn startCol <= col && col <= endCol &&\r\n\t\t\t\t\t\tstartRow <= row && row <= endRow;\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t}\r\n\t\tget select() {\r\n\t\t\treturn {\r\n\t\t\t\tcol: this._sel.col,\r\n\t\t\t\trow: this._sel.row\r\n\t\t\t};\r\n\t\t}\r\n\t\tset select(cell = {}) {\r\n\t\t\tthis._wrapFireSelectedEvent(() => {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tcol = 0,\r\n\t\t\t\t\trow = 0\r\n\t\t\t\t} = cell;\r\n\t\t\t\tthis._setSelectCell(col, row);\r\n\t\t\t\tthis._setFocusCell(col, row, true);\r\n\t\t\t});\r\n\t\t}\r\n\t\t_setSelectCell(col, row) {\r\n\t\t\tthis._wrapFireSelectedEvent(() => {\r\n\t\t\t\tthis._sel = {col, row};\r\n\t\t\t\tthis._start = {col, row};\r\n\t\t\t});\r\n\t\t}\r\n\t\t_setFocusCell(col, row, keepSelect) {\r\n\t\t\tthis._wrapFireSelectedEvent(() => {\r\n\t\t\t\tif (!keepSelect) {\r\n\t\t\t\t\tthis._setSelectCell(col, row);\r\n\t\t\t\t}\r\n\t\t\t\tthis._focus = {col, row};\r\n\t\t\t\tthis._end = {col, row};\r\n\t\t\t});\r\n\t\t}\r\n\t\t_wrapFireSelectedEvent(callback) {\r\n\t\t\tif (this._isWraped) {\r\n\t\t\t\tcallback();\r\n\t\t\t} else {\r\n\t\t\t\tthis._isWraped = true;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst before = {\r\n\t\t\t\t\t\tcol: this._sel.col,\r\n\t\t\t\t\t\trow: this._sel.row,\r\n\t\t\t\t\t\tselected: false,\r\n\t\t\t\t\t};\r\n\t\t\t\t\tcallback();\r\n\t\t\t\t\tconst after = {\r\n\t\t\t\t\t\tcol: this._sel.col,\r\n\t\t\t\t\t\trow: this._sel.row,\r\n\t\t\t\t\t\tselected: true,\r\n\t\t\t\t\t\tbefore: {\r\n\t\t\t\t\t\t\tcol: before.col,\r\n\t\t\t\t\t\t\trow: before.row,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbefore.after = {\r\n\t\t\t\t\t\tcol: after.col,\r\n\t\t\t\t\t\trow: after.row,\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthis.fireListeners(EVENT_TYPE.SELECTED_CELL, before);\r\n\t\t\t\t\tthis.fireListeners(EVENT_TYPE.SELECTED_CELL, after);\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tthis._isWraped = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * This class manages the drawing process for each layer\r\n\t */\r\n\tclass DrawLayers {\r\n\t\tconstructor() {\r\n\t\t\tthis._layers = {};\r\n\t\t}\r\n\t\taddDraw(level, fn) {\r\n\t\t\tconst l = this._layers[level] || (this._layers[level] = new DrawLayer(level));\r\n\t\t\tl.addDraw(fn);\r\n\t\t}\r\n\t\tdraw(ctx) {\r\n\t\t\tconst list = [];\r\n\t\t\tfor (const k in this._layers) {\r\n\t\t\t\tlist.push(this._layers[k]);\r\n\t\t\t}\r\n\t\t\tlist.sort((a, b) => a.level - b.level);\r\n\t\t\tlist.forEach((l) => l.draw(ctx));\r\n\t\t}\r\n\t}\r\n\tclass DrawLayer {\r\n\t\tconstructor(level) {\r\n\t\t\tthis._level = level;\r\n\t\t\tthis._list = [];\r\n\t\t}\r\n\t\tget level() {\r\n\t\t\treturn this._level;\r\n\t\t}\r\n\t\taddDraw(fn) {\r\n\t\t\tthis._list.push(fn);\r\n\t\t}\r\n\t\tdraw(ctx) {\r\n\t\t\tthis._list.forEach((fn) => {\r\n\t\t\t\tctx.save();\r\n\t\t\t\ttry {\r\n\t\t\t\t\tfn(ctx);\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tctx.restore();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t * Context of cell drawing\r\n\t */\r\n\tclass DrawCellContext {\r\n\t\t/**\r\n\t\t * @private\r\n\t\t */\r\n\t\tconstructor(col, row, ctx, rect, drawRect, drawing, selection, drawLayers) {\r\n\t\t\tthis._col = col;\r\n\t\t\tthis._row = row;\r\n\t\t\tthis._mode = 0;\r\n\t\t\tthis._ctx = ctx;\r\n\t\t\tthis._rect = rect;\r\n\t\t\tthis._drawRect = drawRect;\r\n\t\t\tthis._drawing = drawing;\r\n\t\t\tthis._selection = selection;\r\n\t\t\tthis._drawLayers = drawLayers;\r\n\t\t}\r\n\t\tget drawing() {\r\n\t\t\tif (this._mode === 0) {\r\n\t\t\t\treturn this._drawing;\r\n\t\t\t} else {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\tget row() {\r\n\t\t\treturn this._row;\r\n\t\t}\r\n\t\tget col() {\r\n\t\t\treturn this._col;\r\n\t\t}\r\n\t\t/**\r\n\t\t * select status.\r\n\t\t * @return {object} select status\r\n\t\t */\r\n\t\tgetSelectState() {\r\n\t\t\tconst sel = this._selection.select;\r\n\t\t\treturn {\r\n\t\t\t\tselected: sel.col === this._col && sel.row === this._row,\r\n\t\t\t\tselection: this._selection.range.inCell(this._col, this._row),\r\n\t\t\t};\r\n\t\t}\r\n\t\t/**\r\n\t\t * Canvas context.\r\n\t\t * @return {CanvasRenderingContext2D} Canvas context.\r\n\t\t */\r\n\t\tgetContext() {\r\n\t\t\tif (this._mode === 0) {\r\n\t\t\t\treturn this._ctx;\r\n\t\t\t} else {\r\n\t\t\t\treturn this._grid._getInitContext();\r\n\t\t\t}\r\n\t\t}\r\n\t\t/**\r\n\t\t * Rectangle of cell.\r\n\t\t * @return {Rect} rect Rectangle of cell.\r\n\t\t */\r\n\t\tgetRect() {\r\n\t\t\tif (this._mode === 0) {\r\n\t\t\t\treturn this._rect;\r\n\t\t\t} else {\r\n\t\t\t\tif (this._rect) {\r\n\t\t\t\t\treturn this._rect;\r\n\t\t\t\t}\r\n\t\t\t\treturn this._grid.getCellRelativeRect(this._col, this._row);\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetRect(rect) {\r\n\t\t\tthis._rect = rect;\r\n\t\t}\r\n\t\t/**\r\n\t\t * Rectangle of Drawing range.\r\n\t\t * @return {Rect} Rectangle of Drawing range.\r\n\t\t */\r\n\t\tgetDrawRect() {\r\n\t\t\tif (this._mode === 0) {\r\n\t\t\t\treturn this._drawRect;\r\n\t\t\t} else {\r\n\t\t\t\tconst absoluteRect = this._grid.getCellRect(this._col, this._row);\r\n\t\t\t\treturn this._toRelativeDrawRect(absoluteRect);\r\n\t\t\t}\r\n\t\t}\r\n\t\t/**\r\n\t\t * get Context of current state\r\n\t\t * @return {DrawCellContext} current DrawCellContext.\r\n\t\t */\r\n\t\ttoCurrentContext() {\r\n\t\t\tif (this._mode === 0) {\r\n\t\t\t\treturn this;\r\n\t\t\t} else {\r\n\t\t\t\tconst absoluteRect = this._grid.getCellRect(this._col, this._row);\r\n\t\t\t\tconst rect = _toRelativeRect(this._grid, absoluteRect);\r\n\t\t\t\tconst drawRect = this._toRelativeDrawRect(absoluteRect);\r\n\t\t\t\tconst context = new DrawCellContext(\r\n\t\t\t\t\t\tthis._col, this._row, this.getContext(), rect, drawRect, this.drawing, this._selection,\r\n\t\t\t\t\t\tthis._drawLayers\r\n\t\t\t\t);\r\n\t\t\t\t// toCurrentContext  toCurrentContext\r\n\t\t\t\tcontext.toCurrentContext = this.toCurrentContext.bind(this);\r\n\t\t\t\treturn context;\r\n\t\t\t}\r\n\t\t}\r\n\t\taddLayerDraw(level, fn) {\r\n\t\t\tthis._drawLayers.addDraw(level, fn);\r\n\t\t}\r\n\t\t_toRelativeDrawRect(absoluteRect) {\r\n\t\t\tconst visibleRect = _getVisibleRect(this._grid);\r\n\t\t\tlet rect = absoluteRect.copy();\r\n\t\t\tif (!rect.intersection(visibleRect)) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\tconst isFrozenCell = this._grid.isFrozenCell(this._col, this._row);\r\n\t\t\tif (this._grid.frozenColCount >= 0 && (!isFrozenCell || !isFrozenCell.col)) {\r\n\t\t\t\tconst fRect = this._grid.getCellRect(this._grid.frozenColCount - 1, this._row);\r\n\t\t\t\trect = Rect.bounds(\r\n\t\t\t\t\t\tMath.max(rect.left, fRect.right),\r\n\t\t\t\t\t\trect.top,\r\n\t\t\t\t\t\trect.right,\r\n\t\t\t\t\t\trect.bottom\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tif (this._grid.frozenRowCount >= 0 && (!isFrozenCell || !isFrozenCell.row)) {\r\n\t\t\t\tconst fRect = this._grid.getCellRect(this._col, this._grid.frozenRowCount - 1);\r\n\t\t\t\trect = Rect.bounds(\r\n\t\t\t\t\t\trect.left,\r\n\t\t\t\t\t\tMath.max(rect.top, fRect.bottom),\r\n\t\t\t\t\t\trect.right,\r\n\t\t\t\t\t\trect.bottom\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\t\r\n\t\t\tif (!rect.intersection(visibleRect)) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\trect.offsetLeft(-visibleRect.left);\r\n\t\t\trect.offsetTop(-visibleRect.top);\r\n\r\n\t\t\treturn rect;\r\n\t\t}\r\n\t\t_delayMode(grid, onTerminate) {\r\n\t\t\tthis._mode = 1;\r\n\t\t\tthis._ctx = null;\r\n\t\t\tthis._rect = null;\r\n\t\t\tthis._drawRect = null;\r\n\t\t\tthis._grid = grid;\r\n\t\t\tthis._onTerminate = onTerminate;\r\n\t\t}\r\n\t\t/**\r\n\t\t * terminate\r\n\t\t * @return {void}\r\n\t\t */\r\n\t\tterminate() {\r\n\t\t\tif (this._mode !== 0) {\r\n\t\t\t\tthis._onTerminate();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t * DrawGrid\r\n\t * @classdesc cheetahGrid.core.DrawGrid\r\n\t * @extends EventTarget\r\n\t * @memberof cheetahGrid.core\r\n\t */\r\n\tclass DrawGrid extends EventTarget {\r\n\t\tstatic get EVENT_TYPE() {\r\n\t\t\treturn EVENT_TYPE;\r\n\t\t}\r\n\t\t/**\r\n\t\t * constructor\r\n\t\t *\r\n\t\t * <pre>\r\n\t\t * Constructor options\r\n\t\t * -----\r\n\t\t * rowCount: grid row count.default 10\r\n\t\t * colCount: grid col count.default 10\r\n\t\t * frozenColCount: default 0\r\n\t\t * frozenRowCount: default 0\r\n\t\t * defaultRowHeight: default grid row height. default 40\r\n\t\t * defaultColWidth: default grid col width. default 80\r\n\t\t * parentElement: canvas parentElement\r\n\t\t * font: default font\r\n\t\t * underlayBackgroundColor: underlay background color\r\n\t\t * -----\r\n\t\t * </pre>\r\n\t\t *\r\n\t\t * @constructor\r\n\t\t * @param  {Object} options Constructor options\r\n\t\t */\r\n\t\tconstructor(\r\n\t\t\t\t{\r\n\t\t\t\t\trowCount = 10,\r\n\t\t\t\t\tcolCount = 10,\r\n\t\t\t\t\tfrozenColCount = 0,\r\n\t\t\t\t\tfrozenRowCount = 0,\r\n\t\t\t\t\tdefaultRowHeight = 40,\r\n\t\t\t\t\tdefaultColWidth = 80,\r\n\t\t\t\t\tfont,\r\n\t\t\t\t\tunderlayBackgroundColor,\r\n\t\t\t\t\tparentElement,\r\n\t\t\t\t} = {}) {\r\n\t\t\tsuper();\r\n\t\t\tthis[_] = {};\r\n\t\t\tstyle.initDocument();\r\n\t\t\tthis[_].element = createRootElement();\r\n\t\t\tthis[_].scrollable = new Scrollable();\r\n\t\t\tthis[_].handler = new EventHandler();\r\n\t\t\tthis[_].selection = new Selection(this);\r\n\t\t\tthis[_].focusControl = new FocusControl(this, this[_].scrollable.getElement(), this[_].scrollable);\r\n\r\n\t\t\tthis[_].canvas = hiDPI.transform(document.createElement('canvas'));\r\n\t\t\tthis[_].context = this[_].canvas.getContext('2d', {alpha: false});\r\n\r\n\t\t\tthis[_].rowCount = rowCount;\r\n\t\t\tthis[_].colCount = colCount;\r\n\t\t\tthis[_].frozenColCount = frozenColCount;\r\n\t\t\tthis[_].frozenRowCount = frozenRowCount;\r\n\r\n\t\t\tthis[_].defaultRowHeight = defaultRowHeight;\r\n\t\t\tthis[_].defaultColWidth = defaultColWidth;\r\n\r\n\t\t\tthis[_].font = font;\r\n\t\t\tthis[_].underlayBackgroundColor = underlayBackgroundColor;\r\n\r\n\t\t\t/////\r\n\t\t\tthis[_].rowHeightsMap = new NumberMap();\r\n\t\t\tthis[_].colWidthsMap = new NumberMap();\r\n\t\t\tthis[_].colWidthsLimit = {};\r\n\t\t\tthis[_].calcWidthContext = {\r\n\t\t\t\t_: this[_],\r\n\t\t\t\tget full() {\r\n\t\t\t\t\treturn this._.canvas.width;\r\n\t\t\t\t},\r\n\t\t\t\tget em() {\r\n\t\t\t\t\treturn this._.context.measureText('').width;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tthis[_].columnResizer = new ColumnResizer(this);\r\n\t\t\tthis[_].cellSelector = new CellSelector(this);\r\n\r\n\t\t\tthis[_].drawCells = {};\r\n\r\n\t\t\tthis[_].element.appendChild(this[_].canvas);\r\n\t\t\tthis[_].element.appendChild(this[_].scrollable.getElement());\r\n\t\t\tthis.updateScroll();\r\n\t\t\tif (parentElement) {\r\n\t\t\t\tparentElement.appendChild(this[_].element);\r\n\t\t\t\tthis.updateSize();\r\n\t\t\t} else {\r\n\t\t\t\tthis.updateSize();\r\n\t\t\t}\r\n\t\t\t_bindEvents(this);\r\n\t\t}\r\n\t\tgetElement() {\r\n\t\t\treturn this[_].element;\r\n\t\t}\r\n\t\tget canvas() {\r\n\t\t\treturn this[_].canvas;\r\n\t\t}\r\n\t\tfocus() {\r\n\t\t\tconst {col, row} = this[_].selection.select;\r\n\t\t\tthis.focusCell(col, row);\r\n\t\t}\r\n\t\tget selection() {\r\n\t\t\treturn this[_].selection;\r\n\t\t}\r\n\t\tget rowCount() {\r\n\t\t\treturn this[_].rowCount;\r\n\t\t}\r\n\t\tset rowCount(rowCount) {\r\n\t\t\tthis[_].rowCount = rowCount;\r\n\t\t\tthis.updateScroll();\r\n\t\t}\r\n\t\tget colCount() {\r\n\t\t\treturn this[_].colCount;\r\n\t\t}\r\n\t\tset colCount(colCount) {\r\n\t\t\tthis[_].colCount = colCount;\r\n\t\t\tthis.updateScroll();\r\n\t\t}\r\n\t\tget frozenColCount() {\r\n\t\t\treturn this[_].frozenColCount;\r\n\t\t}\r\n\t\tset frozenColCount(frozenColCount) {\r\n\t\t\tthis[_].frozenColCount = frozenColCount;\r\n\t\t}\r\n\t\tget frozenRowCount() {\r\n\t\t\treturn this[_].frozenRowCount;\r\n\t\t}\r\n\t\tset frozenRowCount(frozenRowCount) {\r\n\t\t\tthis[_].frozenRowCount = frozenRowCount;\r\n\t\t}\r\n\t\tget defaultRowHeight() {\r\n\t\t\treturn this[_].rowCount;\r\n\t\t}\r\n\t\tset defaultRowHeight(defaultRowHeight) {\r\n\t\t\tthis[_].defaultRowHeight = defaultRowHeight;\r\n\t\t\tthis.updateScroll();\r\n\t\t}\r\n\t\tget defaultColWidth() {\r\n\t\t\treturn this[_].defaultColWidth;\r\n\t\t}\r\n\t\tset defaultColWidth(defaultColWidth) {\r\n\t\t\tthis[_].defaultColWidth = defaultColWidth;\r\n\t\t\tthis.updateScroll();\r\n\t\t}\r\n\t\tget font() {\r\n\t\t\treturn this[_].font;\r\n\t\t}\r\n\t\tset font(font) {\r\n\t\t\tthis[_].font = font;\r\n\t\t}\r\n\t\tget underlayBackgroundColor() {\r\n\t\t\treturn this[_].underlayBackgroundColor;\r\n\t\t}\r\n\t\tset underlayBackgroundColor(underlayBackgroundColor) {\r\n\t\t\tthis[_].underlayBackgroundColor = underlayBackgroundColor;\r\n\t\t}\r\n\t\tconfigure(name, value) {\r\n\t\t\tconst cfg = this[_].config || (this[_].config = {});\r\n\t\t\tif (isDef(value)) {\r\n\t\t\t\tcfg[name] = value;\r\n\t\t\t}\r\n\t\t\treturn cfg[name];\r\n\t\t}\r\n\t\tupdateSize() {\r\n\t\t\t//\r\n\t\t\tthis[_].canvas.style.width = '';\r\n\t\t\tthis[_].canvas.style.height = '';\r\n\t\t\tconst width = Math.floor(this[_].canvas.offsetWidth ||\r\n\t\t\t\t\t/*for legacy*/this[_].canvas.parentElement.offsetWidth - style.getScrollBarSize());\r\n\t\t\tconst height = Math.floor(this[_].canvas.offsetHeight ||\r\n\t\t\t\t\t/*for legacy*/this[_].canvas.parentElement.offsetHeight - style.getScrollBarSize());\r\n\r\n\t\t\tthis[_].canvas.width = width;\r\n\t\t\tthis[_].canvas.height = height;\r\n\r\n\t\t\t//style\r\n\t\t\tthis[_].canvas.style.width = `${width}px`;\r\n\t\t\tthis[_].canvas.style.height = `${height}px`;\r\n\r\n\t\t\tconst sel = this[_].selection.select;\r\n\t\t\tthis[_].focusControl.setFocusRect(this.getCellRect(sel.col, sel.row));\r\n\t\t}\r\n\t\tupdateScroll() {\r\n\t\t\tthis[_].scrollable.setScrollSize(_getScrollWidth(this), _getScrollHeight(this));\r\n\t\t\tthis[_].scroll = {\r\n\t\t\t\tleft: this[_].scrollable.scrollLeft,\r\n\t\t\t\ttop: this[_].scrollable.scrollTop,\r\n\t\t\t};\r\n\t\t}\r\n\t\tgetRowHeight(row) {\r\n\t\t\treturn _getRowHeight(this, row);\r\n\t\t}\r\n\t\tsetRowHeight(row, height) {\r\n\t\t\t_setRowHeight(this, row, height);\r\n\t\t\tthis.updateScroll();\r\n\t\t}\r\n\t\tgetColWidth(col) {\r\n\t\t\treturn _getColWidth(this, col);\r\n\t\t}\r\n\t\tsetColWidth(col, width) {\r\n\t\t\t_setColWidth(this, col, width);\r\n\t\t\tthis.updateScroll();\r\n\t\t}\r\n\t\tgetMaxColWidth(col) {\r\n\t\t\tconst obj = this[_].colWidthsLimit[col];\r\n\t\t\treturn obj && obj.max || undefined;\r\n\t\t}\r\n\t\tsetMaxColWidth(col, maxwidth) {\r\n\t\t\tconst obj = this[_].colWidthsLimit[col] || (this[_].colWidthsLimit[col] = {});\r\n\t\t\tobj.max = maxwidth;\r\n\t\t}\r\n\t\tgetMinColWidth(col) {\r\n\t\t\tconst obj = this[_].colWidthsLimit[col];\r\n\t\t\treturn obj && obj.min || undefined;\r\n\t\t}\r\n\t\tsetMinColWidth(col, minwidth) {\r\n\t\t\tconst obj = this[_].colWidthsLimit[col] || (this[_].colWidthsLimit[col] = {});\r\n\t\t\tobj.min = minwidth;\r\n\t\t}\r\n\t\tgetCellRect(col, row) {\r\n\t\t\tconst isFrozenCell = this.isFrozenCell(col, row);\r\n\r\n\t\t\tlet absoluteLeft = _getColsWidth(this, 0, col - 1);\r\n\t\t\tconst width = _getColWidth(this, col);\r\n\t\t\tif (isFrozenCell && isFrozenCell.col) {\r\n\t\t\t\tabsoluteLeft += this[_].scroll.left;\r\n\t\t\t}\r\n\r\n\t\t\tlet absoluteTop = _getRowsHeight(this, 0, row - 1);\r\n\t\t\tconst height = _getRowHeight(this, row);\r\n\t\t\tif (isFrozenCell && isFrozenCell.row) {\r\n\t\t\t\tabsoluteTop += this[_].scroll.top;\r\n\t\t\t}\r\n\t\t\treturn new Rect(\r\n\t\t\t\t\tabsoluteLeft,\r\n\t\t\t\t\tabsoluteTop,\r\n\t\t\t\t\twidth,\r\n\t\t\t\t\theight\r\n\t\t\t);\r\n\t\t}\r\n\t\tgetCellRelativeRect(col, row) {\r\n\t\t\treturn _toRelativeRect(this, this.getCellRect(col, row));\r\n\t\t}\r\n\t\tgetCellsRect(startCol, startRow, endCol, endRow) {\r\n\t\t\tconst isFrozenStartCell = this.isFrozenCell(startCol, startRow);\r\n\t\t\tconst isFrozenEndCell = this.isFrozenCell(endCol, endRow);\r\n\r\n\t\t\tlet absoluteLeft = _getColsWidth(this, 0, startCol - 1);\r\n\t\t\tlet width = _getColsWidth(this, startCol, endCol);\r\n\t\t\tif (isFrozenStartCell && isFrozenStartCell.col) {\r\n\t\t\t\tconst scrollLeft = this[_].scroll.left;\r\n\t\t\t\tabsoluteLeft += scrollLeft;\r\n\t\t\t\tif (!isFrozenEndCell || !isFrozenEndCell.col) {\r\n\t\t\t\t\twidth -= scrollLeft;\r\n\t\t\t\t\twidth = Math.max(width, _getColsWidth(this, startCol, this.frozenColCount - 1));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlet absoluteTop = _getRowsHeight(this, 0, startRow - 1);\r\n\t\t\tlet height = _getRowsHeight(this, startRow, endRow);\r\n\t\t\tif (isFrozenStartCell && isFrozenStartCell.row) {\r\n\t\t\t\tconst scrollTop = this[_].scroll.top;\r\n\t\t\t\tabsoluteTop += scrollTop;\r\n\t\t\t\tif (!isFrozenEndCell || !isFrozenEndCell.row) {\r\n\t\t\t\t\theight -= scrollTop;\r\n\t\t\t\t\theight = Math.max(height, _getColsWidth(this, startRow, this.frozenRowCount - 1));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn new Rect(\r\n\t\t\t\t\tabsoluteLeft,\r\n\t\t\t\t\tabsoluteTop,\r\n\t\t\t\t\twidth,\r\n\t\t\t\t\theight\r\n\t\t\t);\r\n\t\t}\r\n\t\tisFrozenCell(col, row) {\r\n\t\t\tconst isFrozenRow = this[_].frozenRowCount > 0 && row < this[_].frozenRowCount;\r\n\t\t\tconst isFrozenCol = this[_].frozenColCount > 0 && col < this[_].frozenColCount;\r\n\t\t\tif (isFrozenRow || isFrozenCol) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\trow: isFrozenRow,\r\n\t\t\t\t\tcol: isFrozenCol,\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\t\tgetRowAt(absoluteY) {\r\n\t\t\tconst frozen = _getTargetFrozenRowAt(this, absoluteY);\r\n\t\t\tif (frozen) {\r\n\t\t\t\treturn frozen.row;\r\n\t\t\t}\r\n\t\t\tconst row = _getTargetRowAt(this, absoluteY);\r\n\t\t\treturn row ? row.row : -1;\r\n\r\n\t\t}\r\n\t\tgetColAt(absoluteX) {\r\n\t\t\tconst frozen = _getTargetFrozenColAt(this, absoluteX);\r\n\t\t\tif (frozen) {\r\n\t\t\t\treturn frozen.col;\r\n\t\t\t}\r\n\t\t\tconst col = _getTargetColAt(this, absoluteX);\r\n\t\t\treturn col ? col.col : -1;\r\n\t\t}\r\n\t\tgetCellAt(absoluteX, absoluteY) {\r\n\t\t\treturn {\r\n\t\t\t\trow: this.getRowAt(absoluteY),\r\n\t\t\t\tcol: this.getColAt(absoluteX),\r\n\t\t\t};\r\n\t\t}\r\n\t\tmakeVisibleCell(col, row) {\r\n\t\t\tconst isFrozenCell = this.isFrozenCell(col, row);\r\n\t\t\tif (isFrozenCell && isFrozenCell.col && isFrozenCell.row) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst rect = this.getCellRect(col, row);\r\n\t\t\tconst visibleRect = _getScrollableVisibleRect(this);\r\n\t\t\tif (visibleRect.contains(rect)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!isFrozenCell || !isFrozenCell.col) {\r\n\t\t\t\tif (rect.left < visibleRect.left) {\r\n\t\t\t\t\tthis[_].scrollable.scrollLeft -= visibleRect.left - rect.left;\r\n\t\t\t\t} else if (visibleRect.right < rect.right) {\r\n\t\t\t\t\tthis[_].scrollable.scrollLeft -= visibleRect.right - rect.right;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!isFrozenCell || !isFrozenCell.row) {\r\n\t\t\t\tif (rect.top < visibleRect.top) {\r\n\t\t\t\t\tthis[_].scrollable.scrollTop -= visibleRect.top - rect.top;\r\n\t\t\t\t} else if (visibleRect.bottom < rect.bottom) {\r\n\t\t\t\t\tthis[_].scrollable.scrollTop -= visibleRect.bottom - rect.bottom;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tfocusCell(col, row) {\r\n\t\t\tconst oldEditMode = this[_].focusControl.editMode;\r\n\t\t\tif (oldEditMode) {\r\n\t\t\t\tthis[_].focusControl.resetInputStatus();\r\n\t\t\t}\r\n\r\n\t\t\tthis[_].focusControl.setFocusRect(this.getCellRect(col, row));\r\n\t\t\t\r\n\t\t\tconst {col: selCol, row: selRow} = this[_].selection.select;\r\n\t\t\tconst results = this.fireListeners(\r\n\t\t\t\t\tEVENT_TYPE.EDITABLEINPUT_CELL,\r\n\t\t\t\t\t{col: selCol, row: selRow}\r\n\t\t\t);\r\n\t\t\t\r\n\t\t\tconst editMode = (array.findIndex(results, (v) => !!v) >= 0);\r\n\t\t\tthis[_].focusControl.editMode = editMode;\r\n\t\t\t\r\n\t\t\tif (editMode) {\r\n\t\t\t\tthis[_].focusControl.storeInputStatus();\r\n\t\t\t\tthis[_].focusControl.setDefaultInputStatus();\r\n\t\t\t\tthis.fireListeners(\r\n\t\t\t\t\t\tEVENT_TYPE.MODIFY_STATUS_EDITABLEINPUT_CELL,\r\n\t\t\t\t\t\t{col: selCol, row: selRow, input: this[_].focusControl.input}\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\t// Failure occurs in IE if focus is not last\r\n\t\t\tthis[_].focusControl.focus();\r\n\t\t}\r\n\t\tinvalidateCell(col, row) {\r\n\t\t\tthis.invalidateGridRect(col, row);\r\n\t\t}\r\n\t\tinvalidateGridRect(startCol, startRow, endCol = startCol, endRow = startRow) {\r\n\t\t\tconst offset = this.getOffsetInvalidateCells();\r\n\t\t\tif (offset > 0) {\r\n\t\t\t\tstartCol -= offset;\r\n\t\t\t\tstartRow -= offset;\r\n\t\t\t\tendCol += offset;\r\n\t\t\t\tendRow += offset;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tconst visibleRect = _getVisibleRect(this);\r\n\t\t\tconst cellsRect = this.getCellsRect(startCol, startRow, endCol, endRow);\r\n\t\t\tconst invalidateTarget = visibleRect.intersection(cellsRect);\r\n\t\t\tif (invalidateTarget) {\r\n\r\n\t\t\t\tif (this[_].frozenColCount > 0 && endCol >= this[_].frozenColCount) {\r\n\t\t\t\t\tconst frozenRect = _getFrozenColsRect(this);\r\n\t\t\t\t\tif (frozenRect.intersection(invalidateTarget)) {\r\n\t\t\t\t\t\tinvalidateTarget.left = Math.min(frozenRect.right - 1, frozenRect.right);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this[_].frozenRowCount > 0 && endRow >= this[_].frozenRowCount) {\r\n\t\t\t\t\tconst frozenRect = _getFrozenRowsRect(this);\r\n\t\t\t\t\tif (frozenRect.intersection(invalidateTarget)) {\r\n\t\t\t\t\t\tinvalidateTarget.top = Math.min(frozenRect.bottom - 1, invalidateTarget.top);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t_invalidateRect(this, invalidateTarget);\r\n\t\t\t}\r\n\t\t}\r\n\t\tinvalidate() {\r\n\t\t\tconst visibleRect = _getVisibleRect(this);\r\n\t\t\t_invalidateRect(this, visibleRect);\r\n\t\t}\r\n\t\t/**\r\n\t\t * get cell value at copy action\r\n\t\t * <p>\r\n\t\t * Please implement\r\n\t\t * </p>\r\n\t\t *\r\n\t\t * @protected\r\n\t\t * @param  {number} col Column index of cell.\r\n\t\t * @param  {number} row Row index of cell.\r\n\t\t * @return {string}\r\n\t\t */\r\n\t\tgetCopyCellValue(col, row) {\r\n\t\t\t//Please implement get cell value!!\r\n\t\t}\r\n\t\t/**\r\n\t\t * Draw a cell\r\n\t\t * <p>\r\n\t\t * Please implement cell drawing.\r\n\t\t * </p>\r\n\t\t *\r\n\t\t * @protected\r\n\t\t * @param  {number} col Column index of cell.\r\n\t\t * @param  {number} row Row index of cell.\r\n\t\t * @param  {DrawCellContext} context context of cell drawing.\r\n\t\t * @return {void}\r\n\t\t */\r\n\t\tonDrawCell(col, row, context) {\r\n\t\t\t//Please implement cell drawing!!\r\n\t\t}\r\n\t\taddDisposable(disposable) {\r\n\t\t\tif (!disposable || !disposable.dispose || typeof disposable.dispose !== 'function') {\r\n\t\t\t\tthrow new Error('not disposable!');\r\n\t\t\t}\r\n\t\t\tconst disposables = this[_].disposables = this[_].disposables || [];\r\n\t\t\tdisposables.push(disposable);\r\n\t\t}\r\n\t\tdispose() {\r\n\t\t\tsuper.dispose();\r\n\t\t\tthis[_].handler.dispose();\r\n\t\t\tthis[_].scrollable.dispose();\r\n\t\t\tthis[_].focusControl.dispose();\r\n\t\t\tthis[_].columnResizer.dispose();\r\n\t\t\tthis[_].cellSelector.dispose();\r\n\t\t\tif (this[_].disposables) {\r\n\t\t\t\tthis[_].disposables.forEach((disposable) => disposable.dispose());\r\n\t\t\t\tthis[_].disposables = null;\r\n\t\t\t}\r\n\r\n\t\t\tconst {parentElement} = this[_].element;\r\n\t\t\tif (parentElement) {\r\n\t\t\t\tparentElement.removeChild(this[_].element);\r\n\t\t\t}\r\n\t\t}\r\n\t\tgetAttachCellArea(col, row) {\r\n\t\t\treturn {\r\n\t\t\t\telement: this.getElement(),\r\n\t\t\t\trect: _toRelativeRect(this, this.getCellRect(col, row)),\r\n\t\t\t};\r\n\t\t}\r\n\t\tbindEventsInternal() {\r\n\t\t\t//nop\r\n\t\t}\r\n\t\tgetTargetRowAtInternal(absoluteY) {\r\n\t\t\t// \r\n\t\t}\r\n\t\tgetRowsHeightInternal(startRow, endRow) {\r\n\t\t\t// \r\n\t\t}\r\n\t\tgetRowHeightInternal(row) {\r\n\t\t\t// \r\n\t\t}\r\n\t\tgetScrollHeightInternal(row) {\r\n\t\t\t// \r\n\t\t}\r\n\t\tgetMoveLeftColByKeyDownInternal({col, row}) {\r\n\t\t\treturn col - 1;\r\n\t\t}\r\n\t\tgetMoveRightColByKeyDownInternal({col, row}) {\r\n\t\t\treturn col + 1;\r\n\t\t}\r\n\t\tgetMoveUpRowByKeyDownInternal({col, row}) {\r\n\t\t\treturn row - 1;\r\n\t\t}\r\n\t\tgetMoveDownRowByKeyDownInternal({col, row}) {\r\n\t\t\treturn row + 1;\r\n\t\t}\r\n\t\tgetOffsetInvalidateCells() {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\t_getInitContext() {\r\n\t\t\tconst ctx = this[_].context;\r\n\t\t\t//\r\n\t\t\tctx.fillStyle = 'white';\r\n\t\t\tctx.strokeStyle = 'black';\r\n\t\t\tctx.textAlign = 'left';\r\n\t\t\tctx.textBaseline = 'top';\r\n\t\t\tctx.lineWidth = 1;\r\n\t\t\tctx.font = this.font || '16px sans-serif';\r\n\t\t\treturn ctx;\r\n\t\t}\r\n\t}\r\n\r\n\tmodule.exports = DrawGrid;\r\n}","'use strict';\r\n{\r\n\tconst {obj: {each}} = require('./utils');\r\n\tlet nextId = 1;\r\n\r\n\tclass EventHandler {\r\n\t\tconstructor() {\r\n\t\t\tthis._listeners = {};\r\n\t\t}\r\n\t\ton(target, type, listener, ...options) {\r\n\t\t\tif (target.addEventListener) {\r\n\t\t\t\ttarget.addEventListener(type, listener, ...options);\r\n\t\t\t}\r\n\t\t\tconst obj = {\r\n\t\t\t\ttarget, type, listener, options\r\n\t\t\t};\r\n\t\t\tconst id = nextId++;\r\n\t\t\tthis._listeners[id] = obj;\r\n\t\t\treturn id;\r\n\t\t}\r\n\t\ttryWithOffEvents(target, type, call) {\r\n\t\t\tconst list = [];\r\n\t\t\ttry {\r\n\t\t\t\teach(this._listeners, (obj) => {\r\n\t\t\t\t\tif (obj.target === target && obj.type === type) {\r\n\t\t\t\t\t\tif (obj.target.removeEventListener) {\r\n\t\t\t\t\t\t\tobj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlist.push(obj);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tcall();\r\n\t\t\t} finally {\r\n\t\t\t\tlist.forEach((obj) => {\r\n\t\t\t\t\tif (obj.target.addEventListener) {\r\n\t\t\t\t\t\tobj.target.addEventListener(obj.type, obj.listener, ...obj.options);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\toff(id) {\r\n\t\t\tif (!id) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst obj = this._listeners[id];\r\n\t\t\tif (!obj) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tdelete this._listeners[id];\r\n\t\t\tif (obj.target.removeEventListener) {\r\n\t\t\t\tobj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\r\n\t\t\t}\r\n\t\t}\r\n\t\tfire(target, type, ...args) {\r\n\t\t\teach(this._listeners, (obj) => {\r\n\t\t\t\tif (obj.target === target && obj.type === type) {\r\n\t\t\t\t\tobj.listener.call(obj.target, ...args);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\thasListener(target, type) {\r\n\t\t\tlet result = false;\r\n\t\t\teach(this._listeners, (obj) => {\r\n\t\t\t\tif (obj.target === target && obj.type === type) {\r\n\t\t\t\t\tresult = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn result;\r\n\t\t}\r\n\t\tclear() {\r\n\t\t\teach(this._listeners, (obj) => {\r\n\t\t\t\tif (obj.target.removeEventListener) {\r\n\t\t\t\t\tobj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthis._listeners = {};\r\n\t\t}\r\n\t\tdispose() {\r\n\t\t\tthis.clear();\r\n\t\t\tthis._listeners = null;\r\n\t\t}\r\n\t}\r\n\r\n\tmodule.exports = EventHandler;\r\n}","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target) {\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertInto + \" \" + options.insertAt.before);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\toptions.attrs.type = \"text/css\";\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\toptions.attrs.type = \"text/css\";\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","'use strict';\r\n{\r\n\tclass Rect {\r\n\t\tconstructor(left, top, width, height) {\r\n\t\t\tthis._left = left;\r\n\t\t\tthis._top = top;\r\n\t\t\tthis._width = width;\r\n\t\t\tthis._height = height;\r\n\t\t}\r\n\t\tstatic bounds(left, top, right, bottom) {\r\n\t\t\treturn new Rect(left, top, right - left, bottom - top);\r\n\t\t}\r\n\t\tstatic max(rect1, rect2) {\r\n\t\t\treturn Rect.bounds(\r\n\t\t\t\t\tMath.min(rect1.left, rect2.left),\r\n\t\t\t\t\tMath.min(rect1.top, rect2.top),\r\n\t\t\t\t\tMath.max(rect1.right, rect2.right),\r\n\t\t\t\t\tMath.max(rect1.bottom, rect2.bottom)\r\n\t\t\t);\r\n\t\t}\r\n\t\tget left() {\r\n\t\t\treturn this._left;\r\n\t\t}\r\n\t\tset left(left) {\r\n\t\t\tconst {right} = this;\r\n\t\t\tthis._left = left;\r\n\t\t\tthis.right = right;\r\n\t\t}\r\n\t\tget top() {\r\n\t\t\treturn this._top;\r\n\t\t}\r\n\t\tset top(top) {\r\n\t\t\tconst {bottom} = this;\r\n\t\t\tthis._top = top;\r\n\t\t\tthis.bottom = bottom;\r\n\t\t}\r\n\t\tget width() {\r\n\t\t\treturn this._width;\r\n\t\t}\r\n\t\tset width(width) {\r\n\t\t\tthis._width = width;\r\n\t\t\tthis._right = undefined;\r\n\t\t}\r\n\t\tget height() {\r\n\t\t\treturn this._height;\r\n\t\t}\r\n\t\tset height(height) {\r\n\t\t\tthis._height = height;\r\n\t\t\tthis._bottom = undefined;\r\n\t\t}\r\n\t\tget right() {\r\n\t\t\treturn this._right !== undefined ? this._right : (this._right = this.left + this.width);\r\n\t\t}\r\n\t\tset right(right) {\r\n\t\t\tthis._right = right;\r\n\t\t\tthis.width = right - this.left;\r\n\t\t}\r\n\t\tget bottom() {\r\n\t\t\treturn this._bottom !== undefined ? this._bottom : (this._bottom = this.top + this.height);\r\n\t\t}\r\n\t\tset bottom(bottom) {\r\n\t\t\tthis._bottom = bottom;\r\n\t\t\tthis.height = bottom - this.top;\r\n\t\t}\r\n\t\toffsetLeft(offset) {\r\n\t\t\tthis._left += offset;\r\n\t\t\tthis._right = undefined;\r\n\t\t}\r\n\t\toffsetTop(offset) {\r\n\t\t\tthis._top += offset;\r\n\t\t\tthis._bottom = undefined;\r\n\t\t}\r\n\t\tcopy() {\r\n\t\t\treturn new Rect(this.left, this.top, this.width, this.height);\r\n\t\t}\r\n\t\tintersection(rect) {\r\n\t\t\tconst x0 = Math.max(this.left, rect.left);\r\n\t\t\tconst x1 = Math.min(this.left + this.width, rect.left + rect.width);\r\n\t\t\tif (x0 <= x1) {\r\n\t\t\t\tconst y0 = Math.max(this.top, rect.top);\r\n\t\t\t\tconst y1 = Math.min(this.top + this.height, rect.top + rect.height);\r\n\t\t\t\tif (y0 <= y1) {\r\n\t\t\t\t\treturn Rect.bounds(x0, y0, x1, y1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tcontains(another) {\r\n\t\t\treturn this.left <= another.left &&\r\n\t\t\t\t\tthis.left + this.width >= another.left + another.width &&\r\n\t\t\t\t\tthis.top <= another.top &&\r\n\t\t\t\t\tthis.top + this.height >= another.top + another.height;\r\n\t\t}\r\n\t\tinPoint(x, y) {\r\n\t\t\treturn this.left <= x &&\r\n\t\t\t\t\tthis.left + this.width >= x &&\r\n\t\t\t\t\tthis.top <= y &&\r\n\t\t\t\t\tthis.top + this.height >= y;\r\n\t\t}\r\n\t}\r\n\tmodule.exports = Rect;\r\n}","'use strict';\r\n{\r\n\r\n\tfunction calcBasePosition(ctx, rect,\r\n\t\t\t{\r\n\t\t\t\toffset = 0,\r\n\t\t\t\tpadding: {\r\n\t\t\t\t\tleft: paddingLeft = 0,\r\n\t\t\t\t\tright: paddingRight = 0,\r\n\t\t\t\t\ttop: paddingTop = 0,\r\n\t\t\t\t\tbottom: paddingBottom = 0,\r\n\t\t\t\t} = {},\r\n\t\t\t} = {}) {\r\n\t\t// const textAlign = ctx.textAlign || 'left';\r\n\t\t// const textBaseline = ctx.textBaseline || 'middle';\r\n\t\t// ctx.textAlign = textAlign;\r\n\t\t// ctx.textBaseline = textBaseline;\r\n\r\n\t\t// let x = rect.left + offset + paddingLeft;\r\n\t\t// if (textAlign === 'right' || textAlign === 'end') {\r\n\t\t// \tx = rect.right - offset - paddingRight;\r\n\t\t// } else if (textAlign === 'center') {\r\n\t\t// \tx = rect.left + ((rect.width + paddingLeft - paddingRight) / 2);\r\n\t\t// }\r\n\t\t// let y = rect.top + offset;\r\n\t\t// if (textBaseline === 'bottom' || textBaseline === 'alphabetic' || textBaseline === 'ideographic') {\r\n\t\t// \ty = rect.bottom - offset;\r\n\t\t// } else if (textBaseline === 'middle') {\r\n\t\t// \ty = rect.top + (rect.height / 2);\r\n\t\t// }\r\n\t\t// return {x, y};\r\n\t\treturn calcStartPosition(ctx, rect, 0, 0, {\r\n\t\t\toffset,\r\n\t\t\tpadding: {\r\n\t\t\t\tleft: paddingLeft,\r\n\t\t\t\tright: paddingRight,\r\n\t\t\t\ttop: paddingTop,\r\n\t\t\t\tbottom: paddingBottom,\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\tfunction calcStartPosition(ctx, rect, width, height,\r\n\t\t\t{\r\n\t\t\t\toffset = 0,\r\n\t\t\t\tpadding: {\r\n\t\t\t\t\tleft: paddingLeft = 0,\r\n\t\t\t\t\tright: paddingRight = 0,\r\n\t\t\t\t\ttop: paddingTop = 0,\r\n\t\t\t\t\tbottom: paddingBottom = 0,\r\n\t\t\t\t} = {},\r\n\t\t\t} = {}) {\r\n\t\tconst textAlign = ctx.textAlign || 'left';\r\n\t\tconst textBaseline = ctx.textBaseline || 'middle';\r\n\t\tctx.textAlign = textAlign;\r\n\t\tctx.textBaseline = textBaseline;\r\n\r\n\t\tlet x = rect.left + offset + paddingLeft;\r\n\t\tif (textAlign === 'right' || textAlign === 'end') {\r\n\t\t\tx = rect.right - width - offset - paddingRight;\r\n\t\t} else if (textAlign === 'center') {\r\n\t\t\tx = rect.left + ((rect.width - width + paddingLeft - paddingRight) / 2);\r\n\t\t}\r\n\t\tlet y = rect.top + offset + paddingTop;\r\n\t\tif (textBaseline === 'bottom' || textBaseline === 'alphabetic' || textBaseline === 'ideographic') {\r\n\t\t\ty = rect.bottom - height - offset - paddingBottom;\r\n\t\t} else if (textBaseline === 'middle') {\r\n\t\t\ty = rect.top + ((rect.height - height + paddingTop - paddingBottom) / 2);\r\n\t\t}\r\n\t\treturn {x, y};\r\n\t}\r\n\r\n\tmodule.exports = {\r\n\t\tcalcBasePosition,\r\n\t\tcalcStartPosition,\r\n\t};\r\n}","'use strict';\r\n{\r\n\tconst Style = require('../style/Style');\r\n\tconst BaseColumn = require('./BaseColumn');\r\n\tconst utils = require('./columnUtils');\r\n\r\n\tclass Column extends BaseColumn {\r\n\t\tget StyleClass() {\r\n\t\t\treturn Style;\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new Column(this);\r\n\t\t}\r\n\t\tdrawInternal(value, context, style, helper, grid, {drawCellBase, getIcon}) {\r\n\t\t\tconst {\r\n\t\t\t\ttextAlign,\r\n\t\t\t\ttextBaseline,\r\n\t\t\t\tcolor,\r\n\t\t\t\tfont,\r\n\t\t\t\tbgColor,\r\n\t\t\t\tpadding,\r\n\t\t\t} = style;\r\n\t\t\tif (bgColor) {\r\n\t\t\t\tdrawCellBase({\r\n\t\t\t\t\tbgColor,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\thelper.testFontLoad(font, value, context);\r\n\t\t\tutils.loadIcons(getIcon(), context, helper, (icons, context) => {\r\n\t\t\t\thelper.text(value, context, {\r\n\t\t\t\t\ttextAlign,\r\n\t\t\t\t\ttextBaseline,\r\n\t\t\t\t\tcolor,\r\n\t\t\t\t\tfont,\r\n\t\t\t\t\ticons,\r\n\t\t\t\t\tpadding,\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tmodule.exports = Column;\r\n}","'use strict';\r\n{\r\n\tconst styleContents = require('../style');\r\n\tconst {isPromise, isDef, obj: {setReadonly}} = require('../../internal/utils');\r\n\tconst animate = require('../../internal/animate');\r\n\tconst BaseStyle = require('../style/Style');\r\n\tconst {COLUMN_FADEIN_STATE_ID} = require('../../internal/symbolManager');\r\n\r\n\r\n\tfunction isFadeinWhenCallbackInPromise(column, grid) {\r\n\t\tif (isDef(column._fadeinWhenCallbackInPromise)) {\r\n\t\t\treturn column._fadeinWhenCallbackInPromise;\r\n\t\t}\r\n\t\treturn !!grid.configure('fadeinWhenCallbackInPromise');\r\n\t}\r\n\r\n\tfunction getFadinState(grid) {\r\n\t\tif (!grid[COLUMN_FADEIN_STATE_ID]) {\r\n\t\t\tsetReadonly(grid, COLUMN_FADEIN_STATE_ID, {});\r\n\t\t}\r\n\t\treturn grid[COLUMN_FADEIN_STATE_ID];\r\n\t}\r\n\tfunction _generateFadinPointAction(grid, col, row, context, drawInternal, drawCellBase) {\r\n\t\treturn (point) => {\r\n\t\t\tconst state = getFadinState(grid);\r\n\t\t\tconst stateKey = col + ':' + row;\r\n\t\t\tif (point === 1) {\r\n\t\t\t\tdelete state[stateKey];\r\n\t\t\t} else {\r\n\t\t\t\tstate[stateKey] = {\r\n\t\t\t\t\topacity: point,\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tdrawCellBase();\r\n\r\n\t\t\tdrawInternal();\r\n\r\n\t\t\tconst cellState = state[stateKey];\r\n\t\t\tif (cellState) {\r\n\t\t\t\t//\r\n\t\t\t\tconst ctx = context.getContext();\r\n\t\t\t\tctx.globalAlpha = 1 - cellState.opacity;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tdrawCellBase();\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tctx.globalAlpha = 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\tconst fadinMgr = {\r\n\t\tanimate(grid, col, row, context, drawInternal, drawCellBase) {\r\n\t\t\t// fadein animation\r\n\t\t\tconst state = getFadinState(grid);\r\n\r\n\t\t\tconst activeFadeins = [\r\n\t\t\t\t_generateFadinPointAction(grid, col, row, context, drawInternal, drawCellBase),\r\n\t\t\t];\r\n\t\t\tstate.activeFadeins = activeFadeins;\r\n\t\t\t\r\n\t\t\tanimate(500, (point) => {\r\n\t\t\t\tactiveFadeins.forEach((f) => f(point));\r\n\t\t\t\tif (point === 1) {\r\n\t\t\t\t\tdelete state.activeFadeins;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tmargeAnimate(grid, col, row, context, drawInternal, drawCellBase) {\r\n\t\t\tconst state = getFadinState(grid);\r\n\t\t\tif (state.activeFadeins) {\r\n\t\t\t\tstate.activeFadeins.push(\r\n\t\t\t\t\t\t_generateFadinPointAction(grid, col, row, context, drawInternal, drawCellBase)\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tdrawInternal();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t};\r\n\r\n\tclass BaseColumn {\r\n\t\tconstructor(option = {}) {\r\n\t\t\tthis.onDrawCell = this.onDrawCell.bind(this);//\r\n\r\n\t\t\t//Promisecallback\r\n\t\t\tthis._fadeinWhenCallbackInPromise = option.fadeinWhenCallbackInPromise;\r\n\t\t}\r\n\t\tget StyleClass() {\r\n\t\t\treturn BaseStyle;\r\n\t\t}\r\n\t\tonDrawCell(cellValue, info, context, grid) {\r\n\t\t\tconst {style, getRecord, drawCellBase} = info;\r\n\t\t\tdelete info.getRecord;\r\n\t\t\tdelete info.style;\r\n\t\t\tconst helper = grid.getGridCanvasHelper();\r\n\t\t\tdrawCellBase();\r\n\r\n\t\t\t//\r\n\t\t\tif (isPromise(cellValue)) {\r\n\t\t\t\tif (context.drawing) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t\tconst start = Date.now();\r\n\t\t\t\treturn cellValue.then((val) => {\r\n\t\t\t\t\tconst currentContext = context.toCurrentContext();\r\n\t\t\t\t\tconst drawRect = currentContext.getDrawRect();\r\n\t\t\t\t\tif (!drawRect) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst time = Date.now() - start;\r\n\r\n\t\t\t\t\tconst drawInternal = () => {\r\n\t\t\t\t\t\tconst currentContext = context.toCurrentContext();\r\n\t\t\t\t\t\tconst drawRect = currentContext.getDrawRect();\r\n\t\t\t\t\t\tif (!drawRect) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconst actStyle = styleContents.of(style, getRecord(), this.StyleClass);\r\n\t\t\t\t\t\tthis.drawInternal(\r\n\t\t\t\t\t\t\t\tthis.convertInternal(val),\r\n\t\t\t\t\t\t\t\tcurrentContext,\r\n\t\t\t\t\t\t\t\tactStyle,\r\n\t\t\t\t\t\t\t\thelper,\r\n\t\t\t\t\t\t\t\tgrid,\r\n\t\t\t\t\t\t\t\tinfo\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tthis.drawMessageInternal(\r\n\t\t\t\t\t\t\t\tinfo.getMessage(),\r\n\t\t\t\t\t\t\t\tcontext,\r\n\t\t\t\t\t\t\t\tactStyle,\r\n\t\t\t\t\t\t\t\thelper,\r\n\t\t\t\t\t\t\t\tgrid,\r\n\t\t\t\t\t\t\t\tinfo\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tif (!isFadeinWhenCallbackInPromise(this, grid)) {\r\n\t\t\t\t\t\tdrawInternal();//\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconst {col, row} = context;\r\n\t\t\t\t\t\tif (time < 80) {\r\n\t\t\t\t\t\t\t//80msPromiseCallback\r\n\t\t\t\t\t\t\tfadinMgr.margeAnimate(grid, col, row, context, drawInternal, drawCellBase);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t//\r\n\t\t\t\t\t\t\tfadinMgr.animate(grid, col, row, context, drawInternal, drawCellBase);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tconst actStyle = styleContents.of(style, getRecord(), this.StyleClass);\r\n\t\t\t\tthis.drawInternal(\r\n\t\t\t\t\t\tthis.convertInternal(cellValue),\r\n\t\t\t\t\t\tcontext,\r\n\t\t\t\t\t\tactStyle,\r\n\t\t\t\t\t\thelper,\r\n\t\t\t\t\t\tgrid,\r\n\t\t\t\t\t\tinfo\r\n\t\t\t\t);\r\n\t\t\t\tthis.drawMessageInternal(\r\n\t\t\t\t\t\tinfo.getMessage(),\r\n\t\t\t\t\t\tcontext,\r\n\t\t\t\t\t\tactStyle,\r\n\t\t\t\t\t\thelper,\r\n\t\t\t\t\t\tgrid,\r\n\t\t\t\t\t\tinfo\r\n\t\t\t\t);\r\n\t\t\t\t//\r\n\t\t\t\tconst {col, row} = context;\r\n\t\t\t\tconst stateKey = col + ':' + row;\r\n\t\t\t\tconst cellState = grid[COLUMN_FADEIN_STATE_ID] && grid[COLUMN_FADEIN_STATE_ID][stateKey];\r\n\t\t\t\tif (cellState) {\r\n\t\t\t\t\tconst ctx = context.getContext();\r\n\t\t\t\t\tctx.globalAlpha = 1 - cellState.opacity;\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tdrawCellBase();\r\n\t\t\t\t\t} finally {\r\n\t\t\t\t\t\tctx.globalAlpha = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new BaseColumn(this);\r\n\t\t}\r\n\t\tconvertInternal(value) {\r\n\t\t\treturn isDef(value) ? value : '';\r\n\t\t}\r\n\t\tdrawInternal(value, context, style, helper, grid, info) {\r\n\t\t\t\r\n\t\t}\r\n\t\tdrawMessageInternal(message, context, style, helper, grid, info) {\r\n\t\t\tinfo.messageHandler.drawCellMessage(message, context, style, helper, info);\r\n\t\t}\r\n\t\tbindGridEvent(grid, col, util) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t}\r\n\tmodule.exports = BaseColumn;\r\n}","'use strict';\r\n\r\nconst {isDef} = require('../internal/utils');\r\nclass Inline {\r\n\tconstructor(content) {\r\n\t\tthis._content = isDef(content) ? content : '';\r\n\t}\r\n\twidth({ctx}) {\r\n\t\treturn ctx.measureText(this._content).width;\r\n\t}\r\n\tfont() {\r\n\t\treturn null;\r\n\t}\r\n\tcolor() {\r\n\t\treturn null;\r\n\t}\r\n\tcanDraw() {\r\n\t\treturn true;\r\n\t}\r\n\tonReady(fn) {\r\n\t\t\r\n\t}\r\n\tdraw({\r\n\t\tctx,\r\n\t\tcanvashelper,\r\n\t\trect,\r\n\t\toffset,\r\n\t\toffsetLeft,\r\n\t\toffsetRight,\r\n\t\toffsetTop,\r\n\t\toffsetBottom,\r\n\t}) {\r\n\t\tcanvashelper.fillTextRect(ctx, this._content,\r\n\t\t\t\trect.left, rect.top, rect.width, rect.height,\r\n\t\t\t\t{\r\n\t\t\t\t\toffset: offset + 1,\r\n\t\t\t\t\tpadding: {\r\n\t\t\t\t\t\tleft: offsetLeft,\r\n\t\t\t\t\t\tright: offsetRight,\r\n\t\t\t\t\t\ttop: offsetTop,\r\n\t\t\t\t\t\tbottom: offsetBottom,\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t}\r\n}\r\nmodule.exports = Inline;","'use strict';\r\n{\r\n\tconst {isDef, obj: {each}} = require('../internal/utils');\r\n\t//private symbol\r\n\tconst {_} = require('../internal/symbolManager').get();\r\n\r\n\tlet nextId = 1;\r\n\t/**\r\n\t * event target.\r\n\t */\r\n\tclass EventTarget {\r\n\t\tconstructor() {\r\n\t\t\tthis[_] = {};\r\n\t\t\tthis[_].listeners = {};\r\n\t\t\tthis[_].listenerData = {};\r\n\t\t}\r\n\t\t/**\r\n\t\t * Adds an event listener.\r\n\t\t * @param  {string} type The event type id.\r\n\t\t * @param  {function} listener Callback method.\r\n\t\t * @return {number} unique id for the listener.\r\n\t\t */\r\n\t\tlisten(type, listener) {\r\n\t\t\tconst list = this[_].listeners[type] || (this[_].listeners[type] = []);\r\n\t\t\tlist.push(listener);\r\n\r\n\t\t\tconst id = nextId++;\r\n\t\t\tthis[_].listenerData[id] = {\r\n\t\t\t\ttype,\r\n\t\t\t\tlistener,\r\n\t\t\t\tremove: () => {\r\n\t\t\t\t\tdelete this[_].listenerData[id];\r\n\t\t\t\t\tconst index = list.indexOf(listener);\r\n\t\t\t\t\tlist.splice(index, 1);\r\n\t\t\t\t\tif (!this[_].listeners[type].length) {\r\n\t\t\t\t\t\tdelete this[_].listeners[type];\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t\treturn id;\r\n\r\n\t\t}\r\n\t\t/**\r\n\t\t * Removes an event listener which was added with listen() by the id returned by listen().\r\n\t\t * @param  {number} id the id returned by listen().\r\n\t\t * @return {void}\r\n\t\t */\r\n\t\tunlisten(id) {\r\n\t\t\tthis[_].listenerData[id].remove();\r\n\t\t}\r\n\t\taddEventListener(type, listener) {\r\n\t\t\tthis.listen(type, listener);\r\n\t\t}\r\n\t\tremoveEventListener(type, listener) {\r\n\t\t\teach(this[_].listenerData, (obj, id) => {\r\n\t\t\t\tif (obj.type === type && obj.listener === listener) {\r\n\t\t\t\t\tthis.unlisten(id);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\thasListeners(type) {\r\n\t\t\treturn !!this[_].listeners[type];\r\n\t\t}\r\n\t\t/**\r\n\t\t * Fires all registered listeners\r\n\t\t * @param  {string}    type The type of the listeners to fire.\r\n\t\t * @param  {...*} args fire arguments\r\n\t\t * @return {*} the result of the last listener\r\n\t\t */\r\n\t\tfireListeners(type, ...args) {\r\n\t\t\tconst list = this[_].listeners[type];\r\n\t\t\tif (!list) {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t\treturn list.\r\n\t\t\t\tmap((listener) => listener.call(this, ...args)).\r\n\t\t\t\tfilter(isDef);\r\n\t\t}\r\n\t\tdispose() {\r\n\t\t\tdelete this[_];\r\n\t\t}\r\n\t}\r\n\r\n\tmodule.exports = EventTarget;\r\n}","'use strict';\r\n{\r\n\t\r\n\tconst BaseAction = require('./BaseAction');\r\n\tclass Editor extends BaseAction {\r\n\t\tconstructor(option = {}) {\r\n\t\t\tsuper(option);\r\n\t\t\tthis._readOnly = option.readOnly;\r\n\t\t}\r\n\t\tget readOnly() {\r\n\t\t\treturn this._readOnly;\r\n\t\t}\r\n\t\tset readOnly(readOnly) {\r\n\t\t\tthis._readOnly = !!readOnly;\r\n\t\t\tthis.onChangeReadOnlyInternal();\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new Editor(this);\r\n\t\t}\r\n\t\tonChangeReadOnlyInternal() {}\r\n\t}\r\n\tmodule.exports = Editor;\r\n}","'use strict';\r\n\r\nconst {isDef} = require('./utils');\r\n\r\nfunction createElement(tagName, {classList, text, html} = {}) {\r\n\tconst element = document.createElement(tagName);\r\n\tif (classList) {\r\n\t\tif (Array.isArray(classList)) {\r\n\t\t\telement.classList.add(...classList);\r\n\t\t} else {\r\n\t\t\telement.classList.add(classList);\r\n\t\t}\r\n\t}\r\n\tif (text) {\r\n\t\telement.textContent = text;\r\n\t} else if (html) {\r\n\t\telement.innerHTML = html;\r\n\t}\r\n\treturn element;\r\n}\r\n\r\nfunction empty(dom) {\r\n\tlet c;\r\n\twhile ((c = dom.firstChild)) {\r\n\t\tdom.removeChild(c);\r\n\t}\r\n}\r\nfunction isNode(arg) {\r\n\treturn !!(arg.nodeType && arg.nodeName);\r\n}\r\nfunction toNode(arg) {\r\n\tif (isNode(arg)) {\r\n\t\treturn arg;\r\n\t}\r\n\tconst dom = createElement('div', {html: arg});\r\n\treturn Array.prototype.slice.call(dom.childNodes);\r\n}\r\nfunction toNodeList(arg) {\r\n\tif ((window.jQuery && arg instanceof window.jQuery)) {\r\n\t\treturn Array.prototype.map.call(arg, (a) => a);\r\n\t}\r\n\tif (Array.isArray(arg)) {\r\n\t\treturn arg.map(toNode);\r\n\t}\r\n\treturn [toNode(arg)];\r\n}\r\n\r\nfunction appendHtml(dom, inner) {\r\n\ttoNodeList(inner).forEach((node) => {\r\n\t\tdom.appendChild(node);\r\n\t});\r\n}\r\n\r\nfunction disableFocus(el) {\r\n\tel.dataset.disableBeforeTabIndex = el.tabIndex;\r\n\tel.tabIndex = -1;\r\n\tArray.prototype.slice.call(el.children, 0).forEach(disableFocus);\r\n}\r\nfunction enableFocus(el) {\r\n\tif ('disableBeforeTabIndex' in el.dataset) {\r\n\t\tel.tabIndex = el.dataset.disableBeforeTabIndex;\r\n\t}\r\n\tArray.prototype.slice.call(el.children, 0).forEach(enableFocus);\r\n}\r\n\r\nfunction isFocusable(el) {\r\n\treturn isDef(el.tabIndex) && el.tabIndex > -1;\r\n}\r\nfunction findPrevSiblingFocusable(el) {\r\n\tlet n = el.previousSibling;\r\n\twhile (n && !isFocusable(n)) {\r\n\t\tn = n.previousSibling;\r\n\t}\r\n\treturn n;\r\n}\r\nfunction findNextSiblingFocusable(el) {\r\n\tlet n = el.nextSibling;\r\n\twhile (n && !isFocusable(n)) {\r\n\t\tn = n.nextSibling;\r\n\t}\r\n\treturn n;\r\n}\r\n\r\nmodule.exports = {\r\n\tcreateElement,\r\n\tempty,\r\n\tisNode,\r\n\ttoNode,\r\n\ttoNodeList,\r\n\tappendHtml,\r\n\tdisableFocus,\r\n\tenableFocus,\r\n\tisFocusable,\r\n\tfindPrevSiblingFocusable,\r\n\tfindNextSiblingFocusable,\r\n};","'use strict';\r\n{\r\n\tconst BaseStyle = require('./style/BaseStyle');\r\n\tconst Style = require('./style/Style');\r\n\r\n\tconst style = {\r\n\t\tget BaseStyle() {\r\n\t\t\treturn BaseStyle;\r\n\t\t},\r\n\t\tget Style() {\r\n\t\t\treturn Style;\r\n\t\t},\r\n\t\tof(columnStyle, StyleClass) {\r\n\t\t\tif (columnStyle) {\r\n\t\t\t\tif (columnStyle instanceof Style) {\r\n\t\t\t\t\treturn columnStyle;\r\n\t\t\t\t} else if (typeof columnStyle === 'function') {\r\n\t\t\t\t\treturn style.of(columnStyle(), StyleClass);\r\n\t\t\t\t}\r\n\t\t\t\treturn new StyleClass(columnStyle);\r\n\t\t\t} else {\r\n\t\t\t\treturn StyleClass.DEFAULT;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tmodule.exports = style;\r\n}","'use strict';\r\n\r\nfunction parse(calcStr) {\r\n\tfunction replacer(match, num, unit) {\r\n\t\tswitch (unit) {\r\n\t\tcase '%':\r\n\t\t\treturn `(${num} * this.full / 100)`;\r\n\t\tcase 'em':\r\n\t\t\treturn `(${num} * this.em)`;\r\n\t\tcase 'px':\r\n\t\t\treturn `(${num})`;\r\n\t\tdefault:\r\n\t\t\tthrow new Error('calc error');\r\n\t\t}\r\n\t}\r\n\tconst script = calcStr.replace(/^calc\\((.*)\\)$/, '$1').\r\n\t\treplace(/(\\d+)([A-Za-z%]+)/g, replacer).\r\n\t\treplace(/(\\d*\\.\\d+)([A-Za-z%]+)/g, replacer);\r\n\treturn {\r\n\t\teval(context) {\r\n\t\t\treturn (() => {\r\n\t\t\t\tfunction calc(v) { // eslint-disable-line no-unused-vars\r\n\t\t\t\t\treturn v;\r\n\t\t\t\t}\r\n\t\t\t\treturn eval(script);// eslint-disable-line no-eval\r\n\t\t\t}).call(context);\r\n\t\t}\r\n\t};\r\n}\r\nfunction toPx(value, context) {\r\n\tif (/^calc\\(.*\\)$/.test(value)) {\r\n\t\treturn parse(value).eval(context);\r\n\t}\r\n\tif (/^[+-]?\\d+\\.?\\d*%$/.test(value)) {\r\n\t\treturn context.full * value.substr(0, value.length - 1) / 100;\r\n\t}\r\n\tif (/^[+-]?\\d+\\.?\\d*px$/.test(value)) {\r\n\t\treturn value.substr(0, value.length - 2) - 0;\r\n\t}\r\n\tif (/^[+-]?\\d+\\.?\\d*em$/.test(value)) {\r\n\t\treturn context.em * (value.substr(0, value.length - 2) - 0);\r\n\t}\r\n\treturn value - 0;\r\n}\r\n\r\nmodule.exports = {\r\n\tparse,\r\n\ttoPx(value, context) {\r\n\t\tif (typeof value === 'string') {\r\n\t\t\treturn toPx(value.trim(), context);\r\n\t\t}\r\n\t\treturn value - 0;\r\n\t}\r\n};","'use strict';\r\n{\r\n\t\r\n\r\n\tclass BaseAction {\r\n\t\tconstructor(option = {}) {\r\n\t\t\tthis._disabled = option.disabled;\r\n\t\t}\r\n\t\tget disabled() {\r\n\t\t\treturn this._disabled;\r\n\t\t}\r\n\t\tset disabled(disabled) {\r\n\t\t\tthis._disabled = !!disabled;\r\n\t\t\tthis.onChangeDisabledInternal();\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new BaseAction(this);\r\n\t\t}\r\n\t\tbindGridEvent(grid, col, util) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t\tonChangeDisabledInternal() {}\r\n\t}\r\n\tmodule.exports = BaseAction;\r\n}","'use strict';\r\n{\r\n\tconst BaseStyle = require('./BaseStyle');\r\n\r\n\tlet defaultStyle;\r\n\tclass StdBaseStyle extends BaseStyle {\r\n\t\tstatic get DEFAULT() {\r\n\t\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new StdBaseStyle());\r\n\t\t}\r\n\t\tconstructor(style = {}) {\r\n\t\t\tsuper(style);\r\n\t\t\tthis._textAlign = style.textAlign || 'left';\r\n\t\t\tthis._textBaseline = style.textBaseline || 'middle';\r\n\t\t}\r\n\t\tget textAlign() {\r\n\t\t\treturn this._textAlign;\r\n\t\t}\r\n\t\tset textAlign(textAlign) {\r\n\t\t\tthis._textAlign = textAlign;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t\tget textBaseline() {\r\n\t\t\treturn this._textBaseline;\r\n\t\t}\r\n\t\tset textBaseline(textBaseline) {\r\n\t\t\tthis._textBaseline = textBaseline;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new StdBaseStyle(this);\r\n\t\t}\r\n\t}\r\n\tmodule.exports = StdBaseStyle;\r\n}","'use strict';\r\n{\r\n\tconst EventTarget = require('../../core/EventTarget');\r\n\r\n\tconst EVENT_TYPE = {\r\n\t\tCHANGE_STYLE: 'change_style',\r\n\t};\r\n\r\n\tlet defaultStyle;\r\n\tclass BaseStyle extends EventTarget {\r\n\t\tstatic get EVENT_TYPE() {\r\n\t\t\treturn EVENT_TYPE;\r\n\t\t}\r\n\t\tstatic get DEFAULT() {\r\n\t\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new BaseStyle());\r\n\t\t}\r\n\t\tconstructor(\r\n\t\t\t\t{\r\n\t\t\t\t\tbgColor\r\n\t\t\t\t} = {}) {\r\n\t\t\tsuper();\r\n\t\t\tthis._bgColor = bgColor;\r\n\t\t}\r\n\t\tget bgColor() {\r\n\t\t\treturn this._bgColor;\r\n\t\t}\r\n\t\tset bgColor(bgColor) {\r\n\t\t\tthis._bgColor = bgColor;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t\tdoChangeStyle() {\r\n\t\t\tthis.fireListeners(EVENT_TYPE.CHANGE_STYLE);\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new BaseStyle(this);\r\n\t\t}\r\n\t}\r\n\tmodule.exports = BaseStyle;\r\n}","'use strict';\r\n{\r\n\tconst {isPromise} = require('../../internal/utils');\r\n\tconst icons = require('../../internal/icons');\r\n\tmodule.exports = {\r\n\t\tloadIcons(icon, context, helper, callback) {\r\n\t\t\tif (icon) {\r\n\t\t\t\tif (isPromise(icon)) {\r\n\t\t\t\t\ticon.then((i) => {\r\n\t\t\t\t\t\tthis.loadIcon(i, context.toCurrentContext(), callback);\r\n\t\t\t\t\t});\r\n\t\t\t\t\ticon = null;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst iconList = icons.toNormarizeArray(icon);\r\n\t\t\t\t\ticonList.forEach((i) => {\r\n\t\t\t\t\t\thelper.testFontLoad(i.font, i.content, context);\r\n\t\t\t\t\t});\r\n\t\t\t\t\ticon = iconList;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcallback(icon, context);\r\n\t\t},\r\n\t};\r\n}","'use strict';\r\n\r\nconst {isDef} = require('./utils');\r\n\r\nconst ICON_PROP_KEYS = [\r\n\t'content',\r\n\t'font',\r\n\t'color',\r\n\t'className',\r\n\t'isLiga',\r\n\t'width',\r\n\t'src',\r\n\t'svg',\r\n\t'name',\r\n\t'path'\r\n];\r\n\r\nfunction quote(name) {\r\n\tconst quoted = [];\r\n\tconst split = name.split(/,\\s*/);\r\n\tfor (let i = 0; i < split.length; i++) {\r\n\t\tconst part = split[i].replace(/['\"]/g, '');\r\n\t\tif (part.indexOf(' ') === -1 && !(/^\\d/.test(part))) {\r\n\t\t\tquoted.push(part);\r\n\t\t} else {\r\n\t\t\tquoted.push('\\'' + part + '\\'');\r\n\t\t}\r\n\t}\r\n\treturn quoted.join(',');\r\n}\r\n\r\nconst doms = {};\r\nconst props = {};\r\n\r\nfunction getIconProps(tagName, className) {\r\n\tconst tagProps = props[tagName] || (props[tagName] = {});\r\n\tif (tagProps[className]) {\r\n\t\treturn tagProps[className];\r\n\t}\r\n\tconst dom = doms[tagName] || (doms[tagName] = document.createElement(tagName));\r\n\tdom.className = className;\r\n\tdocument.body.appendChild(dom);\r\n\ttry {\r\n\t\tconst beforeStyle = document.defaultView.getComputedStyle(dom, '::before');\r\n\t\tlet content = beforeStyle.getPropertyValue('content');\r\n\t\tif (content.length >= 3 && (content[0] === '\"' || content[0] === '\\'')) {\r\n\t\t\tif (content[0] === content[content.length - 1]) {\r\n\t\t\t\tcontent = content.substr(1, content.length - 2);\r\n\t\t\t}\r\n\t\t}\r\n\t\tlet font = beforeStyle.getPropertyValue('font');\r\n\t\tif (!font) {\r\n\t\t\tfont = beforeStyle.getPropertyValue('font-style') + ' ' +\r\n\t\t\t\tbeforeStyle.getPropertyValue('font-variant') + ' ' +\r\n\t\t\t\tbeforeStyle.getPropertyValue('font-weight') + ' ' +\r\n\t\t\t\tbeforeStyle.getPropertyValue('font-size') + '/' +\r\n\t\t\t\tbeforeStyle.getPropertyValue('line-height') + ' ' +\r\n\t\t\t\tquote(beforeStyle.getPropertyValue('font-family'));\r\n\t\t}\r\n\t\tconst color = beforeStyle.getPropertyValue('color');\r\n\t\tconst width = dom.clientWidth;\r\n\t\tconst isLiga = (beforeStyle.getPropertyValue('font-feature-settings') || '').indexOf('liga') > -1;\r\n\t\t\r\n\t\treturn (tagProps[className] = {\r\n\t\t\tcontent,\r\n\t\t\tfont,\r\n\t\t\tcolor,\r\n\t\t\twidth,\r\n\t\t\tisLiga,\r\n\t\t});\r\n\t} finally {\r\n\t\tdocument.body.removeChild(dom);\r\n\t}\r\n}\r\n\r\nfunction toPropArray(prop, count) {\r\n\tconst result = [];\r\n\tif (Array.isArray(prop)) {\r\n\t\tresult.push(...prop);\r\n\t\tfor (let i = prop.length; i < count; i++) {\r\n\t\t\tresult.push(null);\r\n\t\t}\r\n\t} else {\r\n\t\tfor (let i = 0; i < count; i++) {\r\n\t\t\tresult.push(prop);\r\n\t\t}\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nfunction toSimpleArray(iconProps) {\r\n\tif (!iconProps) {\r\n\t\treturn iconProps;\r\n\t} else if (Array.isArray(iconProps)) {\r\n\t\treturn iconProps;\r\n\t}\r\n\r\n\tconst workData = {};\r\n\r\n\tlet count = 0;\r\n\tICON_PROP_KEYS.forEach((k) => {\r\n\t\tif (iconProps[k]) {\r\n\t\t\tif (Array.isArray(iconProps[k])) {\r\n\t\t\t\tcount = Math.max(count, iconProps[k].length);\r\n\t\t\t} else {\r\n\t\t\t\tcount = Math.max(count, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tICON_PROP_KEYS.forEach((k) => {\r\n\t\tworkData[k] = toPropArray(iconProps[k], count);\r\n\t});\r\n\r\n\tconst result = [];\r\n\tfor (let i = 0; i < count; i++) {\r\n\t\tconst data = {};\r\n\t\tICON_PROP_KEYS.forEach((k) => {\r\n\t\t\tdata[k] = workData[k][i];\r\n\t\t});\r\n\t\tresult.push(data);\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nfunction normarize(iconProps) {\r\n\tconst data = {};\r\n\tfor (const k in iconProps) {\r\n\t\tif (k === 'className') {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tdata[k] = iconProps[k];\r\n\t}\r\n\tif (iconProps.className) {\r\n\t\tconst prop = getIconProps(iconProps.tagName || 'i', iconProps.className);\r\n\t\tfor (const k in prop) {\r\n\t\t\tif (!isDef(iconProps[k])) {\r\n\t\t\t\tdata[k] = prop[k];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn data;\r\n}\r\n\r\nmodule.exports = {\r\n\ttoNormarizeArray(iconProps) {\r\n\t\tconst icons = toSimpleArray(iconProps);\r\n\t\tif (!icons) {\r\n\t\t\treturn icons;\r\n\t\t}\r\n\t\treturn icons.map((icon) => normarize(icon));\r\n\t},\r\n\tget iconPropKeys() {\r\n\t\treturn ICON_PROP_KEYS;\r\n\t},\r\n\tgetIconProps,\r\n};\r\n\r\n\r\n","'use strict';\r\n{\r\n\tconst {extend, getIgnoreCase} = require('./internal/utils');\r\n\tconst theme = require('./themes/theme');\r\n\tconst plugins = require('./plugins/themes');\r\n\tconst BASIC = theme.create(require('./themes/BASIC'));\r\n\tconst MATERIAL_DESIGN = theme.create(require('./themes/MATERIAL_DESIGN'));\r\n\r\n\tconst builtin = {\r\n\t\tBASIC,\r\n\t\tMATERIAL_DESIGN,\r\n\t};\r\n\tlet defTheme = theme.create({});\r\n\t/**\r\n\t * themes\r\n\t * @type {Object}\r\n\t * @namespace cheetahGrid.themes\r\n\t * @memberof cheetahGrid\r\n\t */\r\n\tconst themes = {\r\n\t\tget default() {\r\n\t\t\treturn defTheme;\r\n\t\t},\r\n\t\tset default(defaultTheme) {\r\n\t\t\tdefTheme = defaultTheme;\r\n\t\t},\r\n\t\ttheme,\r\n\t\tof(value) {\r\n\t\t\tif (!value) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tif (typeof value === 'string') {\r\n\t\t\t\tconst t = getIgnoreCase(themes.choices, value);\r\n\t\t\t\tif (t) {\r\n\t\t\t\t\treturn t;\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\treturn value;\r\n\t\t},\r\n\t\t/**\r\n\t\t * @namespace cheetahGrid.themes.choices\r\n\t\t */\r\n\t\tget choices() {\r\n\t\t\treturn extend(builtin, plugins);\r\n\t\t},\r\n\t};\r\n\tmodule.exports = themes;\r\n}","'use strict';\r\n\r\nfunction getPath2D() {\r\n\t//return require('./legacy/canvas/Path2D');\r\n\treturn window.Path2D || require('./legacy/canvas/Path2D');\r\n}\r\n\r\nmodule.exports = {\r\n\tfill(module, ctx, x, y, w, h) {\r\n\t\tctx.save();\r\n\t\ttry {\r\n\t\t\tconst {width, height} = module;\r\n\t\t\tconst {ud: upsideDown, x: offsetX = 0, y: offsetY = 0} = module;\r\n\t\t\tw = w || width;\r\n\t\t\th = h || height;\r\n\t\t\tconst xrate = w / width;\r\n\t\t\tconst yrate = h / (upsideDown ? -height : height);\r\n\t\t\tx = x || 0;\r\n\t\t\ty = upsideDown ? ((y || 0) + (-height * yrate)) : (y || 0);\r\n\r\n\t\t\tctx.translate(x, y);\r\n\t\t\tctx.scale(xrate, yrate);\r\n\t\t\tif (offsetX !== 0 || offsetY !== 0) {\r\n\t\t\t\tctx.translate(offsetX, offsetY);\r\n\t\t\t}\r\n\t\t\tconst Path2D = getPath2D();\r\n\t\t\tmodule.path2d = module.path2d || (new Path2D(module.d));\r\n\t\t\tctx.fill(module.path2d);\r\n\t\t} finally {\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t},\r\n\tget Path2D() {\r\n\t\treturn getPath2D();\r\n\t},\r\n};\r\n","'use strict';\r\n{\r\n\tconst MultilineTextStyle = require('../style/MultilineTextStyle');\r\n\tconst BaseColumn = require('./BaseColumn');\r\n\tconst utils = require('./columnUtils');\r\n\tclass MultilineTextColumn extends BaseColumn {\r\n\t\tconstructor(option = {}) {\r\n\t\t\tsuper(option);\r\n\t\t}\r\n\t\tget StyleClass() {\r\n\t\t\treturn MultilineTextStyle;\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new MultilineTextColumn(this);\r\n\t\t}\r\n\t\tdrawInternal(value, context, style, helper, grid, {drawCellBase, getIcon}) {\r\n\t\t\tconst {\r\n\t\t\t\ttextAlign,\r\n\t\t\t\ttextBaseline,\r\n\t\t\t\tcolor,\r\n\t\t\t\tfont,\r\n\t\t\t\tbgColor,\r\n\t\t\t\tpadding,\r\n\t\t\t\tlineHeight,\r\n\t\t\t} = style;\r\n\t\t\tif (bgColor) {\r\n\t\t\t\tdrawCellBase({\r\n\t\t\t\t\tbgColor,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tconst multilines = value.replace(/\\r?\\n/g, '\\n').replace(/\\r/g, '\\n').split('\\n');\r\n\t\t\thelper.testFontLoad(font, value, context);\r\n\t\t\tutils.loadIcons(getIcon(), context, helper, (icons, context) => {\r\n\t\t\t\thelper.multilineText(multilines, context, {\r\n\t\t\t\t\ttextAlign,\r\n\t\t\t\t\ttextBaseline,\r\n\t\t\t\t\tcolor,\r\n\t\t\t\t\tfont,\r\n\t\t\t\t\ticons,\r\n\t\t\t\t\tpadding,\r\n\t\t\t\t\tlineHeight,\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tmodule.exports = MultilineTextColumn;\r\n}","'use strict';\r\n{\r\n\tconst Style = require('./Style');\r\n\r\n\tfunction adj(style) {\r\n\t\tconst {textBaseline = 'top'} = style;\r\n\t\tstyle.textBaseline = textBaseline;\r\n\t\treturn style;\r\n\t}\r\n\tlet defaultStyle;\r\n\tclass MultilineTextStyle extends Style {\r\n\t\tstatic get DEFAULT() {\r\n\t\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new MultilineTextStyle());\r\n\t\t}\r\n\t\tconstructor(style = {}) {\r\n\t\t\tsuper(adj(style));\r\n\t\t\tthis._lineHeight = style.lineHeight || '1em';\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new MultilineTextStyle(this);\r\n\t\t}\r\n\t\tget lineHeight() {\r\n\t\t\treturn this._lineHeight;\r\n\t\t}\r\n\t\tset lineHeight(lineHeight) {\r\n\t\t\tthis._lineHeight = lineHeight;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tmodule.exports = MultilineTextStyle;\r\n}","'use strict';\r\n{\r\n\tfunction getScrollBarWidth() {\r\n\t\tconst dummy = document.createElement('div');\r\n\t\tconst {style} = dummy;\r\n\t\tstyle.position = 'absolute';\r\n\t\tstyle.height = '9999px';\r\n\t\tstyle.width = 'calc(100vw - 100%)';\r\n\t\tstyle.opacity = 0;\r\n\t\tdummy.textContent = 'x';\r\n\t\tdocument.body.appendChild(dummy);\r\n\t\tconst {width} = document.defaultView.getComputedStyle(dummy, '');\r\n\t\tdocument.body.removeChild(dummy);\r\n\t\treturn parseInt(width, 10);\r\n\t}\r\n\r\n\tlet SCROLLBAR_SIZE;\r\n\tconst initDocument = () => {\r\n\t\trequire('./style.css');\r\n\t\tSCROLLBAR_SIZE = getScrollBarWidth() || 10;\r\n\t\tconst style = document.createElement('style');\r\n\t\tstyle.setAttribute('type', 'text/css');\r\n\t\tstyle.setAttribute('data-name', 'cheetah-grid');\r\n\t\tstyle.innerHTML =\r\n\t\t`\r\n.cheetah-grid .grid-scroll-end-point {\r\n\twidth: ${SCROLLBAR_SIZE}px;\r\n\theight: ${SCROLLBAR_SIZE}px;\r\n}\r\n.cheetah-grid > canvas {\r\n\twidth: -webkit-calc(100% - ${SCROLLBAR_SIZE}px);\r\n\twidth: calc(100% - ${SCROLLBAR_SIZE}px);\r\n\theight: -webkit-calc(100% - ${SCROLLBAR_SIZE}px);\r\n\theight: calc(100% - ${SCROLLBAR_SIZE}px);\r\n}\r\n\t\t`;\r\n\r\n\t\tdocument.head.appendChild(style);\r\n\t};\r\n\r\n\tconst style = {\r\n\t\tinitDocument() {\r\n\t\t\tstyle.initDocument = () => {};\r\n\t\t\tinitDocument();\r\n\t\t},\r\n\t\tgetScrollBarSize() {\r\n\t\t\treturn SCROLLBAR_SIZE;\r\n\t\t}\r\n\t};\r\n\r\n\tmodule.exports = style;\r\n}","'use strict';\r\n{\r\n\tconst {calcBasePosition, calcStartPosition} = require('../internal/canvases');\r\n\tconst {ceil, PI} = Math;\r\n\r\n\tfunction strokeColorsRect(ctx, borderColors, left, top, width, height) {\r\n\t\tfunction strokeRectLines(positions) {\r\n\t\t\tfor (let i = 0; i < borderColors.length; i++) {\r\n\t\t\t\tconst color = borderColors[i];\r\n\t\t\t\tconst preColor = borderColors[i - 1];\r\n\t\t\t\tif (color) {\r\n\t\t\t\t\tif (preColor !== color) {\r\n\t\t\t\t\t\tif (preColor) {\r\n\t\t\t\t\t\t\tctx.strokeStyle = preColor;\r\n\t\t\t\t\t\t\tctx.stroke();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconst pos1 = positions[i];\r\n\t\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\t\tctx.moveTo(pos1.x, pos1.y);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst pos2 = positions[i + 1];\r\n\t\t\t\t\tctx.lineTo(pos2.x, pos2.y);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (preColor) {\r\n\t\t\t\t\t\tctx.strokeStyle = preColor;\r\n\t\t\t\t\t\tctx.stroke();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconst preColor = borderColors[borderColors.length - 1];\r\n\t\t\tif (preColor) {\r\n\t\t\t\tctx.strokeStyle = preColor;\r\n\t\t\t\tctx.stroke();\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (borderColors[0] === borderColors[1] &&\r\n\t\t\tborderColors[0] === borderColors[2] &&\r\n\t\t\tborderColors[0] === borderColors[3]) {\r\n\t\t\tif (borderColors[0]) {\r\n\t\t\t\tctx.strokeStyle = borderColors[0];\r\n\t\t\t\tctx.strokeRect(left, top, width, height);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tstrokeRectLines([\r\n\t\t\t\t{x: left, y: top},\r\n\t\t\t\t{x: left + width, y: top},\r\n\t\t\t\t{x: left + width, y: top + height},\r\n\t\t\t\t{x: left, y: top + height},\r\n\t\t\t\t{x: left, y: top},\r\n\t\t\t]);\r\n\t\t}\r\n\t}\r\n\tfunction roundRect(ctx, left, top, width, height, radius) {\r\n\t\tctx.beginPath();\r\n\t\tctx.arc(left + radius, top + radius, radius, -PI, -0.5 * PI, false);\r\n\t\tctx.arc(left + width - radius, top + radius, radius, -0.5 * PI, 0, false);\r\n\t\tctx.arc(left + width - radius, top + height - radius, radius, 0, 0.5 * PI, false);\r\n\t\tctx.arc(left + radius, top + height - radius, radius, 0.5 * PI, PI, false);\r\n\t\tctx.closePath();\r\n\t}\r\n\tfunction fillRoundRect(ctx, left, top, width, height, radius) {\r\n\t\troundRect(ctx, left, top, width, height, radius);\r\n\t\tctx.fill();\r\n\t}\r\n\tfunction strokeRoundRect(ctx, left, top, width, height, radius) {\r\n\t\troundRect(ctx, left, top, width, height, radius);\r\n\t\tctx.stroke();\r\n\t}\r\n\tfunction fillTextRect(ctx, text, left, top, width, height,\r\n\t\t\t{\r\n\t\t\t\toffset = 2,\r\n\t\t\t\tpadding,\r\n\t\t\t} = {}) {\r\n\t\tconst rect = {\r\n\t\t\tleft,\r\n\t\t\ttop,\r\n\t\t\twidth,\r\n\t\t\theight,\r\n\t\t\tright: left + width,\r\n\t\t\tbottom: top + height,\r\n\t\t};\r\n\t\tctx.save();\r\n\t\ttry {\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\r\n\t\t\t//clip\r\n\t\t\tctx.clip();\r\n\r\n\t\t\t//\r\n\t\t\tconst pos = calcBasePosition(ctx, rect, {\r\n\t\t\t\toffset,\r\n\t\t\t\tpadding\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tctx.fillText(text, pos.x, pos.y);\r\n\t\t} finally {\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t}\r\n\tfunction drawInlineImageRect(ctx, image,\r\n\t\t\tsrcLeft, srcTop, srcWidth, srcHeight,\r\n\t\t\tdestWidth, destHeight,\r\n\t\t\tleft, top, width, height,\r\n\t\t\t{\r\n\t\t\t\toffset = 2,\r\n\t\t\t\tpadding,\r\n\t\t\t} = {}) {\r\n\t\tconst rect = {\r\n\t\t\tleft,\r\n\t\t\ttop,\r\n\t\t\twidth,\r\n\t\t\theight,\r\n\t\t\tright: left + width,\r\n\t\t\tbottom: top + height,\r\n\t\t};\r\n\t\tctx.save();\r\n\t\ttry {\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\r\n\t\t\t//clip\r\n\t\t\tctx.clip();\r\n\r\n\t\t\t//\r\n\t\t\tconst pos = calcStartPosition(ctx, rect, destWidth, destHeight, {\r\n\t\t\t\toffset,\r\n\t\t\t\tpadding\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tctx.drawImage(image,\r\n\t\t\t\t\tsrcLeft, srcTop, srcWidth, srcHeight,\r\n\t\t\t\t\tpos.x, pos.y, destWidth, destHeight\r\n\t\t\t);\r\n\t\t} finally {\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Returns an object containing the width of the checkbox.\r\n\t * @param  {CanvasRenderingContext2D} ctx canvas context\r\n\t * @return {Object} Object containing the width of the checkbox\r\n\t * @memberof cheetahGrid.tools.canvashelper\r\n\t */\r\n\tfunction measureCheckbox(ctx) {\r\n\t\treturn {\r\n\t\t\twidth: ctx.measureText('').width\r\n\t\t};\r\n\t}\r\n\t\t\r\n\t/**\r\n\t * draw Checkbox\r\n\t * @param  {CanvasRenderingContext2D} ctx canvas context\r\n\t * @param  {number} x The x coordinate where to start drawing the checkbox (relative to the canvas)\r\n\t * @param  {number} y The y coordinate where to start drawing the checkbox (relative to the canvas)\r\n\t * @param  {boolean|number} check checkbox check status\r\n\t * @param  {object} option option\r\n\t * @return {void}\r\n\t * @memberof cheetahGrid.tools.canvashelper\r\n\t */\r\n\tfunction drawCheckbox(ctx, x, y, check,\r\n\t\t\t{\r\n\t\t\t\tuncheckBgColor = '#FFF',\r\n\t\t\t\tcheckBgColor = 'rgb(76, 73, 72)',\r\n\t\t\t\tborderColor = '#000',\r\n\t\t\t\tboxSize = measureCheckbox(ctx).width,\r\n\t\t\t} = {}) {\r\n\t\tconst checkPoint = typeof check === 'number' ? (check > 1 ? 1 : check) : 1;\r\n\r\n\t\tctx.save();\r\n\t\ttry {\r\n\t\t\tctx.fillStyle = check ? checkBgColor : uncheckBgColor;\r\n\t\t\t\r\n\t\t\tfillRoundRect(\r\n\t\t\t\t\tctx,\r\n\t\t\t\t\tceil(x) - 1,\r\n\t\t\t\t\tceil(y) - 1,\r\n\t\t\t\t\tceil(boxSize + 1),\r\n\t\t\t\t\tceil(boxSize + 1),\r\n\t\t\t\t\tboxSize / 5\r\n\t\t\t);\r\n\t\t\tctx.lineWidth = 1;\r\n\t\t\tctx.strokeStyle = borderColor;\r\n\t\t\tstrokeRoundRect(\r\n\t\t\t\t\tctx,\r\n\t\t\t\t\tceil(x) - 0.5,\r\n\t\t\t\t\tceil(y) - 0.5,\r\n\t\t\t\t\tceil(boxSize),\r\n\t\t\t\t\tceil(boxSize),\r\n\t\t\t\t\tboxSize / 5\r\n\t\t\t);\r\n\t\t\tif (check) {\r\n\t\t\t\tctx.lineWidth = ceil(boxSize / 10);\r\n\t\t\t\tctx.strokeStyle = uncheckBgColor;\r\n\t\t\t\tlet leftWidth = boxSize / 4;\r\n\t\t\t\tlet rightWidth = boxSize / 2 * 0.9;\r\n\t\t\t\tconst leftLeftPos = x + boxSize * 0.2;\r\n\t\t\t\tconst leftTopPos = y + boxSize / 2;\r\n\r\n\t\t\t\tif (checkPoint < 0.5) {\r\n\t\t\t\t\tleftWidth = leftWidth * (checkPoint * 2);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.moveTo(leftLeftPos, leftTopPos);\r\n\t\t\t\tctx.lineTo(leftLeftPos + leftWidth, leftTopPos + leftWidth);\r\n\t\t\t\tif (checkPoint > 0.5) {\r\n\t\t\t\t\tif (checkPoint < 1) {\r\n\t\t\t\t\t\trightWidth = rightWidth * ((checkPoint - 0.5) * 2);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tctx.lineTo(leftLeftPos + leftWidth + rightWidth, leftTopPos + leftWidth - rightWidth);\r\n\t\t\t\t}\r\n\t\t\t\tctx.stroke();\r\n\t\t\t}\r\n\t\t} finally {\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t}\r\n\tfunction drawButton(ctx, left, top, width, height, option = {}) {\r\n\t\tconst {\r\n\t\t\tbackgroundColor = '#FFF',\r\n\t\t\tbgColor = backgroundColor,\r\n\t\t\tradius = 4,\r\n\t\t\tshadow = {},\r\n\t\t} = option;\r\n\t\tctx.save();\r\n\t\ttry {\r\n\t\t\tctx.fillStyle = bgColor;\r\n\r\n\t\t\tif (shadow) {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tcolor = 'rgba(0, 0, 0, 0.24)',\r\n\t\t\t\t\tblur = 1,\r\n\t\t\t\t\toffsetX = 0,\r\n\t\t\t\t\toffsetY = 2,\r\n\t\t\t\t\toffset: {\r\n\t\t\t\t\t\tx: ox = offsetX,\r\n\t\t\t\t\t\ty: oy = offsetY\r\n\t\t\t\t\t} = {},\r\n\t\t\t\t} = shadow;\r\n\t\t\t\tctx.shadowColor = color;\r\n\t\t\t\tctx.shadowBlur = blur; //\r\n\t\t\t\tctx.shadowOffsetX = ox;\r\n\t\t\t\tctx.shadowOffsetY = oy;\r\n\t\t\t}\r\n\r\n\t\t\tfillRoundRect(\r\n\t\t\t\t\tctx,\r\n\t\t\t\t\tceil(left),\r\n\t\t\t\t\tceil(top),\r\n\t\t\t\t\tceil(width),\r\n\t\t\t\t\tceil(height),\r\n\t\t\t\t\tradius\r\n\t\t\t);\r\n\t\t} finally {\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * canvashelper\r\n\t * @type {Object}\r\n\t * @namespace cheetahGrid.tools.canvashelper\r\n\t * @memberof cheetahGrid.tools\r\n\t */\r\n\tconst canvashelper = {\r\n\t\troundRect,\r\n\t\tfillRoundRect,\r\n\t\tstrokeRoundRect,\r\n\t\tdrawCheckbox,\r\n\t\tmeasureCheckbox,\r\n\t\tfillTextRect,\r\n\t\tdrawButton,\r\n\t\tdrawInlineImageRect,\r\n\t\tstrokeColorsRect,\r\n\t};\r\n\r\n\r\n\tmodule.exports = canvashelper;\r\n}","'use strict';\r\n{\r\n\tconst action = require('./columns/action');\r\n\tconst type = require('./columns/type');\r\n\tconst style = require('./columns/style');\r\n\r\n\t/**\r\n\t * columns\r\n\t * @type {Object}\r\n\t * @namespace cheetahGrid.columns\r\n\t * @memberof cheetahGrid\r\n\t */\r\n\tmodule.exports = {\r\n\t\taction,\r\n\t\ttype,\r\n\t\tstyle,\r\n\t};\r\n}","'use strict';\r\n{\r\n\t\r\n\tconst {bindCellClickAction, bindCellKeyAction} = require('./actionBind');\r\n\r\n\tconst BaseAction = require('./BaseAction');\r\n\r\n\tclass Action extends BaseAction {\r\n\t\tconstructor(option = {}) {\r\n\t\t\tsuper(option);\r\n\t\t\tthis._action = option.action;\r\n\t\t}\r\n\t\tget action() {\r\n\t\t\treturn this._action;\r\n\t\t}\r\n\t\tset action(action) {\r\n\t\t\tthis._action = action;\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new Action(this);\r\n\t\t}\r\n\t\tgetState(grid) {\r\n\t\t\treturn {};\r\n\t\t}\r\n\t\tbindGridEvent(grid, col, util) {\r\n\t\t\tconst state = this.getState(grid);\r\n\t\t\tconst action = (cell) => {\r\n\t\t\t\tif (this.disabled) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst record = grid.getRowRecord(cell.row);\r\n\t\t\t\tthis._action(record);\r\n\t\t\t};\r\n\r\n\t\t\treturn [\r\n\t\t\t\t...bindCellClickAction(grid, col, util, {\r\n\t\t\t\t\taction,\r\n\t\t\t\t\tmouseOver: (e) => {\r\n\t\t\t\t\t\tif (this.disabled) {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tstate.mouseActiveCell = {\r\n\t\t\t\t\t\t\tcol: e.col,\r\n\t\t\t\t\t\t\trow: e.row\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tgrid.invalidateCell(e.col, e.row);\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmouseOut: (e) => {\r\n\t\t\t\t\t\tdelete state.mouseActiveCell;\r\n\t\t\t\t\t\tgrid.invalidateCell(e.col, e.row);\r\n\t\t\t\t\t},\r\n\t\t\t\t}),\r\n\t\t\t\t...bindCellKeyAction(grid, col, util, {\r\n\t\t\t\t\taction\r\n\t\t\t\t})\r\n\t\t\t];\r\n\t\t}\r\n\t}\r\n\r\n\tmodule.exports = Action;\r\n}","'use strict';\r\n{\r\n\t\r\n\tconst {isPromise, event: {cancel}} = require('../../internal/utils');\r\n\tconst {EVENT_TYPE: {\r\n\t\tCLICK_CELL,\r\n\t\tMOUSEOVER_CELL,\r\n\t\tMOUSEOUT_CELL,\r\n\t\tKEYDOWN,\r\n\t}} = require('../../core/DrawGrid');\r\n\tconst KEY_ENTER = 13;\r\n\tfunction bindCellClickAction(grid, col, util, {\r\n\t\taction,\r\n\t\tmouseOver,\r\n\t\tmouseOut\r\n\t}) {\r\n\t\treturn [\r\n\t\t\t// click\r\n\t\t\tgrid.listen(CLICK_CELL, (e) => {\r\n\t\t\t\tif (!util.isTarget(e.col, e.row)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (isPromise(grid.getRowRecord(e.row))) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\taction({\r\n\t\t\t\t\tcol: e.col,\r\n\t\t\t\t\trow: e.row\r\n\t\t\t\t});\r\n\t\t\t}),\r\n\t\t\t// mouse move\r\n\t\t\tgrid.listen(MOUSEOVER_CELL, (e) => {\r\n\t\t\t\tif (!util.isTarget(e.col, e.row)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (isPromise(grid.getRowRecord(e.row))) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (mouseOver) {\r\n\t\t\t\t\tif (!mouseOver({\r\n\t\t\t\t\t\tcol: e.col,\r\n\t\t\t\t\t\trow: e.row\r\n\t\t\t\t\t})) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tgrid.getElement().style.cursor = 'pointer';\r\n\t\t\t}),\r\n\t\t\tgrid.listen(MOUSEOUT_CELL, (e) => {\r\n\t\t\t\tif (!util.isTarget(e.col, e.row)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (mouseOut) {\r\n\t\t\t\t\tmouseOut({\r\n\t\t\t\t\t\tcol: e.col,\r\n\t\t\t\t\t\trow: e.row\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tgrid.getElement().style.cursor = '';\r\n\t\t\t}),\r\n\t\t];\r\n\t}\r\n\tfunction bindCellKeyAction(grid, col, util, {action, acceptKeys = []}) {\r\n\t\tacceptKeys = [...acceptKeys, KEY_ENTER];\r\n\t\treturn [\r\n\t\t\t// enter key down\r\n\t\t\tgrid.listen(KEYDOWN, (keyCode, e) => {\r\n\t\t\t\tif (acceptKeys.indexOf(keyCode) === -1) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst sel = grid.selection.select;\r\n\t\t\t\tif (!util.isTarget(sel.col, sel.row)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (isPromise(grid.getRowRecord(sel.row))) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\taction({\r\n\t\t\t\t\tcol: sel.col,\r\n\t\t\t\t\trow: sel.row\r\n\t\t\t\t});\r\n\t\t\t\tcancel(e);\r\n\t\t\t}),\r\n\r\n\t\t];\r\n\t}\r\n\r\n\tmodule.exports = {\r\n\t\tbindCellClickAction,\r\n\t\tbindCellKeyAction,\r\n\t};\r\n}","'use strict';\r\n{\r\n\tfunction cubicBezier(x2, y2, x3, y3) {\r\n\t\tlet step;\r\n\t\tconst err = 0.0001;\r\n\r\n\t\tx2 *= 3;\r\n\t\ty2 *= 3;\r\n\t\tx3 *= 3;\r\n\t\ty3 *= 3;\r\n\t\t\t\r\n\t\treturn function(t) {\r\n\t\t\tlet p,\r\n\t\t\t\ta,\r\n\t\t\t\tb,\r\n\t\t\t\tc,\r\n\t\t\t\td,\r\n\t\t\t\tx,\r\n\t\t\t\ts;\r\n\t\t\tif (t < 0 || 1 < t) {\r\n\t\t\t\tthrow new Error(t);\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tp = step || t;\r\n\r\n\t\t\tdo {\r\n\t\t\t\ta = 1 - p;\r\n\t\t\t\tb = a * a;\r\n\t\t\t\tc = p * p;\r\n\t\t\t\td = c * p;\r\n\t\t\t\t\t\r\n\t\t\t\tx = x2 * b * p + x3 * a * c + d;\r\n\t\t\t\ts = t - x;\r\n\t\t\t\tp += s * 0.5;\r\n\t\t\t} while (err < Math.abs(s));\r\n\r\n\t\t\tstep = p;\r\n\t\t\treturn\ty2 * b * p + y3 * a * c + d;\r\n\t\t};\r\n\t}\r\n\tconst EASINGS = {\r\n\t\tlinear(p) {\r\n\t\t\treturn p;\r\n\t\t},\r\n\t\teaseIn: cubicBezier(0.420, 0.000, 1.000, 1.000),\r\n\t\teaseOut: cubicBezier(0.000, 0.000, 0.580, 1.000),\r\n\t\teaseInOut: cubicBezier(0.420, 0.000, 0.580, 1.000),\r\n\t};\r\n\r\n\tconst raf = window.requestAnimationFrame || setTimeout;\r\n\t\r\n\tfunction now() {\r\n\t\treturn Date.now();\r\n\t}\r\n\t/**\r\n\t * <pre>\r\n\t * Animates.\r\n\t * </pre>\r\n\t * @function\r\n\t * @param {number} duration animation time.\r\n\t * @param {function} step\r\n\t * @param {function|string} easing\r\n\t * @returns {object} Deferred object.\r\n\t */\r\n\tmodule.exports = (duration, step, easing) => {\r\n\t\tconst startedAt = now();\r\n\r\n\t\tif (!easing) {\r\n\t\t\teasing = EASINGS.easeInOut;\r\n\t\t} else if (typeof easing === 'string') {\r\n\t\t\teasing = EASINGS[easing];\r\n\t\t}\r\n\r\n\t\tlet canceledFlg = false;\r\n\t\tconst createAnim = (resolve, reject) => {\r\n\t\t\tconst anim = () => {\r\n\t\t\t\tconst point = now() - startedAt;\r\n\t\t\t\tif (canceledFlg) {\r\n\t\t\t\t\t//cancel\r\n\t\t\t\t\tif (reject) { reject(); }\r\n\t\t\t\t} else if (point >= duration) {\r\n\t\t\t\t\t//end\r\n\t\t\t\t\tstep(1);\r\n\t\t\t\t\tif (resolve) { resolve(); }\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstep(easing(point / duration));\r\n\r\n\t\t\t\t\traf(anim, 1);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\treturn anim;\r\n\t\t};\r\n\t\tconst cancel = () => {\r\n\t\t\tcanceledFlg = true;\r\n\t\t};\r\n\t\tif (window.Promise) {\r\n\t\t\tconst result = new window.Promise((resolve, reject) => {\r\n\t\t\t\tconst anim = createAnim(resolve, reject);\r\n\t\t\t\tstep(0);\r\n\t\t\t\tanim();\r\n\t\t\t});\r\n\t\t\tresult.cancel = cancel;\r\n\t\t\treturn result;\r\n\t\t} else {\r\n\t\t\tconst anim = createAnim(() => {}, () => {});\r\n\t\t\tstep(0);\r\n\t\t\tanim();\r\n\t\t\treturn {\r\n\t\t\t\tcancel,\r\n\t\t\t};\r\n\t\t}\r\n\t};\r\n}","'use strict';\r\n{\r\n\t\r\n\tconst Editor = require('./Editor');\r\n\tconst {EVENT_TYPE: {\r\n\t\tINPUT_CELL,\r\n\t\tEDITABLEINPUT_CELL,\r\n\t\tSELECTED_CELL,\r\n\t\tDBLCLICK_CELL,\r\n\t\tDBLTAP_CELL,\r\n\t\tKEYDOWN,\r\n\t\tMODIFY_STATUS_EDITABLEINPUT_CELL,\r\n\t\tSCROLL\r\n\t}} = require('../../core/DrawGrid');\r\n\tconst KEY_ENTER = 13;\r\n\tconst KEY_F2 = 113;\r\n\r\n\tclass BaseInputEditor extends Editor {\r\n\t\tconstructor(option = {}) {\r\n\t\t\tsuper(option);\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new BaseInputEditor(this);\r\n\t\t}\r\n\t\tonInputCellInternal(grid, cell, inputValue) {\r\n\t\t\tthrow new Error();\r\n\t\t}\r\n\t\tonOpenCellInternal(grid, cell) {\r\n\t\t\tthrow new Error();\r\n\t\t}\r\n\t\tonChangeSelectCellInternal(grid, cell, selected) {\r\n\t\t\tthrow new Error();\r\n\t\t}\r\n\t\tonSetInputAttrsInternal(grid, cell, input) {\r\n\t\t\tthrow new Error();\r\n\t\t}\r\n\t\tonGridScrollInternal(grid) {\r\n\t\t\tthrow new Error();\r\n\t\t}\r\n\t\tbindGridEvent(grid, col, util) {\r\n\t\t\tconst open = (cell) => {\r\n\t\t\t\tif (this.readOnly || this.disabled) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.onOpenCellInternal(grid, cell);\r\n\t\t\t};\r\n\r\n\t\t\tconst input = (cell, value) => {\r\n\t\t\t\tif (this.readOnly || this.disabled) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.onInputCellInternal(grid, cell, value);\r\n\t\t\t};\r\n\t\t\treturn [\r\n\t\t\t\tgrid.listen(INPUT_CELL, (e) => {\r\n\t\t\t\t\tif (!util.isTarget(e.col, e.row)) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tinput({\r\n\t\t\t\t\t\tcol: e.col,\r\n\t\t\t\t\t\trow: e.row\r\n\t\t\t\t\t}, e.value);\r\n\t\t\t\t}),\r\n\t\t\t\tgrid.listen(DBLCLICK_CELL, (cell) => {\r\n\t\t\t\t\tif (!util.isTarget(cell.col, cell.row)) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\topen({\r\n\t\t\t\t\t\tcol: cell.col,\r\n\t\t\t\t\t\trow: cell.row\r\n\t\t\t\t\t});\r\n\t\t\t\t}),\r\n\t\t\t\tgrid.listen(DBLTAP_CELL, (e) => {\r\n\t\t\t\t\tif (!util.isTarget(e.col, e.row)) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\topen({\r\n\t\t\t\t\t\tcol: e.col,\r\n\t\t\t\t\t\trow: e.row\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\te.event.preventDefault();\r\n\t\t\t\t\te.event.stopPropagation();\r\n\t\t\t\t}),\r\n\t\t\t\tgrid.listen(KEYDOWN, (keyCode, e) => {\r\n\t\t\t\t\tif (keyCode !== KEY_F2 && keyCode !== KEY_ENTER) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst sel = grid.selection.select;\r\n\t\t\t\t\tif (!util.isTarget(sel.col, sel.row)) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\topen({\r\n\t\t\t\t\t\tcol: sel.col,\r\n\t\t\t\t\t\trow: sel.row\r\n\t\t\t\t\t});\r\n\t\t\t\t}),\r\n\t\t\t\tgrid.listen(SELECTED_CELL, (e) => {\r\n\t\t\t\t\tthis.onChangeSelectCellInternal(grid, {col: e.col, row: e.row}, e.selected);\r\n\t\t\t\t}),\r\n\t\t\t\tgrid.listen(SCROLL, () => {\r\n\t\t\t\t\tthis.onGridScrollInternal(grid);\r\n\t\t\t\t}),\r\n\t\t\t\tgrid.listen(EDITABLEINPUT_CELL, (cell) => {\r\n\t\t\t\t\tif (!util.isTarget(cell.col, cell.row)) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.readOnly || this.disabled) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}),\r\n\t\t\t\tgrid.listen(MODIFY_STATUS_EDITABLEINPUT_CELL, (cell) => {\r\n\t\t\t\t\tif (!util.isTarget(cell.col, cell.row)) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.readOnly || this.disabled) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.onSetInputAttrsInternal(grid, {\r\n\t\t\t\t\t\tcol: cell.col,\r\n\t\t\t\t\t\trow: cell.row\r\n\t\t\t\t\t}, cell.input);\r\n\t\t\t\t}),\r\n\t\t\t\t\r\n\t\t\t];\r\n\t\t}\r\n\t}\r\n\r\n\tmodule.exports = BaseInputEditor;\r\n}","'use strict';\r\n\r\nfunction normalize(options) {\r\n\tif (!options) {\r\n\t\treturn [];\r\n\t}\r\n\tif (Array.isArray(options)) {\r\n\t\treturn options;\r\n\t}\r\n\tif (typeof options === 'string') {\r\n\t\treturn normalize(JSON.parse(options));\r\n\t}\r\n\tconst result = [];\r\n\tfor (const k in options) {\r\n\t\tresult.push({\r\n\t\t\tvalue: k,\r\n\t\t\tcaption: options[k]\r\n\t\t});\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nmodule.exports = {\r\n\tnormalize,\r\n};\r\n","'use strict';\r\n{\r\n\tconst BaseStyle = require('./style/BaseStyle');\r\n\tconst Style = require('./style/Style');\r\n\tconst NumberStyle = require('./style/NumberStyle');\r\n\tconst CheckStyle = require('./style/CheckStyle');\r\n\tconst ButtonStyle = require('./style/ButtonStyle');\r\n\tconst ImageStyle = require('./style/ImageStyle');\r\n\tconst IconStyle = require('./style/IconStyle');\r\n\tconst PercentCompleteBarStyle = require('./style/PercentCompleteBarStyle');\r\n\r\n\t/**\r\n\t * column styles\r\n\t * @type {Object}\r\n\t * @namespace cheetahGrid.columns.style\r\n\t * @memberof cheetahGrid.columns\r\n\t */\r\n\tconst style = {\r\n\t\tget EVENT_TYPE() {\r\n\t\t\treturn BaseStyle.EVENT_TYPE;\r\n\t\t},\r\n\t\tget BaseStyle() {\r\n\t\t\treturn BaseStyle;\r\n\t\t},\r\n\t\tget Style() {\r\n\t\t\treturn Style;\r\n\t\t},\r\n\t\tget NumberStyle() {\r\n\t\t\treturn NumberStyle;\r\n\t\t},\r\n\t\tget CheckStyle() {\r\n\t\t\treturn CheckStyle;\r\n\t\t},\r\n\t\tget ButtonStyle() {\r\n\t\t\treturn ButtonStyle;\r\n\t\t},\r\n\t\tget ImageStyle() {\r\n\t\t\treturn ImageStyle;\r\n\t\t},\r\n\t\tget IconStyle() {\r\n\t\t\treturn IconStyle;\r\n\t\t},\r\n\t\tget PercentCompleteBarStyle() {\r\n\t\t\treturn PercentCompleteBarStyle;\r\n\t\t},\r\n\t\tof(columnStyle, record, StyleClass) {\r\n\t\t\tif (columnStyle) {\r\n\t\t\t\tif (columnStyle instanceof Style) {\r\n\t\t\t\t\treturn columnStyle;\r\n\t\t\t\t} else if (typeof columnStyle === 'function') {\r\n\t\t\t\t\treturn style.of(columnStyle(record), record, StyleClass);\r\n\t\t\t\t} else if (record && columnStyle in record) {\r\n\t\t\t\t\treturn style.of(record[columnStyle], record, StyleClass);\r\n\t\t\t\t}\r\n\t\t\t\treturn new StyleClass(columnStyle);\r\n\t\t\t} else {\r\n\t\t\t\treturn StyleClass.DEFAULT;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tmodule.exports = style;\r\n}","'use strict';\r\n{\r\n\tconst Style = require('./Style');\r\n\r\n\tfunction adj(style) {\r\n\t\tconst {textAlign = 'right'} = style;\r\n\t\tstyle.textAlign = textAlign;\r\n\t\treturn style;\r\n\t}\r\n\tlet defaultStyle;\r\n\tclass NumberStyle extends Style {\r\n\t\tstatic get DEFAULT() {\r\n\t\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new NumberStyle());\r\n\t\t}\r\n\t\tconstructor(style = {}) {\r\n\t\t\tsuper(adj(style));\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new NumberStyle(this);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tmodule.exports = NumberStyle;\r\n}","'use strict';\r\n{\r\n\tconst StdBaseStyle = require('./StdBaseStyle');\r\n\r\n\tfunction adj(style) {\r\n\t\tconst {textAlign = 'center'} = style;\r\n\t\tstyle.textAlign = textAlign;\r\n\t\treturn style;\r\n\t}\r\n\tlet defaultStyle;\r\n\tclass CheckStyle extends StdBaseStyle {\r\n\t\tstatic get DEFAULT() {\r\n\t\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new CheckStyle());\r\n\t\t}\r\n\t\tconstructor(style = {}) {\r\n\t\t\tsuper(adj(style));\r\n\t\t\tconst {\r\n\t\t\t\tuncheckBgColor,\r\n\t\t\t\tcheckBgColor,\r\n\t\t\t\tborderColor,\r\n\t\t\t} = style;\r\n\t\t\tthis._uncheckBgColor = uncheckBgColor;\r\n\t\t\tthis._checkBgColor = checkBgColor;\r\n\t\t\tthis._borderColor = borderColor;\r\n\t\t}\r\n\t\tget uncheckBgColor() {\r\n\t\t\treturn this._uncheckBgColor;\r\n\t\t}\r\n\t\tset uncheckBgColor(uncheckBgColor) {\r\n\t\t\tthis._uncheckBgColor = uncheckBgColor;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t\tget checkBgColor() {\r\n\t\t\treturn this._checkBgColor;\r\n\t\t}\r\n\t\tset checkBgColor(checkBgColor) {\r\n\t\t\tthis._checkBgColor = checkBgColor;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t\tget borderColor() {\r\n\t\t\treturn this._borderColor;\r\n\t\t}\r\n\t\tset borderColor(borderColor) {\r\n\t\t\tthis._borderColor = borderColor;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new CheckStyle(this);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tmodule.exports = CheckStyle;\r\n}","'use strict';\r\n{\r\n\tconst Style = require('./Style');\r\n\r\n\tfunction adj(style) {\r\n\t\tconst {textAlign = 'center'} = style;\r\n\t\tstyle.textAlign = textAlign;\r\n\t\treturn style;\r\n\t}\r\n\tlet defaultStyle;\r\n\tclass ButtonStyle extends Style {\r\n\t\tstatic get DEFAULT() {\r\n\t\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new ButtonStyle());\r\n\t\t}\r\n\t\tconstructor(style = {}) {\r\n\t\t\tsuper(adj(style));\r\n\t\t\tconst {\r\n\t\t\t\tbuttonBgColor,\r\n\t\t\t} = style;\r\n\t\t\tthis._buttonBgColor = buttonBgColor;\r\n\t\t}\r\n\t\tget buttonBgColor() {\r\n\t\t\treturn this._buttonBgColor;\r\n\t\t}\r\n\t\tset buttonBgColor(buttonBgColor) {\r\n\t\t\tthis._buttonBgColor = buttonBgColor;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new ButtonStyle(this);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tmodule.exports = ButtonStyle;\r\n}","'use strict';\r\n{\r\n\tconst StdBaseStyle = require('./StdBaseStyle');\r\n\tlet defaultStyle;\r\n\tfunction adj(style) {\r\n\t\tconst {textAlign = 'center'} = style;\r\n\t\tstyle.textAlign = textAlign;\r\n\t\treturn style;\r\n\t}\r\n\tclass ImageStyle extends StdBaseStyle {\r\n\t\tstatic get DEFAULT() {\r\n\t\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new ImageStyle());\r\n\t\t}\r\n\t\tconstructor(style = {}) {\r\n\t\t\tsuper(adj(style));\r\n\t\t\tthis._imageSizing = style.imageSizing;\r\n\t\t\tthis._margin = style.margin || 4;\r\n\t\t}\r\n\t\tget imageSizing() {\r\n\t\t\treturn this._imageSizing;\r\n\t\t}\r\n\t\tset imageSizing(imageSizing) {\r\n\t\t\tthis._imageSizing = imageSizing;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t\tget margin() {\r\n\t\t\treturn this._margin;\r\n\t\t}\r\n\t\tset margin(margin) {\r\n\t\t\tthis._margin = margin;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new ImageStyle(this);\r\n\t\t}\r\n\t}\r\n\tmodule.exports = ImageStyle;\r\n}","'use strict';\r\n{\r\n\tconst Style = require('./Style');\r\n\r\n\tfunction adj(style) {\r\n\t\tconst {textAlign = 'center'} = style;\r\n\t\tstyle.textAlign = textAlign;\r\n\t\treturn style;\r\n\t}\r\n\tlet defaultStyle;\r\n\tclass IconStyle extends Style {\r\n\t\tstatic get DEFAULT() {\r\n\t\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new IconStyle());\r\n\t\t}\r\n\t\tconstructor(style = {}) {\r\n\t\t\tsuper(adj(style));\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new IconStyle(this);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tmodule.exports = IconStyle;\r\n}","'use strict';\r\n{\r\n\tconst Style = require('./Style');\r\n\tlet defaultStyle;\r\n\tconst DEFAULT_BAR_COLOR = (num) => {\r\n\t\tif (num > 80) {\r\n\t\t\treturn '#20a8d8';\r\n\t\t}\r\n\t\tif (num > 50) {\r\n\t\t\treturn '#4dbd74';\r\n\t\t}\r\n\t\tif (num > 20) {\r\n\t\t\treturn '#ffc107';\r\n\t\t}\r\n\t\treturn '#f86c6b';\r\n\t};\r\n\tclass PercentCompleteBarStyle extends Style {\r\n\t\tstatic get DEFAULT() {\r\n\t\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new PercentCompleteBarStyle());\r\n\t\t}\r\n\t\tconstructor(style = {}) {\r\n\t\t\tsuper(style);\r\n\t\t\tthis._barColor = style.barColor || DEFAULT_BAR_COLOR;\r\n\t\t\tthis._barBgColor = style.barBgColor || '#f0f3f5';\r\n\t\t\tthis._barHeight = style.barHeight || 3;\r\n\t\t}\r\n\t\tget barColor() {\r\n\t\t\treturn this._barColor;\r\n\t\t}\r\n\t\tset barColor(barColor) {\r\n\t\t\tthis._barColor = barColor;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t\tget barBgColor() {\r\n\t\t\treturn this._barBgColor;\r\n\t\t}\r\n\t\tset barBgColor(barBgColor) {\r\n\t\t\tthis._barBgColor = barBgColor;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t\tget barHeight() {\r\n\t\t\treturn this._barHeight;\r\n\t\t}\r\n\t\tset barHeight(barHeight) {\r\n\t\t\tthis._barHeight = barHeight;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new PercentCompleteBarStyle(this);\r\n\t\t}\r\n\t}\r\n\tmodule.exports = PercentCompleteBarStyle;\r\n}","'use strict';\r\n\r\nconst {then} = require('./utils');\r\nconst LRUCache = require('./LRUCache');\r\n\r\nconst allCache = {};\r\n\r\nfunction isDataUrl(url) {\r\n\treturn url.search(/^(data:)/) !== -1;\r\n}\r\n\r\nfunction loadImage(src) {\r\n\tif (!window.Promise) {\r\n\t\tconsole.error('Promise is not loaded. load Promise before this process.');\r\n\t\treturn {\r\n\t\t\tthen() {\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\tconst img = new Image();\r\n\tconst result = new window.Promise((resolve) => {\r\n\t\timg.onload = () => {\r\n\t\t\tresolve(img);\r\n\t\t};\r\n\t});\r\n\timg.onerror = (e) => {\r\n\t\tconst url = src.length > 200 ? `${src.substr(0, 200)}...` : src;\r\n\t\tconsole.warn(`cannot load: ${url}`);\r\n\t\tthrow new Error(`IMAGE LOAD ERROR: ${url}`);\r\n\t};\r\n\timg.src = isDataUrl(src) ? src : `${src}?${Date.now()}`;\r\n\treturn result;\r\n}\r\n\r\nfunction getCacheOrLoad0(cache, src) {\r\n\treturn then(src, (src) => {\r\n\t\tconst c = cache.get(src);\r\n\t\tif (c) {\r\n\t\t\treturn c;\r\n\t\t}\r\n\t\tconst result = loadImage(src).then((img) => {\r\n\t\t\tcache.put(src, img);\r\n\t\t\treturn img;\r\n\t\t});\r\n\t\tcache.put(src, result);\r\n\t\treturn result;\r\n\t});\r\n}\r\n\r\nfunction getCacheOrLoad(cacheName, cacheSize, src) {\r\n\tconst cache = allCache[cacheName] || (allCache[cacheName] = new LRUCache(cacheSize));\r\n\treturn getCacheOrLoad0(cache, src);\r\n}\r\n\r\nmodule.exports = {\r\n\tloadImage,\r\n\tgetCacheOrLoad,\r\n};\r\n","/*eslint no-bitwise:0*/\r\n'use strict';\r\n\r\nfunction FROZEN_ROWS_BORDER_COLOR(args) {\r\n\tconst {\r\n\t\trow,\r\n\t\tgrid: {frozenRowCount}\r\n\t} = args;\r\n\tif (frozenRowCount - 1 === row) {\r\n\t\treturn ['#f2f2f2', '#f2f2f2', '#ccc7c7', '#f2f2f2'];\r\n\t} else {\r\n\t\treturn ['#f2f2f2'];\r\n\t}\r\n}\r\nfunction BORDER_COLOR(args) {\r\n\tconst {\r\n\t\tcol,\r\n\t\tgrid: {colCount}\r\n\t} = args;\r\n\tif (colCount - 1 === col) {\r\n\t\treturn ['#ccc7c7', '#f2f2f2', '#ccc7c7', null];\r\n\t} else {\r\n\t\treturn ['#ccc7c7', null];\r\n\t}\r\n}\r\n/**\r\n * material design theme\r\n * @name MATERIAL_DESIGN\r\n * @type {Object}\r\n * @memberof cheetahGrid.themes.choices\r\n */\r\nmodule.exports = {\r\n\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\tdefaultBgColor: '#FFF',\r\n\tfrozenRowsBgColor: '#FFF',\r\n\tfrozenRowsColor: 'rgba(0, 0, 0, 0.54)',\r\n\thiliteBorderColor: '#5E9ED6',\r\n\tselectionBgColor: '#CCE0FF',\r\n\tborderColor: BORDER_COLOR,\r\n\tfrozenRowsBorderColor: FROZEN_ROWS_BORDER_COLOR,\r\n\tcheckbox: {\r\n\t\tuncheckBgColor: '#FFF',\r\n\t\tcheckBgColor: 'rgb(76, 73, 72)',\r\n\t\tborderColor: 'rgba(0, 0, 0, 0.26)',\r\n\t},\r\n\tbutton: {\r\n\t\tcolor: '#FFF',\r\n\t\tbgColor: '#2196F3',\r\n\t},\r\n\tunderlayBackgroundColor: '#FFF',\r\n};","'use strict';\r\n\r\nmodule.exports = {};","'use strict';\r\n{\r\n\tconst DataSource = require('./data/DataSource');\r\n\tconst CachedDataSource = require('./data/CachedDataSource');\r\n\t\r\n\r\n\t/**\r\n\t * data modules\r\n\t * @type {Object}\r\n\t * @namespace cheetahGrid.data\r\n\t * @memberof cheetahGrid\r\n\t */\r\n\tmodule.exports = {\r\n\t\tDataSource,\r\n\t\tCachedDataSource\r\n\t};\r\n}","'use strict';\r\n{\r\n\tconst {array, isDef, isPromise, getOrApply, applyChainSafe, emptyFn} = require('../internal/utils');\r\n\tconst sort = require('../internal/sort');\r\n\tconst EventTarget = require('../core/EventTarget');\r\n\r\n\tconst EVENT_TYPE = {\r\n\t\tUPDATE_LENGTH: 'update_length',\r\n\t\tUPDATED_LENGTH: 'updated_length',\r\n\t\tUPDATED_ORDER: 'updated_order',\r\n\t};\r\n\r\n\tfunction getValue(value, setPromiseBack) {\r\n\t\tvalue = getOrApply(value);\r\n\t\tif (isPromise(value)) {\r\n\t\t\tvalue = value.then((r) => {\r\n\t\t\t\tif (!isPromise(r)) {\r\n\t\t\t\t\tsetPromiseBack(r);\r\n\t\t\t\t}\r\n\t\t\t\treturn getValue(r, setPromiseBack);\r\n\t\t\t});\r\n\t\t\t//\r\n\t\t\tsetPromiseBack(value);\r\n\t\t}\r\n\t\treturn value;\r\n\t}\r\n\r\n\tfunction getField(record, field, setPromiseBack) {\r\n\t\tif (!isDef(record)) {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t\tif (isPromise(record)) {\r\n\t\t\treturn record.then((r) => getField(r, field, setPromiseBack));\r\n\t\t}\r\n\t\tif (field in record) {\r\n\t\t\treturn getValue(record[field], setPromiseBack);\r\n\t\t}\r\n\t\tif (typeof field === 'function') {\r\n\t\t\treturn getValue(field(record), setPromiseBack);\r\n\t\t}\r\n\r\n\t\tconst ss = (field + '').split('.');\r\n\t\tif (ss.length <= 1) {\r\n\t\t\treturn getValue(record[field], setPromiseBack);\r\n\t\t}\r\n\t\treturn getValue(applyChainSafe(record, (val, name) => getField(val, name, emptyFn), ...ss), setPromiseBack);\r\n\t}\r\n\tfunction setField(record, field, value) {\r\n\t\tif (field in record) {\r\n\t\t\trecord[field] = value;\r\n\t\t} else if (typeof field === 'function') {\r\n\t\t\treturn field(record, value);\r\n\t\t} else if (typeof field === 'string') {\r\n\t\t\tconst ss = (field + '').split('.');\r\n\t\t\tlet obj = record;\r\n\t\t\tconst {length} = ss;\r\n\t\t\tfor (let i = 0; i < length; i++) {\r\n\t\t\t\tconst f = ss[i];\r\n\t\t\t\tif (i === length - 1) {\r\n\t\t\t\t\tobj[f] = value;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tobj = obj[f] || (obj[f] = {});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\trecord[field] = value;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\tfunction _getIndex(dataSource, index) {\r\n\t\tif (!dataSource._sortedIndexMap) {\r\n\t\t\treturn index;\r\n\t\t}\r\n\t\tconst mapIndex = dataSource._sortedIndexMap[index];\r\n\t\treturn isDef(mapIndex) ? mapIndex : index;\r\n\t}\r\n\r\n\t/**\r\n\t * grid data source\r\n\t *\r\n\t * @classdesc cheetahGrid.data.DataSource\r\n\t * @extends EventTarget\r\n\t * @memberof cheetahGrid.data\r\n\t */\r\n\tclass DataSource extends EventTarget {\r\n\t\tstatic get EVENT_TYPE() {\r\n\t\t\treturn EVENT_TYPE;\r\n\t\t}\r\n\t\tstatic ofArray(array) {\r\n\t\t\treturn new DataSource({\r\n\t\t\t\tget: (index) => array[index],\r\n\t\t\t\tlength: array.length\r\n\t\t\t});\r\n\t\t}\r\n\t\tconstructor({get, length = 0} = {}) {\r\n\t\t\tsuper();\r\n\t\t\tthis._get = get;\r\n\t\t\tthis._length = length;\r\n\t\t\tthis._sortedIndexMap = false;\r\n\t\t}\r\n\t\tget(index) {\r\n\t\t\treturn this.getOriginal(_getIndex(this, index));\r\n\t\t}\r\n\t\tgetField(index, field) {\r\n\t\t\treturn this.getOriginalField(_getIndex(this, index), field);\r\n\t\t}\r\n\t\thasField(index, field) {\r\n\t\t\treturn this.hasOriginalField(_getIndex(this, index), field);\r\n\t\t}\r\n\t\tsetField(index, field, value) {\r\n\t\t\treturn this.setOriginalField(_getIndex(this, index), field, value);\r\n\t\t}\r\n\t\tsort(field, order) {\r\n\t\t\tconst sortedIndexMap = new Array(this._length);\r\n\r\n\t\t\tconst orderFn = order !== 'desc'\r\n\t\t\t\t? (v1, v2) => v1 === v2 ? 0 : v1 > v2 ? 1 : -1\r\n\t\t\t\t: (v1, v2) => v1 === v2 ? 0 : v1 < v2 ? 1 : -1;\r\n\r\n\t\t\treturn sort.sortPromise(\r\n\t\t\t\t\t(index) => isDef(sortedIndexMap[index])\r\n\t\t\t\t\t\t? sortedIndexMap[index]\r\n\t\t\t\t\t\t: (sortedIndexMap[index] = index),\r\n\t\t\t\t\t(index, rel) => {\r\n\t\t\t\t\t\tsortedIndexMap[index] = rel;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tthis._length,\r\n\t\t\t\t\torderFn,\r\n\t\t\t\t\t(index) => this.getOriginalField(index, field)\r\n\t\t\t).then(() => {\r\n\t\t\t\tthis._sortedIndexMap = sortedIndexMap;\r\n\t\t\t\tthis.fireListeners(EVENT_TYPE.UPDATED_ORDER);\r\n\t\t\t});\r\n\t\t}\r\n\t\tget length() {\r\n\t\t\treturn this._length;\r\n\t\t}\r\n\t\tset length(length) {\r\n\t\t\tconst results = this.fireListeners(EVENT_TYPE.UPDATE_LENGTH, length);\r\n\t\t\tif (array.findIndex(results, (v) => !v) >= 0) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis._length = length;\r\n\t\t\tthis.fireListeners(EVENT_TYPE.UPDATED_LENGTH, this._length);\r\n\t\t}\r\n\t\tdispose() {\r\n\t\t\tsuper.dispose();\r\n\t\t}\r\n\t\tgetOriginal(index) {\r\n\t\t\treturn getValue(this._get(index), (val) => {\r\n\t\t\t\tthis.recordPromiseCallBackInternal(index, val);\r\n\t\t\t});\r\n\t\t}\r\n\t\tgetOriginalField(index, field) {\r\n\t\t\tif (!isDef(field)) {\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\t\t\tconst record = this.getOriginal(index);\r\n\t\t\treturn getField(record, field, (val) => {\r\n\t\t\t\tthis.fieldPromiseCallBackInternal(index, field, val);\r\n\t\t\t});\r\n\t\t}\r\n\t\thasOriginalField(index, field) {\r\n\t\t\tif (!isDef(field)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (typeof field === 'function') {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tconst record = this.getOriginal(index);\r\n\t\t\treturn field in record;\r\n\t\t}\r\n\t\tsetOriginalField(index, field, value) {\r\n\t\t\tif (!isDef(field)) {\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\t\t\tconst record = this.getOriginal(index);\r\n\t\t\treturn setField(record, field, value);\r\n\t\t}\r\n\t\tfieldPromiseCallBackInternal(index, field, val) {\r\n\t\t\t//\r\n\t\t}\r\n\t\trecordPromiseCallBackInternal(index, val) {\r\n\t\t\t//\r\n\t\t}\r\n\t}\r\n\tDataSource.EMPTY = new DataSource({\r\n\t\tlength: 0,\r\n\t});\r\n\r\n\tmodule.exports = DataSource;\r\n}","'use strict';\r\n{\r\n\tconst {isPromise} = require('./utils');\r\n\r\n\tfunction wait(val) {\r\n\t\treturn val.then((v) => {\r\n\t\t\tif (isPromise(v)) {\r\n\t\t\t\treturn wait(v);\r\n\t\t\t} else {\r\n\t\t\t\treturn v;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\tfunction createArray(get, length) {\r\n\t\tconst array = new Array(length);\r\n\t\tfor (let i = 0; i < length; i++) {\r\n\t\t\tarray[i] = get(i);\r\n\t\t}\r\n\t\treturn array;\r\n\t}\r\n\tfunction createArrayPromise(get, getField, length) {\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\tconst plist = [];\r\n\t\t\tconst array = new Array(length);\r\n\t\t\tfor (let i = 0; i < length; i++) {\r\n\t\t\t\tconst data = get(i);\r\n\t\t\t\tconst record = {\r\n\t\t\t\t\tv: data,\r\n\t\t\t\t\tf: data\r\n\t\t\t\t};\r\n\t\t\t\tarray[i] = record;\r\n\t\t\t\tif (isPromise(data)) {\r\n\t\t\t\t\tplist.push(wait(data).then((v) => {\r\n\t\t\t\t\t\trecord.v = v;\r\n\t\t\t\t\t\trecord.f = v;\r\n\t\t\t\t\t}));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tPromise.all(plist).then(\r\n\t\t\t\t\t() => setArrayField(array, getField)\r\n\t\t\t).then(resolve);\r\n\t\t});\r\n\t}\r\n\tfunction setArrayField(array, getField) {\r\n\t\tif (!getField) {\r\n\t\t\treturn Promise.resolve(array);\r\n\t\t}\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\tconst length = array.length;\r\n\t\t\tconst plist = [];\r\n\t\t\tfor (let i = 0; i < length; i++) {\r\n\t\t\t\tconst record = array[i];\r\n\t\t\t\trecord.f = getField(record.v);\r\n\t\t\t\tif (isPromise(record.f)) {\r\n\t\t\t\t\tplist.push(wait(record.f).then((v) => {\r\n\t\t\t\t\t\trecord.f = v;\r\n\t\t\t\t\t}));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tPromise.all(plist).then(() => resolve(array));\r\n\t\t});\r\n\t}\r\n\tconst sort = {\r\n\t\tsort(get, set, length, compare, getField) {\r\n\t\t\tconst old = createArray(get, length);\r\n\t\t\tif (getField) {\r\n\t\t\t\told.sort((r1, r2) => compare(getField(r1), getField(r2)));\r\n\t\t\t} else {\r\n\t\t\t\told.sort(compare);\r\n\t\t\t}\r\n\t\t\tfor (let i = 0; i < length; i++) {\r\n\t\t\t\tset(i, old[i]);\r\n\t\t\t}\r\n\t\t},\r\n\t\tsortArray(array, compare) {\r\n\t\t\tArray.prototype.sort.call(array, compare);\r\n\t\t},\r\n\t\tsortPromise(get, set, length, compare, getField) {\r\n\t\t\tif (window.Promise) {\r\n\t\t\t\treturn createArrayPromise(get, getField, length).then((array) => {\r\n\t\t\t\t\tarray.sort((r1, r2) => compare(r1.f, r2.f));\r\n\t\t\t\t\tfor (let i = 0; i < length; i++) {\r\n\t\t\t\t\t\tset(i, array[i].v);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tsort.sort(get, set, length, compare, getField);\r\n\t\t\t\tconst dummyPromise = {\r\n\t\t\t\t\tthen(fn) {\r\n\t\t\t\t\t\tfn();\r\n\t\t\t\t\t\treturn dummyPromise;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcatch() {\r\n\t\t\t\t\t\treturn dummyPromise;\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\treturn dummyPromise;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tmodule.exports = sort;\r\n}","/*eslint no-bitwise:0*/\r\n'use strict';\r\n{\r\n\tconst {calcStartPosition} = require('./internal/canvases');\r\n\tconst inlines = require('./element/inlines');\r\n\tconst canvashelper = require('./tools/canvashelper');\r\n\tconst themes = require('./themes');\r\n\tconst {colorToRGB} = require('./internal/color');\r\n\tconst Rect = require('./internal/Rect');\r\n\tconst {getChainSafe, getOrApply, style: {toBoxArray}} = require('./internal/utils');\r\n\tconst fonts = require('./internal/fonts');\r\n\tconst calc = require('./internal/calc');\r\n\r\n\tfunction invalidateCell(context, grid) {\r\n\t\tconst {col, row} = context;\r\n\t\tgrid.invalidateCell(col, row);\r\n\t}\r\n\tfunction getColor(color, col, row, grid, context) {\r\n\t\treturn getOrApply(color, {\r\n\t\t\tcol,\r\n\t\t\trow,\r\n\t\t\tgrid,\r\n\t\t\tcontext,\r\n\t\t});\r\n\t}\r\n\tfunction getThemeColor(grid, ...names) {\r\n\t\treturn getChainSafe(grid.theme, ...names) || getChainSafe(themes.default, ...names);\r\n\t}\r\n\tfunction testFontLoad(font, value, context, grid) {\r\n\t\tif (font) {\r\n\t\t\tif (!fonts.check(font, value)) {\r\n\t\t\t\tfonts.load(font, value, () => invalidateCell(context, grid));\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tfunction drawInlines(ctx, inlines, rect, offset, offsetTop, offsetBottom, col, row, grid) {\r\n\t\tfunction drawInline(inline, offsetLeft, offsetRight) {\r\n\t\t\tif (inline.canDraw()) {\r\n\t\t\t\tctx.save();\r\n\t\t\t\ttry {\r\n\t\t\t\t\tctx.fillStyle = getColor(inline.color() || ctx.fillStyle, col, row, grid, ctx);\r\n\t\t\t\t\tctx.font = inline.font() || ctx.font;\r\n\t\t\t\t\tinline.draw({\r\n\t\t\t\t\t\tctx,\r\n\t\t\t\t\t\tcanvashelper,\r\n\t\t\t\t\t\trect,\r\n\t\t\t\t\t\toffset,\r\n\t\t\t\t\t\toffsetLeft,\r\n\t\t\t\t\t\toffsetRight,\r\n\t\t\t\t\t\toffsetTop,\r\n\t\t\t\t\t\toffsetBottom,\r\n\t\t\t\t\t});\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tctx.restore();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tinline.onReady(() => grid.invalidateCell(col, row));\r\n\t\t\t\t//noop\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (inlines.length === 1) {\r\n\t\t\t//1\r\n\t\t\tconst inline = inlines[0];\r\n\t\t\tdrawInline(inline, 0, 0);\r\n\t\t} else {\r\n\t\t\tconst inlineWidths = inlines.map((inline) => (inline.width({ctx}) || 0) - 0);\r\n\t\t\tlet offsetRight = inlineWidths.reduce((a, b) => a + b);\r\n\r\n\t\t\tlet offsetLeft = 0;\r\n\t\t\tinlines.forEach((inline, index) => {\r\n\t\t\t\tconst inlineWidth = inlineWidths[index];\r\n\t\t\t\toffsetRight -= inlineWidth;\r\n\t\t\t\tdrawInline(inline, offsetLeft, offsetRight);\r\n\t\t\t\toffsetLeft += inlineWidth;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tfunction _inlineRect(grid, ctx, inline, rect, col, row,\r\n\t\t\t{\r\n\t\t\t\toffset,\r\n\t\t\t\tcolor,\r\n\t\t\t\ttextAlign,\r\n\t\t\t\ttextBaseline,\r\n\t\t\t\tfont,\r\n\t\t\t\ticons,\r\n\t\t\t} = {}) {\r\n\r\n\t\t//style\r\n\t\tctx.fillStyle = getColor(color, col, row, grid, ctx);\r\n\t\tctx.textAlign = textAlign;\r\n\t\tctx.textBaseline = textBaseline;\r\n\t\tctx.font = font || ctx.font;\r\n\r\n\t\tconst actInlines = inlines.buildInlines(icons, inline);\r\n\t\tdrawInlines(ctx, actInlines, rect, offset, 0, 0, col, row, grid);\r\n\t}\r\n\r\n\tfunction _multiInlineRect(grid, ctx, multiInlines, rect, col, row,\r\n\t\t\t{\r\n\t\t\t\toffset,\r\n\t\t\t\tcolor,\r\n\t\t\t\ttextAlign,\r\n\t\t\t\ttextBaseline,\r\n\t\t\t\tfont,\r\n\t\t\t\tlineHeight,\r\n\t\t\t\ticons,\r\n\t\t\t} = {}) {\r\n\t\t//style\r\n\t\tctx.fillStyle = getColor(color, col, row, grid, ctx);\r\n\t\tctx.textAlign = textAlign;\r\n\t\tctx.textBaseline = textBaseline;\r\n\t\tctx.font = font || ctx.font;\r\n\r\n\t\tmultiInlines = [...multiInlines];\r\n\r\n\r\n\t\tlet paddingTop = 0;\r\n\t\tlet paddingBottom = lineHeight * (multiInlines.length - 1);\r\n\r\n\t\tif (ctx.textBaseline === 'top' || ctx.textBaseline === 'hanging') {\r\n\t\t\tconst em = ctx.measureText('').width;\r\n\t\t\tconst pad = (lineHeight - em) / 2;\r\n\t\t\tpaddingTop += pad;\r\n\t\t\tpaddingBottom -= pad;\r\n\t\t} else if (ctx.textBaseline === 'bottom' || ctx.textBaseline === 'alphabetic' || ctx.textBaseline === 'ideographic') {\r\n\t\t\tconst em = ctx.measureText('').width;\r\n\t\t\tconst pad = (lineHeight - em) / 2;\r\n\t\t\tpaddingTop -= pad;\r\n\t\t\tpaddingBottom += pad;\r\n\t\t}\r\n\t\tconst line = multiInlines.shift() || '';\r\n\t\tconst actInlines = inlines.buildInlines(icons, line);\r\n\t\tdrawInlines(ctx, actInlines, rect, offset, paddingTop, paddingBottom, col, row, grid);\r\n\t\tpaddingTop += lineHeight;\r\n\t\tpaddingBottom -= lineHeight;\r\n\t\twhile (multiInlines.length) {\r\n\t\t\tconst line = multiInlines.shift();\r\n\t\t\tconst actInlines = inlines.buildInlines(undefined, line);\r\n\t\t\tdrawInlines(ctx, actInlines, rect, offset, paddingTop, paddingBottom, col, row, grid);\r\n\t\t\tpaddingTop += lineHeight;\r\n\t\t\tpaddingBottom -= lineHeight;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\tfunction drawCheckbox(ctx, rect, check, helper,\r\n\t\t\t{\r\n\t\t\t\tanimElapsedTime = 1,\r\n\t\t\t\tuncheckBgColor = helper.theme.checkbox.uncheckBgColor,\r\n\t\t\t\tcheckBgColor = helper.theme.checkbox.checkBgColor,\r\n\t\t\t\tborderColor = helper.theme.checkbox.borderColor,\r\n\t\t\t\ttextAlign = 'center',\r\n\t\t\t\ttextBaseline = 'middle',\r\n\t\t\t} = {}) {\r\n\t\tconst boxWidth = canvashelper.measureCheckbox(ctx).width;\r\n\t\tctx.textAlign = textAlign;\r\n\t\tctx.textBaseline = textBaseline;\r\n\t\tconst pos = calcStartPosition(ctx, rect, boxWidth + 1/*+1*/, boxWidth + 1/*+1*/);\r\n\t\tif (0 < animElapsedTime && animElapsedTime < 1) {\r\n\t\t\tconst uncheckBgRGB = colorToRGB(uncheckBgColor);\r\n\t\t\tconst checkBgRGB = colorToRGB(checkBgColor);\r\n\t\t\tconst checkRGB = (colorName) => {\r\n\t\t\t\tconst start = uncheckBgRGB[colorName];\r\n\t\t\t\tconst end = checkBgRGB[colorName];\r\n\t\t\t\tif (animElapsedTime >= 1) {\r\n\t\t\t\t\treturn end;\r\n\t\t\t\t}\r\n\t\t\t\tconst diff = start - end;\r\n\t\t\t\treturn Math.ceil(start - diff * animElapsedTime);\r\n\t\t\t};\r\n\t\t\tconst uncheckRGB = (colorName) => {\r\n\t\t\t\tconst end = uncheckBgRGB[colorName];\r\n\t\t\t\tconst start = checkBgRGB[colorName];\r\n\t\t\t\tif (animElapsedTime >= 1) {\r\n\t\t\t\t\treturn end;\r\n\t\t\t\t}\r\n\t\t\t\tconst diff = end - start;\r\n\t\t\t\treturn Math.ceil(start + diff * animElapsedTime);\r\n\t\t\t};\r\n\t\t\tuncheckBgColor = check ? uncheckBgColor : `rgb(${uncheckRGB('r')} , ${uncheckRGB('g')}, ${uncheckRGB('b')})`;\r\n\t\t\tcheckBgColor = `rgb(${checkRGB('r')} , ${checkRGB('g')}, ${checkRGB('b')})`;\r\n\t\t}\r\n\r\n\t\tcanvashelper.drawCheckbox(ctx, pos.x, pos.y, check ? animElapsedTime : false, {\r\n\t\t\tuncheckBgColor,\r\n\t\t\tcheckBgColor,\r\n\t\t\tborderColor,\r\n\t\t});\r\n\t}\r\n\r\n\tclass Theme {\r\n\t\tconstructor(grid) {\r\n\t\t\tthis._grid = grid;\r\n\t\t}\r\n\t\tgetThemeColor(...name) {\r\n\t\t\treturn getThemeColor(this._grid, ...name);\r\n\t\t}\r\n\t\tget font() {\r\n\t\t\treturn getThemeColor(this._grid, 'font');\r\n\t\t}\r\n\t\tget underlayBackgroundColor() {\r\n\t\t\treturn getThemeColor(this._grid, 'underlayBackgroundColor');\r\n\t\t}\r\n\t\t// color\r\n\t\tget color() {\r\n\t\t\treturn getThemeColor(this._grid, 'color');\r\n\t\t}\r\n\t\tget frozenRowsColor() {\r\n\t\t\treturn getThemeColor(this._grid, 'frozenRowsColor');\r\n\t\t}\r\n\t\t// background\r\n\t\tget defaultBgColor() {\r\n\t\t\treturn getThemeColor(this._grid, 'defaultBgColor');\r\n\t\t}\r\n\t\tget frozenRowsBgColor() {\r\n\t\t\treturn getThemeColor(this._grid, 'frozenRowsBgColor');\r\n\t\t}\r\n\t\tget selectionBgColor() {\r\n\t\t\treturn getThemeColor(this._grid, 'selectionBgColor');\r\n\t\t}\r\n\t\t// border\r\n\t\tget borderColor() {\r\n\t\t\treturn getThemeColor(this._grid, 'borderColor');\r\n\t\t}\r\n\t\tget frozenRowsBorderColor() {\r\n\t\t\treturn getThemeColor(this._grid, 'frozenRowsBorderColor');\r\n\t\t}\r\n\t\tget hiliteBorderColor() {\r\n\t\t\treturn getThemeColor(this._grid, 'hiliteBorderColor');\r\n\t\t}\r\n\t\tget checkbox() {\r\n\t\t\tconst grid = this._grid;\r\n\t\t\treturn this._checkbox || (this._checkbox = {\r\n\t\t\t\tget uncheckBgColor() {\r\n\t\t\t\t\treturn getThemeColor(grid, 'checkbox', 'uncheckBgColor');\r\n\t\t\t\t},\r\n\t\t\t\tget checkBgColor() {\r\n\t\t\t\t\treturn getThemeColor(grid, 'checkbox', 'checkBgColor');\r\n\t\t\t\t},\r\n\t\t\t\tget borderColor() {\r\n\t\t\t\t\treturn getThemeColor(grid, 'checkbox', 'borderColor');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tget button() {\r\n\t\t\tconst grid = this._grid;\r\n\t\t\treturn this._button || (this._button = {\r\n\t\t\t\tget color() {\r\n\t\t\t\t\treturn getThemeColor(grid, 'button', 'color');\r\n\t\t\t\t},\r\n\t\t\t\tget bgColor() {\r\n\t\t\t\t\treturn getThemeColor(grid, 'button', 'bgColor');\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t}\r\n\t\r\n\r\n\tfunction strokeRect(ctx, color, left, top, width, height) {\r\n\t\tif (!Array.isArray(color)) {\r\n\t\t\tif (color) {\r\n\t\t\t\tctx.strokeStyle = color;\r\n\t\t\t\tctx.strokeRect(left, top, width, height);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconst borderColors = toBoxArray(color);\r\n\t\t\tcanvashelper.strokeColorsRect(ctx, borderColors, left, top, width, height);\r\n\t\t}\r\n\t}\r\n\r\n\tclass GridCanvasHelper {\r\n\t\tconstructor(grid) {\r\n\t\t\tthis._grid = grid;\r\n\t\t\tthis._theme = new Theme(grid);\r\n\t\t}\r\n\t\tcreateCalculator(context) {\r\n\t\t\treturn {\r\n\t\t\t\tcalcWidth(width) {\r\n\t\t\t\t\treturn calc.toPx(width, {\r\n\t\t\t\t\t\tget full() {\r\n\t\t\t\t\t\t\tconst rect = context.getRect();\r\n\t\t\t\t\t\t\treturn rect.width;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tget em() {\r\n\t\t\t\t\t\t\tconst ctx = context.getContext();\r\n\t\t\t\t\t\t\treturn ctx.measureText('').width;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tcalcHeight(height) {\r\n\t\t\t\t\treturn calc.toPx(height, {\r\n\t\t\t\t\t\tget full() {\r\n\t\t\t\t\t\t\tconst rect = context.getRect();\r\n\t\t\t\t\t\t\treturn rect.height;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tget em() {\r\n\t\t\t\t\t\t\tconst ctx = context.getContext();\r\n\t\t\t\t\t\t\treturn ctx.measureText('').width;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t\tgetColor(color, col, row, ctx) {\r\n\t\t\treturn getColor(color, col, row, this._grid, ctx);\r\n\t\t}\r\n\t\ttoBoxArray(obj) {\r\n\t\t\treturn toBoxArray(obj);\r\n\t\t}\r\n\t\ttoBoxPixelArray(value, context) {\r\n\t\t\tif (typeof value === 'string' || Array.isArray(value)) {\r\n\t\t\t\tconst calculator = this.createCalculator(context);\r\n\t\t\t\tconst box = toBoxArray(value);\r\n\t\t\t\treturn [\r\n\t\t\t\t\tcalculator.calcHeight(box[0]),\r\n\t\t\t\t\tcalculator.calcWidth(box[1]),\r\n\t\t\t\t\tcalculator.calcHeight(box[2]),\r\n\t\t\t\t\tcalculator.calcWidth(box[3]),\r\n\t\t\t\t];\r\n\t\t\t}\r\n\t\t\treturn toBoxArray(value);\r\n\t\t}\r\n\t\tget theme() {\r\n\t\t\treturn this._theme;\r\n\t\t}\r\n\t\tdrawWithClip(context, draw) {\r\n\t\t\tconst drawRect = context.getDrawRect();\r\n\t\t\tif (!drawRect) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst ctx = context.getContext();\r\n\r\n\t\t\tctx.save();\r\n\t\t\ttry {\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.rect(drawRect.left, drawRect.top, drawRect.width, drawRect.height);\r\n\t\t\t\t//clip\r\n\t\t\t\tctx.clip();\r\n\r\n\t\t\t\tdraw(ctx);\r\n\t\t\t} finally {\r\n\t\t\t\tctx.restore();\r\n\t\t\t}\r\n\t\t}\r\n\t\tdrawBorderWithClip(context, draw) {\r\n\t\t\tconst drawRect = context.getDrawRect();\r\n\t\t\tif (!drawRect) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst rect = context.getRect();\r\n\t\t\tconst ctx = context.getContext();\r\n\t\t\tctx.save();\r\n\t\t\ttry {\r\n\t\t\t\t//clip\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tlet clipLeft = drawRect.left;\r\n\t\t\t\tlet clipWidth = drawRect.width;\r\n\t\t\t\tif (drawRect.left === rect.left) {\r\n\t\t\t\t\tclipLeft += -1;\r\n\t\t\t\t\tclipWidth += 1;\r\n\t\t\t\t}\r\n\t\t\t\tlet clipTop = drawRect.top;\r\n\t\t\t\tlet clipHeight = drawRect.height;\r\n\t\t\t\tif (drawRect.top === rect.top) {\r\n\t\t\t\t\tclipTop += -1;\r\n\t\t\t\t\tclipHeight += 1;\r\n\t\t\t\t}\r\n\t\t\t\tctx.rect(clipLeft, clipTop, clipWidth, clipHeight);\r\n\t\t\t\tctx.clip();\r\n\r\n\t\t\t\tdraw(ctx);\r\n\t\t\t} finally {\r\n\t\t\t\tctx.restore();\r\n\t\t\t}\r\n\t\t}\r\n\t\ttext(text, context,\r\n\t\t\t\t{\r\n\t\t\t\t\tpadding,\r\n\t\t\t\t\toffset = 2,\r\n\t\t\t\t\tcolor,\r\n\t\t\t\t\ttextAlign = 'left',\r\n\t\t\t\t\ttextBaseline = 'middle',\r\n\t\t\t\t\tfont,\r\n\t\t\t\t\ticons,\r\n\t\t\t\t} = {}) {\r\n\t\t\tlet rect = context.getRect();\r\n\r\n\t\t\tconst {col, row} = context;\r\n\r\n\t\t\tif (!color) {\r\n\t\t\t\t({color} = this.theme);\r\n\t\t\t\t// header color\r\n\t\t\t\tconst isFrozenCell = this._grid.isFrozenCell(col, row);\r\n\t\t\t\tif (isFrozenCell && isFrozenCell.row) {\r\n\t\t\t\t\tcolor = this.theme.frozenRowsColor;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.drawWithClip(context, (ctx) => {\r\n\t\t\t\tif (padding) {\r\n\t\t\t\t\tctx.font = font || ctx.font;\r\n\t\t\t\t\tpadding = this.toBoxPixelArray(padding, context);\r\n\t\t\t\t\tconst left = rect.left + padding[3];\r\n\t\t\t\t\tconst top = rect.top + padding[0];\r\n\t\t\t\t\tconst width = rect.width - padding[1] - padding[3];\r\n\t\t\t\t\tconst height = rect.height - padding[0] - padding[2];\r\n\t\t\t\t\trect = new Rect(left, top, width, height);\r\n\t\t\t\t}\r\n\t\t\t\t_inlineRect(this._grid, ctx, text, rect, col, row,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\toffset,\r\n\t\t\t\t\t\t\tcolor,\r\n\t\t\t\t\t\t\ttextAlign,\r\n\t\t\t\t\t\t\ttextBaseline,\r\n\t\t\t\t\t\t\tfont,\r\n\t\t\t\t\t\t\ticons,\r\n\t\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t\tmultilineText(multilines, context,\r\n\t\t\t\t{\r\n\t\t\t\t\tpadding,\r\n\t\t\t\t\toffset = 2,\r\n\t\t\t\t\tcolor,\r\n\t\t\t\t\ttextAlign = 'left',\r\n\t\t\t\t\ttextBaseline = 'middle',\r\n\t\t\t\t\tfont,\r\n\t\t\t\t\tlineHeight = '1em',\r\n\t\t\t\t\ticons,\r\n\t\t\t\t} = {}) {\r\n\t\t\tlet rect = context.getRect();\r\n\r\n\t\t\tconst {col, row} = context;\r\n\r\n\t\t\tif (!color) {\r\n\t\t\t\t({color} = this.theme);\r\n\t\t\t\t// header color\r\n\t\t\t\tconst isFrozenCell = this._grid.isFrozenCell(col, row);\r\n\t\t\t\tif (isFrozenCell && isFrozenCell.row) {\r\n\t\t\t\t\tcolor = this.theme.frozenRowsColor;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.drawWithClip(context, (ctx) => {\r\n\t\t\t\tctx.font = font || ctx.font;\r\n\t\t\t\tif (padding) {\r\n\t\t\t\t\tpadding = this.toBoxPixelArray(padding, context);\r\n\t\t\t\t\tconst left = rect.left + padding[3];\r\n\t\t\t\t\tconst top = rect.top + padding[0];\r\n\t\t\t\t\tconst width = rect.width - padding[1] - padding[3];\r\n\t\t\t\t\tconst height = rect.height - padding[0] - padding[2];\r\n\t\t\t\t\trect = new Rect(left, top, width, height);\r\n\t\t\t\t}\r\n\t\t\t\tconst calculator = this.createCalculator(context);\r\n\t\t\t\tlineHeight = calculator.calcHeight(lineHeight);\r\n\t\t\t\t_multiInlineRect(this._grid, ctx, multilines, rect, col, row,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\toffset,\r\n\t\t\t\t\t\t\tcolor,\r\n\t\t\t\t\t\t\ttextAlign,\r\n\t\t\t\t\t\t\ttextBaseline,\r\n\t\t\t\t\t\t\tfont,\r\n\t\t\t\t\t\t\tlineHeight,\r\n\t\t\t\t\t\t\ticons,\r\n\t\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t\tfillText(text, x, y, context,\r\n\t\t\t\t{\r\n\t\t\t\t\tcolor,\r\n\t\t\t\t\ttextAlign = 'left',\r\n\t\t\t\t\ttextBaseline = 'top',\r\n\t\t\t\t\tfont,\r\n\t\t\t\t} = {}) {\r\n\r\n\t\t\tconst {col, row} = context;\r\n\r\n\t\t\tif (!color) {\r\n\t\t\t\t({color} = this.theme);\r\n\t\t\t\t// header color\r\n\t\t\t\tconst isFrozenCell = this._grid.isFrozenCell(col, row);\r\n\t\t\t\tif (isFrozenCell && isFrozenCell.row) {\r\n\t\t\t\t\tcolor = this.theme.frozenRowsColor;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconst ctx = context.getContext();\r\n\t\t\tctx.save();\r\n\t\t\ttry {\r\n\t\t\t\tctx.fillStyle = getColor(color, col, row, this._grid, ctx);\r\n\t\t\t\tctx.textAlign = textAlign;\r\n\t\t\t\tctx.textBaseline = textBaseline;\r\n\t\t\t\tctx.font = font || ctx.font;\r\n\t\t\t\tctx.fillText(text, x, y);\r\n\t\t\t} finally {\r\n\t\t\t\tctx.restore();\r\n\t\t\t}\r\n\t\t}\r\n\t\tfillCell(context,\r\n\t\t\t\t{\r\n\t\t\t\t\tfillColor = this.theme.defaultBgColor,\r\n\t\t\t\t} = {}) {\r\n\t\t\tconst rect = context.getRect();\r\n\r\n\t\t\tthis.drawWithClip(context, (ctx) => {\r\n\t\t\t\tconst {col, row} = context;\r\n\t\t\t\tctx.fillStyle = getColor(fillColor, col, row, this._grid, ctx);\r\n\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\r\n\t\t\t\tctx.fill();\r\n\t\t\t});\r\n\t\t}\r\n\t\tfillCellWithState(context, option = {}) {\r\n\t\t\toption.fillColor = this.getFillColorState(context, option);\r\n\t\t\tthis.fillCell(context, option);\r\n\t\t}\r\n\t\tfillRect(rect, context,\r\n\t\t\t\t{\r\n\t\t\t\t\tfillColor = this.theme.defaultBgColor,\r\n\t\t\t\t} = {}) {\r\n\r\n\t\t\tconst ctx = context.getContext();\r\n\t\t\tctx.save();\r\n\t\t\ttry {\r\n\t\t\t\tconst {col, row} = context;\r\n\t\t\t\tctx.fillStyle = getColor(fillColor, col, row, this._grid, ctx);\r\n\t\t\t\t\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\r\n\t\t\t\tctx.fill();\r\n\t\t\t} finally {\r\n\t\t\t\tctx.restore();\r\n\t\t\t}\r\n\t\t}\r\n\t\tfillRectWithState(rect, context, option = {}) {\r\n\t\t\toption.fillColor = this.getFillColorState(context, option);\r\n\r\n\t\t\tthis.fillRect(rect, context, option);\r\n\t\t}\r\n\t\tgetFillColorState(context, option = {}) {\r\n\t\t\tconst state = context.getSelectState();\r\n\t\t\tconst {col, row} = context;\r\n\t\t\tif (!state.selected && state.selection) {\r\n\t\t\t\treturn this.theme.selectionBgColor;\r\n\t\t\t} else {\r\n\t\t\t\tconst isFrozenCell = this._grid.isFrozenCell(col, row);\r\n\t\t\t\tif (isFrozenCell && isFrozenCell.row) {\r\n\t\t\t\t\treturn this.theme.frozenRowsBgColor;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn option.fillColor || this.theme.defaultBgColor;\r\n\t\t}\r\n\t\tborder(context,\r\n\t\t\t\t{\r\n\t\t\t\t\tborderColor = this.theme.borderColor,\r\n\t\t\t\t\tlineWidth = 1,\r\n\t\t\t\t} = {}) {\r\n\t\t\tconst rect = context.getRect();\r\n\r\n\t\t\tthis.drawBorderWithClip(context, (ctx) => {\r\n\t\t\t\tconst {col, row} = context;\r\n\t\t\t\tconst borderColors = getColor(borderColor, col, row, this._grid, ctx);\r\n\t\t\t\t\r\n\t\t\t\tif (lineWidth === 1) {\r\n\t\t\t\t\tctx.lineWidth = 1;\r\n\t\t\t\t\tstrokeRect(ctx, borderColors, rect.left - 0.5, rect.top - 0.5, rect.width, rect.height);\r\n\t\t\t\t} else if (lineWidth === 2) {\r\n\t\t\t\t\tctx.lineWidth = 2;\r\n\t\t\t\t\tstrokeRect(ctx, borderColors, rect.left, rect.top, rect.width - 1, rect.height - 1);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tctx.lineWidth = lineWidth;\r\n\t\t\t\t\tconst startOffset = (lineWidth / 2) - 1;\r\n\t\t\t\t\tstrokeRect(ctx, borderColors,\r\n\t\t\t\t\t\t\trect.left + startOffset,\r\n\t\t\t\t\t\t\trect.top + startOffset,\r\n\t\t\t\t\t\t\trect.width - lineWidth + 1,\r\n\t\t\t\t\t\t\trect.height - lineWidth + 1\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tborderWithState(context, option = {}) {\r\n\t\t\tconst rect = context.getRect();\r\n\t\t\tconst state = context.getSelectState();\r\n\t\t\tconst {col, row} = context;\r\n\r\n\t\t\t//\r\n\t\t\tif (state.selected) {\r\n\t\t\t\toption.borderColor = this.theme.hiliteBorderColor;\r\n\t\t\t\toption.lineWidth = 2;\r\n\t\t\t\tthis.border(context, option);\r\n\t\t\t} else {\r\n\t\t\t\t// header color\r\n\t\t\t\tconst isFrozenCell = this._grid.isFrozenCell(col, row);\r\n\t\t\t\tif (isFrozenCell && isFrozenCell.row) {\r\n\t\t\t\t\toption.borderColor = this.theme.frozenRowsBorderColor;\r\n\t\t\t\t}\r\n\r\n\t\t\t\toption.lineWidth = 1;\r\n\t\t\t\tthis.border(context, option);\r\n\r\n\t\t\t\t//\r\n\t\t\t\tconst sel = this._grid.selection.select;\r\n\t\t\t\tif (sel.col + 1 === col && sel.row === row) {\r\n\t\t\t\t\t//\r\n\t\t\t\t\tthis.drawBorderWithClip(context, (ctx) => {\r\n\t\t\t\t\t\tconst borderColors = toBoxArray(\r\n\t\t\t\t\t\t\t\tgetColor(this.theme.hiliteBorderColor, sel.col, sel.row, this._grid, ctx)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tctx.lineWidth = 1;\r\n\t\t\t\t\t\tctx.strokeStyle = borderColors[1];\r\n\t\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\t\tctx.moveTo(rect.left - 0.5, rect.top);\r\n\t\t\t\t\t\tctx.lineTo(rect.left - 0.5, rect.bottom);\r\n\t\t\t\t\t\tctx.stroke();\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (sel.col === col && sel.row + 1 === row) {\r\n\t\t\t\t\t//\r\n\t\t\t\t\tthis.drawBorderWithClip(context, (ctx) => {\r\n\t\t\t\t\t\tconst borderColors = toBoxArray(\r\n\t\t\t\t\t\t\t\tgetColor(this.theme.hiliteBorderColor, sel.col, sel.row, this._grid, ctx)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tctx.lineWidth = 1;\r\n\t\t\t\t\t\tctx.strokeStyle = borderColors[0];\r\n\t\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\t\tctx.moveTo(rect.left, rect.top - 0.5);\r\n\t\t\t\t\t\tctx.lineTo(rect.right, rect.top - 0.5);\r\n\t\t\t\t\t\tctx.stroke();\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tcheckbox(check, context, option = {}) {\r\n\t\t\tthis.drawWithClip(context, (ctx) => {\r\n\t\t\t\tdrawCheckbox(ctx, context.getRect(), check, this, option);\r\n\t\t\t});\r\n\t\t}\r\n\t\tbutton(caption, context,\r\n\t\t\t\t{\r\n\t\t\t\t\tbgColor = this.theme.button.bgColor,\r\n\t\t\t\t\tpadding,\r\n\t\t\t\t\toffset = 2,\r\n\t\t\t\t\tcolor = this.theme.button.color,\r\n\t\t\t\t\ttextAlign = 'center',\r\n\t\t\t\t\ttextBaseline = 'middle',\r\n\t\t\t\t\tshadow,\r\n\t\t\t\t\tfont,\r\n\t\t\t\t\ticons,\r\n\t\t\t\t} = {}) {\r\n\t\t\tconst rect = context.getRect();\r\n\r\n\t\t\tthis.drawWithClip(context, (ctx) => {\r\n\t\t\t\tconst {col, row} = context;\r\n\t\t\t\tpadding = this.toBoxPixelArray(padding || rect.height / 8, context);\r\n\t\t\t\tconst left = rect.left + padding[3];\r\n\t\t\t\tconst top = rect.top + padding[0];\r\n\t\t\t\tconst width = rect.width - padding[1] - padding[3];\r\n\t\t\t\tconst height = rect.height - padding[0] - padding[2];\r\n\r\n\t\t\t\tcanvashelper.drawButton(ctx, left, top, width, height, {\r\n\t\t\t\t\tbgColor,\r\n\t\t\t\t\tradius: rect.height / 8,\r\n\t\t\t\t\toffset,\r\n\t\t\t\t\tshadow,\r\n\t\t\t\t});\r\n\t\t\t\t_inlineRect(this._grid, ctx, caption, new Rect(left, top, width, height),\r\n\t\t\t\t\t\tcol, row,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\toffset,\r\n\t\t\t\t\t\t\tcolor,\r\n\t\t\t\t\t\t\ttextAlign,\r\n\t\t\t\t\t\t\ttextBaseline,\r\n\t\t\t\t\t\t\tfont,\r\n\t\t\t\t\t\t\ticons,\r\n\t\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t\ttestFontLoad(font, value, context) {\r\n\t\t\treturn testFontLoad(font, value, context, this._grid);\r\n\t\t}\r\n\t}\r\n\r\n\tmodule.exports = GridCanvasHelper;\r\n}","'use strict';\r\n{\r\n\tconst loads = {};\r\n\tconst legacy = !document.fonts;\r\n\tconst load = legacy ? function(font, testStr, callback) {\r\n\t\t//for legacy(IE)\r\n\t\tif (loads[font + ' @ ' + testStr]) {\r\n\t\t\tcallback();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\trequire('./legacy/fontwatch/FontWatchRunner').load(font, testStr, () => {\r\n\t\t\tloads[font + ' @ ' + testStr] = true;\r\n\t\t\tcallback();\r\n\t\t}, () => {\r\n\t\t\tloads[font + ' @ ' + testStr] = true;\r\n\t\t\tcallback();\r\n\t\t});\r\n\t} : function(font, testStr, callback) {\r\n\t\tif (loads.all || loads[font]) {\r\n\t\t\tcallback();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tdocument.fonts.ready.then(() => {\r\n\t\t\tloads.all = true;\r\n\t\t});\r\n\t\tdocument.fonts.load(font).then(() => {\r\n\t\t\tloads[font] = true;\r\n\t\t\tcallback();\r\n\t\t});\r\n\t};\r\n\tconst check = legacy ? function(font, testStr) {\r\n\t\t//for legacy(IE)\r\n\t\tif (loads[font + ' @ ' + testStr]) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tload(font, testStr, () => {});\r\n\t\treturn false;\r\n\t} : function(font, testStr) {\r\n\t\tif (loads.all || loads[font]) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif (!document.fonts.check(font)) {\r\n\t\t\tload(font, testStr, () => {});\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\r\n\t\r\n\tmodule.exports = {\r\n\t\tcheck,\r\n\t\tload\r\n\t};\r\n}","'use strict';\r\n\r\nconst Inline = require('./Inline');\r\nconst {getCacheOrLoad} = require('../internal/imgs');\r\nconst {isPromise} = require('../internal/utils');\r\n\r\nclass InlineImage extends Inline {\r\n\tconstructor(\r\n\t\t\t{\r\n\t\t\t\tsrc,\r\n\t\t\t\twidth,\r\n\t\t\t\theight,\r\n\t\t\t\timageLeft,\r\n\t\t\t\timageTop,\r\n\t\t\t\timageWidth,\r\n\t\t\t\timageHeight,\r\n\t\t\t}) {\r\n\t\tsuper();\r\n\t\tthis._src = src;\r\n\t\tthis._width = width;\r\n\t\tthis._height = height;\r\n\t\tthis._imageLeft = imageLeft;\r\n\t\tthis._imageTop = imageTop;\r\n\t\tthis._imageWidth = imageWidth;\r\n\t\tthis._imageHeight = imageHeight;\r\n\r\n\t\tthis._onloaded = [];\r\n\r\n\r\n\t\tthis._loaded = false;\r\n\t\tif (isPromise(src)) {\r\n\t\t\tsrc.then((s) => {\r\n\t\t\t\tthis._src = s;\r\n\t\t\t\tthis._loadImage(s);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis._loadImage(src);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t_loadImage(src) {\r\n\t\tconst img = this._inlineImg = getCacheOrLoad('InlineImage', 50, src);\r\n\t\tif (isPromise(img)) {\r\n\t\t\timg.then((i) => {\r\n\t\t\t\tthis._loaded = true;\r\n\t\t\t\tthis._inlineImg = i;\r\n\r\n\t\t\t\tthis._onloaded.forEach((fn) => fn());\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis._loaded = true;\r\n\t\t}\r\n\t}\r\n\twidth({ctx}) {\r\n\t\treturn this._width || (this._loaded ? this._inlineImg.width : 0);\r\n\t}\r\n\tfont() {\r\n\t\treturn null;\r\n\t}\r\n\tcolor() {\r\n\t\treturn null;\r\n\t}\r\n\tcanDraw() {\r\n\t\treturn this._loaded;\r\n\t}\r\n\tonReady(callback) {\r\n\t\tif (isPromise(this._src) || isPromise(this._inlineImg)) {\r\n\t\t\tthis._onloaded.push(() => callback());\r\n\t\t}\r\n\t}\r\n\tdraw(\r\n\t\t\t{\r\n\t\t\t\tctx,\r\n\t\t\t\tcanvashelper,\r\n\t\t\t\trect,\r\n\t\t\t\toffset,\r\n\t\t\t\toffsetLeft,\r\n\t\t\t\toffsetRight,\r\n\t\t\t\toffsetTop,\r\n\t\t\t\toffsetBottom,\r\n\t\t\t}) {\r\n\t\tconst img = this._inlineImg;\r\n\t\tcanvashelper.drawInlineImageRect(ctx, img,\r\n\t\t\t\tthis._imageLeft || 0, this._imageTop || 0,\r\n\t\t\t\tthis._imageWidth || img.width, this._imageHeight || img.height,\r\n\t\t\t\tthis._width || img.width, this._height || img.height,\r\n\t\t\t\trect.left, rect.top, rect.width, rect.height,\r\n\t\t\t\t{\r\n\t\t\t\t\toffset: offset + 1,\r\n\t\t\t\t\tpadding: {\r\n\t\t\t\t\t\tleft: offsetLeft,\r\n\t\t\t\t\t\tright: offsetRight,\r\n\t\t\t\t\t\ttop: offsetTop,\r\n\t\t\t\t\t\tbottom: offsetBottom,\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t}\r\n}\r\n\r\nmodule.exports = InlineImage;","/*eslint-disable camelcase*/\r\n'use strict';\r\n\r\nconst {extend} = require('./internal/utils');\r\nconst plugins = require('./plugins/icons');\r\nconst builtins = {\r\n\tget arrow_upward() {\r\n\t\treturn require('../../webpack-loader/svg-to-icon-js-loader!material-design-icons/navigation/svg/production/ic_arrow_upward_48px.svg');\r\n\t},\r\n\tget arrow_downward() {\r\n\t\treturn require('../../webpack-loader/svg-to-icon-js-loader!material-design-icons/navigation/svg/production/ic_arrow_downward_48px.svg');\r\n\t},\r\n\tget edit() {\r\n\t\treturn require('../../webpack-loader/svg-to-icon-js-loader!material-design-icons/image/svg/production/ic_edit_48px.svg');\r\n\t},\r\n\tget add() {\r\n\t\treturn require('../../webpack-loader/svg-to-icon-js-loader!material-design-icons/content/svg/production/ic_add_48px.svg');\r\n\t},\r\n\tget star() {\r\n\t\treturn require('../../webpack-loader/svg-to-icon-js-loader!material-design-icons/toggle/svg/production/ic_star_24px.svg');\r\n\t},\r\n\tget star_border() {\r\n\t\treturn require('../../webpack-loader/svg-to-icon-js-loader!material-design-icons/toggle/svg/production/ic_star_border_24px.svg');\r\n\t},\r\n\tget star_half() {\r\n\t\treturn require('../../webpack-loader/svg-to-icon-js-loader!material-design-icons/toggle/svg/production/ic_star_half_24px.svg');\r\n\t},\r\n};\r\n\r\nmodule.exports = {\r\n\tget() {\r\n\t\treturn extend(builtins, plugins);\r\n\t}\r\n};","'use strict';\r\n\r\nmodule.exports = {};","'use strict';\r\n{\r\n\tconst rgbMap = {};\r\n\tfunction styleColorToRGB(color) {\r\n\t\tconst dummy = document.createElement('div');\r\n\t\tconst {style} = dummy;\r\n\t\tstyle.color = color;\r\n\t\tstyle.position = 'fixed';\r\n\t\tstyle.height = '1px';\r\n\t\tstyle.width = '1px';\r\n\t\tstyle.opacity = 0;\r\n\t\tdocument.body.appendChild(dummy);\r\n\t\tconst {color: styleColor} = document.defaultView.getComputedStyle(dummy, '');\r\n\t\tdocument.body.removeChild(dummy);\r\n\t\treturn colorToRGB0(styleColor);\r\n\t}\r\n\r\n\tfunction hexToNum(hex) {\r\n\t\treturn parseInt(hex, 16);\r\n\t}\r\n\tfunction createRGB(r, g, b, a = 1) {\r\n\t\treturn {r, g, b, a};\r\n\t}\r\n\tfunction tripleHexToRGB({1: r, 2: g, 3: b}) {\r\n\t\treturn createRGB(hexToNum(r + r), hexToNum(g + g), hexToNum(b + b));\r\n\t}\r\n\tfunction sextupleHexToRGB({1: r1, 2: r2, 3: g1, 4: g2, 5: b1, 6: b2}) {\r\n\t\treturn createRGB(hexToNum(r1 + r2), hexToNum(g1 + g2), hexToNum(b1 + b2));\r\n\t}\r\n\t\r\n\tfunction testRGB({r, g, b, a}) {\r\n\t\treturn 0 <= r && r <= 255 &&\r\n\t\t0 <= g && g <= 255 &&\r\n\t\t0 <= b && b <= 255 &&\r\n\t\t0 <= a && a <= 1;\r\n\t}\r\n\tfunction rateToByte(r) {\r\n\t\treturn Math.ceil(r * 255 / 100);\r\n\t}\r\n\tfunction colorToRGB0(color) {\r\n\t\tif (color.match(/^#[0-9a-f]{3}$/i)) {\r\n\t\t\treturn tripleHexToRGB(color);\r\n\t\t}\r\n\t\tif (color.match(/^#[0-9a-f]{6}$/i)) {\r\n\t\t\treturn sextupleHexToRGB(color);\r\n\t\t}\r\n\t\tlet ret = color.match(/^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/i);\r\n\t\tif (ret) {\r\n\t\t\tconst rgb = createRGB(ret[1] - 0, ret[2] - 0, ret[3] - 0);\r\n\t\t\tif (testRGB(rgb)) {\r\n\t\t\t\treturn rgb;\r\n\t\t\t}\r\n\t\t}\r\n\t\tret = color.match(/^rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d(\\.\\d)?)\\s*\\)$/i);\r\n\t\tif (ret) {\r\n\t\t\tconst rgb = createRGB(ret[1] - 0, ret[2] - 0, ret[3] - 0, ret[4] - 0);\r\n\t\t\tif (testRGB(rgb)) {\r\n\t\t\t\treturn rgb;\r\n\t\t\t}\r\n\t\t}\r\n\t\tret = color.match(/^rgb\\(\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*\\)$/i);\r\n\t\tif (ret) {\r\n\t\t\tconst rgb = createRGB(rateToByte(ret[1]), rateToByte(ret[3]), rateToByte(ret[5]));\r\n\t\t\tif (testRGB(rgb)) {\r\n\t\t\t\treturn rgb;\r\n\t\t\t}\r\n\t\t}\r\n\t\tret = color.match(/^rgba\\(\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d(\\.\\d)?)\\s*\\)$/i);\r\n\t\tif (ret) {\r\n\t\t\tconst rgb = createRGB(rateToByte(ret[1]), rateToByte(ret[3]), rateToByte(ret[5]), ret[7] - 0);\r\n\t\t\tif (testRGB(rgb)) {\r\n\t\t\t\treturn rgb;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\tfunction colorToRGB(color) {\r\n\t\tif (typeof color !== 'string') {\r\n\t\t\treturn createRGB(0, 0, 0, 0);\r\n\t\t}\r\n\t\tcolor = color.toLowerCase().trim();\r\n\t\tif (rgbMap[color]) {\r\n\t\t\treturn rgbMap[color];\r\n\t\t}\r\n\t\treturn colorToRGB0(color) || (rgbMap[color] = styleColorToRGB(color));\r\n\t}\r\n\r\n\tmodule.exports = {\r\n\t\tcolorToRGB\r\n\t};\r\n}","'use strict';\r\n{\r\n\tconst EventTarget = require('../../core/EventTarget');\r\n\r\n\tconst EVENT_TYPE = {\r\n\t\tCHANGE_STYLE: 'change_style',\r\n\t};\r\n\r\n\tlet defaultStyle;\r\n\tclass BaseStyle extends EventTarget {\r\n\t\tstatic get EVENT_TYPE() {\r\n\t\t\treturn EVENT_TYPE;\r\n\t\t}\r\n\t\tstatic get DEFAULT() {\r\n\t\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new BaseStyle());\r\n\t\t}\r\n\t\tconstructor(\r\n\t\t\t\t{\r\n\t\t\t\t\ttextAlign = 'left',\r\n\t\t\t\t\ttextBaseline = 'middle',\r\n\t\t\t\t\tbgColor\r\n\t\t\t\t} = {}) {\r\n\t\t\tsuper();\r\n\t\t\tthis._textAlign = textAlign;\r\n\t\t\tthis._textBaseline = textBaseline;\r\n\t\t\tthis._bgColor = bgColor;\r\n\t\t}\r\n\t\tget textAlign() {\r\n\t\t\treturn this._textAlign;\r\n\t\t}\r\n\t\tset textAlign(textAlign) {\r\n\t\t\tthis._textAlign = textAlign;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t\tget textBaseline() {\r\n\t\t\treturn this._textBaseline;\r\n\t\t}\r\n\t\tset textBaseline(textBaseline) {\r\n\t\t\tthis._textBaseline = textBaseline;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t\tget bgColor() {\r\n\t\t\treturn this._bgColor;\r\n\t\t}\r\n\t\tset bgColor(bgColor) {\r\n\t\t\tthis._bgColor = bgColor;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t\tdoChangeStyle() {\r\n\t\t\tthis.fireListeners(EVENT_TYPE.CHANGE_STYLE);\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new BaseStyle(this);\r\n\t\t}\r\n\t}\r\n\tmodule.exports = BaseStyle;\r\n}","'use strict';\r\n{\r\n\tconst styleContents = require('../style');\r\n\tconst {Style} = styleContents;\r\n\r\n\tclass BaseHeader {\r\n\t\tconstructor(headerCell) {\r\n\t\t\tthis._headerCell = headerCell;\r\n\t\t\tthis.onDrawCell = this.onDrawCell.bind(this);//\r\n\t\t}\r\n\t\tget StyleClass() {\r\n\t\t\treturn Style;\r\n\t\t}\r\n\t\tonDrawCell(cellValue, info, context, grid) {\r\n\t\t\tconst {style, drawCellBase} = info;\r\n\t\t\tdelete info.getRecord;\r\n\t\t\tdelete info.style;\r\n\t\t\tconst helper = grid.getGridCanvasHelper();\r\n\t\t\tdrawCellBase();\r\n\t\t\t//\r\n\t\t\tthis.drawInternal(\r\n\t\t\t\t\tcellValue,\r\n\t\t\t\t\tcontext,\r\n\t\t\t\t\tstyleContents.of(style, this.StyleClass),\r\n\t\t\t\t\thelper,\r\n\t\t\t\t\tgrid,\r\n\t\t\t\t\tinfo\r\n\t\t\t);\r\n\t\t}\r\n\t\tdrawInternal(value, context, style, helper, grid, info) {\r\n\t\t\t\r\n\t\t}\r\n\t\tbindGridEvent(grid) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t}\r\n\tmodule.exports = BaseHeader;\r\n}","'use strict';\r\n\r\nconst {extend} = require('../internal/utils');\r\nconst DrawGrid = require('../core/DrawGrid');\r\nconst EVENT_TYPE = extend(DrawGrid.EVENT_TYPE, {\r\n\tCHANGED_VALUE: 'changed_value',\r\n});\r\nmodule.exports = EVENT_TYPE;","'use strict';\r\n\r\n{\r\n\tconst core = require('./core');\r\n\tconst tools = require('./tools');\r\n\tconst columns = require('./columns');\r\n\tconst themes = require('./themes');\r\n\tconst data = require('./data');\r\n\t\r\n\tconst ListGrid = require('./ListGrid');\r\n\tconst GridCanvasHelper = require('./GridCanvasHelper');\r\n\t\r\n\tconst icons = require('./icons');\r\n\tconst register = require('./register');\r\n\t\r\n\t/**\r\n\t * Cheetah Grid\r\n\t * @type {Object}\r\n\t * @namespace cheetahGrid\r\n\t */\r\n\tmodule.exports = {\r\n\t\tcore,\r\n\t\ttools,\r\n\r\n\t\t// impl Grids\r\n\t\tListGrid,\r\n\r\n\t\t// objects\r\n\t\tcolumns,\r\n\t\tthemes,\r\n\t\tdata,\r\n\r\n\t\t// helper\r\n\t\tGridCanvasHelper,\r\n\t\tget icons() {\r\n\t\t\treturn icons.get();\r\n\t\t},\r\n\r\n\t\t//plugin registers\r\n\t\tregister,\r\n\r\n\t\tget _internal() {\r\n\t\t\tconsole.warn('use internal!!');\r\n\t\t\treturn {\r\n\t\t\t\tcolor: require('./internal/color'),\r\n\t\t\t\tsort: require('./internal/sort'),\r\n\t\t\t\tcalc: require('./internal/calc'),\r\n\t\t\t\tsymbolManager: require('./internal/symbolManager'),\r\n\t\t\t\tpath2DManager: require('./internal/path2DManager'),\r\n\t\t\t};\r\n\t\t}\r\n\t};\r\n}","'use strict';\r\n{\r\n\tconst DrawGrid = require('./core/DrawGrid');\r\n\r\n\t/**\r\n\t * core modules\r\n\t * @type {Object}\r\n\t * @namespace cheetahGrid.core\r\n\t * @memberof cheetahGrid\r\n\t */\r\n\tmodule.exports = {\r\n\t\tDrawGrid\r\n\t};\r\n}","'use strict';\r\n{\r\n\tconst EventHandler = require('./EventHandler');\r\n\tconst style = require('./style');\r\n\tconst {browser} = require('./utils');\r\n\t\r\n\tconst MAX_SCROLL = browser.heightLimit - 1000;\r\n\r\n\tfunction _update(scrollable) {\r\n\t\tlet domHeight;\r\n\t\tif (scrollable._height > MAX_SCROLL) {\r\n\t\t\tconst sbSize = style.getScrollBarSize();\r\n\t\t\tconst offsetHeight = scrollable._scrollable.offsetHeight;\r\n\t\t\tconst vScrollRange = MAX_SCROLL - offsetHeight + sbSize;\r\n\t\t\tconst rScrollRange = scrollable._height - offsetHeight + sbSize;\r\n\t\t\tscrollable._p = vScrollRange / rScrollRange;\r\n\t\t\tdomHeight = MAX_SCROLL;\r\n\t\t} else {\r\n\t\t\tscrollable._p = 1;\r\n\t\t\tdomHeight = scrollable._height;\r\n\t\t}\r\n\r\n\t\tscrollable._endPointElement.style.top = domHeight.toFixed() + 'px';\r\n\t\tscrollable._endPointElement.style.left = scrollable._width.toFixed() + 'px';\r\n\t\t\r\n\t}\r\n\r\n\tclass Scrollable {\r\n\t\tconstructor() {\r\n\t\t\tthis._handler = new EventHandler();\r\n\r\n\t\t\tthis._scrollable = document.createElement('div');\r\n\t\t\tthis._scrollable.classList.add('grid-scrollable');\r\n\t\t\tthis._height = 0;\r\n\t\t\tthis._width = 0;\r\n\r\n\t\t\tthis._endPointElement = document.createElement('div');\r\n\t\t\tthis._endPointElement.classList.add('grid-scroll-end-point');\r\n\t\t\t_update(this);\r\n\t\t\tthis._scrollable.appendChild(this._endPointElement);\r\n\r\n\t\t\t// const mousewheelevt = (/Firefox/i.test(navigator.userAgent)) ? 'DOMMouseScroll' : 'mousewheel'; //FF doesn't recognize mousewheel as of FF3.x\r\n\t\t\t// this._handler.on(this._scrollable, mousewheelevt, (evt) => {\r\n\t\t\t// const delta = evt.detail ? evt.detail * (-120) : evt.wheelDelta;\r\n\t\t\t// const point = Math.min(Math.abs(delta) / 12, this.scrollHeight / 5);\r\n\t\t\t// this.scrollTop += delta < 0 ? point : -point;\r\n\t\t\t// });\r\n\t\t}\r\n\t\tcalcTop(top) {\r\n\t\t\tconst relativeTop = top - this.scrollTop;\r\n\t\t\treturn this._scrollable.scrollTop + relativeTop;\r\n\t\t}\r\n\t\tgetElement() {\r\n\t\t\treturn this._scrollable;\r\n\t\t}\r\n\t\tsetScrollSize(width, height) {\r\n\t\t\tthis._width = width;\r\n\t\t\tthis._height = height;\r\n\t\t\t_update(this);\r\n\t\t}\r\n\t\tget scrollWidth() {\r\n\t\t\treturn this._width;\r\n\t\t}\r\n\t\tset scrollWidth(width) {\r\n\t\t\tthis._width = width;\r\n\t\t\t_update(this);\r\n\t\t}\r\n\t\tget scrollHeight() {\r\n\t\t\treturn this._height;\r\n\t\t}\r\n\t\tset scrollHeight(height) {\r\n\t\t\tthis._height = height;\r\n\t\t\t_update(this);\r\n\t\t}\r\n\t\tget scrollLeft() {\r\n\t\t\treturn Math.ceil(this._scrollable.scrollLeft);\r\n\t\t}\r\n\t\tset scrollLeft(scrollLeft) {\r\n\t\t\tthis._scrollable.scrollLeft = scrollLeft;\r\n\t\t}\r\n\t\tget scrollTop() {\r\n\t\t\treturn Math.ceil(this._scrollable.scrollTop / this._p);\r\n\t\t}\r\n\t\tset scrollTop(scrollTop) {\r\n\t\t\tthis._scrollable.scrollTop = scrollTop * this._p;\r\n\t\t}\r\n\t\tonScroll(fn) {\r\n\t\t\tthis._handler.on(this._scrollable, 'scroll', fn);\r\n\t\t}\r\n\t\tdispose() {\r\n\t\t\tthis._handler.dispose();\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tmodule.exports = Scrollable;\r\n}","\nvar content = require(\"!!../../../node_modules/css-loader/index.js?minimize!./style.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?minimize!./style.css\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?minimize!./style.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".cheetah-grid .grid-scrollable{height:100%;width:100%;position:absolute;overflow:scroll}.cheetah-grid .grid-scroll-end-point{opacity:0;position:relative}.cheetah-grid{position:relative;width:100%;height:100%}.cheetah-grid>canvas{position:absolute;width:0;height:0}.cheetah-grid .grid-focus-control{position:relative!important;width:1px;height:1px;opacity:0;padding:0;margin:0;box-sizing:border-box;pointer-events:none;max-width:0;max-height:0;float:none!important}.cheetah-grid input.grid-focus-control::-ms-clear{visibility:hidden}.cheetah-grid input.grid-focus-control.composition{opacity:1;max-width:none;max-height:none}\", \"\"]);\n\n// exports\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","'use strict';\r\n{\r\n\tconst indexFirst = (ary, elm) => {\r\n\t\tlet low = 0;\r\n\t\tlet high = ary.length - 1;\r\n\t\twhile (low <= high) {\r\n\t\t\tconst i = Math.floor((low + high) / 2);\r\n\t\t\tif (ary[i] === elm) {\r\n\t\t\t\treturn i;\r\n\t\t\t} else if (ary[i] > elm) {\r\n\t\t\t\thigh = i - 1;\r\n\t\t\t} else {\r\n\t\t\t\tlow = i + 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn high < 0 ? 0 : high;\r\n\t};\r\n\r\n\r\n\tclass NumberMap {\r\n\t\tconstructor() {\r\n\t\t\tthis._keys = [];\r\n\t\t\tthis._vals = {};\r\n\t\t\tthis._sorted = false;\r\n\t\t}\r\n\t\tput(key, value) {\r\n\t\t\tif (!(key in this._vals)) {\r\n\t\t\t\tthis._keys.push(key);\r\n\t\t\t\tthis._sorted = false;\r\n\t\t\t}\r\n\t\t\tthis._vals[key] = value;\r\n\t\t}\r\n\t\tget(key) {\r\n\t\t\treturn this._vals[key];\r\n\t\t}\r\n\t\teachAll(fn) {\r\n\t\t\tthis._keys.forEach((key) => {\r\n\t\t\t\tfn(this.get(key), key);\r\n\t\t\t});\r\n\t\t}\r\n\t\teach(keyFrom, keyTo, fn) {\r\n\t\t\tconst {_keys: keys} = this;\r\n\t\t\tconst {length} = keys;\r\n\t\t\tif (!this._sorted) {\r\n\t\t\t\tkeys.sort((a, b) => {\r\n\t\t\t\t\tif (a < b) { return -1; }\r\n\t\t\t\t\tif (a > b) { return 1; }\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t});\r\n\t\t\t\tthis._sorted = true;\r\n\t\t\t}\r\n\r\n\t\t\tfor (let i = indexFirst(keys, keyFrom); i < length; i++) {\r\n\t\t\t\tconst key = keys[i];\r\n\t\t\t\tif (keyFrom <= key && key <= keyTo) {\r\n\t\t\t\t\tfn(this.get(key), key);\r\n\t\t\t\t} else if (keyTo < key) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tmodule.exports = NumberMap;\r\n}","'use strict';\r\n\r\nconst EventHandler = require('./EventHandler');\r\nconst handler = new EventHandler();\r\n\r\nlet ratio;\r\nfunction setRatio() {\r\n\tratio = Math.ceil(window.devicePixelRatio || 1);\r\n\tif (ratio > 1 && (ratio % 2) !== 0) {\r\n\t\tratio += 1;\r\n\t}\r\n}\r\nsetRatio();\r\nhandler.on(window, 'resize', setRatio);\r\n\r\nmodule.exports = {\r\n\ttransform(canvas) {\r\n\t\tconst ctx = canvas.getContext('2d');\r\n\r\n\t\tconst getAttribute = canvas.getAttribute;\r\n\t\tcanvas.getAttribute = function(name, ...args) {\r\n\t\t\tlet result = getAttribute.call(this, name, ...args);\r\n\t\t\tif (name === 'width' || name === 'height') {\r\n\t\t\t\tresult /= ratio;\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t};\r\n\t\tconst setAttribute = canvas.setAttribute;\r\n\t\tcanvas.setAttribute = function(name, val, ...args) {\r\n\t\t\tconst wh = name === 'width' || name === 'height';\r\n\t\t\tif (wh) {\r\n\t\t\t\tval *= ratio;\r\n\t\t\t}\r\n\t\t\tconst result = setAttribute.call(this, name, val, ...args);\r\n\t\t\tif (wh) {\r\n\t\t\t\tctx.scale(ratio, ratio);\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t};\r\n\r\n\t\tObject.defineProperty(canvas, 'width', {\r\n\t\t\tget() {\r\n\t\t\t\treturn canvas.getAttribute('width');\r\n\t\t\t},\r\n\t\t\tset: (val) => {\r\n\t\t\t\tcanvas.setAttribute('width', Math.floor(val));\r\n\t\t\t},\r\n\t\t\tconfigurable: true,\r\n\t\t\tenumerable: true,\r\n\t\t});\r\n\t\tObject.defineProperty(canvas, 'height', {\r\n\t\t\tget() {\r\n\t\t\t\treturn canvas.getAttribute('height');\r\n\t\t\t},\r\n\t\t\tset: (val) => {\r\n\t\t\t\tcanvas.setAttribute('height', Math.floor(val));\r\n\t\t\t},\r\n\t\t\tconfigurable: true,\r\n\t\t\tenumerable: true,\r\n\t\t});\r\n\t\tconst drawImage = ctx.drawImage;\r\n\t\tctx.drawImage = function(img, ...args) {\r\n\t\t\tif (img !== canvas || ratio === 1) {\r\n\t\t\t\treturn drawImage.call(this, img, ...args);\r\n\t\t\t}\r\n\t\t\tthis.save();\r\n\t\t\ttry {\r\n\t\t\t\tthis.scale(1 / ratio, 1 / ratio);\r\n\t\t\t\tif (args.length > 4) {\r\n\t\t\t\t\targs[4] = args[4] * ratio;\r\n\t\t\t\t\targs[5] = args[5] * ratio;\r\n\t\t\t\t} else {\r\n\t\t\t\t\targs[0] = args[0] * ratio;\r\n\t\t\t\t\targs[1] = args[1] * ratio;\r\n\t\t\t\t}\r\n\t\t\t\treturn drawImage.call(this, img, ...args);\r\n\t\t\t} finally {\r\n\t\t\t\tthis.restore();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn canvas;\r\n\t}\r\n};","'use strict';\r\n{\r\n\tconst canvashelper = require('./tools/canvashelper');\r\n\r\n\t/**\r\n\t * tools\r\n\t * @type {Object}\r\n\t * @namespace cheetahGrid.tools\r\n\t * @memberof cheetahGrid\r\n\t */\r\n\tmodule.exports = {\r\n\t\tcanvashelper,\r\n\t};\r\n}","'use strict';\r\n{\r\n\tconst BaseAction = require('./action/BaseAction');\r\n\tconst Action = require('./action/Action');\r\n\tconst Editor = require('./action/Editor');\r\n\tconst CheckEditor = require('./action/CheckEditor');\r\n\tconst ButtonAction = require('./action/ButtonAction');\r\n\tconst SmallDialogInputEditor = require('./action/SmallDialogInputEditor');\r\n\tconst InlineInputEditor = require('./action/InlineInputEditor');\r\n\tconst InlineMenuEditor = require('./action/InlineMenuEditor');\r\n\r\n\tclass ImmutableCheckEditor extends CheckEditor {\r\n\t\tget disabled() {\r\n\t\t\treturn this._disabled;\r\n\t\t}\r\n\t\tget readOnly() {\r\n\t\t\treturn this._readOnly;\r\n\t\t}\r\n\t}\r\n\tclass ImmutableInputEditor extends SmallDialogInputEditor {\r\n\t\tget disabled() {\r\n\t\t\treturn this._disabled;\r\n\t\t}\r\n\t\tget readOnly() {\r\n\t\t\treturn this._readOnly;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * column actions\r\n\t * @type {Object}\r\n\t * @namespace cheetahGrid.columns.action\r\n\t * @memberof cheetahGrid.columns\r\n\t */\r\n\tconst action = {\r\n\t\tACTIONS: {\r\n\t\t\tCHECK: new ImmutableCheckEditor(),\r\n\t\t\tINPUT: new ImmutableInputEditor(),\r\n\t\t},\r\n\t\tget BaseAction() {\r\n\t\t\treturn BaseAction;\r\n\t\t},\r\n\t\tget Editor() {\r\n\t\t\treturn Editor;\r\n\t\t},\r\n\t\tget Action() {\r\n\t\t\treturn Action;\r\n\t\t},\r\n\t\tget CheckEditor() {\r\n\t\t\treturn CheckEditor;\r\n\t\t},\r\n\t\tget ButtonAction() {\r\n\t\t\treturn ButtonAction;\r\n\t\t},\r\n\t\tget SmallDialogInputEditor() {\r\n\t\t\treturn SmallDialogInputEditor;\r\n\t\t},\r\n\t\tget InlineInputEditor() {\r\n\t\t\tconsole.warn('InlineInputEditor is an experiment stage');\r\n\t\t\treturn InlineInputEditor;\r\n\t\t},\r\n\t\tget InlineMenuEditor() {\r\n\t\t\treturn InlineMenuEditor;\r\n\t\t},\r\n\t\tof(columnAction) {\r\n\t\t\tif (!columnAction) {\r\n\t\t\t\treturn action.ACTIONS.DEFAULT;\r\n\t\t\t} else if (typeof columnAction === 'string') {\r\n\t\t\t\treturn action.ACTIONS[columnAction.toUpperCase()] || action.of(null);\r\n\t\t\t} else {\r\n\t\t\t\treturn columnAction;\r\n\t\t\t}\r\n\t\t},\r\n\t};\r\n\tmodule.exports = action;\r\n}","'use strict';\r\n{\r\n\tconst {obj: {setReadonly}, isPromise} = require('../../internal/utils');\r\n\tconst {bindCellClickAction, bindCellKeyAction} = require('./actionBind');\r\n\tconst animate = require('../../internal/animate');\r\n\r\n\tconst Editor = require('./Editor');\r\n\tconst {CHECK_COLUMN_STATE_ID} = require('../../internal/symbolManager');\r\n\r\n\tconst KEY_ENTER = 13;\r\n\tconst KEY_SPACE = 32;\r\n\r\n\tfunction toggleValue(val) {\r\n\t\tif (typeof val === 'number') {\r\n\t\t\tif (val === 0) {\r\n\t\t\t\treturn 1;\r\n\t\t\t} else {\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t} else if (typeof val === 'string') {\r\n\t\t\tif (val === 'false') {\r\n\t\t\t\treturn 'true';\r\n\t\t\t} else if (val === 'off') {\r\n\t\t\t\treturn 'on';\r\n\t\t\t} else if (val.match(/^0+$/)) {\r\n\t\t\t\treturn val.replace(/^(0*)0$/, '$11');\r\n\t\t\t} else if (val === 'true') {\r\n\t\t\t\treturn 'false';\r\n\t\t\t} else if (val === 'on') {\r\n\t\t\t\treturn 'off';\r\n\t\t\t} else if (val.match(/^0*1$/)) {\r\n\t\t\t\treturn val.replace(/^(0*)1$/, '$10');\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn !val;\r\n\t}\r\n\r\n\tclass CheckEditor extends Editor {\r\n\t\tclone() {\r\n\t\t\treturn new CheckEditor(this);\r\n\t\t}\r\n\t\tbindGridEvent(grid, col, util) {\r\n\t\t\tif (!grid[CHECK_COLUMN_STATE_ID]) {\r\n\t\t\t\tsetReadonly(grid, CHECK_COLUMN_STATE_ID, {});\r\n\t\t\t}\r\n\t\t\tconst state = grid[CHECK_COLUMN_STATE_ID];\r\n\t\t\t\r\n\t\t\tconst action = (cell) => {\r\n\t\t\t\tconst key = cell.col + ':' + cell.row;\r\n\t\t\t\tconst blockKey = key + '::block';\r\n\t\t\t\tif (this.readOnly || this.disabled || state[blockKey]) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst ret = grid.doChangeValue(cell.col, cell.row, toggleValue);\r\n\t\t\t\tif (ret) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst onChange = () => {\r\n\t\t\t\t\t\t// checkbox animation\r\n\t\t\t\t\t\tanimate(200, (point) => {\r\n\t\t\t\t\t\t\tif (point === 1) {\r\n\t\t\t\t\t\t\t\tdelete state[key];\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tstate[key] = {\r\n\t\t\t\t\t\t\t\t\telapsed: point,\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tgrid.invalidateCell(cell.col, cell.row);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t};\r\n\t\t\t\t\tif (isPromise(ret)) {\r\n\t\t\t\t\t\tstate[blockKey] = true;\r\n\t\t\t\t\t\tret.then(() => {\r\n\t\t\t\t\t\t\tdelete state[blockKey];\r\n\t\t\t\t\t\t\tonChange();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tonChange();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\treturn [\r\n\t\t\t\t...bindCellClickAction(grid, col, util, {\r\n\t\t\t\t\taction,\r\n\t\t\t\t\tmouseOver: (e) => {\r\n\t\t\t\t\t\tif (this.disabled) {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tstate.mouseActiveCell = {\r\n\t\t\t\t\t\t\tcol: e.col,\r\n\t\t\t\t\t\t\trow: e.row\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tgrid.invalidateCell(e.col, e.row);\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmouseOut: (e) => {\r\n\t\t\t\t\t\tdelete state.mouseActiveCell;\r\n\t\t\t\t\t\tgrid.invalidateCell(e.col, e.row);\r\n\t\t\t\t\t},\r\n\t\t\t\t}),\r\n\t\t\t\t...bindCellKeyAction(grid, col, util, {\r\n\t\t\t\t\taction: (e) => {\r\n\t\t\t\t\t\tconst selrange = grid.selection.range;\r\n\t\t\t\t\t\tconst col = grid.selection.select.col;\r\n\t\t\t\t\t\tfor (let row = selrange.start.row; row <= selrange.end.row; row++) {\r\n\t\t\t\t\t\t\tif (!util.isTarget(col, row)) {\r\n\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\taction({\r\n\t\t\t\t\t\t\t\tcol,\r\n\t\t\t\t\t\t\t\trow,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tacceptKeys: [KEY_ENTER, KEY_SPACE],\r\n\t\t\t\t})\r\n\t\t\t];\r\n\t\t}\r\n\t}\r\n\r\n\tmodule.exports = CheckEditor;\r\n}","'use strict';\r\n{\r\n\tconst {obj: {setReadonly}} = require('../../internal/utils');\r\n\tconst Action = require('./Action');\r\n\tconst {BUTTON_COLUMN_STATE_ID} = require('../../internal/symbolManager');\r\n\tclass ButtonAction extends Action {\r\n\t\tgetState(grid) {\r\n\t\t\tif (!grid[BUTTON_COLUMN_STATE_ID]) {\r\n\t\t\t\tsetReadonly(grid, BUTTON_COLUMN_STATE_ID, {});\r\n\t\t\t}\r\n\t\t\treturn grid[BUTTON_COLUMN_STATE_ID];\r\n\t\t}\r\n\t}\r\n\r\n\tmodule.exports = ButtonAction;\r\n}","'use strict';\r\nconst {obj: {setReadonly}} = require('../../internal/utils');\r\n\t\r\nconst SmallDialogInputElement = require('./internal/SmallDialogInputElement');\r\nconst {SMALL_DIALOG_INPUT_EDITOR_STATE_ID: _} = require('../../internal/symbolManager');\r\n\r\nlet globalElement = null;\r\nlet bindGridCount = 0;\r\nfunction attachInput(grid, cell, editor, value) {\r\n\tif (!grid[_]) {\r\n\t\tsetReadonly(grid, _, {});\r\n\t}\r\n\tif (!globalElement) {\r\n\t\tglobalElement = new SmallDialogInputElement();\r\n\t}\r\n\tconst state = grid[_];\r\n\tif (!state.element) {\r\n\t\tstate.element = globalElement;\r\n\t\tbindGridCount++;\r\n\t\tgrid.addDisposable({\r\n\t\t\tdispose() {\r\n\t\t\t\tbindGridCount--;\r\n\t\t\t\tif (!bindGridCount) {\r\n\t\t\t\t\tglobalElement.dispose();\r\n\t\t\t\t\tglobalElement = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tglobalElement.attach(grid, editor, cell.col, cell.row, value);\r\n}\r\nfunction detachInput(gridFocus) {\r\n\tif (globalElement) {\r\n\t\tglobalElement.detach(gridFocus);\r\n\t}\r\n}\r\nconst BaseInputEditor = require('./BaseInputEditor');\r\nclass SmallDialogInputEditor extends BaseInputEditor {\r\n\tconstructor(option = {}) {\r\n\t\tsuper(option);\r\n\t\tthis._helperText = option.helperText;\r\n\t\tthis._inputValidator = option.inputValidator;\r\n\t\tthis._validator = option.validator;\r\n\t\tthis._classList = option.classList;\r\n\t\tthis._type = option.type;\r\n\t}\r\n\tdispose() {\r\n\t\tthis._inputDialogManager.dispose();\r\n\t\tthis._inputDialogManager = null;\r\n\t}\r\n\tget classList() {\r\n\t\treturn this._classList && (Array.isArray(this._classList) ? this._classList : [this._classList]);\r\n\t}\r\n\tset classList(classList) {\r\n\t\tthis._classList = classList;\r\n\t}\r\n\tget type() {\r\n\t\treturn this._type;\r\n\t}\r\n\tset type(type) {\r\n\t\tthis._type = type;\r\n\t}\r\n\tget helperText() {\r\n\t\treturn this._helperText;\r\n\t}\r\n\tget inputValidator() {\r\n\t\treturn this._inputValidator;\r\n\t}\r\n\tget validator() {\r\n\t\treturn this._validator;\r\n\t}\r\n\tclone() {\r\n\t\treturn new SmallDialogInputEditor(this);\r\n\t}\r\n\tonInputCellInternal(grid, cell, inputValue) {\r\n\t\tattachInput(grid, cell, this, inputValue);\r\n\t}\r\n\tonOpenCellInternal(grid, cell) {\r\n\t\tgrid.doGetCellValue(cell.col, cell.row, (value) => {\r\n\t\t\tattachInput(grid, cell, this, value);\r\n\t\t});\r\n\t}\r\n\tonChangeSelectCellInternal(grid, cell, selected) {\r\n\t\t// cancel input\r\n\t\tdetachInput();\r\n\t}\r\n\tonGridScrollInternal(grid) {\r\n\t\t// cancel input\r\n\t\tdetachInput(true);\r\n\t}\r\n\tonChangeDisabledInternal() {\r\n\t\t// cancel input\r\n\t\tdetachInput(true);\r\n\t}\r\n\tonChangeReadOnlyInternal() {\r\n\t\t// cancel input\r\n\t\tdetachInput(true);\r\n\t}\r\n\tonSetInputAttrsInternal(grid, cell, input) {\r\n\t\tSmallDialogInputElement.setInputAttrs(this, grid, input);\r\n\t}\r\n}\r\n\r\nmodule.exports = SmallDialogInputEditor;","'use strict';\r\nconst {\r\n\tevent: {\r\n\t\tgetKeyCode,\r\n\t\tcancel: cancelEvent,\r\n\t},\r\n\tthen,\r\n} = require('../../../internal/utils');\r\n\t\r\nconst EventHandler = require('../../../internal/EventHandler');\r\nconst {\r\n\tcreateElement,\r\n} = require('../../../internal/dom');\r\n\r\nconst CLASSNAME = 'cheetah-grid__small-dialog-input';\r\nconst INPUT_CLASSNAME = CLASSNAME + '__input';\r\nconst HIDDEN_CLASSNAME = CLASSNAME + '--hidden';\r\nconst SHOWN_CLASSNAME = CLASSNAME + '--shown';\r\n\r\nconst KEY_ENTER = 13;\r\nconst KEY_ESC = 27;\r\n\r\nfunction _focus(input, handler) {\r\n\tconst focus = () => {\r\n\t\tinput.focus();\r\n\r\n\t\tconst end = input.value.length;\r\n\t\ttry {\r\n\t\t\tif (typeof (input.selectionStart) !== 'undefined') {\r\n\t\t\t\tinput.selectionStart = end;\r\n\t\t\t\tinput.selectionEnd = end;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\t//ignore\r\n\t\t}\r\n\t\tif (document.selection) {\r\n\t\t\tconst range = input.createTextRange();\r\n\t\t\trange.collapse();\r\n\t\t\trange.moveEnd('character', end);\r\n\t\t\trange.moveStart('character', end);\r\n\t\t\trange.select();\r\n\t\t}\r\n\t};\r\n\thandler.tryWithOffEvents(input, 'blur', () => {\r\n\t\tfocus();\r\n\t});\r\n}\r\n\r\nfunction createDialogElement() {\r\n\trequire('./SmallDialogInputElement.css');\r\n\tconst element = createElement('div', {classList: [CLASSNAME, HIDDEN_CLASSNAME]});\r\n\tconst input = createElement('input', {classList: INPUT_CLASSNAME});\r\n\tinput.readonly = true;\r\n\tinput.tabIndex = -1;\r\n\telement.appendChild(input);\r\n\treturn element;\r\n}\r\n\r\nfunction bindProps(grid, dialog, input, editor) {\r\n\tconst {classList, helperText} = editor;\r\n\tif (classList) {\r\n\t\tdialog.classList.add(...classList);\r\n\t}\r\n\tif (helperText && typeof helperText !== 'function') {\r\n\t\tdialog.dataset.helperText = helperText;\r\n\t}\r\n\tsetInputAttrs(editor, grid, input);\r\n}\r\n\r\nfunction unbindProps(grid, dialog, input, editor) {\r\n\tconst {classList} = editor;\r\n\tif (classList) {\r\n\t\tdialog.classList.remove(...classList);\r\n\t}\r\n\tdelete dialog.dataset.helperText;\r\n\tinput.type = '';\r\n}\r\n\r\nfunction setInputAttrs(editor, grid, input) {\r\n\tconst {type} = editor;\r\n\tinput.type = type || '';\r\n}\r\n\r\nclass SmallDialogInputElement {\r\n\tstatic setInputAttrs(...args) {\r\n\t\tsetInputAttrs(...args);\r\n\t}\r\n\tconstructor() {\r\n\t\tthis._handler = new EventHandler();\r\n\t\tthis._dialog = createDialogElement();\r\n\t\tthis._input = this._dialog.querySelector('.' + INPUT_CLASSNAME);\r\n\t\tthis._bindDialogEvents();\r\n\t}\r\n\tdispose() {\r\n\t\tconst dialog = this._dialog;\r\n\t\tthis.detach();\r\n\t\tthis._handler.dispose();\r\n\t\tthis._dialog = null;\r\n\t\tthis._input = null;\r\n\t\tthis._beforePropEditor = null;\r\n\t\tif (dialog.parentElement) {\r\n\t\t\tdialog.parentElement.removeChild(dialog);\r\n\t\t}\r\n\t}\r\n\tattach(grid, editor, col, row, value) {\r\n\t\tconst handler = this._handler;\r\n\t\tconst dialog = this._dialog;\r\n\t\tconst input = this._input;\r\n\r\n\t\tif (this._beforePropEditor) {\r\n\t\t\tunbindProps(grid, dialog, input, this._beforePropEditor);\r\n\t\t}\r\n\r\n\t\tdelete dialog.dataset.errorMessage;\r\n\t\tdialog.classList.remove(SHOWN_CLASSNAME);\r\n\t\tdialog.classList.add(HIDDEN_CLASSNAME);\r\n\t\tinput.readonly = false;\r\n\t\tinput.tabIndex = 0;\r\n\t\tconst {element, rect} = grid.getAttachCellArea(col, row);\r\n\t\tdialog.style.top = rect.top.toFixed() + 'px';\r\n\t\tdialog.style.left = rect.left.toFixed() + 'px';\r\n\t\tdialog.style.width = rect.width.toFixed() + 'px';\r\n\t\tinput.style.height = rect.height.toFixed() + 'px';\r\n\t\telement.appendChild(dialog);\r\n\t\t\t\r\n\t\tinput.value = value;\r\n\t\tinput.style.font = grid.font || '16px sans-serif';\r\n\t\tconst activeData = {grid, col, row, editor};\r\n\t\tthis._onInputValue(input, activeData);\r\n\t\t_focus(input, handler);\r\n\t\tdialog.classList.add(SHOWN_CLASSNAME);\r\n\t\tdialog.classList.remove(HIDDEN_CLASSNAME);\r\n\t\tinput.readonly = true;\r\n\r\n\t\t\r\n\t\tbindProps(grid, dialog, input, editor);\r\n\r\n\t\tthis._activeData = activeData;\r\n\t\tthis._beforePropEditor = editor;\r\n\t}\r\n\tdetach(gridFocus) {\r\n\t\tif (this._isActive()) {\r\n\t\t\tconst dialog = this._dialog;\r\n\t\t\tconst input = this._input;\r\n\r\n\t\t\tdialog.classList.remove(SHOWN_CLASSNAME);\r\n\t\t\tdialog.classList.add(HIDDEN_CLASSNAME);\r\n\t\t\tinput.readonly = false;\r\n\t\t\tinput.tabIndex = -1;\r\n\r\n\t\t\tconst {grid, col, row} = this._activeData;\r\n\t\t\t\r\n\t\t\tgrid.invalidateCell(col, row);\r\n\t\t\tif (gridFocus) {\r\n\t\t\t\tgrid.focus();\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis._activeData = null;\r\n\t\tthis._beforeValue = null;\r\n\t}\r\n\t_doChangeValue() {\r\n\t\tif (!this._isActive()) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tconst input = this._input;\r\n\t\tconst {value} = input;\r\n\t\treturn then(this._validate(value), (res) => {\r\n\t\t\tif (res && value === input.value) {\r\n\t\t\t\tconst {grid, col, row} = this._activeData;\r\n\t\t\t\tgrid.doChangeValue(col, row, () => value);\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t});\r\n\t}\r\n\t_isActive() {\r\n\t\tconst dialog = this._dialog;\r\n\t\tif (!dialog || !dialog.parentElement) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (!this._activeData) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t_bindDialogEvents() {\r\n\t\tconst handler = this._handler;\r\n\t\tconst dialog = this._dialog;\r\n\t\tconst input = this._input;\r\n\t\tconst stopPropagationOnly = (e) => e.stopPropagation();// grid\r\n\t\thandler.on(dialog, 'click', stopPropagationOnly);\r\n\t\thandler.on(dialog, 'dblclick', stopPropagationOnly);\r\n\t\thandler.on(dialog, 'mousedown', stopPropagationOnly);\r\n\t\thandler.on(dialog, 'touchstart', stopPropagationOnly);\r\n\t\t\t\r\n\t\thandler.on(input, 'compositionstart', (e) => {\r\n\t\t\tinput.classList.add('composition');\r\n\t\t});\r\n\t\thandler.on(input, 'compositionend', (e) => {\r\n\t\t\tinput.classList.remove('composition');\r\n\t\t\tthis._onInputValue(input);\r\n\t\t});\r\n\t\tconst onKeyupAndPress = (e) => {\r\n\t\t\tif (input.classList.contains('composition')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis._onInputValue(input);\r\n\t\t};\r\n\t\thandler.on(input, 'keyup', onKeyupAndPress);\r\n\t\thandler.on(input, 'keypress', onKeyupAndPress);\r\n\t\thandler.on(input, 'keydown', (e) => {\r\n\t\t\tif (input.classList.contains('composition')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst keyCode = getKeyCode(e);\r\n\t\t\tif (keyCode === KEY_ESC) {\r\n\t\t\t\tthis.detach(true);\r\n\t\t\t\tcancelEvent(e);\r\n\t\t\t} else if (keyCode === KEY_ENTER) {\r\n\t\t\t\tconst input = this._input;\r\n\t\t\t\tconst {value} = input;\r\n\t\t\t\tthen(this._doChangeValue(), (r) => {\r\n\t\t\t\t\tif (r && value === input.value) {\r\n\t\t\t\t\t\tthis.detach(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tcancelEvent(e);\r\n\t\t\t} else {\r\n\t\t\t\tthis._onInputValue(input);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t_onInputValue(input, activeData) {\r\n\t\tconst before = this._beforeValue;\r\n\t\tconst {value} = input;\r\n\t\tif (before !== value) {\r\n\t\t\tthis._onInputValueChange(value, before, activeData);\r\n\t\t}\r\n\t\tthis._beforeValue = value;\r\n\t}\r\n\t_onInputValueChange(after, before, activeData) {\r\n\t\tactiveData = activeData || this._activeData;\r\n\t\tconst dialog = this._dialog;\r\n\t\tconst {grid, col, row, editor} = activeData;\r\n\t\tif (typeof editor.helperText === 'function') {\r\n\t\t\tconst helperText = editor.helperText(after, {grid, col, row});\r\n\t\t\tif (helperText) {\r\n\t\t\t\tdialog.dataset.helperText = helperText;\r\n\t\t\t} else {\r\n\t\t\t\tdelete dialog.dataset.helperText;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif ('errorMessage' in dialog.dataset) {\r\n\t\t\tthis._validate(after, true);\r\n\t\t}\r\n\t}\r\n\t_validate(value, inputOnly) {\r\n\t\tconst dialog = this._dialog;\r\n\t\tconst input = this._input;\r\n\t\tconst {grid, col, row, editor} = this._activeData;\r\n\t\tlet message = null;\r\n\t\tif (editor.inputValidator) {\r\n\t\t\tmessage = editor.inputValidator(value, {grid, col, row});\r\n\t\t}\r\n\t\treturn then(message, (message) => {\r\n\t\t\tif (!message && editor.validator && !inputOnly) {\r\n\t\t\t\tmessage = editor.validator(value, {grid, col, row});\r\n\t\t\t}\r\n\t\t\treturn then(message, (message) => {\r\n\t\t\t\tif (message && value === input.value) {\r\n\t\t\t\t\tdialog.dataset.errorMessage = message;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdelete dialog.dataset.errorMessage;\r\n\t\t\t\t}\r\n\t\t\t\treturn !message;\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\n\r\nmodule.exports = SmallDialogInputElement;","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./SmallDialogInputElement.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js?minimize!./SmallDialogInputElement.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./SmallDialogInputElement.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".cheetah-grid__small-dialog-input__input::-ms-clear{visibility:hidden}@keyframes cheetah-grid__small-dialog-input--hidden-animation{0%{opacity:1}99%{opacity:1}to{opacity:0}}.cheetah-grid__small-dialog-input{position:absolute;box-sizing:content-box;margin:-1px auto auto -1px;border-radius:3px;background-color:#fafafa;transition:padding .15s ease-out,box-shadow .15s ease-out}.cheetah-grid__small-dialog-input--hidden{box-shadow:none;padding:0;pointer-events:none;animation:cheetah-grid__small-dialog-input--hidden-animation .15s ease-out;opacity:0}.cheetah-grid__small-dialog-input--shown{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);padding:8px 24px}.cheetah-grid__small-dialog-input__input{width:100%;height:100%;box-sizing:border-box;padding:3px 2px 0 4px;border:none;border-bottom:1px solid rgba(0,0,0,.87);outline:none;background-color:transparent;transition:all .3s ease-out}.cheetah-grid__small-dialog-input__input:focus{border-bottom:1px solid #2196f3;box-shadow:0 1px 0 0 #2196f3}.cheetah-grid__small-dialog-input:after{content:\\\"\\\";font-family:Roboto;font-size:12px;font-size:.75rem;min-height:1em;line-height:1;display:block;width:100%;padding-top:8px}.cheetah-grid__small-dialog-input.helper-text--right-justified:after{text-align:right}.cheetah-grid__small-dialog-input[data-helper-text]:after{content:attr(data-helper-text);color:rgba(0,0,0,.87)}.cheetah-grid__small-dialog-input[data-error-message] input{border-bottom:1px solid #ff1744;box-shadow:0 1px 0 0 #ff1744}.cheetah-grid__small-dialog-input[data-error-message]:after{content:attr(data-error-message);color:#ff1744;text-align:left}\", \"\"]);\n\n// exports\n","'use strict';\r\n\r\nconst {obj: {setReadonly}} = require('../../internal/utils');\r\nconst BaseInputEditor = require('./BaseInputEditor');\r\nconst InlineInputElement = require('./internal/InlineInputElement');\r\nconst {INLINE_INPUT_EDITOR_STATE_ID: _} = require('../../internal/symbolManager');\r\n\r\n\t\r\nlet globalElement = null;\r\nlet bindGridCount = 0;\r\nfunction attachInput(grid, cell, editor, value) {\r\n\tif (!grid[_]) {\r\n\t\tsetReadonly(grid, _, {});\r\n\t}\r\n\tif (!globalElement) {\r\n\t\tglobalElement = new InlineInputElement();\r\n\t}\r\n\tconst state = grid[_];\r\n\tif (!state.element) {\r\n\t\tstate.element = globalElement;\r\n\t\tbindGridCount++;\r\n\t\tgrid.addDisposable({\r\n\t\t\tdispose() {\r\n\t\t\t\tbindGridCount--;\r\n\t\t\t\tif (!bindGridCount) {\r\n\t\t\t\t\tglobalElement.dispose();\r\n\t\t\t\t\tglobalElement = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tglobalElement.attach(grid, editor, cell.col, cell.row, value);\r\n}\r\nfunction detachInput(gridFocus) {\r\n\tif (globalElement) {\r\n\t\tglobalElement.detach(gridFocus);\r\n\t}\r\n}\r\nfunction doChangeValue(grid) {\r\n\tif (globalElement) {\r\n\t\tglobalElement.doChangeValue();\r\n\t}\r\n}\r\n\r\n\r\nclass InlineInputEditor extends BaseInputEditor {\r\n\tconstructor(option = {}) {\r\n\t\tsuper(option);\r\n\t\tthis._classList = option.classList;\r\n\t\tthis._type = option.type;\r\n\t}\r\n\tget classList() {\r\n\t\treturn this._classList && (Array.isArray(this._classList) ? this._classList : [this._classList]);\r\n\t}\r\n\tset classList(classList) {\r\n\t\tthis._classList = classList;\r\n\t}\r\n\tget type() {\r\n\t\treturn this._type;\r\n\t}\r\n\tset type(type) {\r\n\t\tthis._type = type;\r\n\t}\r\n\tclone() {\r\n\t\treturn new InlineInputEditor(this);\r\n\t}\r\n\tonInputCellInternal(grid, cell, inputValue) {\r\n\t\tattachInput(grid, cell, this, inputValue);\r\n\t}\r\n\tonOpenCellInternal(grid, cell) {\r\n\t\tgrid.doGetCellValue(cell.col, cell.row, (value) => {\r\n\t\t\tattachInput(grid, cell, this, value);\r\n\t\t});\r\n\t}\r\n\tonChangeSelectCellInternal(grid, cell, selected) {\r\n\t\tdoChangeValue(grid);\r\n\t\tdetachInput();\r\n\t}\r\n\tonGridScrollInternal(grid) {\r\n\t\tdoChangeValue(grid);\r\n\t\tdetachInput(true);\r\n\t}\r\n\tonChangeDisabledInternal() {\r\n\t\t// cancel input\r\n\t\tdetachInput(true);\r\n\t}\r\n\tonChangeReadOnlyInternal() {\r\n\t\t// cancel input\r\n\t\tdetachInput(true);\r\n\t}\r\n\tonSetInputAttrsInternal(grid, cell, input) {\r\n\t\tInlineInputElement.setInputAttrs(this, grid, input);\r\n\t}\r\n}\r\n\r\nmodule.exports = InlineInputEditor;","'use strict';\r\nconst {\r\n\tevent: {\r\n\t\tgetKeyCode,\r\n\t\tcancel: cancelEvent,\r\n\t},\r\n} = require('../../../internal/utils');\r\n\t\r\nconst EventHandler = require('../../../internal/EventHandler');\r\nconst {\r\n\tcreateElement,\r\n} = require('../../../internal/dom');\r\nconst KEY_ENTER = 13;\r\n\r\nconst CLASSNAME = 'cheetah-grid__inline-input';\r\n\r\nfunction createInputElement() {\r\n\trequire('./InlineInputElement.css');\r\n\treturn createElement('input', {classList: CLASSNAME});\r\n}\r\n\r\nfunction setInputAttrs(editor, grid, input) {\r\n\tconst {classList, type} = editor;\r\n\tif (classList) {\r\n\t\tinput.classList.add(...classList);\r\n\t}\r\n\tinput.type = type || '';\r\n}\r\n\r\nclass InlineInputElement {\r\n\tstatic setInputAttrs(...args) {\r\n\t\tsetInputAttrs(...args);\r\n\t}\r\n\tconstructor() {\r\n\t\tthis._handler = new EventHandler();\r\n\t\tthis._input = createInputElement();\r\n\t\tthis._bindInputEvents();\r\n\t}\r\n\tdispose() {\r\n\t\tthis.detach();\r\n\t\tthis._handler.dispose();\r\n\t\tthis._input = null;\r\n\t\tthis._beforePropEditor = null;\r\n\t}\r\n\tattach(grid, editor, col, row, value) {\r\n\t\tconst input = this._input;\r\n\t\tconst handler = this._handler;\r\n\r\n\t\tif (this._beforePropEditor) {\r\n\t\t\tconst {classList} = this._beforePropEditor;\r\n\t\t\tif (classList) {\r\n\t\t\t\tinput.classList.remove(...classList);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tinput.style.font = grid.font || '16px sans-serif';\r\n\r\n\t\tconst {element, rect} = grid.getAttachCellArea(col, row);\r\n\t\tinput.style.top = rect.top.toFixed() + 'px';\r\n\t\tinput.style.left = rect.left.toFixed() + 'px';\r\n\t\tinput.style.width = rect.width.toFixed() + 'px';\r\n\t\tinput.style.height = rect.height.toFixed() + 'px';\r\n\t\telement.appendChild(input);\r\n\r\n\t\tsetInputAttrs(editor, grid, input);\r\n\t\tinput.value = value;\r\n\r\n\t\tthis._activeData = {grid, col, row, editor};\r\n\t\tthis._beforePropEditor = editor;\r\n\r\n\t\tconst focus = () => {\r\n\t\t\tinput.focus();\r\n\r\n\t\t\tconst end = input.value.length;\r\n\t\t\ttry {\r\n\t\t\t\tif (typeof (input.selectionStart) !== 'undefined') {\r\n\t\t\t\t\tinput.selectionStart = end;\r\n\t\t\t\t\tinput.selectionEnd = end;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t//ignore\r\n\t\t\t}\r\n\t\t\tif (document.selection) {\r\n\t\t\t\tconst range = input.createTextRange();\r\n\t\t\t\trange.collapse();\r\n\t\t\t\trange.moveEnd('character', end);\r\n\t\t\t\trange.moveStart('character', end);\r\n\t\t\t\trange.select();\r\n\t\t\t}\r\n\t\t};\r\n\t\thandler.tryWithOffEvents(input, 'blur', () => {\r\n\t\t\tfocus();\r\n\t\t});\r\n\t}\r\n\tdetach(gridFocus) {\r\n\t\tif (this._isActive()) {\r\n\t\t\tconst {grid, col, row} = this._activeData;\r\n\t\t\tconst input = this._input;\r\n\t\t\tthis._handler.tryWithOffEvents(input, 'blur', () => {\r\n\t\t\t\tinput.parentElement.removeChild(input);\r\n\t\t\t});\r\n\t\t\tgrid.invalidateCell(col, row);\r\n\t\t\tif (gridFocus) {\r\n\t\t\t\tgrid.focus();\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis._activeData = null;\r\n\t}\r\n\tdoChangeValue() {\r\n\t\tif (!this._isActive()) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst input = this._input;\r\n\t\tconst {value} = input;\r\n\t\tconst {grid, col, row} = this._activeData;\r\n\t\tgrid.doChangeValue(col, row, () => value);\r\n\t}\r\n\t_isActive() {\r\n\t\tconst input = this._input;\r\n\t\tif (!input || !input.parentElement) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (!this._activeData) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t_bindInputEvents() {\r\n\t\tconst handler = this._handler;\r\n\t\tconst input = this._input;\r\n\t\tconst stopPropagationOnly = (e) => e.stopPropagation();// grid\r\n\t\thandler.on(input, 'click', stopPropagationOnly);\r\n\t\thandler.on(input, 'mousedown', stopPropagationOnly);\r\n\t\thandler.on(input, 'touchstart', stopPropagationOnly);\r\n\t\thandler.on(input, 'dblclick', stopPropagationOnly);\r\n\t\t\r\n\t\thandler.on(input, 'compositionstart', (e) => {\r\n\t\t\tinput.classList.add('composition');\r\n\t\t});\r\n\t\thandler.on(input, 'compositionend', (e) => {\r\n\t\t\tinput.classList.remove('composition');\r\n\t\t});\r\n\t\thandler.on(input, 'keydown', (e) => {\r\n\t\t\tif (input.classList.contains('composition')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (getKeyCode(e) === KEY_ENTER) {\r\n\t\t\t\tif (!this._isActive()) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst {grid} = this._activeData;\r\n\r\n\t\t\t\tthis.doChangeValue();\r\n\t\t\t\tif (grid) {\r\n\t\t\t\t\tgrid.focus();\r\n\t\t\t\t}\r\n\t\t\t\tthis.detach();\r\n\t\t\t\tcancelEvent(e);\r\n\t\t\t}\r\n\t\t});\r\n\t\thandler.on(input, 'blur', (e) => {\r\n\t\t\tthis.doChangeValue();\r\n\t\t\tthis.detach();\r\n\t\t});\r\n\t}\r\n}\r\n\r\nmodule.exports = InlineInputElement;","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./InlineInputElement.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js?minimize!./InlineInputElement.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./InlineInputElement.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".cheetah-grid__inline-input::-ms-clear{visibility:hidden}.cheetah-grid__inline-input{position:absolute;box-sizing:border-box}\", \"\"]);\n\n// exports\n","'use strict';\r\nconst {obj: {setReadonly}} = require('../../internal/utils');\r\nconst {normalize} = require('../../internal/menu-items');\r\n\t\r\nconst Editor = require('./Editor');\r\nconst {EVENT_TYPE: {\r\n\tSELECTED_CELL,\r\n\tCLICK_CELL,\r\n\tKEYDOWN,\r\n\tSCROLL,\r\n\tMOUSEOVER_CELL,\r\n\tMOUSEOUT_CELL,\r\n\tMOUSEMOVE_CELL,\r\n}} = require('../../core/DrawGrid');\r\nconst InlineMenuElement = require('./internal/InlineMenuElement');\r\nconst {INLINE_MENU_EDITOR_STATE_ID: _} = require('../../internal/symbolManager');\r\n\t\r\nlet globalElement = null;\r\nlet bindGridCount = 0;\r\nfunction attachMenu(grid, cell, editor, value) {\r\n\tif (!grid[_]) {\r\n\t\tsetReadonly(grid, _, {});\r\n\t}\r\n\tif (!globalElement) {\r\n\t\tglobalElement = new InlineMenuElement();\r\n\t}\r\n\tconst state = grid[_];\r\n\tif (!state.element) {\r\n\t\tstate.element = globalElement;\r\n\t\tbindGridCount++;\r\n\t\tgrid.addDisposable({\r\n\t\t\tdispose() {\r\n\t\t\t\tbindGridCount--;\r\n\t\t\t\tif (!bindGridCount) {\r\n\t\t\t\t\tglobalElement.dispose();\r\n\t\t\t\t\tglobalElement = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tglobalElement.attach(grid, editor, cell.col, cell.row, value);\r\n}\r\nfunction detachMenu(gridFocus) {\r\n\tif (globalElement) {\r\n\t\tglobalElement.detach(gridFocus);\r\n\t}\r\n}\r\n\r\nconst KEY_ENTER = 13;\r\nconst KEY_F2 = 113;\r\n\r\nclass InlineMenuEditor extends Editor {\r\n\tconstructor(option = {}) {\r\n\t\tsuper(option);\r\n\t\tthis._classList = option.classList;\r\n\t\tthis._options = normalize(option.options);\r\n\t}\r\n\tdispose() {\r\n\t}\r\n\tget classList() {\r\n\t\treturn this._classList && (Array.isArray(this._classList) ? this._classList : [this._classList]);\r\n\t}\r\n\tset classList(classList) {\r\n\t\tthis._classList = classList;\r\n\t}\r\n\tget options() {\r\n\t\treturn this._options;\r\n\t}\r\n\tset options(options) {\r\n\t\tthis._options = normalize(options);\r\n\t}\r\n\tclone() {\r\n\t\treturn new InlineMenuEditor(this);\r\n\t}\r\n\tonChangeDisabledInternal() {\r\n\t\t// cancel input\r\n\t\tdetachMenu(true);\r\n\t}\r\n\tonChangeReadOnlyInternal() {\r\n\t\t// cancel input\r\n\t\tdetachMenu(true);\r\n\t}\r\n\tbindGridEvent(grid, col, util) {\r\n\t\tconst open = (cell) => {\r\n\t\t\tif (this.readOnly || this.disabled) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tgrid.doGetCellValue(cell.col, cell.row, (value) => {\r\n\t\t\t\tattachMenu(grid, cell, this, value);\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\treturn [\r\n\t\t\tgrid.listen(CLICK_CELL, (cell) => {\r\n\t\t\t\tif (!util.isTarget(cell.col, cell.row)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\topen({\r\n\t\t\t\t\tcol: cell.col,\r\n\t\t\t\t\trow: cell.row\r\n\t\t\t\t});\r\n\t\t\t}),\r\n\t\t\tgrid.listen(KEYDOWN, (keyCode, e) => {\r\n\t\t\t\tif (keyCode !== KEY_F2 && keyCode !== KEY_ENTER) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst sel = grid.selection.select;\r\n\t\t\t\tif (!util.isTarget(sel.col, sel.row)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\topen({\r\n\t\t\t\t\tcol: sel.col,\r\n\t\t\t\t\trow: sel.row\r\n\t\t\t\t});\r\n\t\t\t}),\r\n\t\t\tgrid.listen(SELECTED_CELL, (e) => {\r\n\t\t\t\tdetachMenu();\r\n\t\t\t}),\r\n\t\t\tgrid.listen(SCROLL, () => {\r\n\t\t\t\tdetachMenu(true);\r\n\t\t\t}),\r\n\r\n\t\t\t// mouse move\r\n\t\t\tgrid.listen(MOUSEOVER_CELL, (e) => {\r\n\t\t\t\tif (this.readOnly || this.disabled) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!util.isTarget(e.col, e.row)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tgrid.getElement().style.cursor = 'pointer';\r\n\t\t\t}),\r\n\t\t\tgrid.listen(MOUSEMOVE_CELL, (e) => {\r\n\t\t\t\tif (this.readOnly || this.disabled) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!util.isTarget(e.col, e.row)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!grid.getElement().style.cursor) {\r\n\t\t\t\t\tgrid.getElement().style.cursor = 'pointer';\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\tgrid.listen(MOUSEOUT_CELL, (e) => {\r\n\t\t\t\tif (!util.isTarget(e.col, e.row)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tgrid.getElement().style.cursor = '';\r\n\t\t\t}),\r\n\t\t];\r\n\t}\r\n}\r\n\r\nmodule.exports = InlineMenuEditor;","'use strict';\r\nconst {\r\n\tisDef,\r\n\tevent: {\r\n\t\tgetKeyCode,\r\n\t\tcancel: cancelEvent,\r\n\t}\r\n} = require('../../../internal/utils');\r\n\r\nconst EventHandler = require('../../../internal/EventHandler');\r\nconst {\r\n\tcreateElement,\r\n\tappendHtml,\r\n\tempty,\r\n\tdisableFocus,\r\n\tisFocusable,\r\n\tfindPrevSiblingFocusable,\r\n\tfindNextSiblingFocusable,\r\n} = require('../../../internal/dom');\r\n\t\r\nconst KEY_TAB = 9;\r\nconst KEY_ENTER = 13;\r\nconst KEY_UP = 38;\r\nconst KEY_DOWN = 40;\r\nconst KEY_ESC = 27;\r\n\r\nconst CLASSNAME = 'cheetah-grid__inline-menu';\r\nconst ITEM_CLASSNAME = CLASSNAME + '__menu-item';\r\nconst HIDDEN_CLASSNAME = CLASSNAME + '--hidden';\r\nconst SHOWN_CLASSNAME = CLASSNAME + '--shown';\r\nconst EMPTY_ITEM_CLASSNAME = ITEM_CLASSNAME + '--empty';\r\n\r\nfunction findItemParents(target) {\r\n\tlet el = target;\r\n\twhile (!el.classList.contains(ITEM_CLASSNAME)) {\r\n\t\tel = el.parentElement;\r\n\t\tif (!el || el.classList.contains(CLASSNAME)) {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t}\r\n\treturn el;\r\n}\r\n\r\nfunction createMenuElement() {\r\n\trequire('./InlineMenuElement.css');\r\n\treturn createElement('ul', {classList: CLASSNAME});\r\n}\r\nfunction attachElement(element, rect, menu) {\r\n\tmenu.style.top = rect.top.toFixed() + 'px';\r\n\tmenu.style.left = rect.left.toFixed() + 'px';\r\n\tmenu.style.width = rect.width.toFixed() + 'px';\r\n\tmenu.style['line-height'] = rect.height.toFixed() + 'px';\r\n\telement.appendChild(menu);\r\n}\r\n\r\nfunction optionToLi({classList, caption, value, html}, index) {\r\n\tconst item = createElement('li', {classList: ITEM_CLASSNAME});\r\n\titem.tabIndex = 0;\r\n\titem.dataset.valueindex = index;\r\n\tif (classList) {\r\n\t\titem.classList.add(...(Array.isArray(classList) ? classList : [classList]));\r\n\t}\r\n\r\n\tif (caption) {\r\n\t\tconst span = createElement('span', {text: caption});\r\n\t\titem.appendChild(span);\r\n\t} else if (html) {\r\n\t\tappendHtml(item, html);\r\n\t}\r\n\r\n\tif (value === '' || !isDef(value)) {\r\n\t\titem.classList.add(EMPTY_ITEM_CLASSNAME);\r\n\t}\r\n\r\n\treturn item;\r\n}\r\n\r\nfunction openMenu(grid, editor, col, row, value, menu) {\r\n\tconst {options, classList} = editor;\r\n\tmenu.classList.remove(SHOWN_CLASSNAME);\r\n\tmenu.classList.add(HIDDEN_CLASSNAME);\r\n\tempty(menu);\r\n\tmenu.style.font = grid.font || '16px sans-serif';\r\n\tlet emptyItemEl = null;\r\n\tlet valueItemEl = null;\r\n\t\t\r\n\toptions.forEach((option, i) => {\r\n\t\tconst item = optionToLi(option, i);\r\n\t\tmenu.appendChild(item);\r\n\t\tif (option.value === value) {\r\n\t\t\tvalueItemEl = item;\r\n\t\t\titem.dataset.select = true;\r\n\t\t}\r\n\t\tif (item.classList.contains(EMPTY_ITEM_CLASSNAME)) {\r\n\t\t\temptyItemEl = item;\r\n\t\t}\r\n\t});\r\n\tconst focusEl = valueItemEl || emptyItemEl || menu.children[0];\r\n\tif (classList) {\r\n\t\tmenu.classList.add(...classList);\r\n\t}\r\n\tconst children = Array.prototype.slice.call(menu.children, 0);\r\n\tconst focusIndex = children.indexOf(focusEl);\r\n\tconst {element, rect} = grid.getAttachCellArea(col, row);\r\n\r\n\t// Cover the right line\r\n\trect.width++;\r\n\r\n\t// append for calculation\r\n\tattachElement(element, rect, menu);\r\n\r\n\t// Make the selection item at the middle\r\n\tlet offset = 0;\r\n\tlet allHeight = 0;\r\n\tfor (let i = 0; i < children.length; i++) {\r\n\t\tconst offsetHeight = children[i].offsetHeight;\r\n\t\tif (i < focusIndex) {\r\n\t\t\toffset += offsetHeight;\r\n\t\t}\r\n\t\tallHeight += offsetHeight;\r\n\t}\r\n\trect.offsetTop(-offset);\r\n\tmenu.style['transform-origin'] = `center ${offset + Math.ceil(children[focusIndex].offsetHeight / 2)}px 0px`;\r\n\tattachElement(element, rect, menu);\r\n\r\n\t// Control not to overflow the screen range\r\n\tconst menuClientRect = menu.getBoundingClientRect();\r\n\tconst scaleDiff = ((allHeight - menuClientRect.height) / 2);\r\n\tconst orgMenuTop = menuClientRect.top - scaleDiff;\r\n\tlet menuTop = orgMenuTop;\r\n\tconst menuBottom = menuTop + allHeight;\r\n\tconst winBottom = window.innerHeight;\r\n\tconst winMargin = 20;\r\n\tif (menuBottom > (winBottom - winMargin)) {\r\n\t\tconst diff = menuBottom - winBottom + winMargin;\r\n\t\tmenuTop -= diff;\r\n\t}\r\n\tif (menuTop < 0/*winTop*/ + winMargin) {\r\n\t\tmenuTop = winMargin;\r\n\t}\r\n\tif (menuTop !== orgMenuTop) {\r\n\t\trect.offsetTop(-(orgMenuTop - menuTop));\r\n\t\t// re update\r\n\t\tattachElement(element, rect, menu);\r\n\t}\r\n\t\t\r\n\tif (focusEl) {\r\n\t\tfocusEl.focus();\r\n\t}\r\n\tmenu.classList.remove(HIDDEN_CLASSNAME);\r\n\tmenu.classList.add(SHOWN_CLASSNAME);\r\n}\r\n\r\nfunction closeMenu(grid, col, row, menu) {\r\n\tmenu.classList.remove(SHOWN_CLASSNAME);\r\n\tmenu.classList.add(HIDDEN_CLASSNAME);\r\n\tdisableFocus(menu);\r\n}\r\n\r\nclass InlineMenuElement {\r\n\tconstructor() {\r\n\t\tthis._handler = new EventHandler();\r\n\t\tthis._menu = createMenuElement();\r\n\t\tthis._bindMenuEvents();\r\n\t}\r\n\tdispose() {\r\n\t\tconst menu = this._menu;\r\n\t\tthis.detach();\r\n\t\tthis._handler.dispose();\r\n\t\tthis._menu = null;\r\n\t\tthis._beforePropEditor = null;\r\n\t\tif (menu.parentElement) {\r\n\t\t\tmenu.parentElement.removeChild(menu);\r\n\t\t}\r\n\t}\r\n\tattach(grid, editor, col, row, value) {\r\n\t\tconst menu = this._menu;\r\n\r\n\t\tif (this._beforePropEditor) {\r\n\t\t\tconst {classList} = this._beforePropEditor;\r\n\t\t\tif (classList) {\r\n\t\t\t\tmenu.classList.remove(...classList);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\topenMenu(grid, editor, col, row, value, menu);\r\n\t\tthis._activeData = {grid, col, row, editor};\r\n\t\tthis._beforePropEditor = editor;\r\n\t}\r\n\tdetach(gridFocus) {\r\n\t\tif (this._isActive()) {\r\n\t\t\tconst {grid, col, row} = this._activeData;\r\n\t\t\tconst menu = this._menu;\r\n\t\t\tcloseMenu(grid, col, row, menu);\r\n\r\n\t\t\tgrid.invalidateCell(col, row);\r\n\t\t\tif (gridFocus) {\r\n\t\t\t\tgrid.focus();\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis._activeData = null;\r\n\t}\r\n\t_doChangeValue(valueindex) {\r\n\t\tif (!this._isActive()) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst {grid, col, row, editor} = this._activeData;\r\n\t\tconst {value} = editor.options[valueindex];\r\n\t\tgrid.doChangeValue(col, row, () => value);\r\n\t}\r\n\t_isActive() {\r\n\t\tconst menu = this._menu;\r\n\t\tif (!menu || !menu.parentElement) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (!this._activeData) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t_bindMenuEvents() {\r\n\t\tconst handler = this._handler;\r\n\t\tconst menu = this._menu;\r\n\r\n\t\tconst stopPropagationOnly = (e) => e.stopPropagation();// grid\r\n\t\t\r\n\t\thandler.on(menu, 'mousedown', stopPropagationOnly);\r\n\t\thandler.on(menu, 'touchstart', stopPropagationOnly);\r\n\t\thandler.on(menu, 'dblclick', stopPropagationOnly);\r\n\r\n\t\thandler.on(menu, 'click', (e) => {\r\n\t\t\te.stopPropagation();\r\n\t\t\tconst item = findItemParents(e.target);\r\n\t\t\tif (!item) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst valueindex = item.dataset.valueindex;\r\n\t\t\tthis._doChangeValue(item.dataset.valueindex);\r\n\t\t\tthis.detach(true);\r\n\t\t});\r\n\t\thandler.on(menu, 'keydown', (e) => {\r\n\t\t\tconst item = findItemParents(e.target);\r\n\t\t\tif (!item) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst keyCode = getKeyCode(e);\r\n\t\t\tif (keyCode === KEY_ENTER) {\r\n\t\t\t\tconst valueindex = item.dataset.valueindex;\r\n\t\t\t\tthis._doChangeValue(valueindex);\r\n\t\t\t\tthis.detach(true);\r\n\t\t\t\tcancelEvent(e);\r\n\t\t\t} else if (keyCode === KEY_ESC) {\r\n\t\t\t\tthis.detach(true);\r\n\t\t\t\tcancelEvent(e);\r\n\t\t\t} else if (keyCode === KEY_UP) {\r\n\t\t\t\tconst n = findPrevSiblingFocusable(item);\r\n\t\t\t\tif (n) {\r\n\t\t\t\t\tn.focus();\r\n\t\t\t\t\tcancelEvent(e);\r\n\t\t\t\t}\r\n\t\t\t} else if (keyCode === KEY_DOWN) {\r\n\t\t\t\tconst n = findNextSiblingFocusable(item);\r\n\t\t\t\tif (n) {\r\n\t\t\t\t\tn.focus();\r\n\t\t\t\t\tcancelEvent(e);\r\n\t\t\t\t}\r\n\t\t\t} else if (keyCode === KEY_TAB) {\r\n\t\t\t\tif (!e.shiftKey) {\r\n\t\t\t\t\tif (!findNextSiblingFocusable(item)) {\r\n\t\t\t\t\t\tlet n = menu.querySelector('.' + ITEM_CLASSNAME);\r\n\t\t\t\t\t\tif (!isFocusable(n)) {\r\n\t\t\t\t\t\t\tn = findNextSiblingFocusable(n);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (n) {\r\n\t\t\t\t\t\t\tn.focus();\r\n\t\t\t\t\t\t\tcancelEvent(e);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (!findPrevSiblingFocusable(item)) {\r\n\t\t\t\t\t\tconst items = menu.querySelectorAll('.' + ITEM_CLASSNAME);\r\n\t\t\t\t\t\tlet n = items[items.length - 1];\r\n\t\t\t\t\t\tif (!isFocusable(n)) {\r\n\t\t\t\t\t\t\tn = findPrevSiblingFocusable(n);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (n) {\r\n\t\t\t\t\t\t\tn.focus();\r\n\t\t\t\t\t\t\tcancelEvent(e);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nmodule.exports = InlineMenuElement;","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./InlineMenuElement.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js?minimize!./InlineMenuElement.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./InlineMenuElement.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".cheetah-grid__inline-menu{position:absolute;color:rgba(0,0,0,.87);box-sizing:content-box;margin:-1px auto auto -1px;padding:8px 0;background-color:#fafafa;list-style-type:none;border-radius:2px;max-height:calc(100vh - 40px);overflow-y:auto}.cheetah-grid__inline-menu--hidden{transform:scale(.9);box-shadow:none;opacity:0;pointer-events:none;transition:all 50ms ease-out}.cheetah-grid__inline-menu--hidden *{pointer-events:none}.cheetah-grid__inline-menu--shown{transform:translateY(-7px);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);opacity:1;transition:all .15s ease-out}.cheetah-grid__inline-menu__menu-item{height:100%;box-sizing:border-box;display:flex;align-items:center;justify-content:flex-start;outline:none;cursor:pointer;position:relative;overflow:hidden;padding:0 16px}.cheetah-grid__inline-menu__menu-item--empty{color:rgba(0,0,0,.38)}.cheetah-grid__inline-menu__menu-item:before{content:\\\"\\\";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background-color:#000;opacity:0;pointer-events:none;transition:opacity 15ms linear}.cheetah-grid__inline-menu__menu-item:hover:before,.cheetah-grid__inline-menu__menu-item[data-select]:before{opacity:.04}.cheetah-grid__inline-menu__menu-item:focus:before{opacity:.12}\", \"\"]);\n\n// exports\n","'use strict';\r\n{\r\n\tconst Column = require('./type/Column');\r\n\tconst NumberColumn = require('./type/NumberColumn');\r\n\tconst CheckColumn = require('./type/CheckColumn');\r\n\tconst ButtonColumn = require('./type/ButtonColumn');\r\n\tconst ImageColumn = require('./type/ImageColumn');\r\n\tconst PercentCompleteBarColumn = require('./type/PercentCompleteBarColumn');\r\n\tconst IconColumn = require('./type/IconColumn');\r\n\tconst BranchGraphColumn = require('./type/BranchGraphColumn');\r\n\tconst MenuColumn = require('./type/MenuColumn');\r\n\tconst MultilineTextColumn = require('./type/MultilineTextColumn');\r\n\r\n\t/**\r\n\t * column types\r\n\t * @type {Object}\r\n\t * @namespace cheetahGrid.columns.type\r\n\t * @memberof cheetahGrid.columns\r\n\t */\r\n\tconst type = {\r\n\t\tTYPES: {\r\n\t\t\tDEFAULT: new Column(),\r\n\t\t\tNUMBER: new NumberColumn(),\r\n\t\t\tCHECK: new CheckColumn(),\r\n\t\t\tBUTTON: new ButtonColumn(),\r\n\t\t\tIMAGE: new ImageColumn(),\r\n\t\t\tMULTILINETEXT: new MultilineTextColumn(),\r\n\t\t},\r\n\t\tget Column() {\r\n\t\t\treturn Column;\r\n\t\t},\r\n\t\tget NumberColumn() {\r\n\t\t\treturn NumberColumn;\r\n\t\t},\r\n\t\tget CheckColumn() {\r\n\t\t\treturn CheckColumn;\r\n\t\t},\r\n\t\tget ButtonColumn() {\r\n\t\t\treturn ButtonColumn;\r\n\t\t},\r\n\t\tget ImageColumn() {\r\n\t\t\treturn ImageColumn;\r\n\t\t},\r\n\t\tget PercentCompleteBarColumn() {\r\n\t\t\treturn PercentCompleteBarColumn;\r\n\t\t},\r\n\t\tget IconColumn() {\r\n\t\t\treturn IconColumn;\r\n\t\t},\r\n\t\tget BranchGraphColumn() {\r\n\t\t\treturn BranchGraphColumn;\r\n\t\t},\r\n\t\tget MenuColumn() {\r\n\t\t\treturn MenuColumn;\r\n\t\t},\r\n\t\tget MultilineTextColumn() {\r\n\t\t\treturn MultilineTextColumn;\r\n\t\t},\r\n\t\tof(columnType) {\r\n\t\t\tif (!columnType) {\r\n\t\t\t\treturn type.TYPES.DEFAULT;\r\n\t\t\t} else if (typeof columnType === 'string') {\r\n\t\t\t\treturn type.TYPES[columnType.toUpperCase()] || type.of(null);\r\n\t\t\t} else {\r\n\t\t\t\treturn columnType;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tmodule.exports = type;\r\n}","'use strict';\r\n{\r\n\tconst Column = require('./Column');\r\n\tconst NumberStyle = require('../style/NumberStyle');\r\n\tlet defaultFotmat;\r\n\tclass NumberColumn extends Column {\r\n\t\tstatic get defaultFotmat() {\r\n\t\t\treturn defaultFotmat || (defaultFotmat = new Intl.NumberFormat());\r\n\t\t}\r\n\t\tstatic set defaultFotmat(fmt) {\r\n\t\t\tdefaultFotmat = fmt;\r\n\t\t}\r\n\t\tconstructor(option = {}) {\r\n\t\t\tsuper(option);\r\n\t\t\tthis._format = option.format;\r\n\t\t}\r\n\t\tget StyleClass() {\r\n\t\t\treturn NumberStyle;\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new NumberColumn(this);\r\n\t\t}\r\n\t\tget format() {\r\n\t\t\treturn this._format;\r\n\t\t}\r\n\t\twithFormat(format) {\r\n\t\t\tconst c = this.clone();\r\n\t\t\tc._format = format;\r\n\t\t\treturn c;\r\n\t\t}\r\n\t\tconvertInternal(value) {\r\n\t\t\tif (isNaN(value - 0)) {\r\n\t\t\t\treturn value;\r\n\t\t\t}\r\n\t\t\tconst format = this._format || NumberColumn.defaultFotmat;\r\n\t\t\treturn format.format(value - 0);\r\n\t\t}\r\n\t}\r\n\r\n\tmodule.exports = NumberColumn;\r\n}","'use strict';\r\n{\r\n\tconst BaseColumn = require('./BaseColumn');\r\n\tconst CheckStyle = require('../style/CheckStyle');\r\n\tconst {CHECK_COLUMN_STATE_ID} = require('../../internal/symbolManager');\r\n\t\r\n\r\n\tfunction toBoolean(val) {\r\n\t\tif (typeof val === 'string') {\r\n\t\t\tif (val === 'false') {\r\n\t\t\t\treturn false;\r\n\t\t\t} else if (val === 'off') {\r\n\t\t\t\treturn false;\r\n\t\t\t} else if (val.match(/^0+$/)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn val;\r\n\t}\r\n\r\n\tclass CheckColumn extends BaseColumn {\r\n\t\tget StyleClass() {\r\n\t\t\treturn CheckStyle;\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new CheckColumn(this);\r\n\t\t}\r\n\t\tconvertInternal(value) {\r\n\t\t\treturn toBoolean(value);\r\n\t\t}\r\n\t\tdrawInternal(value, context, style, helper, grid, {drawCellBase}) {\r\n\t\t\tconst {\r\n\t\t\t\ttextAlign,\r\n\t\t\t\ttextBaseline,\r\n\t\t\t\tborderColor,\r\n\t\t\t\tcheckBgColor,\r\n\t\t\t\tuncheckBgColor,\r\n\t\t\t\tbgColor,\r\n\t\t\t} = style;\r\n\t\t\tif (bgColor) {\r\n\t\t\t\tdrawCellBase({\r\n\t\t\t\t\tbgColor,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tconst {col, row} = context;\r\n\t\t\tconst key = col + ':' + row;\r\n\t\t\tconst state = grid[CHECK_COLUMN_STATE_ID] && grid[CHECK_COLUMN_STATE_ID][key];\r\n\t\t\t\r\n\t\t\tconst opt = {\r\n\t\t\t\ttextAlign,\r\n\t\t\t\ttextBaseline,\r\n\t\t\t\tborderColor,\r\n\t\t\t\tcheckBgColor,\r\n\t\t\t\tuncheckBgColor,\r\n\t\t\t};\r\n\t\t\tif (state) {\r\n\t\t\t\topt.animElapsedTime = state.elapsed;\r\n\t\t\t}\r\n\t\t\thelper.checkbox(value, context, opt);\r\n\t\t}\r\n\t\tbindGridEvent(grid, col, util) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t}\r\n\r\n\tmodule.exports = CheckColumn;\r\n}","'use strict';\r\n{\r\n\tconst Column = require('./Column');\r\n\tconst ButtonStyle = require('../style/ButtonStyle');\r\n\tconst {BUTTON_COLUMN_STATE_ID} = require('../../internal/symbolManager');\r\n\tconst utils = require('./columnUtils');\r\n\t\r\n\r\n\tclass ButtonColumn extends Column {\r\n\t\tconstructor(option = {}) {\r\n\t\t\tsuper(option);\r\n\t\t\tthis._caption = option.caption;\r\n\t\t}\r\n\t\tget StyleClass() {\r\n\t\t\treturn ButtonStyle;\r\n\t\t}\r\n\t\tget caption() {\r\n\t\t\treturn this._caption;\r\n\t\t}\r\n\t\twithCaption(caption) {\r\n\t\t\tconst c = this.clone();\r\n\t\t\tc._caption = caption;\r\n\t\t\treturn c;\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new ButtonColumn(this);\r\n\t\t}\r\n\t\tconvertInternal(value) {\r\n\t\t\treturn this._caption || value;\r\n\t\t}\r\n\t\tdrawInternal(value, context, style, helper, grid, {drawCellBase, getIcon}) {\r\n\t\t\tconst {textAlign, textBaseline, bgColor, color, buttonBgColor, font, padding} = style;\r\n\t\t\tif (bgColor) {\r\n\t\t\t\tdrawCellBase({\r\n\t\t\t\t\tbgColor,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\thelper.testFontLoad(font, value, context);\r\n\t\t\tconst {col, row} = context;\r\n\t\t\tlet active = false;\r\n\t\t\tconst state = grid[BUTTON_COLUMN_STATE_ID];\r\n\t\t\tif (state) {\r\n\t\t\t\tif (state.mouseActiveCell &&\r\n\t\t\t\t\tstate.mouseActiveCell.col === col &&\r\n\t\t\t\t\tstate.mouseActiveCell.row === row) {\r\n\t\t\t\t\tactive = true;\r\n\t\t\t\t} else if (context.getSelectState().selected) {\r\n\t\t\t\t\tactive = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tutils.loadIcons(getIcon(), context, helper, (icons, context) => {\r\n\t\t\t\thelper.button(value, context, {\r\n\t\t\t\t\ttextAlign,\r\n\t\t\t\t\ttextBaseline,\r\n\t\t\t\t\tbgColor: buttonBgColor,\r\n\t\t\t\t\tcolor,\r\n\t\t\t\t\tfont,\r\n\t\t\t\t\tpadding,\r\n\t\t\t\t\tshadow: active ? {\r\n\t\t\t\t\t\tcolor: 'rgba(0, 0, 0, 0.48)',\r\n\t\t\t\t\t\tblur: 6,\r\n\t\t\t\t\t\toffsetY: 3,\r\n\t\t\t\t\t} : true,\r\n\t\t\t\t\ticons,\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tmodule.exports = ButtonColumn;\r\n}","'use strict';\r\n{\r\n\tconst ImageStyle = require('../style/ImageStyle');\r\n\tconst {getCacheOrLoad} = require('../../internal/imgs');\r\n\tconst {calcStartPosition} = require('../../internal/canvases');\r\n\tconst BaseColumn = require('./BaseColumn');\r\n\r\n\tconst MAX_LRU_CACHE_SIZE = 50;\r\n\tfunction getImage(url) {\r\n\t\treturn getCacheOrLoad('ImageColumn', MAX_LRU_CACHE_SIZE, url);\r\n\t}\r\n\r\n\tfunction calcKeepAspectRatioSize(width, height, maxWidth, maxHeight) {\r\n\t\tlet newWidth = width;\r\n\t\tlet newHeight = height;\r\n\t\tif (newWidth > maxWidth) {\r\n\t\t\tnewWidth = maxWidth;\r\n\t\t\tnewHeight = (newWidth * height) / width;\r\n\t\t}\r\n\t\tif (newHeight > maxHeight) {\r\n\t\t\tnewHeight = maxHeight;\r\n\t\t\tnewWidth = (newHeight * width) / height;\r\n\t\t}\r\n\t\treturn {\r\n\t\t\twidth: newWidth,\r\n\t\t\theight: newHeight,\r\n\t\t};\r\n\t}\r\n\r\n\tclass ImageColumn extends BaseColumn {\r\n\t\tget StyleClass() {\r\n\t\t\treturn ImageStyle;\r\n\t\t}\r\n\t\tonDrawCell(cellValue, info, context, grid) {\r\n\t\t\treturn super.onDrawCell(getImage(cellValue), info, context, grid);\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new ImageColumn(this);\r\n\t\t}\r\n\t\tdrawInternal(value, context, style, helper, grid, {drawCellBase}) {\r\n\t\t\tif (value) {\r\n\t\t\t\tconst {\r\n\t\t\t\t\ttextAlign,\r\n\t\t\t\t\ttextBaseline,\r\n\t\t\t\t\tmargin,\r\n\t\t\t\t\tbgColor,\r\n\t\t\t\t} = style;\r\n\t\t\t\tif (bgColor) {\r\n\t\t\t\t\tdrawCellBase({\r\n\t\t\t\t\t\tbgColor,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\thelper.drawWithClip(context, (ctx) => {\r\n\t\t\t\t\t\r\n\t\t\t\t\tctx.textAlign = textAlign;\r\n\t\t\t\t\tctx.textBaseline = textBaseline;\r\n\t\t\t\t\tconst rect = context.getRect();\r\n\t\t\t\t\tif (style.imageSizing === 'keep-aspect-ratio') {\r\n\t\t\t\t\t\tconst {width, height} = calcKeepAspectRatioSize(\r\n\t\t\t\t\t\t\t\tvalue.width, value.height,\r\n\t\t\t\t\t\t\t\trect.width - margin * 2, rect.height - margin * 2\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tconst pos = calcStartPosition(ctx, rect, width, height, {\r\n\t\t\t\t\t\t\toffset: margin,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tctx.drawImage(value,\r\n\t\t\t\t\t\t\t\t0, 0, value.width, value.height,\r\n\t\t\t\t\t\t\t\tpos.x, pos.y, width, height\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tctx.drawImage(value,\r\n\t\t\t\t\t\t\t\t0, 0, value.width, value.height,\r\n\t\t\t\t\t\t\t\trect.left + margin, rect.top + margin, rect.width - margin * 2, rect.height - margin * 2\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tmodule.exports = ImageColumn;\r\n}","'use strict';\r\n\r\nclass LRUCache {\r\n\tconstructor(cacheSize) {\r\n\t\tthis._list = [];\r\n\t\tthis._map = {};\r\n\t\tthis._cacheSize = cacheSize || 50;\r\n\t}\r\n\tget(key) {\r\n\t\tconst val = this._map[key];\r\n\t\tif (val) {\r\n\t\t\tconst idx = this._list.indexOf(key);\r\n\t\t\tthis._list.splice(idx, 1);\r\n\t\t\tthis._list.push(key);\r\n\t\t}\r\n\t\treturn val;\r\n\t}\r\n\tput(key, value) {\r\n\t\tif (this._map[key]) {\r\n\t\t\tconst idx = this._list.indexOf(key);\r\n\t\t\tthis._list.splice(idx, 1);\r\n\t\t}\r\n\t\tthis._map[key] = value;\r\n\t\tthis._list.push(key);\r\n\t\tif (this._list.length > this._cacheSize) {\r\n\t\t\tconst remKey = this._list.shift();\r\n\t\t\tdelete this._map[remKey];\r\n\t\t}\r\n\t}\r\n}\r\nmodule.exports = LRUCache;","'use strict';\r\n{\r\n\tconst PercentCompleteBarStyle = require('../style/PercentCompleteBarStyle');\r\n\tconst {getOrApply, str} = require('../../internal/utils');\r\n\tconst Column = require('./Column');\r\n\t\r\n\r\n\tconst MARGIN = 2;\r\n\r\n\tclass PercentCompleteBarColumn extends Column {\r\n\t\tconstructor(option = {}) {\r\n\t\t\tsuper(option);\r\n\t\t\tthis._min = option.min || 0;\r\n\t\t\tthis._max = option.max || (this._min + 100);\r\n\t\t\tthis._formatter = option.formatter || ((v) => v);\r\n\t\t}\r\n\t\tget StyleClass() {\r\n\t\t\treturn PercentCompleteBarStyle;\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new PercentCompleteBarColumn(this);\r\n\t\t}\r\n\t\tdrawInternal(value, context, style, helper, grid, info) {\r\n\t\t\tsuper.drawInternal(this._formatter(value), context, style, helper, grid, info);\r\n\t\t\tconst {\r\n\t\t\t\tbarColor,\r\n\t\t\t\tbarBgColor,\r\n\t\t\t\tbarHeight,\r\n\t\t\t} = style;\r\n\r\n\t\t\tlet svalue = value + '';\r\n\t\t\tif (str.endsWith(svalue, '%')) {\r\n\t\t\t\tsvalue = svalue.substr(0, svalue.length - 1);\r\n\t\t\t}\r\n\t\t\tconst num = svalue - 0;\r\n\t\t\tconst rate = num < this._min ? 0\r\n\t\t\t\t: num > this._max ? 1\r\n\t\t\t\t: (num - this._min) / (this._max - this._min);\r\n\t\t\t\r\n\t\t\thelper.drawWithClip(context, (ctx) => {\r\n\t\t\t\tconst rect = context.getRect();\r\n\r\n\t\t\t\tconst barMaxWidth = rect.width - MARGIN * 2 - 1/**/;\r\n\t\t\t\tconst barTop = rect.bottom - MARGIN - barHeight - 1/**/;\r\n\t\t\t\tconst barLeft = rect.left + MARGIN;\r\n\t\t\t\tctx.fillStyle = getOrApply(barBgColor, rate * 100) || '#f0f3f5';\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.rect(barLeft, barTop, barMaxWidth, barHeight);\r\n\t\t\t\tctx.fill();\r\n\r\n\r\n\t\t\t\tconst barSize = Math.min(barMaxWidth * rate, barMaxWidth);\r\n\t\t\t\tctx.fillStyle = getOrApply(barColor, rate * 100) || '#20a8d8';\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.rect(barLeft, barTop, barSize, barHeight);\r\n\t\t\t\tctx.fill();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tmodule.exports = PercentCompleteBarColumn;\r\n}","'use strict';\r\n{\r\n\tconst IconStyle = require('../style/IconStyle');\r\n\tconst Column = require('./Column');\r\n\tconst icons = require('../../internal/icons');\r\n\r\n\tfunction repeatArray(val, count) {\r\n\t\tif (count === Infinity) {\r\n\t\t\tcount = 0;\r\n\t\t}\r\n\t\tconst a = [];\r\n\t\tfor (let i = 0; i < count; i++) {\r\n\t\t\ta.push(val);\r\n\t\t}\r\n\t\treturn a;\r\n\t}\r\n\r\n\tclass IconColumn extends Column {\r\n\t\tconstructor(option = {}) {\r\n\t\t\tsuper(option);\r\n\t\t\tthis._tagName = option.tagName || 'i';\r\n\t\t\tthis._className = option.className;\r\n\t\t\tthis._content = option.content;\r\n\t\t\tthis._name = option.name;\r\n\t\t\tthis._iconWidth = option.iconWidth;\r\n\t\t}\r\n\t\tget StyleClass() {\r\n\t\t\treturn IconStyle;\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new IconColumn(this);\r\n\t\t}\r\n\t\tdrawInternal(value, context, style, helper, grid, info) {\r\n\t\t\tconst num = value - 0;\r\n\t\t\tif (!isNaN(num)) {\r\n\t\t\t\tconst icon = {};\r\n\t\t\t\ticons.iconPropKeys.forEach((k) => {\r\n\t\t\t\t\ticon[k] = style[k];\r\n\t\t\t\t});\r\n\t\t\t\ticon.className = this._className;\r\n\t\t\t\ticon.tagName = this._tagName;\r\n\t\t\t\ticon.content = this._content;\r\n\t\t\t\ticon.name = this._name;\r\n\t\t\t\tif (this._iconWidth) {\r\n\t\t\t\t\ticon.width = this._iconWidth;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tinfo.getIcon = () => repeatArray(icon, num);\r\n\t\t\t} else {\r\n\t\t\t\tinfo.getIcon = () => null;\r\n\t\t\t}\r\n\t\t\tsuper.drawInternal('', context, style, helper, grid, info);\r\n\t\t}\r\n\t}\r\n\tmodule.exports = IconColumn;\r\n}","'use strict';\r\nconst {isDef, getOrApply, isPromise, obj: {isObject}} = require('../../internal/utils');\r\nconst BranchGraphStyle = require('../style/BranchGraphStyle');\r\nconst BaseColumn = require('./BaseColumn');\r\nconst {BRANCH_GRAPH_COLUMN_STATE_ID: _} = require('../../internal/symbolManager');\r\n\r\nfunction getAllColumnData(grid, col, callback) {\r\n\tconst dataSource = grid.dataSource;\r\n\tlet field = grid.getField(col);\r\n\tif (isObject(field) && field.get && field.set) {\r\n\t\tfield = field.get;\r\n\t}\r\n\tconst allData = [];\r\n\tlet promise;\r\n\tfor (let index = 0; index < dataSource.length; index++) {\r\n\t\tconst data = dataSource.getField(index, field);\r\n\t\tif (isPromise(data)) {\r\n\t\t\tconst dataIndex = allData.length;\r\n\t\t\tallData.push(data);\r\n\t\t\tif (!promise) {\r\n\t\t\t\tpromise = data.then((d) => {\r\n\t\t\t\t\tallData[dataIndex] = d;\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tpromise = promise.then(() => data).then((d) => {\r\n\t\t\t\t\tallData[dataIndex] = d;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tallData.push(data);\r\n\t\t}\r\n\t}\r\n\r\n\tif (promise) {\r\n\t\tpromise.then(() => callback(allData));\r\n\t} else {\r\n\t\tcallback(allData);\r\n\t}\r\n}\r\n\r\nclass BranchLine {\r\n\tconstructor({fromIndex, toIndex, colorIndex, point}) {\r\n\t\tthis.fromIndex = fromIndex;\r\n\t\tthis.toIndex = toIndex;\r\n\t\tthis.colorIndex = colorIndex;\r\n\t\tthis.point = point;\r\n\t}\r\n}\r\nclass BranchPoint {\r\n\tconstructor({index, commit = false, lines = [], tag}) {\r\n\t\tthis.index = index;\r\n\t\tthis.commit = commit;\r\n\t\tthis.lines = lines;\r\n\t\tthis.tag = tag;\r\n\t}\r\n\tstatic mergeLines(lines) {\r\n\t\tconst result = lines.filter(((l) => isDef(l.fromIndex) && isDef(l.toIndex)));\r\n\t\t\r\n\t\tconst froms = lines.filter(((l) => isDef(l.fromIndex) && !isDef(l.toIndex)));\r\n\t\tconst tos = lines.filter(((l) => !isDef(l.fromIndex) && isDef(l.toIndex)));\r\n\r\n\t\tfroms.forEach((f) => {\r\n\t\t\tfor (let i = 0; i < tos.length; i++) {\r\n\t\t\t\tconst t = tos[i];\r\n\t\t\t\tif (t.point) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tif (f.colorIndex === t.colorIndex) {\r\n\t\t\t\t\tf.toIndex = t.toIndex;\r\n\t\t\t\t\ttos.splice(i, 1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tresult.push(f);\r\n\t\t});\r\n\r\n\t\treturn result.concat(tos);\r\n\t}\r\n\tstatic merge(a, b) {\r\n\t\tif (!a) {\r\n\t\t\treturn b;\r\n\t\t}\r\n\t\treturn new BranchPoint({\r\n\t\t\tindex: a.index,\r\n\t\t\tcommit: a.commit || b.commit,\r\n\t\t\tlines: BranchPoint.mergeLines(a.lines.concat(b.lines)),\r\n\t\t\ttag: a.tag || b.tag\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction joinLine(timeline, branchIndex) {\r\n\tconst reverse = [...timeline].reverse();\r\n\tfor (let i = 0; i < reverse.length; i++) {\r\n\t\tconst f = reverse[i][branchIndex];\r\n\t\tif (f) {\r\n\t\t\tf.lines = BranchPoint.mergeLines(f.lines.concat([new BranchLine({\r\n\t\t\t\ttoIndex: branchIndex,\r\n\t\t\t\tcolorIndex: branchIndex,\r\n\t\t\t})]));\r\n\r\n\t\t\tfor (let j = 0; j < i; j++) {\r\n\t\t\t\tconst tl = reverse[j];\r\n\t\t\t\ttl[branchIndex] = new BranchPoint({\r\n\t\t\t\t\tindex: branchIndex,\r\n\t\t\t\t\tlines: [new BranchLine({\r\n\t\t\t\t\t\tfromIndex: branchIndex,\r\n\t\t\t\t\t\ttoIndex: branchIndex,\r\n\t\t\t\t\t\tcolorIndex: branchIndex\r\n\t\t\t\t\t})]\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n}\r\n\r\nfunction branch({timeline, branches}, from, to) {\r\n\tconst fromIndex = branches.indexOf(from);\r\n\tlet toIndex = branches.indexOf(to);\r\n\tif (toIndex < 0) {\r\n\t\ttoIndex = branches.length;\r\n\t\tbranches.push(to);\r\n\t}\r\n\t\r\n\tfunction findBranchRootIndex() {\r\n\t\tfor (let index = timeline.length - 1; index >= 0; index--) {\r\n\t\t\tconst tl = timeline[index];\r\n\t\t\tconst from = tl[fromIndex];\r\n\t\t\tif (from && from.commit) {\r\n\t\t\t\treturn index;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn -1;\r\n\t}\r\n\r\n\tif (fromIndex < 0) {\r\n\t\treturn new BranchPoint({\r\n\t\t\tindex: toIndex,\r\n\t\t});\r\n\t} else {\r\n\t\tconst fromTargetIndex = findBranchRootIndex();\r\n\t\tif (fromTargetIndex === -1) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tconst branchTargetFromIndex = fromTargetIndex + 1;\r\n\t\tconst branchPoint = new BranchPoint({\r\n\t\t\tindex: toIndex,\r\n\t\t\tlines: [new BranchLine({\r\n\t\t\t\tfromIndex,\r\n\t\t\t\tcolorIndex: toIndex\r\n\t\t\t})]\r\n\t\t});\r\n\t\tlet point;\r\n\t\tlet result;\r\n\t\tif (branchTargetFromIndex < timeline.length) {\r\n\t\t\tconst targetLine = timeline[branchTargetFromIndex];\r\n\t\t\tpoint = targetLine[toIndex] = BranchPoint.merge(targetLine[toIndex], branchPoint);\r\n\t\t} else {\r\n\t\t\tpoint = branchPoint;\r\n\t\t\tresult = branchPoint;\r\n\t\t}\r\n\t\tconst from = timeline[fromTargetIndex][fromIndex];\r\n\t\tfrom.lines = BranchPoint.mergeLines(from.lines.concat([new BranchLine({\r\n\t\t\ttoIndex,\r\n\t\t\tcolorIndex: toIndex,\r\n\t\t\tpoint,\r\n\t\t})]));\r\n\t\treturn result;\r\n\t}\r\n\t\r\n}\r\n\r\nfunction commit({timeline, branches}, name) {\r\n\tconst index = branches.indexOf(name);\r\n\tif (index < 0) {\r\n\t\treturn null;\r\n\t}\r\n\tconst result = new BranchPoint({\r\n\t\tindex,\r\n\t\tcommit: true,\r\n\t});\r\n\t\t\r\n\tif (joinLine(timeline, index)) {\r\n\t\tresult.lines = BranchPoint.mergeLines(result.lines.concat([new BranchLine({\r\n\t\t\tfromIndex: index,\r\n\t\t\tcolorIndex: index\r\n\t\t})]));\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nfunction commitTag({timeline, branches}, name, tag) {\r\n\tlet index = branches.indexOf(name);\r\n\tif (index < 0) {\r\n\t\tindex = branches.length;\r\n\t\tbranches.push(name);\r\n\t}\r\n\treturn new BranchPoint({\r\n\t\tindex,\r\n\t\ttag\r\n\t});\r\n}\r\n\r\nfunction commitMerge({timeline, branches}, from, to) {\r\n\tconst fromIndex = branches.indexOf(from);\r\n\tconst toIndex = branches.indexOf(to);\r\n\tif (toIndex < 0 || fromIndex < 0) {\r\n\t\treturn new BranchPoint({\r\n\t\t\tindex: toIndex,\r\n\t\t\tcommit: true,\r\n\t\t});\r\n\t}\r\n\tconst result = new BranchPoint({\r\n\t\tindex: toIndex,\r\n\t\tcommit: true,\r\n\t\tlines: [\r\n\t\t\tnew BranchLine({\r\n\t\t\t\tfromIndex,\r\n\t\t\t\tcolorIndex: fromIndex\r\n\t\t\t}),\r\n\t\t\tnew BranchLine({\r\n\t\t\t\tfromIndex: toIndex,\r\n\t\t\t\tcolorIndex: toIndex\r\n\t\t\t})],\r\n\t});\r\n\tconst froms = [...timeline];\r\n\tconst fromTargetLine = froms.pop();\r\n\tif (fromTargetLine) {\r\n\t\tfromTargetLine[fromIndex] = BranchPoint.merge(fromTargetLine[fromIndex], new BranchPoint({\r\n\t\t\tindex: toIndex,\r\n\t\t\tlines: [new BranchLine({\r\n\t\t\t\ttoIndex,\r\n\t\t\t\tcolorIndex: fromIndex\r\n\t\t\t})]\r\n\t\t}));\r\n\t}\r\n\r\n\tjoinLine(froms, fromIndex);\r\n\r\n\tjoinLine(timeline, toIndex);\r\n\r\n\treturn result;\r\n}\r\n\r\nfunction calcCommand(info, command) {\r\n\tconst {timeline} = info;\r\n\tconst timelineData = [];\r\n\t// const last = timeline.length > 0 ? timeline[timeline.length - 1] : null;\r\n\tconst commands = Array.isArray(command) ? command : [command];\r\n\tcommands.forEach((cmd) => {\r\n\t\tif (!cmd) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet point;\r\n\t\tif (cmd.command === 'branch') {\r\n\t\t\tconst from = isObject(cmd.branch) ? cmd.branch.from : null;\r\n\t\t\tconst to = isObject(cmd.branch) ? cmd.branch.to : cmd.branch;\r\n\t\t\tpoint = branch(info, from, to);\r\n\t\t} else if (cmd.command === 'commit') {\r\n\t\t\tconst {branch} = cmd;\r\n\t\t\tpoint = commit(info, branch);\r\n\t\t} else if (cmd.command === 'merge') {\r\n\t\t\tconst {from, to} = cmd.branch;\r\n\t\t\tpoint = commitMerge(info, from, to);\r\n\t\t} else if (cmd.command === 'tag') {\r\n\t\t\tconst {branch, tag} = cmd;\r\n\t\t\tpoint = commitTag(info, branch, tag);\r\n\t\t}\r\n\t\tif (point && point.index > -1) {\r\n\t\t\ttimelineData[point.index] = BranchPoint.merge(timelineData[point.index], point);\r\n\t\t}\r\n\t});\r\n\ttimeline.push(timelineData);\r\n}\r\n\r\nfunction calcBranchesInfo(start, grid, col) {\r\n\tconst result = {\r\n\t\tbranches: [],\r\n\t\ttimeline: []\r\n\t};\r\n\tgetAllColumnData(grid, col, (data) => {\r\n\t\tif (start !== 'top') {\r\n\t\t\tdata = [...data].reverse();\r\n\t\t}\r\n\t\tdata.forEach((command) => {\r\n\t\t\tcalcCommand(result, command);\r\n\t\t});\r\n\r\n\t});\r\n\treturn result;\r\n}\r\n\r\nfunction calcBranchXPoints(ctx, left, width, radius, branches, timeline) {\r\n\tlet w = Math.max(width / branches.length + 1, 5);\r\n\ttimeline.forEach((tl) => {\r\n\t\ttl.forEach((p, index) => {\r\n\t\t\tif (index <= 0) {\r\n\t\t\t\t// \r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (p.tag) {\r\n\t\t\t\tconst textWidth = ctx.measureText(p.tag).width;\r\n\t\t\t\tif (((w * index) + (radius * 2) + 4 + textWidth) > width) {\r\n\t\t\t\t\tw = Math.max((width - (radius * 2) - 4 - textWidth) / index, 5);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\tconst result = [];\r\n\tlet x = left;\r\n\tbranches.forEach(() => {\r\n\t\tresult.push(Math.ceil(x + radius));\r\n\t\tx += w;\r\n\t});\r\n\treturn result;\r\n}\r\n\r\nfunction renderMerge(grid, ctx, x, y, upLineIndex, downLineIndex, colorIndex, {\r\n\tbranchXPoints, margin, branchColors, branchLineWidth, mergeStyle\r\n}, {\r\n\twidth, col, row, branches\r\n}) {\r\n\tif (isDef(upLineIndex) || isDef(downLineIndex)) {\r\n\t\tctx.strokeStyle = getOrApply(branchColors, branches[colorIndex], colorIndex);\r\n\t\tctx.lineWidth = branchLineWidth;\r\n\t\tctx.lineCap = 'round';\r\n\t\tctx.beginPath();\r\n\r\n\r\n\t\tif (isDef(upLineIndex)) {\r\n\t\t\tconst upX = branchXPoints[upLineIndex];\r\n\t\t\tconst upRect = grid.getCellRelativeRect(col, row - 1);\r\n\t\t\tconst upY = upRect.top + upRect.height / 2;\r\n\t\t\tctx.moveTo(upX, upY);\r\n\t\t\tif (mergeStyle === 'bezier') {\r\n\t\t\t\tctx.bezierCurveTo(\r\n\t\t\t\t\t\tupX, (y + upY) / 2,\r\n\t\t\t\t\t\tx, (y + upY) / 2,\r\n\t\t\t\t\t\tx, y\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tctx.lineTo(x, y);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tctx.moveTo(x, y);\r\n\t\t}\r\n\r\n\t\tif (isDef(downLineIndex)) {\r\n\t\t\tconst downX = branchXPoints[downLineIndex];\r\n\t\t\tconst downRect = grid.getCellRelativeRect(col, row + 1);\r\n\t\t\tconst downY = downRect.top + downRect.height / 2;\r\n\t\t\tif (mergeStyle === 'bezier') {\r\n\t\t\t\tctx.bezierCurveTo(\r\n\t\t\t\t\t\tx, (y + downY) / 2,\r\n\t\t\t\t\t\tdownX, (y + downY) / 2,\r\n\t\t\t\t\t\tdownX, downY\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tctx.lineTo(downX, downY);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tctx.stroke();\r\n\t}\r\n}\r\n\r\n/**\r\n * BranchGraphColumn<br>\r\n * <br>\r\n * # Data command<br>\r\n * ## mastar branch or orphan branch<br>\r\n * <pre><code class=\"js\">\r\n * {\r\n * \tcommand: 'branch',\r\n * \tbranch: 'branch name A',\r\n * }\r\n * </code></pre>\r\n * ## commit<br>\r\n * <pre><code class=\"js\">\r\n * {\r\n * \tcommand: 'commit',\r\n * \tbranch: 'branch name A'\r\n * }\r\n * </code></pre>\r\n * ## branch<br>\r\n * <pre><code class=\"js\">\r\n * {\r\n * \tcommand: 'branch',\r\n * \tbranch: {\r\n * \t\tfrom: 'branch name A',\r\n * \t\tto: 'branch name B'\r\n * \t}\r\n * }\r\n * </code></pre>\r\n * ## merge<br>\r\n * <pre><code class=\"js\">\r\n * {\r\n * \tcommand: 'merge',\r\n * \tbranch: {\r\n * \t\tfrom: 'branch name B',\r\n * \t\tto: 'branch name A'\r\n * \t}\r\n * }\r\n * </code></pre>\r\n * ## tag<br>\r\n * <pre><code class=\"js\">\r\n * {\r\n * \tcommand: 'tag',\r\n * \tbranch: 'branch name A',\r\n * \ttag: 'tag name'\r\n * }\r\n * </code></pre>\r\n *\r\n *\r\n * @memberof cheetahGrid.columns.type\r\n */\r\nclass BranchGraphColumn extends BaseColumn {\r\n\tconstructor(option = {}) {\r\n\t\tsuper(option);\r\n\t\tthis._start = option.start || 'bottom';\r\n\t\tthis._cache = isDef(option.cache) ? option.cache : false;\r\n\t}\r\n\tget StyleClass() {\r\n\t\treturn BranchGraphStyle;\r\n\t}\r\n\tclearCache(grid) {\r\n\t\tdelete grid[_];\r\n\t}\r\n\tonDrawCell(cellValue, info, context, grid) {\r\n\t\tif (this._cache) {\r\n\t\t\tconst state = grid[_] || (grid[_] = {});\r\n\t\t\tconst {col} = context;\r\n\t\t\tif (!state[col]) {\r\n\t\t\t\tstate[col] = calcBranchesInfo(this._start, grid, col);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn super.onDrawCell(cellValue, info, context, grid);\r\n\t}\r\n\tclone() {\r\n\t\treturn new BranchGraphColumn(this);\r\n\t}\r\n\tdrawInternal(value, context, style, helper, grid, {drawCellBase}) {\r\n\t\tconst {col, row} = context;\r\n\t\tconst {timeline, branches} = (this._cache && grid[_]) ? grid[_][col] : calcBranchesInfo(this._start, grid, col);\r\n\t\t\r\n\t\tconst {upLineIndexKey, downLineIndexKey} = this._start !== 'top' ? {upLineIndexKey: 'toIndex', downLineIndexKey: 'fromIndex'} : {upLineIndexKey: 'fromIndex', downLineIndexKey: 'toIndex'};\r\n\t\tconst data = this._start !== 'top' ? timeline[timeline.length - (row - grid.frozenRowCount) - 1] : timeline[row - grid.frozenRowCount];\r\n\r\n\t\tconst {\r\n\t\t\tbranchColors,\r\n\t\t\tbranchLineWidth,\r\n\t\t\tcircleSize,\r\n\t\t\tmergeStyle,\r\n\t\t\tmargin,\r\n\t\t\tbgColor,\r\n\t\t} = style;\r\n\t\tif (bgColor) {\r\n\t\t\tdrawCellBase({\r\n\t\t\t\tbgColor,\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\tconst rect = context.getRect();\r\n\t\tconst radius = circleSize / 2;\r\n\t\tconst width = rect.width - margin * 2;\r\n\r\n\t\thelper.drawWithClip(context, (ctx) => {\r\n\t\t\tctx.textAlign = 'left';\r\n\t\t\tctx.textBaseline = 'middle';\r\n\t\t\tconst branchXPoints = calcBranchXPoints(ctx, rect.left + margin, width, radius, branches, timeline);\r\n\t\t\t\r\n\t\t\tconst y = rect.top + rect.height / 2;\r\n\r\n\t\t\t// draw join lines\r\n\t\t\tdata.\r\n\t\t\t\tmap((point, index) => point ? point.lines.map((line) => ({\r\n\t\t\t\t\tcolorIndex: line.colorIndex,\r\n\t\t\t\t\tupLineIndex: line[upLineIndexKey],\r\n\t\t\t\t\tdownLineIndex: line[downLineIndexKey],\r\n\t\t\t\t\tpointIndex: index,\r\n\t\t\t\t})) : []).\r\n\t\t\t\treduce((p, c) => p.concat(c), []).// flatMap\r\n\t\t\t\t// order of overlap\r\n\t\t\t\tsort((a, b) => b.colorIndex - a.colorIndex).\r\n\t\t\t\tforEach((line) => {\r\n\t\t\t\t\tconst x = branchXPoints[line.pointIndex];\r\n\t\t\t\t\trenderMerge(grid, ctx, x, y, line.upLineIndex, line.downLineIndex, line.colorIndex, {\r\n\t\t\t\t\t\tmargin,\r\n\t\t\t\t\t\tbranchXPoints,\r\n\t\t\t\t\t\tbranchLineWidth,\r\n\t\t\t\t\t\tbranchColors,\r\n\t\t\t\t\t\tmergeStyle,\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\twidth, col, row, branches\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t// draw commit points\r\n\t\t\tdata.forEach((p, index) => {\r\n\t\t\t\tif (p && p.commit) {\r\n\t\t\t\t\tconst x = branchXPoints[index];\r\n\t\t\t\t\tctx.fillStyle = getOrApply(branchColors, branches[index], index);\r\n\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\tctx.arc(x, y, radius, 0, Math.PI * 2, true);\r\n\t\t\t\t\tctx.fill();\r\n\t\t\t\t\tctx.closePath();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// draw tags\r\n\t\t\tdata.forEach((p, index) => {\r\n\t\t\t\tif (p && p.tag) {\r\n\t\t\t\t\tctx.fillStyle = getOrApply(branchColors, branches[index], index);\r\n\t\t\t\t\tctx.fillText(p.tag, branchXPoints[index] + radius + 4, y);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\nmodule.exports = BranchGraphColumn;","'use strict';\r\nconst BaseStyle = require('./BaseStyle');\r\nlet defaultStyle;\r\nfunction adj(style) {\r\n\tconst {textAlign = 'center'} = style;\r\n\tstyle.textAlign = textAlign;\r\n\treturn style;\r\n}\r\nconst DEFAULT_BRANCH_COLORS = (name, index) => {\r\n\tswitch (index % 3) {\r\n\tcase 0:\r\n\t\treturn '#979797';\r\n\tcase 1:\r\n\t\treturn '#008fb5';\r\n\tcase 2:\r\n\t\treturn '#f1c109';\r\n\tdefault:\r\n\t}\r\n\treturn '#979797';\r\n};\r\nclass BranchGraphStyle extends BaseStyle {\r\n\tstatic get DEFAULT() {\r\n\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new BranchGraphStyle());\r\n\t}\r\n\tconstructor(style = {}) {\r\n\t\tsuper(adj(style));\r\n\t\tthis._branchColors = style.branchColors || DEFAULT_BRANCH_COLORS;\r\n\t\tthis._margin = style.margin || 4;\r\n\t\tthis._circleSize = style.circleSize || 16;\r\n\t\tthis._branchLineWidth = style.branchLineWidth || 4;\r\n\t\tthis._mergeStyle = style.mergeStyle === 'straight' ? 'straight' : 'bezier';\r\n\t}\r\n\tget branchColors() {\r\n\t\treturn this._branchColors;\r\n\t}\r\n\tset branchColors(branchColors) {\r\n\t\tthis._branchColors = branchColors;\r\n\t\tthis.doChangeStyle();\r\n\t}\r\n\tget margin() {\r\n\t\treturn this._margin;\r\n\t}\r\n\tset margin(margin) {\r\n\t\tthis._margin = margin;\r\n\t\tthis.doChangeStyle();\r\n\t}\r\n\tget circleSize() {\r\n\t\treturn this._circleSize;\r\n\t}\r\n\tset circleSize(circleSize) {\r\n\t\tthis._circleSize = circleSize;\r\n\t\tthis.doChangeStyle();\r\n\t}\r\n\tget branchLineWidth() {\r\n\t\treturn this._branchLineWidth;\r\n\t}\r\n\tset branchLineWidth(branchLineWidth) {\r\n\t\tthis._branchLineWidth = branchLineWidth;\r\n\t\tthis.doChangeStyle();\r\n\t}\r\n\tget mergeStyle() {\r\n\t\treturn this._mergeStyle;\r\n\t}\r\n\tset mergeStyle(mergeStyle) {\r\n\t\tthis._mergeStyle = mergeStyle;\r\n\t\tthis.doChangeStyle();\r\n\t}\r\n\tclone() {\r\n\t\treturn new BranchGraphStyle(this);\r\n\t}\r\n}\r\nmodule.exports = BranchGraphStyle;","'use strict';\r\n{\r\n\tconst {normalize} = require('../../internal/menu-items');\r\n\tconst {isDef} = require('../../internal/utils');\r\n\tconst BaseColumn = require('./BaseColumn');\r\n\tconst Style = require('../style/Style');\r\n\tconst utils = require('./columnUtils');\r\n\r\n\tclass MenuColumn extends BaseColumn {\r\n\t\tconstructor(option = {}) {\r\n\t\t\tsuper(option);\r\n\t\t\tthis._options = normalize(option.options);\r\n\t\t}\r\n\t\tget StyleClass() {\r\n\t\t\treturn Style;\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new MenuColumn(this);\r\n\t\t}\r\n\t\tget options() {\r\n\t\t\treturn this._options;\r\n\t\t}\r\n\t\twithOptions(options) {\r\n\t\t\tconst c = this.clone();\r\n\t\t\tc._options = normalize(options);\r\n\t\t\treturn c;\r\n\t\t}\r\n\t\tdrawInternal(value, context, style, helper, grid, {drawCellBase, getIcon}) {\r\n\t\t\tconst {\r\n\t\t\t\ttextAlign,\r\n\t\t\t\ttextBaseline,\r\n\t\t\t\tfont,\r\n\t\t\t\tbgColor,\r\n\t\t\t\tpadding,\r\n\t\t\t} = style;\r\n\t\t\tlet {\r\n\t\t\t\tcolor,\r\n\t\t\t} = style;\r\n\t\t\tif (bgColor) {\r\n\t\t\t\tdrawCellBase({\r\n\t\t\t\t\tbgColor,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tconst text = this._convertInternal(value);\r\n\t\t\thelper.testFontLoad(font, text, context);\r\n\t\t\tutils.loadIcons(getIcon(), context, helper, (icons, context) => {\r\n\t\t\t\tconst basePadding = helper.toBoxPixelArray(padding || 0, context);\r\n\t\t\t\tconst textPadding = basePadding.slice(0);\r\n\t\t\t\ttextPadding[1] += 26;// icon padding\r\n\t\t\t\tconst iconPadding = basePadding.slice(0);\r\n\t\t\t\ticonPadding[1] += 8;\r\n\t\t\t\tif (!isDef(color) && (!isDef(value) || value === '')) {\r\n\t\t\t\t\tcolor = 'rgba(0, 0, 0, .38)';\r\n\t\t\t\t}\r\n\t\t\t\thelper.text(text, context, {\r\n\t\t\t\t\ttextAlign,\r\n\t\t\t\t\ttextBaseline,\r\n\t\t\t\t\tcolor,\r\n\t\t\t\t\tfont,\r\n\t\t\t\t\ticons,\r\n\t\t\t\t\tpadding: textPadding,\r\n\t\t\t\t});\r\n\t\t\t\t// draw icon\r\n\t\t\t\thelper.text('', context, {\r\n\t\t\t\t\ttextAlign: 'right',\r\n\t\t\t\t\ttextBaseline,\r\n\t\t\t\t\tcolor,\r\n\t\t\t\t\tfont,\r\n\t\t\t\t\ticons: [{\r\n\t\t\t\t\t\tpath: 'M0 2 5 7 10 2z',\r\n\t\t\t\t\t\twidth: 10,\r\n\t\t\t\t\t\tcolor: 'rgba(0, 0, 0, .54)',\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tpadding: iconPadding,\r\n\t\t\t\t});\r\n\r\n\t\t\t});\r\n\t\t}\r\n\t\tconvertInternal(value) {\r\n\t\t\treturn value;\r\n\t\t}\r\n\t\t_convertInternal(value) {\r\n\t\t\tconst options = this._options;\r\n\t\t\tfor (let i = 0; i < options.length; i++) {\r\n\t\t\t\tconst option = options[i];\r\n\t\t\t\tif (option.value === value) {\r\n\t\t\t\t\tvalue = option.caption;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn super.convertInternal(value);\r\n\t\t}\r\n\t}\r\n\r\n\tmodule.exports = MenuColumn;\r\n}","/*eslint no-bitwise:0*/\r\n'use strict';\r\n{\r\n\tconst {getChainSafe} = require('../internal/utils');\r\n\tconst defaultTheme = require('./MATERIAL_DESIGN');\r\n\r\n\tfunction getProp(obj, superObj, names, defNames) {\r\n\t\treturn getChainSafe(obj, ...names) ||\r\n\t\t(defNames && getChainSafe(obj, ...defNames)) ||\r\n\t\tgetChainSafe(superObj, ...names);\r\n\t}\r\n\tfunction createTheme(obj = {}, superTheme = defaultTheme) {\r\n\t\treturn {\r\n\t\t\tget font() {\r\n\t\t\t\treturn getProp(obj, superTheme, ['font']);\r\n\t\t\t},\r\n\t\t\tget underlayBackgroundColor() {\r\n\t\t\t\treturn getProp(obj, superTheme, ['underlayBackgroundColor']);\r\n\t\t\t},\r\n\t\t\t// color\r\n\t\t\tget color() {\r\n\t\t\t\treturn getProp(obj, superTheme, ['color']);\r\n\t\t\t},\r\n\t\t\tget frozenRowsColor() {\r\n\t\t\t\treturn getProp(obj, superTheme, ['frozenRowsColor'], ['color']);\r\n\t\t\t},\r\n\t\t\t// background\r\n\t\t\tget defaultBgColor() {\r\n\t\t\t\treturn getProp(obj, superTheme, ['defaultBgColor']);\r\n\t\t\t},\r\n\t\t\tget frozenRowsBgColor() {\r\n\t\t\t\treturn getProp(obj, superTheme, ['frozenRowsBgColor'], ['defaultBgColor']);\r\n\t\t\t},\r\n\t\t\tget selectionBgColor() {\r\n\t\t\t\treturn getProp(obj, superTheme, ['selectionBgColor'], ['defaultBgColor']);\r\n\t\t\t},\r\n\t\t\t// border\r\n\t\t\tget borderColor() {\r\n\t\t\t\treturn getProp(obj, superTheme, ['borderColor']);\r\n\t\t\t},\r\n\t\t\tget frozenRowsBorderColor() {\r\n\t\t\t\treturn getProp(obj, superTheme, ['frozenRowsBorderColor'], ['borderColor']);\r\n\t\t\t},\r\n\t\t\tget hiliteBorderColor() {\r\n\t\t\t\treturn getProp(obj, superTheme, ['hiliteBorderColor'], ['borderColor']);\r\n\t\t\t},\r\n\t\t\tget checkbox() {\r\n\t\t\t\treturn this._checkbox || (this._checkbox = {\r\n\t\t\t\t\tget uncheckBgColor() {\r\n\t\t\t\t\t\treturn getProp(obj, superTheme, ['checkbox', 'uncheckBgColor'], ['defaultBgColor']);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tget checkBgColor() {\r\n\t\t\t\t\t\treturn getProp(obj, superTheme, ['checkbox', 'checkBgColor'], ['defaultBgColor']);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tget borderColor() {\r\n\t\t\t\t\t\treturn getProp(obj, superTheme, ['checkbox', 'borderColor'], ['borderColor']);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tget button() {\r\n\t\t\t\treturn this._button || (this._button = {\r\n\t\t\t\t\tget color() {\r\n\t\t\t\t\t\treturn getProp(obj, superTheme, ['button', 'color'], ['color']);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tget bgColor() {\r\n\t\t\t\t\t\treturn getProp(obj, superTheme, ['button', 'bgColor'], ['defaultBgColor']);\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\textends(obj) {\r\n\t\t\t\treturn createTheme(obj, this);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\t/**\r\n\t * theme object\r\n\t * @type {Object}\r\n\t * @namespace cheetahGrid.themes.theme\r\n\t * @memberof cheetahGrid.themes\r\n\t */\r\n\tmodule.exports = {\r\n\t\tcreate(obj) {\r\n\t\t\treturn createTheme(obj);\r\n\t\t}\r\n\t};\r\n}","/*eslint no-bitwise:0*/\r\n'use strict';\r\nfunction DEFAULT_BG_COLOR(args) {\r\n\tconst {\r\n\t\trow,\r\n\t\tgrid: {frozenRowCount}\r\n\t} = args;\r\n\tif (!((row - frozenRowCount) & 1)) {\r\n\t\treturn '#FFF';\r\n\t} else {\r\n\t\treturn '#F6F6F6';\r\n\t}\r\n}\r\nconst cacheLinearGradient = {};\r\nfunction getLinearGradient(context, left, top, right, bottom, colorStops) {\r\n\tlet stop;\r\n\tconst stopsKey = [];\r\n\tfor (stop in colorStops) {\r\n\t\tstopsKey.push(`${stop}@${colorStops[stop]}`);\r\n\t}\r\n\tconst key = `${left}/${top}/${right}/${bottom}/${stopsKey.join(',')}`;\r\n\tconst ret = cacheLinearGradient[key];\r\n\tif (ret) {\r\n\t\treturn ret;\r\n\t}\r\n\tconst grad = context.createLinearGradient(left, top, left, bottom);\r\n\tfor (stop in colorStops) {\r\n\t\tgrad.addColorStop(stop, colorStops[stop]);\r\n\t}\r\n\treturn (cacheLinearGradient[key] = grad);\r\n}\r\nfunction FROZEN_ROWS_BG_COLOR(args) {\r\n\tconst {\r\n\t\tcol,\r\n\t\tgrid,\r\n\t\tgrid: {frozenRowCount},\r\n\t\tcontext\r\n\t} = args;\r\n\tconst {left, top} = grid.getCellRelativeRect(col, 0);\r\n\tconst {bottom} = grid.getCellRelativeRect(col, frozenRowCount - 1);\r\n\r\n\treturn getLinearGradient(context, left, top, left, bottom, {0: '#FFF', 1: '#D3D3D3'});\r\n}\r\n/**\r\n * basic theme\r\n * @name BASIC\r\n * @type {Object}\r\n * @memberof cheetahGrid.themes.choices\r\n */\r\nmodule.exports = {\r\n\tcolor: '#000',\r\n\tdefaultBgColor: DEFAULT_BG_COLOR,\r\n\tfrozenRowsBgColor: FROZEN_ROWS_BG_COLOR,\r\n\thiliteBorderColor: '#5E9ED6',\r\n\tselectionBgColor: '#CCE0FF',\r\n\tborderColor: '#000',\r\n\tcheckbox: {\r\n\t\tuncheckBgColor: '#FFF',\r\n\t\tcheckBgColor: 'rgb(76, 73, 72)',\r\n\t},\r\n\tbutton: {\r\n\t\tcolor: '#FFF',\r\n\t\tbgColor: '#2196F3',\r\n\t},\r\n\tunderlayBackgroundColor: '#F6F6F6',\r\n};","'use strict';\r\n{\r\n\tconst {getChainSafe} = require('../internal/utils');\r\n\tconst DataSource = require('./DataSource');\r\n\r\n\tfunction _setFieldCache({_fCache}, index, field, value) {\r\n\t\tconst recCache = _fCache[index] || (_fCache[index] = {});\r\n\t\trecCache[field] = value;\r\n\t}\r\n\t/**\r\n\t * grid data source\r\n\t *\r\n\t * @classdesc cheetahGrid.data.CachedDataSource\r\n\t * @extends cheetahGrid.data.DataSource\r\n\t * @memberof cheetahGrid.data\r\n\t */\r\n\tclass CachedDataSource extends DataSource {\r\n\t\tstatic get EVENT_TYPE() {\r\n\t\t\treturn DataSource.EVENT_TYPE;\r\n\t\t}\r\n\t\tstatic ofArray(array) {\r\n\t\t\treturn new CachedDataSource({\r\n\t\t\t\tget: (index) => array[index],\r\n\t\t\t\tlength: array.length\r\n\t\t\t});\r\n\t\t}\r\n\t\tconstructor(opt = {}) {\r\n\t\t\tsuper(opt);\r\n\t\t\tthis._rCache = {};\r\n\t\t\tthis._fCache = {};\r\n\t\t}\r\n\t\tgetOriginal(index) {\r\n\t\t\tif (this._rCache && this._rCache[index]) {\r\n\t\t\t\treturn this._rCache[index];\r\n\t\t\t}\r\n\t\t\treturn super.getOriginal(index);\r\n\t\t}\r\n\t\tgetOriginalField(index, field) {\r\n\t\t\tconst cache = getChainSafe(this._fCache, index, field);\r\n\t\t\tif (cache) {\r\n\t\t\t\treturn cache;\r\n\t\t\t}\r\n\t\t\treturn super.getOriginalField(index, field);\r\n\t\t}\r\n\t\tsetOriginalField(index, field, value) {\r\n\t\t\tconst fCache = this._fCache;\r\n\t\t\tif (fCache && fCache[index]) {\r\n\t\t\t\tdelete fCache[index]; // clear row cache\r\n\t\t\t}\r\n\t\t\treturn super.setOriginalField(index, field, value);\r\n\t\t}\r\n\t\tclearCache() {\r\n\t\t\tif (this._rCache) {\r\n\t\t\t\tthis._rCache = {};\r\n\t\t\t}\r\n\t\t\tif (this._fCache) {\r\n\t\t\t\tthis._fCache = {};\r\n\t\t\t}\r\n\t\t}\r\n\t\tfieldPromiseCallBackInternal(index, field, val) {\r\n\t\t\t_setFieldCache(this, index, field, val);\r\n\t\t}\r\n\t\trecordPromiseCallBackInternal(index, val) {\r\n\t\t\tthis._rCache[index] = val;\r\n\t\t}\r\n\t\tdispose() {\r\n\t\t\tsuper.dispose();\r\n\t\t}\r\n\t}\r\n\r\n\tmodule.exports = CachedDataSource;\r\n}","'use strict';\r\n{\r\n\tconst {isDef, isPromise, then, obj: {isObject}} = require('./internal/utils');\r\n\tconst GridCanvasHelper = require('./GridCanvasHelper');\r\n\tconst columns = require('./columns');\r\n\tconst {BaseStyle} = columns.style;\r\n\tconst headerType = require('./header/type');\r\n\tconst {BaseStyle: HeaderBaseStyle} = require('./header/style');\r\n\tconst DrawGrid = require('./core/DrawGrid');\r\n\tconst {DataSource, CachedDataSource} = require('./data');\r\n\tconst themes = require('./themes');\r\n\tconst icons = require('./internal/icons');\r\n\tconst MessageHandler = require('./columns/message/MessageHandler');\r\n\tconst EVENT_TYPE = require('./list-grid/EVENT_TYPE');\r\n\t\r\n\t//protected symbol\r\n\tconst {PROTECTED_SYMBOL: _} = require('./internal/symbolManager');\r\n\r\n\tlet headerId = 0;\r\n\t//private methods\r\n\tfunction _getHeaderCellRange(grid, col, row) {\r\n\t\treturn grid[_].headerMap.getHeaderCellRange(col, row);\r\n\t}\r\n\tfunction _updateRect(grid, col, row, context) {\r\n\t\tconst rect = context.getRect();\r\n\t\tconst {\r\n\t\t\tstartCol,\r\n\t\t\tendCol,\r\n\t\t\tstartRow,\r\n\t\t\tendRow,\r\n\t\t} = _getHeaderCellRange(grid, col, row);\r\n\t\tfor (let c = col - 1; c >= startCol; c--) {\r\n\t\t\trect.left -= grid.getColWidth(c);\r\n\t\t}\r\n\t\tfor (let c = col + 1; c <= endCol; c++) {\r\n\t\t\trect.right += grid.getColWidth(c);\r\n\t\t}\r\n\t\tfor (let r = row - 1; r >= startRow; r--) {\r\n\t\t\trect.top -= grid.getRowHeight(r);\r\n\t\t}\r\n\t\tfor (let r = row + 1; r <= endRow; r++) {\r\n\t\t\trect.bottom += grid.getRowHeight(r);\r\n\t\t}\r\n\t\tcontext.setRect(rect);\r\n\t}\r\n\tfunction _getCellValue(grid, col, row) {\r\n\t\tif (row < grid[_].headerMap.rowCount) {\r\n\t\t\treturn grid[_].headerMap.getCell(col, row).caption;\r\n\t\t} else {\r\n\t\t\tlet {field} = grid[_].headerMap.columns[col];\r\n\t\t\tif (isObject(field) && field.get && field.set) {\r\n\t\t\t\tfield = field.get;\r\n\t\t\t}\r\n\t\t\treturn _getField(grid, field, row);\r\n\t\t}\r\n\t}\r\n\tfunction _setCellValue(grid, col, row, value) {\r\n\t\tif (row < grid[_].headerMap.rowCount) {\r\n\t\t\t// nop\r\n\t\t\treturn false;\r\n\t\t} else {\r\n\t\t\tlet {field} = grid[_].headerMap.columns[col];\r\n\t\t\tif (isObject(field) && field.get && field.set) {\r\n\t\t\t\tfield = field.set;\r\n\t\t\t}\r\n\t\t\tconst index = _getRowRecordIndex(grid, row);\r\n\t\t\tconst res = grid[_].dataSource.setField(index, field, value);\r\n\t\t\treturn isPromise(res) ? res : true;\r\n\t\t}\r\n\t}\r\n\tfunction _getCellMessage(grid, col, row) {\r\n\t\tif (row < grid[_].headerMap.rowCount) {\r\n\t\t\treturn null;\r\n\t\t} else {\r\n\t\t\tconst {message} = grid[_].headerMap.columns[col];\r\n\t\t\tif (!message) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\treturn _getField(grid, message, row);\r\n\t\t}\r\n\t}\r\n\tfunction _getCellIcon0(grid, icon, row) {\r\n\t\tif (!isDef(icon)) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif (Array.isArray(icon)) {\r\n\t\t\treturn icon.map((i) => _getCellIcon0(grid, i, row));\r\n\t\t}\r\n\t\tif (!isObject(icon)) {\r\n\t\t\treturn _getField(grid, icon, row);\r\n\t\t}\r\n\t\tconst retIcon = {};\r\n\t\ticons.iconPropKeys.forEach((k) => {\r\n\t\t\tif (icon[k]) {\r\n\t\t\t\tconst f = _getField(grid, icon[k], row);\r\n\t\t\t\tif (isDef(f)) {\r\n\t\t\t\t\tretIcon[k] = f;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (!_hasField(grid, icon[k], row)) {\r\n\t\t\t\t\t\tretIcon[k] = icon[k];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn retIcon;\r\n\t}\r\n\tfunction _getCellIcon(grid, col, row) {\r\n\t\tconst {icon} = grid[_].headerMap.columns[col];\r\n\t\treturn _getCellIcon0(grid, icon, row);\r\n\t}\r\n\tfunction _getField(grid, field, row) {\r\n\t\tif (!isDef(field)) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif (row < grid[_].headerMap.rowCount) {\r\n\t\t\treturn null;\r\n\t\t} else {\r\n\t\t\tconst index = _getRowRecordIndex(grid, row);\r\n\t\t\treturn grid[_].dataSource.getField(index, field);\r\n\t\t}\r\n\t}\r\n\tfunction _hasField(grid, field, row) {\r\n\t\tif (!isDef(field)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (row < grid[_].headerMap.rowCount) {\r\n\t\t\treturn false;\r\n\t\t} else {\r\n\t\t\tconst index = _getRowRecordIndex(grid, row);\r\n\t\t\treturn grid[_].dataSource.hasField(index, field);\r\n\t\t}\r\n\t}\r\n\tfunction _onDrawValue(grid, cellValue, context, {col, row}, style, draw) {\r\n\t\tconst helper = grid[_].gridCanvasHelper;\r\n\r\n\t\tconst drawCellBg = ({bgColor} = {}) => {\r\n\t\t\tconst fillOpt = {\r\n\t\t\t\tfillColor: bgColor,\r\n\t\t\t};\r\n\t\t\t//cell\r\n\t\t\thelper.fillCellWithState(context, fillOpt);\r\n\t\t};\r\n\t\tconst drawCellBorder = () => {\r\n\r\n\t\t\tif (context.col === grid.frozenColCount - 1) {\r\n\t\t\t\t//\r\n\t\t\t\tconst rect = context.getRect();\r\n\t\t\t\thelper.drawWithClip(context, (ctx) => {\r\n\t\t\t\t\tconst borderColor = context.row >= grid.frozenRowCount ? helper.theme.borderColor\r\n\t\t\t\t\t\t: helper.theme.frozenRowsBorderColor;\r\n\r\n\t\t\t\t\tconst borderColors = helper.toBoxArray(\r\n\t\t\t\t\t\t\thelper.getColor(borderColor, context.col, context.row, ctx)\r\n\t\t\t\t\t);\r\n\t\t\t\t\tif (borderColors[1]) {\r\n\t\t\t\t\t\tctx.lineWidth = 1;\r\n\t\t\t\t\t\tctx.strokeStyle = borderColors[1];\r\n\t\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\t\tctx.moveTo(rect.right - 2.5, rect.top);\r\n\t\t\t\t\t\tctx.lineTo(rect.right - 2.5, rect.bottom);\r\n\t\t\t\t\t\tctx.stroke();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tif (context.row < grid[_].headerMap.rowCount) {\r\n\t\t\t\t_headerBorderWithState(grid, helper, context);\r\n\t\t\t} else {\r\n\t\t\t\thelper.borderWithState(context);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t\tconst drawCellBase = ({bgColor} = {}) => {\r\n\t\t\tdrawCellBg({bgColor});\r\n\t\t\tdrawCellBorder();\r\n\t\t};\r\n\t\tconst info = {\r\n\t\t\tgetRecord: () => grid.getRowRecord(row),\r\n\t\t\tgetIcon: () => _getCellIcon(grid, col, row),\r\n\t\t\tgetMessage: () => _getCellMessage(grid, col, row),\r\n\t\t\tmessageHandler: grid[_].messageHandler,\r\n\t\t\tstyle,\r\n\t\t\tdrawCellBase,\r\n\t\t\tdrawCellBg,\r\n\t\t\tdrawCellBorder,\r\n\t\t};\r\n\r\n\t\treturn draw(cellValue, info, context, grid);\r\n\t}\r\n\tfunction _headerBorderWithState(grid, helper, context) {\r\n\t\tconst {col, row} = context;\r\n\t\tconst sel = grid.selection.select;\r\n\t\tif (sel.row >= grid[_].headerMap.rowCount) {\r\n\t\t\t//\r\n\t\t\thelper.borderWithState(context);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst {id} = grid[_].headerMap.getCell(col, row);\r\n\r\n\t\tconst rect = context.getRect();\r\n\t\tconst option = {};\r\n\r\n\t\tconst {id: selId} = grid[_].headerMap.getCell(sel.col, sel.row);\r\n\t\t//\r\n\t\tif (selId === id) {\r\n\t\t\toption.borderColor = helper.theme.hiliteBorderColor;\r\n\t\t\toption.lineWidth = 2;\r\n\t\t\thelper.border(context, option);\r\n\t\t} else {\r\n\t\t\toption.lineWidth = 1;\r\n\t\t\t// header color\r\n\t\t\tconst isFrozenCell = grid.isFrozenCell(col, row);\r\n\t\t\tif (isFrozenCell && isFrozenCell.row) {\r\n\t\t\t\toption.borderColor = helper.theme.frozenRowsBorderColor;\r\n\t\t\t}\r\n\t\t\thelper.border(context, option);\r\n\r\n\t\t\t//\r\n\t\t\tif (col > 0 && grid[_].headerMap.getCell(col - 1, row).id === selId) {\r\n\t\t\t\t//\r\n\t\t\t\thelper.drawBorderWithClip(context, (ctx) => {\r\n\t\t\t\t\tconst borderColors = helper.toBoxArray(\r\n\t\t\t\t\t\t\thelper.getColor(helper.theme.hiliteBorderColor, sel.col, sel.row, ctx)\r\n\t\t\t\t\t);\r\n\t\t\t\t\tif (borderColors[1]) {\r\n\t\t\t\t\t\tctx.lineWidth = 1;\r\n\t\t\t\t\t\tctx.strokeStyle = borderColors[1];\r\n\t\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\t\tctx.moveTo(rect.left - 0.5, rect.top);\r\n\t\t\t\t\t\tctx.lineTo(rect.left - 0.5, rect.bottom);\r\n\t\t\t\t\t\tctx.stroke();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else if (row > 0 &&\r\n\t\t\t\t\t\tgrid[_].headerMap.getCell(col, row - 1).id === selId) {\r\n\t\t\t\t//\r\n\t\t\t\thelper.drawBorderWithClip(context, (ctx) => {\r\n\t\t\t\t\tconst borderColors = helper.toBoxArray(\r\n\t\t\t\t\t\t\thelper.getColor(helper.theme.hiliteBorderColor, sel.col, sel.row, ctx)\r\n\t\t\t\t\t);\r\n\t\t\t\t\tif (borderColors[0]) {\r\n\t\t\t\t\t\tctx.lineWidth = 1;\r\n\t\t\t\t\t\tctx.strokeStyle = borderColors[0];\r\n\t\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\t\tctx.moveTo(rect.left, rect.top - 0.5);\r\n\t\t\t\t\t\tctx.lineTo(rect.right, rect.top - 0.5);\r\n\t\t\t\t\t\tctx.stroke();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tfunction _refreshHeader(grid) {\r\n\t\tif (grid[_].headerEvents) {\r\n\t\t\tgrid[_].headerEvents.forEach((id) => grid.unlisten(id));\r\n\t\t}\r\n\t\tgrid[_].headerMap = new HeaderMap(grid[_].header);\r\n\t\tgrid[_].headerEvents = [];\r\n\t\tgrid[_].headerMap.headerObjects.forEach((cell) => {\r\n\t\t\tconst ids = cell.headerType.bindGridEvent(grid);\r\n\t\t\tgrid[_].headerEvents.push(...ids);\r\n\t\t\tif (cell.style) {\r\n\t\t\t\tif (cell.style instanceof HeaderBaseStyle) {\r\n\t\t\t\t\tconst id = cell.style.listen(HeaderBaseStyle.EVENT_TYPE.CHANGE_STYLE, () => {\r\n\t\t\t\t\t\tgrid.invalidate();\r\n\t\t\t\t\t});\r\n\t\t\t\t\tgrid[_].headerEvents.push(id);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tgrid[_].headerMap.columns.forEach((col, index) => {\r\n\t\t\tif (col.action) {\r\n\t\t\t\tconst ids = col.action.bindGridEvent(grid, index, {\r\n\t\t\t\t\tisTarget(col, row) {\r\n\t\t\t\t\t\treturn index === col && grid.frozenRowCount <= row;\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\tgrid[_].headerEvents.push(...ids);\r\n\t\t\t}\r\n\t\t\tif (col.columnType) {\r\n\t\t\t\tconst ids = col.columnType.bindGridEvent(grid, index, {\r\n\t\t\t\t\tisTarget(col, row) {\r\n\t\t\t\t\t\treturn index === col && grid.frozenRowCount <= row;\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\tgrid[_].headerEvents.push(...ids);\r\n\t\t\t}\r\n\t\t\tif (col.style) {\r\n\t\t\t\tif (col.style instanceof BaseStyle) {\r\n\t\t\t\t\tconst id = col.style.listen(columns.style.EVENT_TYPE.CHANGE_STYLE, () => {\r\n\t\t\t\t\t\tgrid.invalidate();\r\n\t\t\t\t\t});\r\n\t\t\t\t\tgrid[_].headerEvents.push(id);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tgrid.colCount = grid[_].headerMap.columns.length;\r\n\t\t_refreshRowCount(grid);\r\n\t\tgrid.frozenRowCount = grid[_].headerMap.rowCount;\r\n\t\tfor (let col = 0; col < grid[_].headerMap.columns.length; col++) {\r\n\t\t\tconst column = grid[_].headerMap.columns[col];\r\n\t\t\tconst {width, minWidth, maxWidth} = column;\r\n\t\t\tif (width && (width > 0 || typeof width === 'string')) {\r\n\t\t\t\tgrid.setColWidth(col, width);\r\n\t\t\t}\r\n\t\t\tif (minWidth && (minWidth > 0 || typeof minWidth === 'string')) {\r\n\t\t\t\tgrid.setMinColWidth(col, minWidth);\r\n\t\t\t}\r\n\t\t\tif (maxWidth && (maxWidth > 0 || typeof maxWidth === 'string')) {\r\n\t\t\t\tgrid.setMaxColWidth(col, maxWidth);\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst isArrayHeaderRowHeight = Array.isArray(grid[_].headerRowHeight);\r\n\t\tfor (let row = 0; row < grid[_].headerMap.rowCount; row++) {\r\n\t\t\tconst height = isArrayHeaderRowHeight ? grid[_].headerRowHeight[row] : grid[_].headerRowHeight;\r\n\t\t\tif (height && height > 0) {\r\n\t\t\t\tgrid.setRowHeight(row, height);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction _refreshRowCount(grid) {\r\n\t\tgrid.rowCount = grid[_].dataSource.length + grid[_].headerMap.rowCount;\r\n\t}\r\n\tfunction _tryWithUpdateDataSource(grid, fn) {\r\n\t\tif (grid[_].dataSourceEventIds) {\r\n\t\t\tgrid[_].dataSourceEventIds.forEach((id) => grid[_].handler.off(id));\r\n\t\t}\r\n\r\n\t\tfn(grid);\r\n\r\n\t\tgrid[_].dataSourceEventIds = [\r\n\t\t\tgrid[_].handler.on(grid[_].dataSource, DataSource.EVENT_TYPE.UPDATED_LENGTH, () => {\r\n\t\t\t\t_refreshRowCount(grid);\r\n\t\t\t\tgrid.invalidate();\r\n\t\t\t}),\r\n\t\t\tgrid[_].handler.on(grid[_].dataSource, DataSource.EVENT_TYPE.UPDATED_ORDER, () => {\r\n\t\t\t\tgrid.invalidate();\r\n\t\t\t}),\r\n\t\t];\r\n\t}\r\n\tfunction _setRecords(grid, records = []) {\r\n\t\t_tryWithUpdateDataSource(grid, () => {\r\n\t\t\tgrid[_].records = records;\r\n\t\t\tgrid[_].dataSource = CachedDataSource.ofArray(grid[_].records);\r\n\t\t});\r\n\t}\r\n\tfunction _setDataSource(grid, dataSource) {\r\n\t\t_tryWithUpdateDataSource(grid, () => {\r\n\t\t\tif (dataSource) {\r\n\t\t\t\tif (dataSource instanceof DataSource) {\r\n\t\t\t\t\tgrid[_].dataSource = dataSource;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgrid[_].dataSource = new CachedDataSource(dataSource);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tgrid[_].dataSource = DataSource.EMPTY;\r\n\t\t\t}\r\n\t\t\tgrid[_].records = null;\r\n\t\t});\r\n\t}\r\n\r\n\tfunction _getRowRecordIndex(grid, row) {\r\n\t\tif (row < grid[_].headerMap.rowCount) {\r\n\t\t\treturn undefined;\r\n\t\t} else {\r\n\t\t\treturn row - grid[_].headerMap.rowCount;\r\n\t\t}\r\n\t}\r\n\t//end private methods\r\n\t//\r\n\t//\r\n\t//\r\n\r\n\tclass HeaderMap {\r\n\t\tconstructor(header) {\r\n\t\t\tthis._columns = [];\r\n\t\t\tthis._headerCells = [];\r\n\t\t\tthis._headerObjects = [];\r\n\r\n\t\t\tthis._addHeaders(0, header, []);\r\n\t\t\tthis._setupHeaderType();\r\n\t\t}\r\n\t\tget columns() {\r\n\t\t\treturn this._columns;\r\n\t\t}\r\n\t\tget rowCount() {\r\n\t\t\treturn this._headerCells.length;\r\n\t\t}\r\n\t\tget headerObjects() {\r\n\t\t\treturn this._headerObjects;\r\n\t\t}\r\n\t\tgetCell(col, row) {\r\n\t\t\treturn this._headerCells[row][col];\r\n\t\t}\r\n\t\tgetHeaderCellRangeById(id) {\r\n\t\t\tfor (let r = 0; r < this.rowCount; r++) {\r\n\t\t\t\tfor (let c = 0; c < this.columns.length; c++) {\r\n\t\t\t\t\tif (id === this.getCell(c, r).id) {\r\n\t\t\t\t\t\treturn this.getHeaderCellRange(c, r);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t\tgetHeaderCellRange(col, row) {\r\n\t\t\tconst result = {\r\n\t\t\t\tstartCol: col,\r\n\t\t\t\tstartRow: row,\r\n\t\t\t\tendCol: col,\r\n\t\t\t\tendRow: row,\r\n\t\t\t\tisCellInRange(col, row) {\r\n\t\t\t\t\treturn this.startCol <= col && col <= this.endCol &&\r\n\t\t\t\t\t\t\tthis.startRow <= row && row <= this.endRow;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tconst {id} = this.getCell(col, row);\r\n\t\t\tfor (let c = col - 1; c >= 0; c--) {\r\n\t\t\t\tif (id !== this.getCell(c, row).id) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tresult.startCol = c;\r\n\t\t\t}\r\n\t\t\tfor (let c = col + 1; c < this.columns.length; c++) {\r\n\t\t\t\tif (id !== this.getCell(c, row).id) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tresult.endCol = c;\r\n\t\t\t}\r\n\t\t\tfor (let r = row - 1; r >= 0; r--) {\r\n\t\t\t\tif (id !== this.getCell(col, r).id) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tresult.startRow = r;\r\n\t\t\t}\r\n\t\t\tfor (let r = row + 1; r < this.rowCount; r++) {\r\n\t\t\t\tif (id !== this.getCell(col, r).id) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tresult.endRow = r;\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t}\r\n\t\t_addHeaders(row, header, roots) {\r\n\t\t\tconst rowCells = this._headerCells[row] || this._newRow(row);\r\n\t\t\theader.forEach((hd) => {\r\n\t\t\t\tconst col = this._columns.length;\r\n\t\t\t\tconst cell = {\r\n\t\t\t\t\tid: headerId++,\r\n\t\t\t\t\tcaption: hd.caption,\r\n\t\t\t\t\tstyle: hd.headerStyle,\r\n\t\t\t\t\tsort: hd.sort,\r\n\t\t\t\t};\r\n\t\t\t\tthis._headerObjects.push(cell);\r\n\t\t\t\trowCells[col] = cell;\r\n\t\t\t\tfor (let r = row - 1; r >= 0; r--) {\r\n\t\t\t\t\tthis._headerCells[r][col] = roots[r];\r\n\t\t\t\t}\r\n\t\t\t\tif (hd.columns) {\r\n\t\t\t\t\tthis._addHeaders(row + 1, hd.columns, [...roots, cell]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis._columns.push({\r\n\t\t\t\t\t\twidth: hd.width,\r\n\t\t\t\t\t\tminWidth: hd.minWidth,\r\n\t\t\t\t\t\tmaxWidth: hd.maxWidth,\r\n\t\t\t\t\t\tfield: hd.field,\r\n\t\t\t\t\t\ticon: hd.icon,\r\n\t\t\t\t\t\tmessage: hd.message,\r\n\t\t\t\t\t\tcolumnType: columns.type.of(hd.columnType),\r\n\t\t\t\t\t\taction: columns.action.of(hd.action),\r\n\t\t\t\t\t\tstyle: hd.style,\r\n\t\t\t\t\t\tdefine: hd,\r\n\t\t\t\t\t});\r\n\t\t\t\t\tfor (let r = row + 1; r < this._headerCells.length; r++) {\r\n\t\t\t\t\t\tthis._headerCells[r][col] = cell;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\t_setupHeaderType() {\r\n\t\t\tthis._headerObjects.forEach((cell) => {\r\n\t\t\t\tcell.range = this.getHeaderCellRangeById(cell.id);\r\n\t\t\t\tcell.headerType = headerType.create(cell);\r\n\t\t\t});\r\n\t\t}\r\n\t\t_newRow(row) {\r\n\t\t\tconst newRow = this._headerCells[row] = [];\r\n\t\t\tif (!this._columns.length) {\r\n\t\t\t\treturn newRow;\r\n\t\t\t}\r\n\t\t\tconst prev = this._headerCells[row - 1];\r\n\t\t\tfor (let col = 0; col < prev.length; col++) {\r\n\t\t\t\tnewRow[col] = prev[col];\r\n\t\t\t}\r\n\t\t\treturn newRow;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction adjustListGridOption(options) {\r\n\t\tif (options) {\r\n\t\t\tdelete options.frozenRowCount;\r\n\t\t\tdelete options.colCount;\r\n\t\t\tdelete options.rowCount;\r\n\t\t}\r\n\t\treturn options;\r\n\t}\r\n\t\r\n\t/**\r\n\t * ListGrid\r\n\t * @classdesc cheetahGrid.ListGrid\r\n\t * @extends cheetahGrid.core.DrawGrid\r\n\t * @memberof cheetahGrid\r\n\t */\r\n\tclass ListGrid extends DrawGrid {\r\n\t\tstatic get EVENT_TYPE() {\r\n\t\t\treturn EVENT_TYPE;\r\n\t\t}\r\n\t\t/**\r\n\t\t * constructor\r\n\t\t *\r\n\t\t * <pre>\r\n\t\t * Constructor options\r\n\t\t * -----\r\n\t\t * header: see header property\r\n\t\t * records {array}: records data\r\n\t\t * dataSource {DataSource}: records data source\r\n\t\t * frozenColCount {number}: default 0\r\n\t\t * defaultRowHeight {number}: default grid row height. default 40\r\n\t\t * defaultColWidth {number}: default grid col width. default 80\r\n\t\t * borderColor: border color\r\n\t\t * parentElement {Element}: canvas parentElement\r\n\t\t * theme {object}: theme\r\n\t\t * -----\r\n\t\t * </pre>\r\n\t\t *\r\n\t\t * @constructor\r\n\t\t * @param  {Object} options Constructor options\r\n\t\t */\r\n\t\tconstructor(options = {}) {\r\n\t\t\tsuper(adjustListGridOption(options));\r\n\t\t\tthis[_].header = options.header || [];\r\n\t\t\tthis[_].headerRowHeight = options.headerRowHeight || [];\r\n\t\t\tif (options.dataSource) {\r\n\t\t\t\t_setDataSource(this, options.dataSource);\r\n\t\t\t} else {\r\n\t\t\t\t_setRecords(this, options.records);\r\n\t\t\t}\r\n\t\t\t_refreshHeader(this);\r\n\t\t\tthis[_].sortState = {\r\n\t\t\t\tcol: -1,\r\n\t\t\t\torder: undefined,\r\n\t\t\t};\r\n\t\t\tthis[_].gridCanvasHelper = new GridCanvasHelper(this);\r\n\t\t\tthis[_].theme = themes.of(options.theme);\r\n\t\t\tthis[_].messageHandler = new MessageHandler(this, (col, row) => _getCellMessage(this, col, row));\r\n\t\t\tthis.invalidate();\r\n\t\t\tthis[_].handler.on(window, 'resize', () => {\r\n\t\t\t\tthis.updateSize();\r\n\t\t\t\tthis.updateScroll();\r\n\t\t\t\tthis.invalidate();\r\n\t\t\t});\r\n\t\t}\r\n\t\tdispose() {\r\n\t\t\tthis[_].messageHandler.dispose();\r\n\t\t\tsuper.dispose();\r\n\t\t}\r\n\t\t/**\r\n\t\t * header define\r\n\t\t * @type {Array}\r\n\t\t */\r\n\t\tget header() {\r\n\t\t\treturn this[_].header;\r\n\t\t}\r\n\t\t/**\r\n\t\t * header define\r\n\t\t * <pre>\r\n\t\t * column options\r\n\t\t * -----\r\n\t\t * caption: header caption\r\n\t\t * field: field name\r\n\t\t * width: column width\r\n\t\t * minWidth: column min width\r\n\t\t * maxWidth: column max width\r\n\t\t * icon: icon name\r\n\t\t * message: message key name\r\n\t\t * columnType: ColumnType\r\n\t\t * action: ColumnAction\r\n\t\t * style: ColumnStyle\r\n\t\t * sort: define sort setting\r\n\t\t * -----\r\n\t\t *\r\n\t\t * multiline header\r\n\t\t * -----\r\n\t\t * caption: header caption\r\n\t\t * columns: columns define\r\n\t\t * -----\r\n\t\t * </pre>\r\n\t\t *\r\n\t\t * @type {Array}\r\n\t\t */\r\n\t\tset header(header) {\r\n\t\t\tthis[_].header = header;\r\n\t\t\t_refreshHeader(this);\r\n\t\t}\r\n\t\tget records() {\r\n\t\t\treturn this[_].records;\r\n\t\t}\r\n\t\tset records(records) {\r\n\t\t\t_setRecords(this, records);\r\n\t\t\t_refreshRowCount(this);\r\n\t\t\tthis.invalidate();\r\n\t\t}\r\n\t\tget dataSource() {\r\n\t\t\treturn this[_].dataSource;\r\n\t\t}\r\n\t\tset dataSource(dataSource) {\r\n\t\t\t_setDataSource(this, dataSource);\r\n\t\t\t_refreshRowCount(this);\r\n\t\t\tthis.invalidate();\r\n\t\t}\r\n\t\tget theme() {\r\n\t\t\treturn this[_].theme;\r\n\t\t}\r\n\t\tset theme(theme) {\r\n\t\t\tthis[_].theme = themes.of(theme);\r\n\t\t\tthis.invalidate();\r\n\t\t}\r\n\t\tget font() {\r\n\t\t\treturn super.font || this[_].gridCanvasHelper.theme.font;\r\n\t\t}\r\n\t\tset font(font) {\r\n\t\t\tsuper.font = font;\r\n\t\t}\r\n\t\tget underlayBackgroundColor() {\r\n\t\t\treturn super.underlayBackgroundColor || this[_].gridCanvasHelper.theme.underlayBackgroundColor;\r\n\t\t}\r\n\t\tset underlayBackgroundColor(underlayBackgroundColor) {\r\n\t\t\tsuper.underlayBackgroundColor = underlayBackgroundColor;\r\n\t\t}\r\n\t\tget sortState() {\r\n\t\t\treturn this[_].sortState;\r\n\t\t}\r\n\t\tset sortState(sortState) {\r\n\t\t\tthis[_].sortState = sortState;\r\n\t\t}\r\n\t\tgetField(col) {\r\n\t\t\treturn this[_].headerMap.columns[col].field;\r\n\t\t}\r\n\t\tgetRowRecord(row) {\r\n\t\t\tif (row < this[_].headerMap.rowCount) {\r\n\t\t\t\treturn undefined;\r\n\t\t\t} else {\r\n\t\t\t\treturn this[_].dataSource.get(_getRowRecordIndex(this, row));\r\n\t\t\t}\r\n\t\t}\r\n\t\tgetGridCanvasHelper() {\r\n\t\t\treturn this[_].gridCanvasHelper;\r\n\t\t}\r\n\t\tgetCopyCellValue(col, row) {\r\n\t\t\tif (row < this[_].headerMap.rowCount) {\r\n\t\t\t\tconst {startCol, startRow} = _getHeaderCellRange(this, col, row);\r\n\t\t\t\tif (startCol !== col || startRow !== row) {\r\n\t\t\t\t\treturn '';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn _getCellValue(this, col, row);\r\n\t\t}\r\n\t\tonDrawCell(col, row, context) {\r\n\t\t\tconst column = this[_].headerMap.columns[col];\r\n\r\n\t\t\tlet draw;\r\n\t\t\tlet style;\r\n\t\t\tif (row < this[_].headerMap.rowCount) {\r\n\t\t\t\tconst hd = this[_].headerMap.getCell(col, row);\r\n\t\t\t\tdraw = hd.headerType.onDrawCell;\r\n\t\t\t\t({style} = hd);\r\n\t\t\t\t_updateRect(this, col, row, context);\r\n\t\t\t} else {\r\n\t\t\t\tdraw = column.columnType.onDrawCell;\r\n\t\t\t\t({style} = column);\r\n\t\t\t}\r\n\t\t\tconst cellValue = _getCellValue(this, col, row);\r\n\t\t\treturn _onDrawValue(this, cellValue, context, {col, row}, style, draw);\r\n\t\t}\r\n\t\tdoGetCellValue(col, row, valueCallback) {\r\n\t\t\tif (row < this[_].headerMap.rowCount) {\r\n\t\t\t\t// nop\r\n\t\t\t\treturn false;\r\n\t\t\t} else {\r\n\t\t\t\tconst value = _getCellValue(this, col, row);\r\n\t\t\t\tif (isPromise(value)) {\r\n\t\t\t\t\t//\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tvalueCallback(value);\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tdoChangeValue(col, row, changeValueCallback) {\r\n\t\t\tif (row < this[_].headerMap.rowCount) {\r\n\t\t\t\t// nop\r\n\t\t\t\treturn false;\r\n\t\t\t} else {\r\n\t\t\t\tconst before = _getCellValue(this, col, row);\r\n\t\t\t\tif (isPromise(before)) {\r\n\t\t\t\t\t//\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tconst after = changeValueCallback(before);\r\n\t\t\t\tif (after === undefined) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\treturn then(_setCellValue(this, col, row, after), (ret) => {\r\n\t\t\t\t\tif (ret) {\r\n\t\t\t\t\t\tconst {field} = this[_].headerMap.columns[col];\r\n\t\t\t\t\t\tconst self = this;\r\n\t\t\t\t\t\tthis.fireListeners(EVENT_TYPE.CHANGED_VALUE, {\r\n\t\t\t\t\t\t\tcol,\r\n\t\t\t\t\t\t\trow,\r\n\t\t\t\t\t\t\tget record() {\r\n\t\t\t\t\t\t\t\treturn self.getRowRecord(row);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfield,\r\n\t\t\t\t\t\t\tvalue: after,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn ret;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\tbindEventsInternal() {\r\n\t\t\tthis.listen(EVENT_TYPE.SELECTED_CELL, (e) => {\r\n\t\t\t\tif (e.row < this[_].headerMap.rowCount) {\r\n\t\t\t\t\tconst {startCol, endCol, startRow, endRow} = _getHeaderCellRange(this, e.col, e.row);\r\n\t\t\t\t\tif (startCol !== endCol || startRow !== endRow) {\r\n\t\t\t\t\t\tthis.invalidateGridRect(startCol, startRow, endCol, endRow);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tgetMoveLeftColByKeyDownInternal({col, row}) {\r\n\t\t\tif (row < this[_].headerMap.rowCount) {\r\n\t\t\t\tconst {startCol} = _getHeaderCellRange(this, col, row);\r\n\t\t\t\tcol = startCol;\r\n\t\t\t}\r\n\t\t\treturn super.getMoveLeftColByKeyDownInternal({col, row});\r\n\t\t}\r\n\t\tgetMoveRightColByKeyDownInternal({col, row}) {\r\n\t\t\tif (row < this[_].headerMap.rowCount) {\r\n\t\t\t\tconst {endCol} = _getHeaderCellRange(this, col, row);\r\n\t\t\t\tcol = endCol;\r\n\t\t\t}\r\n\t\t\treturn super.getMoveRightColByKeyDownInternal({col, row});\r\n\t\t}\r\n\t\tgetMoveUpRowByKeyDownInternal({col, row}) {\r\n\t\t\tif (row < this[_].headerMap.rowCount) {\r\n\t\t\t\tconst {startRow} = _getHeaderCellRange(this, col, row);\r\n\t\t\t\trow = startRow;\r\n\t\t\t}\r\n\t\t\treturn super.getMoveUpRowByKeyDownInternal({col, row});\r\n\t\t}\r\n\t\tgetMoveDownRowByKeyDownInternal({col, row}) {\r\n\t\t\tif (row < this[_].headerMap.rowCount) {\r\n\t\t\t\tconst {endRow} = _getHeaderCellRange(this, col, row);\r\n\t\t\t\trow = endRow;\r\n\t\t\t}\r\n\t\t\treturn super.getMoveDownRowByKeyDownInternal({col, row});\r\n\t\t}\r\n\t\tgetOffsetInvalidateCells() {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\tgetColumnIndexByField(field) {\r\n\t\t\tfor (const columnIndex in this[_].headerMap.columns) {\r\n\t\t\t\tif (this[_].headerMap.columns[columnIndex].field === field) {\r\n\t\t\t\t\treturn columnIndex - 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tfocusGridCell(field, index) {\r\n\t\t\tconst {\r\n\t\t\t\tstart: {col: startCol, row: startRow},\r\n\t\t\t\tend: {col: endCol, row: endRow}\r\n\t\t\t} = this.selection.range;\r\n\r\n\t\t\tconst newCol = this.getColumnIndexByField(field);\r\n\t\t\tconst newRow = index + this[_].headerMap.rowCount;\r\n\t\t\tthis.focusCell(newCol, newRow);\r\n\t\t\tthis.selection.select = {\r\n\t\t\t\tcol: newCol,\r\n\t\t\t\trow: newRow\r\n\t\t\t};\r\n\t\t\tthis.invalidateGridRect(startCol, startRow, endCol, endRow);\r\n\t\t\tthis.invalidateCell(newCol, newRow);\r\n\t\t}\r\n\t\tmakeVisibleGridCell(field, index) {\r\n\t\t\tthis.makeVisibleCell(this.getColumnIndexByField(field), index + this[_].headerMap.rowCount);\r\n\t\t}\r\n\t}\r\n\tmodule.exports = ListGrid;\r\n}","'use strict';\r\n\r\n\r\nconst Inline = require('./Inline');\r\nconst InlineIcon = require('./InlineIcon');\r\nconst InlineImage = require('./InlineImage');\r\nconst InlineSvg = require('./InlineSvg');\r\nconst InlineDrawer = require('./InlineDrawer');\r\nconst InlinePath2D = require('./InlinePath2D');\r\nconst {isDef} = require('../internal/utils');\r\nconst {calcStartPosition} = require('../internal/canvases');\r\nconst icons = require('../icons');\r\nconst path2DManager = require('../internal/path2DManager');\r\n\r\nfunction drawRegisteredIcon(ctx, icon,\r\n\t\tdrawWidth, drawHeight,\r\n\t\tleft, top, width, height,\r\n\t\t{\r\n\t\t\toffset = 2,\r\n\t\t\tpadding,\r\n\t\t} = {}) {\r\n\tconst rect = {\r\n\t\tleft,\r\n\t\ttop,\r\n\t\twidth,\r\n\t\theight,\r\n\t\tright: left + width,\r\n\t\tbottom: top + height,\r\n\t};\r\n\tctx.save();\r\n\ttry {\r\n\t\tctx.beginPath();\r\n\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\r\n\t\t//clip\r\n\t\tctx.clip();\r\n\r\n\t\t//\r\n\t\tconst pos = calcStartPosition(ctx, rect, drawWidth, drawHeight, {\r\n\t\t\toffset,\r\n\t\t\tpadding\r\n\t\t});\r\n\t\tpath2DManager.fill(icon, ctx, pos.x, pos.y, drawWidth, drawHeight);\r\n\t} finally {\r\n\t\tctx.restore();\r\n\t}\r\n}\r\n\r\n\r\nmodule.exports = {\r\n\ticonOf(icon) {\r\n\t\tif (icon instanceof Inline) {\r\n\t\t\treturn icon;\r\n\t\t}\r\n\t\tif (!icon) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif (icon.font && icon.content) {\r\n\t\t\treturn new InlineIcon(icon);\r\n\t\t}\r\n\t\tif (icon.src) {\r\n\t\t\treturn new InlineImage({\r\n\t\t\t\tsrc: icon.src,\r\n\t\t\t\twidth: icon.width,\r\n\t\t\t\theight: icon.width,\r\n\t\t\t});\r\n\t\t}\r\n\t\tif (icon.svg) {\r\n\t\t\treturn new InlineSvg({\r\n\t\t\t\tsvg: icon.svg,\r\n\t\t\t\twidth: icon.width,\r\n\t\t\t\theight: icon.width,\r\n\t\t\t});\r\n\t\t}\r\n\t\tif (icon.path) {\r\n\t\t\treturn new InlinePath2D({\r\n\t\t\t\tpath: icon.path,\r\n\t\t\t\twidth: icon.width,\r\n\t\t\t\theight: icon.width,\r\n\t\t\t\tcolor: icon.color,\r\n\t\t\t});\r\n\t\t}\r\n\t\tconst regedIcons = icons.get();\r\n\t\tif (icon.name && regedIcons[icon.name]) {\r\n\t\t\tconst regedIcon = regedIcons[icon.name];\r\n\t\t\tconst width = icon.width || Math.max(regedIcon.width, regedIcon.height);\r\n\t\t\treturn new InlineDrawer({\r\n\t\t\t\tdraw({\r\n\t\t\t\t\tctx,\r\n\t\t\t\t\tcanvashelper,\r\n\t\t\t\t\trect,\r\n\t\t\t\t\toffset,\r\n\t\t\t\t\toffsetLeft,\r\n\t\t\t\t\toffsetRight,\r\n\t\t\t\t\toffsetTop,\r\n\t\t\t\t\toffsetBottom,\r\n\t\t\t\t}) {\r\n\t\t\t\t\tdrawRegisteredIcon(ctx, regedIcon,\r\n\t\t\t\t\t\t\twidth, width,\r\n\t\t\t\t\t\t\trect.left, rect.top, rect.width, rect.height,\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\toffset: offset + 1,\r\n\t\t\t\t\t\t\t\tpadding: {\r\n\t\t\t\t\t\t\t\t\tleft: offsetLeft,\r\n\t\t\t\t\t\t\t\t\tright: offsetRight,\r\n\t\t\t\t\t\t\t\t\ttop: offsetTop,\r\n\t\t\t\t\t\t\t\t\tbottom: offsetBottom,\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\twidth,\r\n\t\t\t\theight: width,\r\n\t\t\t\tcolor: icon.color,\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn new InlineIcon(icon);\r\n\t},\r\n\tof(content) {\r\n\t\tif (!isDef(content)) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif (content instanceof Inline) {\r\n\t\t\treturn content;\r\n\t\t}\r\n\t\treturn new Inline(content);\r\n\t},\r\n\tbuildInlines(icons, inline) {\r\n\t\tconst result = [];\r\n\t\tif (icons) {\r\n\t\t\tresult.push(...(icons.map((icon) => this.iconOf(icon)).filter((e) => !!e)));\r\n\t\t}\r\n\t\tif (Array.isArray(inline) && inline.filter((il) => il instanceof Inline).length) {\r\n\t\t\tresult.push(...(inline.map((il) => this.of(il)).filter((e) => !!e)));\r\n\t\t} else {\r\n\t\t\tconst il = this.of(inline);\r\n\t\t\tif (il) {\r\n\t\t\t\tresult.push(il);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n};","'use strict';\r\n\r\n\r\nconst Inline = require('./Inline');\r\nconst fonts = require('../internal/fonts');\r\n\r\nclass InlineIcon extends Inline {\r\n\tconstructor(icon) {\r\n\t\tsuper();\r\n\t\tthis._icon = icon || {};\r\n\t}\r\n\twidth({ctx}) {\r\n\t\tconst icon = this._icon;\r\n\t\tif (icon.width) {\r\n\t\t\treturn icon.width;\r\n\t\t}\r\n\t\tif (icon.font && fonts.check(icon.font, icon.content)) {\r\n\t\t\tctx.save();\r\n\t\t\ttry {\r\n\t\t\t\tctx.font = icon.font || ctx.font;\r\n\t\t\t\treturn ctx.measureText(icon.content).width;\r\n\t\t\t} finally {\r\n\t\t\t\tctx.restore();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\tfont() {\r\n\t\treturn this._icon.font;\r\n\t}\r\n\tcolor() {\r\n\t\treturn this._icon.color;\r\n\t}\r\n\tcanDraw() {\r\n\t\tconst icon = this._icon;\r\n\t\treturn icon.font ? fonts.check(icon.font, icon.content) : true;\r\n\t}\r\n\tonReady(callback) {\r\n\t\tconst icon = this._icon;\r\n\t\tif (icon.font && !fonts.check(icon.font, icon.content)) {\r\n\t\t\tfonts.load(icon.font, icon.content, callback);\r\n\t\t}\r\n\t}\r\n\tdraw(\r\n\t\t\t{\r\n\t\t\t\tctx,\r\n\t\t\t\tcanvashelper,\r\n\t\t\t\trect,\r\n\t\t\t\toffset,\r\n\t\t\t\toffsetLeft,\r\n\t\t\t\toffsetRight,\r\n\t\t\t\toffsetTop,\r\n\t\t\t\toffsetBottom,\r\n\t\t\t}) {\r\n\t\tconst icon = this._icon;\r\n\t\tif (icon.content) {\r\n\t\t\tcanvashelper.fillTextRect(ctx, icon.content,\r\n\t\t\t\t\trect.left, rect.top, rect.width, rect.height,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\toffset: offset + 1,\r\n\t\t\t\t\t\tpadding: {\r\n\t\t\t\t\t\t\tleft: offsetLeft,\r\n\t\t\t\t\t\t\tright: offsetRight,\r\n\t\t\t\t\t\t\ttop: offsetTop,\r\n\t\t\t\t\t\t\tbottom: offsetBottom,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nmodule.exports = InlineIcon;","'use strict';\r\n\r\n//see https://github.com/typekit/webfontloader\r\n\r\n//http://defghi1977.html.xdomain.jp/tech/canvasMemo/canvasMemo.htm\r\nconst FontRuler = require('./FontRuler');\r\n\r\n\r\nconst LastResortFonts = {\r\n\tSERIF: 'serif',\r\n\tSANS_SERIF: 'sans-serif'\r\n};\r\n\r\n\r\nconst watchRunners = {};\r\n\r\nclass FontWatchRunner {\r\n\tstatic load(font, testStr, activeCallback, inactiveCallback) {\r\n\t\tconst c = watchRunners[font] || (watchRunners[font] = {});\r\n\t\ttestStr = testStr + '';\r\n\t\tlet runner;\r\n\t\tif (c[testStr]) {\r\n\t\t\trunner = c[testStr];\r\n\t\t} else {\r\n\t\t\trunner = (c[testStr] = new FontWatchRunner(font, testStr));\r\n\t\t}\r\n\t\trunner.then(activeCallback, inactiveCallback);\r\n\t}\r\n\tconstructor(font, testStr) {\r\n\t\tthis.activeCallbacks = [];\r\n\t\tthis.inactiveCallbacks = [];\r\n\t\tthis.status = null;\r\n\t\tthis.lastResortWidths_ = {};\r\n\r\n\t\tthis.fontRulerA_ = new FontRuler(font + ',' + LastResortFonts.SERIF, testStr);\r\n\t\tthis.fontRulerB_ = new FontRuler(font + ',' + LastResortFonts.SANS_SERIF, testStr);\r\n\t\tconst lastResortRulerA = new FontRuler('4px ' + LastResortFonts.SERIF, testStr);\r\n\t\tconst lastResortRulerB = new FontRuler('4px ' + LastResortFonts.SANS_SERIF, testStr);\r\n\r\n\t\t//start\r\n\t\tthis.lastResortWidths_[LastResortFonts.SERIF] = lastResortRulerA.getWidth();\r\n\t\tthis.lastResortWidths_[LastResortFonts.SANS_SERIF] = lastResortRulerB.getWidth();\r\n\r\n\t\tlastResortRulerA.remove();\r\n\t\tlastResortRulerB.remove();\r\n\r\n\t\tthis.started_ = Date.now();\r\n\r\n\t\tthis.check_();\r\n\t}\r\n\tthen(activeCallback, inactiveCallback) {\r\n\t\tif (this.status) {\r\n\t\t\tif (this.status !== 'ng') {\r\n\t\t\t\tactiveCallback();\r\n\t\t\t} else {\r\n\t\t\t\tinactiveCallback();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.activeCallbacks.push(activeCallback);\r\n\t\t\tthis.inactiveCallbacks.push(inactiveCallback);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\tcheck_() {\r\n\t\tconst widthA = this.fontRulerA_.getWidth();\r\n\t\tconst widthB = this.fontRulerB_.getWidth();\r\n\r\n\t\tif (this.isFallbackFont_(widthA, widthB) || this.isLastResortFont_(widthA, widthB)) {\r\n\t\t\tif (Date.now() - this.started_ >= 3000) { // timeout\r\n\t\t\t\tif (this.isLastResortFont_(widthA, widthB)) {\r\n\t\t\t\t\tthis.finish_(this.activeCallbacks);\r\n\t\t\t\t\tthis.status = 'ok';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.finish_(this.inactiveCallbacks);\r\n\t\t\t\t\tthis.status = 'ng';\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.check_();\r\n\t\t\t\t}, 50);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.finish_(this.activeCallbacks);\r\n\t\t\tthis.status = 'ok';\r\n\t\t}\r\n\t}\r\n\tisFallbackFont_(a, b) {\r\n\t\treturn this.widthMatches_(a, LastResortFonts.SERIF) && this.widthMatches_(b, LastResortFonts.SANS_SERIF);\r\n\t}\r\n\twidthsMatchLastResortWidths_(a, b) {\r\n\t\tfor (const font in LastResortFonts) {\r\n\t\t\tif (LastResortFonts.hasOwnProperty(font)) {\r\n\t\t\t\tif (this.widthMatches_(a, LastResortFonts[font]) &&\r\n\t\t\t\t\t\tthis.widthMatches_(b, LastResortFonts[font])) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\twidthMatches_(width, lastResortFont) {\r\n\t\treturn width === this.lastResortWidths_[lastResortFont];\r\n\t}\r\n\tisLastResortFont_(a, b) {\r\n\t\treturn hasWebKitFallbackBug() && this.widthsMatchLastResortWidths_(a, b);\r\n\t}\r\n\tfinish_(callbacks) {\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.fontRulerA_.remove();\r\n\t\t\tthis.fontRulerB_.remove();\r\n\t\t\tcallbacks.forEach((cb) => cb());\r\n\t\t}, 0);\r\n\t}\r\n}\r\n\r\nlet HAS_WEBKIT_FALLBACK_BUG = null;\r\nfunction hasWebKitFallbackBug() {\r\n\tif (HAS_WEBKIT_FALLBACK_BUG === null) {\r\n\t\tconst match = /AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent);\r\n\r\n\t\tHAS_WEBKIT_FALLBACK_BUG = !!match &&\r\n\t\t\t(parseInt(match[1], 10) < 536 ||\r\n\t\t\t(parseInt(match[1], 10) === 536 &&\r\n\t\t\tparseInt(match[2], 10) <= 11));\r\n\t}\r\n\treturn HAS_WEBKIT_FALLBACK_BUG;\r\n}\r\n\r\nmodule.exports = FontWatchRunner;\r\n","'use strict';\r\n\r\n//see https://github.com/typekit/webfontloader\r\nfunction computeStyle(font) {\r\n\treturn [{\r\n\t\tdisplay: 'block',\r\n\t\tposition: 'absolute',\r\n\t\ttop: '-9999px',\r\n\t\tleft: '-9999px',\r\n\t\twidth: 'auto',\r\n\t\theight: 'auto',\r\n\t\tmargin: '0',\r\n\t\tpadding: '0',\r\n\t\t'white-space': 'nowrap',\r\n\t\tfont,\r\n\t}, {\r\n\t\t'font-variant': 'normal',\r\n\t\t'font-size': '300px',\r\n\t\t'font-style': 'normal',\r\n\t\t'font-weight': '400',\r\n\t\t'line-height': 'normal',\r\n\t}];\r\n}\r\n\r\nclass FontRuler {\r\n\tconstructor(font, testStr) {\r\n\t\tconst e = document.createElement('span');\r\n\t\te.setAttribute('aria-hidden', 'true');\r\n\t\te.textContent = testStr || 'BESbswy';\r\n\r\n\t\tcomputeStyle(font).forEach((style) => {\r\n\t\t\tfor (const key in style) {\r\n\t\t\t\te.style[key] = style[key];\r\n\t\t\t}\r\n\t\t});\r\n\t\tdocument.body.appendChild(e);\r\n\t\tthis.el_ = e;\r\n\t}\r\n\tgetWidth() {\r\n\t\treturn this.el_.offsetWidth;\r\n\t}\r\n\tremove() {\r\n\t\tdocument.body.removeChild(this.el_);\r\n\t}\r\n}\r\n\r\nmodule.exports = FontRuler;\r\n\r\n\r\n","'use strict';\r\n\r\nconst InlineImage = require('./InlineImage');\r\nconst {then} = require('../internal/utils');\r\n\r\nfunction buildSvgDataUrl(svg) {\r\n\tconst data = (typeof svg === 'string') ? svg : new XMLSerializer().serializeToString(svg);\r\n\tconst url = 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(data); //svgbase64\r\n\treturn url;\r\n}\r\nfunction getSvgElement(svg) {\r\n\tif (typeof svg === 'string') {\r\n\t\tconst parser = new DOMParser();\r\n\t\treturn parser.parseFromString(svg, 'image/svg+xml');\r\n\t} else {\r\n\t\treturn svg;\r\n\t}\r\n}\r\n\r\nclass InlineSvg extends InlineImage {\r\n\tconstructor(\r\n\t\t\t{\r\n\t\t\t\tsvg,\r\n\t\t\t\twidth,\r\n\t\t\t\theight,\r\n\t\t\t\timageLeft,\r\n\t\t\t\timageTop,\r\n\t\t\t\timageWidth,\r\n\t\t\t\timageHeight,\r\n\t\t\t}) {\r\n\t\tconst svgElem = then(svg, getSvgElement);\r\n\t\tconst elmWidth = svgElem.getAttribute ? svgElem.getAttribute('width') : null;\r\n\t\tconst elmHeight = svgElem.getAttribute ? svgElem.getAttribute('height') : null;\r\n\t\tsuper({\r\n\t\t\tsrc: then(svg, buildSvgDataUrl),\r\n\t\t\twidth: width || elmWidth,\r\n\t\t\theight: height || elmHeight,\r\n\t\t\timageWidth: elmWidth,\r\n\t\t\timageHeight: elmHeight,\r\n\t\t});\r\n\t}\r\n}\r\n\r\nmodule.exports = InlineSvg;","'use strict';\r\n\r\n\r\nconst Inline = require('./Inline');\r\n\r\nclass InlineDrawer extends Inline {\r\n\tconstructor(\r\n\t\t\t{\r\n\t\t\t\tdraw,\r\n\t\t\t\twidth,\r\n\t\t\t\theight,\r\n\t\t\t\tcolor,\r\n\t\t\t}) {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis._draw = draw;\r\n\t\tthis._width = width;\r\n\t\tthis._height = height;\r\n\t\tthis._color = color;\r\n\t}\r\n\twidth({ctx}) {\r\n\t\treturn this._width;\r\n\t}\r\n\tfont() {\r\n\t\treturn null;\r\n\t}\r\n\tcolor() {\r\n\t\treturn this._color;\r\n\t}\r\n\tcanDraw() {\r\n\t\treturn true;\r\n\t}\r\n\tonReady(callback) {\r\n\t}\r\n\tdraw(\r\n\t\t\t{\r\n\t\t\t\tctx,\r\n\t\t\t\tcanvashelper,\r\n\t\t\t\trect,\r\n\t\t\t\toffset,\r\n\t\t\t\toffsetLeft,\r\n\t\t\t\toffsetRight,\r\n\t\t\t\toffsetTop,\r\n\t\t\t\toffsetBottom,\r\n\t\t\t}) {\r\n\t\tthis._draw({\r\n\t\t\tctx,\r\n\t\t\tcanvashelper,\r\n\t\t\trect,\r\n\t\t\toffset,\r\n\t\t\toffsetLeft,\r\n\t\t\toffsetRight,\r\n\t\t\toffsetTop,\r\n\t\t\toffsetBottom,\r\n\t\t});\r\n\t}\r\n}\r\n\r\nmodule.exports = InlineDrawer;","'use strict';\r\n\r\nconst Inline = require('./Inline');\r\nconst {calcStartPosition} = require('../internal/canvases');\r\nconst path2DManager = require('../internal/path2DManager');\r\n\r\nclass InlinePath2D extends Inline {\r\n\tconstructor(\r\n\t\t\t{\r\n\t\t\t\tpath,\r\n\t\t\t\twidth,\r\n\t\t\t\theight,\r\n\t\t\t\tcolor,\r\n\t\t\t}) {\r\n\t\tsuper();\r\n\t\t// IEPath2Dpolyfill\r\n\t\tthis._path = new path2DManager.Path2D(path);\r\n\t\tthis._width = width;\r\n\t\tthis._height = height;\r\n\t\tthis._color = color;\r\n\t}\r\n\twidth({ctx}) {\r\n\t\treturn this._width;\r\n\t}\r\n\tfont() {\r\n\t\treturn null;\r\n\t}\r\n\tcolor() {\r\n\t\treturn this._color;\r\n\t}\r\n\tcanDraw() {\r\n\t\treturn true;\r\n\t}\r\n\tonReady(callback) {\r\n\t}\r\n\tdraw({\r\n\t\tctx,\r\n\t\tcanvashelper,\r\n\t\trect,\r\n\t\toffset,\r\n\t\toffsetLeft,\r\n\t\toffsetRight,\r\n\t\toffsetTop,\r\n\t\toffsetBottom,\r\n\t}) {\r\n\t\toffset++;\r\n\t\tconst padding = {\r\n\t\t\tleft: offsetLeft,\r\n\t\t\tright: offsetRight,\r\n\t\t\ttop: offsetTop,\r\n\t\t\tbottom: offsetBottom,\r\n\t\t};\r\n\t\tctx.save();\r\n\t\ttry {\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\r\n\t\t\t//clip\r\n\t\t\tctx.clip();\r\n\r\n\t\t\t//\r\n\t\t\tconst pos = calcStartPosition(ctx, rect, this._width, this._height, {\r\n\t\t\t\toffset,\r\n\t\t\t\tpadding\r\n\t\t\t});\r\n\t\t\tctx.translate(pos.x, pos.y);\r\n\t\t\tctx.fill(this._path);\r\n\t\t} finally {\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t}\r\n}\r\n\r\nmodule.exports = InlinePath2D;","'use strict';\r\n\r\nconst PathCommandsParser = require('./PathCommandsParser');\r\nconst parser = new PathCommandsParser();\r\n\r\nclass Path2D {\r\n\tconstructor(arg) {\r\n\t\tthis._ops = [];\r\n\t\t[\r\n\t\t\t'closePath',\r\n\t\t\t'moveTo',\r\n\t\t\t'lineTo',\r\n\t\t\t'bezierCurveTo',\r\n\t\t\t'quadraticCurveTo',\r\n\t\t\t'arc',\r\n\t\t\t'rect'\r\n\t\t].forEach((name) => {\r\n\t\t\tthis[name] = (...args) => {\r\n\t\t\t\tthis._ops.push({op: name, args});\r\n\t\t\t};\r\n\t\t});\r\n\t\tif (arg === undefined) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (typeof arg === 'string') {\r\n\t\t\ttry {\r\n\t\t\t\tthis._ops = parser.parse(arg);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tthrow e;\r\n\t\t\t}\r\n\t\t} else if (arg.hasOwnProperty('_ops')) {\r\n\t\t\tthis._ops = [...this._ops];\r\n\t\t} else {\r\n\t\t\tthrow new Error(`Error: ${typeof arg} is not a valid argument to Path`);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst CanvasRenderingContext2D = window.CanvasRenderingContext2D;\r\n\r\nconst originalFill = CanvasRenderingContext2D.prototype.fill;\r\n\r\nCanvasRenderingContext2D.prototype.fill = function(...args) {\r\n\tif (args[0] instanceof Path2D) {\r\n\t\tconst path = args[0];\r\n\t\tthis.beginPath();\r\n\t\tpath._ops.forEach((op) => {\r\n\t\t\tthis[op.op](...op.args);\r\n\t\t});\r\n\t\toriginalFill.apply(this, Array.prototype.slice.call(args, 1));\r\n\t} else {\r\n\t\toriginalFill.apply(this, args);\r\n\t}\r\n};\r\n\r\nmodule.exports = Path2D;\r\n","'use strict';\r\n\r\nconst PathCommands = require('./PathCommands');\r\n\r\nfunction pathTokens(d) {\r\n\tlet idx = 0;\r\n\treturn {\r\n\t\tnext() {\r\n\t\t\tlet s = '';\r\n\t\t\twhile (d.length > idx) {\r\n\t\t\t\tconst c = d[idx];\r\n\t\t\t\tidx++;\r\n\t\t\t\tif (' ,\\n\\r\\t'.indexOf(c) > -1) {\r\n\t\t\t\t\tif (s) {\r\n\t\t\t\t\t\treturn s;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst type = '.+-1234567890'.indexOf(c) > -1 ? 'num' : 'str';\r\n\t\t\t\t\tif (type === 'str') {\r\n\t\t\t\t\t\tif (s) {\r\n\t\t\t\t\t\t\tidx--;\r\n\t\t\t\t\t\t\treturn s;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn c;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ('-+'.indexOf(c) > -1) {\r\n\t\t\t\t\t\tif (s) {\r\n\t\t\t\t\t\t\tidx--;\r\n\t\t\t\t\t\t\treturn s;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (c === '.') {\r\n\t\t\t\t\t\tif (s.indexOf('.') > -1) {\r\n\t\t\t\t\t\t\tidx--;\r\n\t\t\t\t\t\t\treturn s;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\ts += c;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn s || null;\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction command(builder, cmd, argsProvider) {\r\n\tif (cmd.toUpperCase() === 'M' || cmd.toUpperCase() === 'L' || cmd.toUpperCase() === 'T') {\r\n\t\tbuilder.command(cmd, argsProvider.next(), argsProvider.next());\r\n\t\treturn cmd === 'M' ? 'L'\r\n\t\t\t: cmd === 'm' ? 'l'\r\n\t\t\t: cmd;\r\n\t} else if (cmd.toUpperCase() === 'H' || cmd.toUpperCase() === 'V') {\r\n\t\tbuilder.command(cmd, argsProvider.next());\r\n\t\treturn cmd;\r\n\t} else if (cmd.toUpperCase() === 'Z') {\r\n\t\tbuilder.command(cmd);\r\n\t\treturn cmd;\r\n\t} else if (cmd.toUpperCase() === 'C') {\r\n\t\tbuilder.command(cmd,\r\n\t\t\t\targsProvider.next(), argsProvider.next(),\r\n\t\t\t\targsProvider.next(), argsProvider.next(),\r\n\t\t\t\targsProvider.next(), argsProvider.next()\r\n\t\t);\r\n\t\treturn cmd;\r\n\t} else if (cmd.toUpperCase() === 'S' || cmd.toUpperCase() === 'Q') {\r\n\t\tbuilder.command(cmd,\r\n\t\t\t\targsProvider.next(), argsProvider.next(),\r\n\t\t\t\targsProvider.next(), argsProvider.next()\r\n\t\t);\r\n\t\treturn cmd;\r\n\t} else if (cmd.toUpperCase() === 'A') {\r\n\t\tbuilder.command(cmd,\r\n\t\t\t\targsProvider.next(), argsProvider.next(),\r\n\t\t\t\targsProvider.next(), argsProvider.next(), argsProvider.next(),\r\n\t\t\t\targsProvider.next(), argsProvider.next()\r\n\t\t);\r\n\t\treturn cmd;\r\n\t} else {\r\n\t\t// https://developer.mozilla.org/ja/docs/Web/SVG/Tutorial/Paths\r\n\t\tconsole.warn('unsupported:' + cmd);\r\n\t}\r\n\treturn null;\r\n}\r\n\r\nconst canvasOperations = window.CanvasRenderingContext2D ? Object.keys(window.CanvasRenderingContext2D.prototype) : [\r\n\t'save',\r\n\t'restore',\r\n\t'beginPath',\r\n\t'closePath',\r\n\t'moveTo',\r\n\t'lineTo',\r\n\t'bezierCurveTo',\r\n\t'quadraticCurveTo',\r\n\t'arc',\r\n\t'arcTo',\r\n\t'ellipse',\r\n\t'rect',\r\n\t'translate',\r\n\t'rotate',\r\n\t'scale',\r\n];\r\n\r\nclass PathCommandsParser {\r\n\tconstructor() {\r\n\t\tthis._commands = new PathCommands(this);\r\n\t\tcanvasOperations.forEach((op) => {\r\n\t\t\tthis[op] = (...args) => {\r\n\t\t\t\tthis._ops.push({\r\n\t\t\t\t\top,\r\n\t\t\t\t\targs,\r\n\t\t\t\t});\r\n\t\t\t};\r\n\t\t});\r\n\t}\r\n\tcommand(name, ...args) {\r\n\t\targs = args || [];\r\n\t\tfor (let i = 0; i < args.length; i++) {\r\n\t\t\targs[i] = args[i] - 0;\r\n\t\t}\r\n\t\tthis._commands[name](...(args));\r\n\t}\r\n\tparse(d) {\r\n\t\tconst ops = this._ops = [];\r\n\t\tconst tokens = pathTokens(d);\r\n\t\ttry {\r\n\t\t\tlet cmd;\r\n\t\t\tlet subsequentCommand;\r\n\t\t\twhile ((cmd = tokens.next())) {\r\n\t\t\t\tif (!isNaN(cmd - 0)) {\r\n\t\t\t\t\tlet fst = true;\r\n\t\t\t\t\tconst argsProvider = {\r\n\t\t\t\t\t\tnext() {\r\n\t\t\t\t\t\t\tif (fst) {\r\n\t\t\t\t\t\t\t\tfst = false;\r\n\t\t\t\t\t\t\t\treturn cmd;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn tokens.next();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t\tsubsequentCommand = command(this, subsequentCommand, argsProvider);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsubsequentCommand = command(this, cmd, tokens);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log('Error: ' + d);\r\n\t\t\tthrow e;\r\n\t\t}\r\n\t\treturn ops;\r\n\t}\r\n}\r\n\r\nmodule.exports = PathCommandsParser;","'use strict';\r\n\r\nfunction mag(v) {\r\n\treturn Math.sqrt(Math.pow(v[0], 2) + Math.pow(v[1], 2));\r\n}\r\n    \r\nfunction dot(u, v) {\r\n\treturn (u[0] * v[0] + u[1] * v[1]);\r\n}\r\n    \r\nfunction ratio(u, v) {\r\n\treturn dot(u, v) / (mag(u) * mag(v));\r\n}\r\n\r\nfunction clamp(value, min, max) {\r\n\treturn Math.min(Math.max(value, min), max);\r\n}\r\n    \r\nfunction angle(u, v) {\r\n\tlet sign = 1.0;\r\n\tif ((u[0] * v[1] - u[1] * v[0]) < 0) {\r\n\t\tsign = -1.0;\r\n\t}\r\n\treturn sign * Math.acos(clamp(ratio(u, v)), -1, 1);\r\n}\r\n    \r\nfunction rotClockwise(v, angle) {\r\n\tconst cost = Math.cos(angle);\r\n\tconst sint = Math.sin(angle);\r\n\treturn [cost * v[0] + sint * v[1], -1 * sint * v[0] + cost * v[1]];\r\n}\r\n    \r\nfunction rotCounterClockwise(v, angle) {\r\n\tconst cost = Math.cos(angle);\r\n\tconst sint = Math.sin(angle);\r\n\treturn [cost * v[0] - sint * v[1], sint * v[0] + cost * v[1]];\r\n}\r\n    \r\nfunction midPoint(u, v) {\r\n\treturn [(u[0] - v[0]) / 2.0, (u[1] - v[1]) / 2.0];\r\n}\r\n    \r\nfunction meanVec(u, v) {\r\n\treturn [(u[0] + v[0]) / 2.0, (u[1] + v[1]) / 2.0];\r\n}\r\n    \r\nfunction pointMul(u, v) {\r\n\treturn [u[0] * v[0], u[1] * v[1]];\r\n}\r\n    \r\nfunction scale(c, v) {\r\n\treturn [c * v[0], c * v[1]];\r\n}\r\n    \r\nfunction sum(u, v) {\r\n\treturn [u[0] + v[0], u[1] + v[1]];\r\n}\r\n// Convert an SVG elliptical arc to a series of canvas commands.\r\n//\r\n// x1, y1, x2, y2: start and stop coordinates of the ellipse.\r\n// rx, ry: radii of the ellipse.\r\n// phi: rotation of the ellipse.\r\n// fA: large arc flag.\r\n// fS: sweep flag.\r\nfunction ellipseFromEllipticalArc(ctx, x1, y1, rx, ry, phi, fA, fS, x2, y2) {\r\n\t// Convert from endpoint to center parametrization, as detailed in:\r\n\t//   http://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\r\n\tif (rx === 0 || ry === 0) {\r\n\t\tctx.lineTo(x2, x1);\r\n\t\treturn;\r\n\t}\r\n\tphi = phi * (Math.PI / 180.0);\r\n\trx = Math.abs(rx);\r\n\try = Math.abs(ry);\r\n\tconst xPrime = rotClockwise(midPoint(x1, x2), phi); // F.6.5.1\r\n\tconst xPrime2 = pointMul(xPrime, xPrime);\r\n\tlet rx2 = Math.pow(rx, 2);\r\n\tlet ry2 = Math.pow(ry, 2);\r\n    \r\n\tconst lambda = Math.sqrt(xPrime2[0] / rx2 + xPrime2[1] / ry2);\r\n\tif (lambda > 1) {\r\n\t\trx *= lambda;\r\n\t\try *= lambda;\r\n\t\trx2 = Math.pow(rx, 2);\r\n\t\try2 = Math.pow(ry, 2);\r\n\t}\r\n\tlet factor = Math.sqrt(Math.abs(rx2 * ry2 - rx2 * xPrime2[1] - ry2 * xPrime2[0]) /\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(rx2 * xPrime2[1] + ry2 * xPrime2[0]));\r\n\tif (fA === fS) {\r\n\t\tfactor *= -1.0;\r\n\t}\r\n\tconst cPrime = scale(factor, [rx * xPrime[1] / ry, -ry * xPrime[0] / rx]); // F.6.5.2\r\n\tconst c = sum(rotCounterClockwise(cPrime, phi), meanVec(x1, x2)); // F.6.5.3\r\n\tconst x1UnitVector = [(xPrime[0] - cPrime[0]) / rx, (xPrime[1] - cPrime[1]) / ry];\r\n\tconst x2UnitVector = [(-1.0 * xPrime[0] - cPrime[0]) / rx, (-1.0 * xPrime[1] - cPrime[1]) / ry];\r\n\tconst theta = angle([1, 0], x1UnitVector); // F.6.5.5\r\n\tconst deltaTheta = angle(x1UnitVector, x2UnitVector); // F.6.5.6\r\n\tconst start = theta;\r\n\tconst end = theta + deltaTheta;\r\n\tctx.save();\r\n\tctx.translate(c[0], c[1]);\r\n\tctx.rotate(phi);\r\n\tctx.scale(rx, ry);\r\n\tctx.arc(0, 0, 1, start, end, 1 - fS);\r\n\tctx.restore();\r\n}\r\n\r\nclass PathCommands {\r\n\tconstructor(ctx) {\r\n\t\tlet lMx;\r\n\t\tlet lMy;\r\n\t\tlet lx = 0;\r\n\t\tlet ly = 0;\r\n\t\tlet reflected;\r\n\t\tlet lastCommand = '';\r\n\t\tfunction makeReflected() {\r\n\t\t\tif ('CcSsQqTt'.indexOf(lastCommand) < 0) {\r\n\t\t\t\treturn {x: lx, y: ly};\r\n\t\t\t}\r\n\t\t\treturn reflected;\r\n\t\t}\r\n\r\n\t\tthis.M = (px, py) => {\r\n\t\t\tctx.moveTo(px, py);\r\n\t\t\tlMx = px;\r\n\t\t\tlMy = py;\r\n\t\t\tlx = px;\r\n\t\t\tly = py;\r\n\t\t\tlastCommand = 'M';\r\n\t\t\treturn this;\r\n\t\t};\r\n\t\tthis.m = (px, py) => this.M(px + lx, py + ly);\r\n\t\tthis.L = (px, py) => {\r\n\t\t\tctx.lineTo(px, py);\r\n\t\t\tlx = px;\r\n\t\t\tly = py;\r\n\t\t\tlastCommand = 'L';\r\n\t\t\treturn this;\r\n\t\t};\r\n\t\tthis.l = (px, py) => this.L(px + lx, py + ly);\r\n\t\tthis.H = (px) => this.L(px, ly);\r\n\t\tthis.h = (px) => this.H(px + lx);\r\n\t\tthis.V = (py) => this.L(lx, py);\r\n\t\tthis.v = (py) => this.V(py + ly);\r\n\t\tthis.Z = () => {\r\n\t\t\tctx.closePath();\r\n\t\t\tlx = lMx;\r\n\t\t\tly = lMy;\r\n\t\t\tlastCommand = 'Z';\r\n\t\t\treturn this;\r\n\t\t};\r\n\t\tthis.z = () => this.Z();\r\n\t\t//C x1 y1, x2 y2, x y (or c dx1 dy1, dx2 dy2, dx dy)\r\n\t\tthis.C = (cp1x, cp1y, cp2x, cp2y, px, py) => {\r\n\t\t\tctx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, px, py);\r\n\t\t\tlx = px;\r\n\t\t\tly = py;\r\n\t\t\treflected = {\r\n\t\t\t\tx: 2 * px - cp2x,\r\n\t\t\t\ty: 2 * py - cp2y,\r\n\t\t\t};\r\n\t\t\tlastCommand = 'C';\r\n\t\t\treturn this;\r\n\t\t};\r\n\t\tthis.c = (cp1x, cp1y, cp2x, cp2y, px, py) => this.C(\r\n\t\t\t\tcp1x + lx, cp1y + ly,\r\n\t\t\t\tcp2x + lx, cp2y + ly,\r\n\t\t\t\tpx + lx, py + ly\r\n\t\t);\r\n\t\t//S x2 y2, x y (or s dx2 dy2, dx dy)\r\n\t\tthis.S = (cpx, cpy, px, py) => {\r\n\t\t\tconst {x: cp1x, y: cp1y} = makeReflected(lastCommand);\r\n\t\t\treturn this.C(cp1x, cp1y, cpx, cpy, px, py);\r\n\t\t};\r\n\t\tthis.s = (cpx, cpy, px, py) => this.S(cpx + lx, cpy + ly, px + lx, py + ly);\r\n\t\t//Q x1 y1, x y (or q dx1 dy1, dx dy)\r\n\t\tthis.Q = (cpx, cpy, px, py) => {\r\n\t\t\tctx.quadraticCurveTo(cpx, cpy, px, py);\r\n\t\t\tlx = px;\r\n\t\t\tly = py;\r\n\t\t\treflected = {\r\n\t\t\t\tx: 2 * px - cpx,\r\n\t\t\t\ty: 2 * py - cpy,\r\n\t\t\t};\r\n\t\t\tlastCommand = 'Q';\r\n\t\t\treturn this;\r\n\t\t};\r\n\t\tthis.q = (cpx, cpy, px, py) => this.Q(cpx + lx, cpy + ly, px + lx, py + ly);\r\n\t\t//T x y (or t dx dy)\r\n\t\tthis.T = (px, py) => {\r\n\t\t\tconst {x: cpx, y: cpy} = makeReflected();\r\n\t\t\treturn this.Q(cpx, cpy, px, py);\r\n\t\t};\r\n\t\tthis.t = (px, py) => this.T(px + lx, py + ly);\r\n\t\t//A rx ry x-axis-rotation large-arc-flag sweep-flag x y\r\n\t\tthis.A = (rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py) => {\r\n\t\t\tconst x1 = lx;\r\n\t\t\tconst y1 = ly;\r\n\r\n\t\t\tellipseFromEllipticalArc(ctx, x1, y1, rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py);\r\n\r\n\t\t\tlx = px;\r\n\t\t\tly = py;\r\n\t\t\tlastCommand = 'A';\r\n\t\t\treturn this;\r\n\t\t};\r\n\t\t//a rx ry x-axis-rotation large-arc-flag sweep-flag dx dy\r\n\t\tthis.a = (rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py) => this.A(\r\n\t\t\t\trx, ry, xAxisRotation, largeArcFlag, sweepFlag, px + lx, py + ly);\r\n\t\t\r\n\t}\r\n}\r\n\r\nmodule.exports = PathCommands;","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M8 24l2.83 2.83L22 15.66V40h4V15.66l11.17 11.17L40 24 24 8 8 24z\"/></svg>\n\t@ material-design-icons\\navigation\\svg\\production\\ic_arrow_upward_48px.svg\n\t*/\n\td: 'M8 24l2.83 2.83L22 15.66V40h4V15.66l11.17 11.17L40 24 24 8 8 24z',\n\twidth: 48,\n\theight: 48,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path fill=\"#010101\" d=\"M40 24l-2.82-2.82L26 32.34V8h-4v24.34L10.84 21.16 8 24l16 16 16-16z\"/></svg>\n\t@ material-design-icons\\navigation\\svg\\production\\ic_arrow_downward_48px.svg\n\t*/\n\td: 'M40 24l-2.82-2.82L26 32.34V8h-4v24.34L10.84 21.16 8 24l16 16 16-16z',\n\twidth: 48,\n\theight: 48,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z\"/></svg>\n\t@ material-design-icons\\image\\svg\\production\\ic_edit_48px.svg\n\t*/\n\td: 'M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z',\n\twidth: 48,\n\theight: 48,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z\"/></svg>\n\t@ material-design-icons\\content\\svg\\production\\ic_add_48px.svg\n\t*/\n\td: 'M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z',\n\twidth: 48,\n\theight: 48,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z\"/></svg>\n\t@ material-design-icons\\toggle\\svg\\production\\ic_star_24px.svg\n\t*/\n\td: 'M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z',\n\twidth: 24,\n\theight: 24,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\"/></svg>\n\t@ material-design-icons\\toggle\\svg\\production\\ic_star_border_24px.svg\n\t*/\n\td: 'M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z',\n\twidth: 24,\n\theight: 24,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\"/></svg>\n\t@ material-design-icons\\toggle\\svg\\production\\ic_star_half_24px.svg\n\t*/\n\td: 'M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z',\n\twidth: 24,\n\theight: 24,\n\t\n};","'use strict';\r\n{\r\n\tconst Header = require('./type/Header');\r\n\tconst SortHeader = require('./type/SortHeader');\r\n\r\n\tconst type = {\r\n\t\tcreate(headerCell) {\r\n\t\t\tif (headerCell.sort) {\r\n\t\t\t\treturn new SortHeader(headerCell);\r\n\t\t\t}\r\n\t\t\treturn new Header(headerCell);\r\n\t\t}\r\n\t};\r\n\tmodule.exports = type;\r\n}","'use strict';\r\n{\r\n\tconst styleContents = require('../style');\r\n\tconst {Style} = styleContents;\r\n\tconst BaseHeader = require('./BaseHeader');\r\n\r\n\tclass Header extends BaseHeader {\r\n\t\tget StyleClass() {\r\n\t\t\treturn Style;\r\n\t\t}\r\n\t\tdrawInternal(value, context, style, helper, grid, {drawCellBase}) {\r\n\t\t\tconst {\r\n\t\t\t\ttextAlign,\r\n\t\t\t\ttextBaseline,\r\n\t\t\t\tcolor,\r\n\t\t\t\tfont,\r\n\t\t\t\tbgColor,\r\n\t\t\t} = style;\r\n\t\t\t\r\n\t\t\tif (bgColor) {\r\n\t\t\t\tdrawCellBase({\r\n\t\t\t\t\tbgColor,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\thelper.text(value, context, {\r\n\t\t\t\ttextAlign,\r\n\t\t\t\ttextBaseline,\r\n\t\t\t\tcolor,\r\n\t\t\t\tfont,\r\n\t\t\t});\r\n\t\t}\r\n\t\tbindGridEvent(grid) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t}\r\n\tmodule.exports = Header;\r\n}","'use strict';\r\n{\r\n\tconst BaseStyle = require('./BaseStyle');\r\n\tlet defaultStyle;\r\n\tclass Style extends BaseStyle {\r\n\t\tstatic get DEFAULT() {\r\n\t\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new Style());\r\n\t\t}\r\n\t\tconstructor(style = {}) {\r\n\t\t\tsuper(style);\r\n\t\t\tthis._color = style.color;\r\n\t\t}\r\n\t\tget color() {\r\n\t\t\treturn this._color;\r\n\t\t}\r\n\t\tset color(color) {\r\n\t\t\tthis._color = color;\r\n\t\t\tthis.doChangeStyle();\r\n\t\t}\r\n\t\tclone() {\r\n\t\t\treturn new Style(this);\r\n\t\t}\r\n\t}\r\n\tmodule.exports = Style;\r\n}","'use strict';\r\n{\r\n\tconst styleContents = require('../style');\r\n\tconst {Style} = styleContents;\r\n\tconst BaseHeader = require('./BaseHeader');\r\n\tconst {isDef} = require('../../internal/utils');\r\n\tconst {EVENT_TYPE: {\r\n\t\tCLICK_CELL,\r\n\t\tMOUSEOVER_CELL,\r\n\t\tMOUSEOUT_CELL,\r\n\t\tMOUSEMOVE_CELL,\r\n\t}} = require('../../core/DrawGrid');\r\n\r\n\tclass SortHeader extends BaseHeader {\r\n\t\tconstructor(headerCell) {\r\n\t\t\tsuper(headerCell);\r\n\t\t\tthis._sort = headerCell.sort;\r\n\t\t\tthis._range = headerCell.range;\r\n\t\t}\r\n\t\tget StyleClass() {\r\n\t\t\treturn Style;\r\n\t\t}\r\n\t\tdrawInternal(value, context, style, helper, grid, {drawCellBase}) {\r\n\t\t\tconst {\r\n\t\t\t\ttextAlign,\r\n\t\t\t\ttextBaseline = 'middle',\r\n\t\t\t\tcolor,\r\n\t\t\t\tbgColor,\r\n\t\t\t\tfont,\r\n\t\t\t} = style;\r\n\t\t\t\r\n\t\t\tif (bgColor) {\r\n\t\t\t\tdrawCellBase({\r\n\t\t\t\t\tbgColor,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tconst state = grid.sortState;\r\n\t\t\tlet order = undefined;\r\n\t\t\tif (this._range.isCellInRange(state.col, this._range.startRow)) {\r\n\t\t\t\torder = state.order;\r\n\t\t\t}\r\n\r\n\t\t\tconst ctx = context.getContext();\r\n\t\t\tconst arrowSize = ctx.measureText('').width * 1.2;\r\n\r\n\t\t\thelper.text(value, context, {\r\n\t\t\t\ttextAlign,\r\n\t\t\t\ttextBaseline,\r\n\t\t\t\tcolor,\r\n\t\t\t\tfont,\r\n\t\t\t\ticons: [{\r\n\t\t\t\t\tname: isDef(order) ? (order === 'asc' ? 'arrow_downward' : 'arrow_upward') : null,\r\n\t\t\t\t\twidth: arrowSize,\r\n\t\t\t\t\tcolor: 'rgba(0, 0, 0, 0.38)',\r\n\t\t\t\t}],\r\n\t\t\t});\r\n\t\t}\r\n\t\t_executeSort(newState, grid) {\r\n\t\t\tif (typeof this._sort === 'function') {\r\n\t\t\t\tthis._sort(newState.order, newState.col, grid);\r\n\t\t\t} else {\r\n\t\t\t\tgrid.dataSource.sort(grid.getField(newState.col), newState.order);\r\n\t\t\t}\r\n\t\t}\r\n\t\tbindGridEvent(grid) {\r\n\t\t\treturn [\r\n\t\t\t\tgrid.listen(CLICK_CELL, (e) => {\r\n\t\t\t\t\tif (!this._range.isCellInRange(e.col, e.row)) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst state = grid.sortState;\r\n\t\t\t\t\tlet newState;\r\n\t\t\t\t\tif (this._range.isCellInRange(state.col, e.row)) {\r\n\t\t\t\t\t\tnewState = {\r\n\t\t\t\t\t\t\tcol: this._range.startCol,\r\n\t\t\t\t\t\t\torder: state.order === 'asc' ? 'desc' : 'asc'\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnewState = {\r\n\t\t\t\t\t\t\tcol: this._range.startCol,\r\n\t\t\t\t\t\t\torder: 'asc'\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t\tgrid.sortState = newState;\r\n\t\t\t\t\tthis._executeSort(newState, grid);\r\n\t\t\t\t\tgrid.invalidateGridRect(0, 0, grid.colCount - 1, grid.rowCount - 1);\r\n\t\t\t\t}),\r\n\t\t\t\t// mouse move\r\n\t\t\t\tgrid.listen(MOUSEOVER_CELL, (e) => {\r\n\t\t\t\t\tif (!this._range.isCellInRange(e.col, e.row)) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tgrid.getElement().style.cursor = 'pointer';\r\n\t\t\t\t}),\r\n\t\t\t\t//MOUSEENTER'col-resize'move\r\n\t\t\t\tgrid.listen(MOUSEMOVE_CELL, (e) => {\r\n\t\t\t\t\tif (!this._range.isCellInRange(e.col, e.row)) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!grid.getElement().style.cursor) {\r\n\t\t\t\t\t\tgrid.getElement().style.cursor = 'pointer';\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t\tgrid.listen(MOUSEOUT_CELL, (e) => {\r\n\t\t\t\t\tif (!this._range.isCellInRange(e.col, e.row)) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tgrid.getElement().style.cursor = '';\r\n\t\t\t\t}),\r\n\t\t\t];\r\n\t\t}\r\n\t}\r\n\tmodule.exports = SortHeader;\r\n}","'use strict';\r\n\r\n\r\nconst {isPromise} = require('../../internal/utils');\r\nconst {\r\n\tSELECTED_CELL,\r\n\tSCROLL,\r\n\tCHANGED_VALUE\r\n} = require('../../list-grid/EVENT_TYPE');\r\nconst ErrorMessage = require('./ErrorMessage');\r\nconst WarningMessage = require('./WarningMessage');\r\nconst InfoMessage = require('./InfoMessage');\r\n\r\n\r\nclass MessageHandler {\r\n\tconstructor(grid, getMessage) {\r\n\t\tthis._grid = grid;\r\n\t\tthis._messageInstances = {};\r\n\t\tthis._bindGridEvent(grid, getMessage);\r\n\t}\r\n\tdispose() {\r\n\t\tconst messageInstances = this._messageInstances;\r\n\t\tfor (const k in messageInstances) {\r\n\t\t\tmessageInstances[k].dispose();\r\n\t\t}\r\n\t\tthis._messageInstances = null;\r\n\t}\r\n\tdrawCellMessage(message, context, style, helper, info) {\r\n\r\n\t\tif (!message || isPromise(message)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst instance = this._getMessageInstanceOfMessage(message);\r\n\t\tinstance.drawCellMessage(message, context, style, helper, info);\r\n\t}\r\n\t_attach(col, row, message) {\r\n\t\tconst info = this._attachInfo;\r\n\t\tconst instance = this._getMessageInstanceOfMessage(message);\r\n\t\tif (info && info.instance !== instance) {\r\n\t\t\tinfo.instance.detachMessageElement();\r\n\t\t}\r\n\t\tinstance.attachMessageElement(col, row, this._toMessageText(message));\r\n\t\tthis._attachInfo = {col, row, instance};\r\n\t}\r\n\t_move(col, row) {\r\n\t\tconst info = this._attachInfo;\r\n\t\tif (!info || info.col !== col || info.row !== row) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst {instance} = info;\r\n\t\tinstance.moveMessageElement(col, row);\r\n\t}\r\n\t_detach() {\r\n\t\tconst info = this._attachInfo;\r\n\t\tif (!info) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst {instance} = info;\r\n\t\tinstance.detachMessageElement();\r\n\t\tthis._attachInfo = null;\r\n\t}\r\n\t_bindGridEvent(grid, getMessage) {\r\n\t\tconst onSelectMessage = (sel) => {\r\n\t\t\tconst message = getMessage(sel.col, sel.row);\r\n\t\t\tif (!message || isPromise(message)) {\r\n\t\t\t\tthis._detach();\r\n\t\t\t} else {\r\n\t\t\t\tthis._attach(sel.col, sel.row, message);\r\n\t\t\t}\r\n\r\n\t\t};\r\n\t\tgrid.listen(SELECTED_CELL, (e) => {\r\n\t\t\tif (!e.selected) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (e.before.col === e.col && e.before.row === e.row) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tonSelectMessage(e);\r\n\t\t});\r\n\t\tgrid.listen(SCROLL, () => {\r\n\t\t\tconst sel = grid.selection.select;\r\n\t\t\tthis._move(sel.col, sel.row);\r\n\t\t});\r\n\t\tgrid.listen(CHANGED_VALUE, (e) => {\r\n\t\t\tconst sel = grid.selection.select;\r\n\t\t\tif (sel.col !== e.col || sel.row !== e.row) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tonSelectMessage(e);\r\n\t\t});\r\n\t}\r\n\t_getMessageInstanceOfMessage(message) {\r\n\t\tmessage = message || '';\r\n\t\tif (typeof message === 'string') {\r\n\t\t\treturn this._createMessageInstance('error', ErrorMessage);\r\n\t\t}\r\n\t\tconst type = ('' + message.type).toLowerCase();\r\n\t\tif (type === 'info') {\r\n\t\t\treturn this._createMessageInstance('info', InfoMessage);\r\n\t\t} else if (type === 'warning') {\r\n\t\t\treturn this._createMessageInstance('warning', WarningMessage);\r\n\t\t}\r\n\t\treturn this._createMessageInstance('error', ErrorMessage);\r\n\t}\r\n\t_toMessageText(message) {\r\n\t\tmessage = message || '';\r\n\t\tif (typeof message === 'string') {\r\n\t\t\treturn message;\r\n\t\t}\r\n\t\tif (message.message) {\r\n\t\t\treturn message.message;\r\n\t\t}\r\n\t\treturn '' + message;\r\n\t}\r\n\t_createMessageInstance(name, Message) {\r\n\t\tconst messageInstances = this._messageInstances;\r\n\t\treturn messageInstances[name] || (messageInstances[name] = new Message(this._grid));\r\n\t}\r\n}\r\n\r\nmodule.exports = MessageHandler;","'use strict';\r\n\r\n\r\nconst Rect = require('../../internal/Rect');\r\nconst BaseMessage = require('./BaseMessage');\r\nconst ErrorMessageElement = require('./internal/ErrorMessageElement');\r\n\r\nconst RED_A100 = '#ff8a80';\r\n// const RED_A400 = '#FF1744';\r\n\r\nclass ErrorMessage extends BaseMessage {\r\n\tcreateMessageElementInternal() {\r\n\t\treturn new ErrorMessageElement();\r\n\t}\r\n\tdrawCellMessageInternal(message, context, style, helper, info) {\r\n\t\tconst {bgColor} = style;\r\n\r\n\t\tconst {selected} = context.getSelectState();\r\n\r\n\t\tconst rect = context.getRect();\r\n\r\n\t\thelper.drawBorderWithClip(context, (ctx) => {\r\n\t\t\tif (!selected) {\r\n\t\t\t\t// draw box\r\n\t\t\t\tctx.fillStyle = RED_A100;\r\n\t\t\t\tconst boxRect = rect.copy();\r\n\t\t\t\tboxRect.left = boxRect.right - 24;\r\n\t\t\t\tctx.fillRect(boxRect.left, boxRect.top, boxRect.width, boxRect.height - 1);\r\n\r\n\t\t\t\t// draw exclamation mark\r\n\t\t\t\tconst fillColor = bgColor;\r\n\t\t\t\tconst height = 20;\r\n\t\t\t\tconst width = height / 5;\r\n\t\t\t\tconst left = boxRect.left + (boxRect.width - width) / 2;\r\n\t\t\t\tconst top = boxRect.top + (boxRect.height - height) / 2;\r\n\t\t\t\thelper.fillRectWithState(new Rect(left, top, width, height / 5 * 3),\r\n\t\t\t\t\t\tcontext, {fillColor});\r\n\t\t\t\thelper.fillRectWithState(new Rect(left, top + height / 5 * 4, width, height / 5),\r\n\t\t\t\t\t\tcontext, {fillColor});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nmodule.exports = ErrorMessage;","'use strict';\r\nconst MessageElement = require('./MessageElement');\r\n\r\nconst CLASSNAME = 'cheetah-grid__error-message-element';\r\nconst MESSAGE_CLASSNAME = CLASSNAME + '__message';\r\n\r\n\r\nclass ErrorMessageElement extends MessageElement {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\trequire('./ErrorMessageElement.css');\r\n\t\tthis._rootElement.classList.add(CLASSNAME);\r\n\t\tthis._messageElement.classList.add(MESSAGE_CLASSNAME);\r\n\t}\r\n}\r\n\r\nmodule.exports = ErrorMessageElement;","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./MessageElement.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js?minimize!./MessageElement.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./MessageElement.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".cheetah-grid__message-element{position:absolute;margin-top:-2px;box-sizing:border-box;border-radius:0 0 3px 3px;background-color:hsla(0,0%,98%,.85);padding:8px 2px;pointer-events:none;user-select:none}.cheetah-grid__message-element--hidden{opacity:0;display:none}.cheetah-grid__message-element__message{font-family:Roboto;font-size:12px;font-size:.75rem;min-height:1em;line-height:1;display:block;width:100%}.cheetah-grid__message-element{border-top:1px solid rgba(0,0,0,.87);color:rgba(0,0,0,.87)}.cheetah-grid__message-element.helper-text--right-justified{text-align:right}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./ErrorMessageElement.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js?minimize!./ErrorMessageElement.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./ErrorMessageElement.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".cheetah-grid__error-message-element{border-top:1px solid #ff1744;color:#ff1744}\", \"\"]);\n\n// exports\n","'use strict';\r\n\r\n\r\nconst Rect = require('../../internal/Rect');\r\nconst BaseMessage = require('./BaseMessage');\r\nconst WarningMessageElement = require('./internal/WarningMessageElement');\r\n\r\nconst DEEP_ORANGE_A100 = '#ff9e80';\r\n\r\nclass WarningMessage extends BaseMessage {\r\n\tcreateMessageElementInternal() {\r\n\t\treturn new WarningMessageElement();\r\n\t}\r\n\tdrawCellMessageInternal(message, context, style, helper, info) {\r\n\t\tconst {bgColor} = style;\r\n\r\n\t\tconst {selected} = context.getSelectState();\r\n\r\n\t\tconst rect = context.getRect();\r\n\r\n\t\thelper.drawBorderWithClip(context, (ctx) => {\r\n\t\t\tif (!selected) {\r\n\t\t\t\t// draw box\r\n\t\t\t\tctx.fillStyle = DEEP_ORANGE_A100;\r\n\t\t\t\tconst boxRect = rect.copy();\r\n\t\t\t\tboxRect.left = boxRect.right - 24;\r\n\t\t\t\tctx.fillRect(boxRect.left, boxRect.top, boxRect.width, boxRect.height - 1);\r\n\r\n\t\t\t\t// draw exclamation mark\r\n\t\t\t\tconst fillColor = bgColor;\r\n\t\t\t\tconst height = 20;\r\n\t\t\t\tconst width = height / 5;\r\n\t\t\t\tconst left = boxRect.left + (boxRect.width - width) / 2;\r\n\t\t\t\tconst top = boxRect.top + (boxRect.height - height) / 2;\r\n\t\t\t\thelper.fillRectWithState(new Rect(left, top, width, height / 5 * 3),\r\n\t\t\t\t\t\tcontext, {fillColor});\r\n\t\t\t\thelper.fillRectWithState(new Rect(left, top + height / 5 * 4, width, height / 5),\r\n\t\t\t\t\t\tcontext, {fillColor});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nmodule.exports = WarningMessage;","'use strict';\r\nconst MessageElement = require('./MessageElement');\r\n\r\nconst CLASSNAME = 'cheetah-grid__warning-message-element';\r\nconst MESSAGE_CLASSNAME = CLASSNAME + '__message';\r\n\r\n\r\nclass WarningMessageElement extends MessageElement {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\trequire('./WarningMessageElement.css');\r\n\t\tthis._rootElement.classList.add(CLASSNAME);\r\n\t\tthis._messageElement.classList.add(MESSAGE_CLASSNAME);\r\n\t}\r\n}\r\n\r\nmodule.exports = WarningMessageElement;","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./WarningMessageElement.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js?minimize!./WarningMessageElement.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./WarningMessageElement.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".cheetah-grid__warning-message-element{border-top:1px solid #dd2c00;color:#dd2c00}\", \"\"]);\n\n// exports\n","'use strict';\r\n\r\nconst BaseMessage = require('./BaseMessage');\r\nconst MessageElement = require('./internal/MessageElement');\r\n\r\nconst Rect = require('../../internal/Rect');\r\n\r\nconst GREY_L2 = '#e0e0e0';\r\n// const GREY_L1 = '#bdbdbd';\r\n\t\r\nclass InfoMessage extends BaseMessage {\r\n\tcreateMessageElementInternal() {\r\n\t\treturn new MessageElement();\r\n\t}\r\n\tdrawCellMessageInternal(message, context, style, helper, info) {\r\n\t\tconst {bgColor} = style;\r\n\r\n\t\tconst {selected} = context.getSelectState();\r\n\r\n\t\tconst rect = context.getRect();\r\n\r\n\t\thelper.drawBorderWithClip(context, (ctx) => {\r\n\t\t\tif (!selected) {\r\n\t\t\t\t// draw box\r\n\t\t\t\tctx.fillStyle = GREY_L2;\r\n\t\t\t\tconst boxRect = rect.copy();\r\n\t\t\t\tboxRect.left = boxRect.right - 24;\r\n\t\t\t\tctx.fillRect(boxRect.left, boxRect.top, boxRect.width, boxRect.height - 1);\r\n\r\n\t\t\t\t// draw i mark\r\n\t\t\t\tconst fillColor = bgColor;\r\n\t\t\t\tconst height = 20;\r\n\t\t\t\tconst width = height / 5;\r\n\t\t\t\tconst left = boxRect.left + (boxRect.width - width) / 2;\r\n\t\t\t\tconst top = boxRect.top + (boxRect.height - height) / 2;\r\n\t\t\t\thelper.fillRectWithState(new Rect(left, top, width, height / 5),\r\n\t\t\t\t\t\tcontext, {fillColor});\r\n\t\t\t\thelper.fillRectWithState(new Rect(left, top + height / 5 * 2, width, height / 5 * 3),\r\n\t\t\t\t\t\tcontext, {fillColor});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nmodule.exports = InfoMessage;","'use strict';\r\n\r\nconst themePlugins = require('./plugins/themes');\r\nconst iconPlugins = require('./plugins/icons');\r\n\r\nfunction register(obj, name, value) {\r\n\tif (value) {\r\n\t\tconst old = obj[name];\r\n\t\tobj[name] = value;\r\n\t\treturn old;\r\n\t} else {\r\n\t\treturn obj[name];\r\n\t}\r\n}\r\nfunction registers(obj, values) {\r\n\tfor (const k in values) {\r\n\t\tobj[k] = values[k];\r\n\t}\r\n}\r\nmodule.exports = {\r\n\ttheme(name, theme) {\r\n\t\treturn register(themePlugins, name, theme);\r\n\t},\r\n\ticon(name, icon) {\r\n\t\treturn register(iconPlugins, name, icon);\r\n\t},\r\n\ticons(icons) {\r\n\t\tregisters(iconPlugins, icons);\r\n\t},\r\n};","'use strict';\r\n\r\nclass BaseMessage {\r\n\tconstructor(grid) {\r\n\t\tthis._grid = grid;\r\n\t}\r\n\tdispose() {\r\n\t\tthis.detachMessageElement();\r\n\t\tif (this._messageElement) {\r\n\t\t\tthis._messageElement.dispose();\r\n\t\t}\r\n\t\tthis._messageElement = null;\r\n\t}\r\n\t_getMessageElement() {\r\n\t\treturn this._messageElement || (this._messageElement = this.createMessageElementInternal());\r\n\t}\r\n\tcreateMessageElementInternal() {\r\n\r\n\t}\r\n\tdrawCellMessageInternal(message, context, style, helper, info) {\r\n\r\n\t}\r\n\tattachMessageElement(col, row, message) {\r\n\t\tconst messageElement = this._getMessageElement();\r\n\t\tmessageElement.attach(this._grid, col, row, message);\r\n\t}\r\n\tmoveMessageElement(col, row) {\r\n\t\tconst messageElement = this._getMessageElement();\r\n\t\tmessageElement.move(this._grid, col, row);\r\n\t}\r\n\tdetachMessageElement() {\r\n\t\tconst messageElement = this._getMessageElement();\r\n\t\tmessageElement._detach();\r\n\t}\r\n\tdrawCellMessage(message, context, style, helper, info) {\r\n\t\tthis.drawCellMessageInternal(message, context, style, helper, info);\r\n\t}\r\n}\r\n\r\nmodule.exports = BaseMessage;","'use strict';\r\nconst EventHandler = require('../../../internal/EventHandler');\r\nconst {\r\n\tcreateElement,\r\n} = require('../../../internal/dom');\r\n\r\nconst CLASSNAME = 'cheetah-grid__message-element';\r\nconst MESSAGE_CLASSNAME = CLASSNAME + '__message';\r\nconst HIDDEN_CLASSNAME = CLASSNAME + '--hidden';\r\nconst SHOWN_CLASSNAME = CLASSNAME + '--shown';\r\n\r\nfunction createrootElement() {\r\n\trequire('./MessageElement.css');\r\n\tconst element = createElement('div', {classList: [CLASSNAME, HIDDEN_CLASSNAME]});\r\n\tconst message = createElement('span', {classList: [MESSAGE_CLASSNAME]});\r\n\telement.appendChild(message);\r\n\treturn element;\r\n}\r\n\r\n\r\nclass MessageElement {\r\n\tconstructor() {\r\n\t\tthis._handler = new EventHandler();\r\n\t\tconst rootElement = this._rootElement = createrootElement();\r\n\t\tthis._messageElement = rootElement.querySelector(`.${MESSAGE_CLASSNAME}`);\r\n\t}\r\n\tdispose() {\r\n\t\tthis.detach();\r\n\t\tthis._handler.dispose();\r\n\t\tthis._rootElement = null;\r\n\t\tthis._messageElement = null;\r\n\t}\r\n\tattach(grid, col, row, message) {\r\n\t\tconst rootElement = this._rootElement;\r\n\t\tconst messageElement = this._messageElement;\r\n\r\n\t\trootElement.classList.remove(SHOWN_CLASSNAME);\r\n\t\trootElement.classList.add(HIDDEN_CLASSNAME);\r\n\r\n\t\tif (this._attachCell(grid, col, row)) {\r\n\t\t\trootElement.classList.add(SHOWN_CLASSNAME);\r\n\t\t\trootElement.classList.remove(HIDDEN_CLASSNAME);\r\n\r\n\t\t\tmessageElement.textContent = message;\r\n\t\t} else {\r\n\t\t\tthis._detach();\r\n\t\t}\r\n\t}\r\n\tmove(grid, col, row) {\r\n\t\tconst rootElement = this._rootElement;\r\n\t\tif (this._attachCell(grid, col, row)) {\r\n\r\n\t\t\trootElement.classList.add(SHOWN_CLASSNAME);\r\n\t\t\trootElement.classList.remove(HIDDEN_CLASSNAME);\r\n\t\t} else {\r\n\t\t\tthis._detach();\r\n\t\t}\r\n\t}\r\n\tdetach() {\r\n\t\tthis._detach();\r\n\t}\r\n\t_detach() {\r\n\t\tconst rootElement = this._rootElement;\r\n\t\tif (rootElement.parentElement) {\r\n\t\t\trootElement.parentElement.removeChild(rootElement);\r\n\t\t\trootElement.classList.remove(SHOWN_CLASSNAME);\r\n\t\t\trootElement.classList.add(HIDDEN_CLASSNAME);\r\n\t\t}\r\n\t}\r\n\t_attachCell(grid, col, row) {\r\n\t\tconst rootElement = this._rootElement;\r\n\t\tconst {element, rect} = grid.getAttachCellArea(col, row);\r\n\r\n\t\tconst {bottom: top, left, width} = rect;\r\n\t\tconst {frozenRowCount, frozenColCount} = grid;\r\n\t\tif (row >= frozenRowCount && frozenRowCount > 0) {\r\n\t\t\tconst {rect: frozenRect} = grid.getAttachCellArea(col, frozenRowCount - 1);\r\n\t\t\tif (top < frozenRect.bottom) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (top < 0) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (col >= frozenColCount && frozenColCount > 0) {\r\n\t\t\tconst {rect: frozenRect} = grid.getAttachCellArea(frozenColCount - 1, row);\r\n\t\t\tif (left < frozenRect.right) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (left < 0) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst {offsetHeight, offsetWidth} = element;\r\n\t\tif (offsetHeight < top) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (offsetWidth < left) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\trootElement.style.top = top.toFixed() + 'px';\r\n\t\trootElement.style.left = left.toFixed() + 'px';\r\n\t\trootElement.style.width = width.toFixed() + 'px';\r\n\t\tif (rootElement.parentElement !== element) {\r\n\t\t\telement.appendChild(rootElement);\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\nmodule.exports = MessageElement;"],"sourceRoot":""}