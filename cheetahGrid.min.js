!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.cheetahGrid=e():t.cheetahGrid=e()}(window,function(){return function(t){var e={};function o(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},o.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=57)}([function(t,e,o){"use strict";(function(e){{let s,r;const i={get find(){return s||(s=Array.prototype.find?(t,e)=>Array.prototype.find.call(t,e):(t,e)=>{const o=i.findIndex(t,e);return o>=0?t[o]:void 0})},get findIndex(){return r||(r=Array.prototype.findIndex?(t,e)=>Array.prototype.findIndex.call(t,e):(t,e)=>{const o=t.length;for(let n=0;n<o;n++){if(e(t[n],n,t))return n}return-1})}};function o(t){return null!==t&&void 0!==t}const l=window.navigator.userAgent.toLowerCase(),c=l.match(/(msie)/)||l.match(/trident/),a=l.indexOf("chrome")>-1&&-1===l.indexOf("edge"),h=l.indexOf("firefox")>-1;function n(t,e,...n){let s=t;for(let t=0;t<n.length&&o(s);t++)s=e(s,n[t]);return s}const u=t=>t&&"function"==typeof t.then,d=(t,e)=>u(t)?t.then(t=>e(t)):e(t);t.exports={isDef:o,browser:{IE:c,Chrome:a,Firefox:h,heightLimit:a?33554431:h?17895588:10737433},extend:function(...t){const e={};return t.forEach(t=>{for(const o in t)Object.defineProperty(e,o,{get:()=>t[o],set(e){t[o]=e},configurable:!0,enumerable:!0})}),e},isDescendantElement:function(t,e){for(;e.parentElement;){const o=e.parentElement;if(t===o)return!0;e=o}return!1},getChainSafe:function(t,...e){return n(t,(t,e)=>t[e],...e)},applyChainSafe:n,getOrApply:function(t,...e){return"function"==typeof t?t(...e):t},getIgnoreCase:function(t,e){if(t[e])return t[e];const o=e.toLowerCase();if(t[o])return t[o];const n=e.toLowerCase();if(t[n])return t[n];for(const e in t)if(e.toLowerCase()===o)return t[e]},isPromise:u,then:d,array:i,obj:{setReadonly:function(t,e,o){Object.defineProperty(t,e,{enumerable:!1,configurable:!0,value:o})},each:function(t,e){for(const o in t)e(t[o],o,t)},isObject:function(t){return t===Object(t)}},str:{endsWith:function(t,e,o){const n=t.toString();("number"!=typeof o||!isFinite(o)||Math.floor(o)!==o||o>n.length)&&(o=n.length),o-=e.length;const s=n.lastIndexOf(e,o);return-1!==s&&s===o}},event:{getMouseButtons:function(t){return o(t.buttons)?t.buttons:o(t.which)?3===t.which?4:2===t.which?4:t.which:0===t.button||1===t.button?1:2===t.button?2:0},getKeyCode:function(t){return t.keyCode||t.which},isTouchEvent:function(t){return!!t.changedTouches},cancel:function(t){t.preventDefault(),t.stopPropagation()}},style:{toBoxArray:function(t){return e(t)?3===t.length?[t[0],t[1],t[2],t[1]]:2===t.length?[t[0],t[1],t[0],t[1]]:1===t.length?[t[0],t[0],t[0],t[0]]:t:[t,t,t,t]}},emptyFn(){}}}}).call(this,o(2).Array_isArray)},function(t,e,o){"use strict";{const e=window.Symbol?window.Symbol:(()=>{let t=1;return e=>{const o=t++;return e?` $$$ ${e} - ${o} $$$ `:` $$$ ${o} $$$ `}})(),o={};t.exports={get:t=>t?o[t]?o[t]:o[t]=e(t):e(),get PROTECTED_SYMBOL(){return this.get("protected")},get CHECK_COLUMN_STATE_ID(){return this.get("chkcol.stateID")},get BUTTON_COLUMN_STATE_ID(){return this.get("btncol.stateID")},get COLUMN_FADEIN_STATE_ID(){return this.get("col.fadein_stateID")},get BRANCH_GRAPH_COLUMN_STATE_ID(){return this.get("branch_graph_col.stateID")},get SMALL_DIALOG_INPUT_EDITOR_STATE_ID(){return this.get("small_dialog_input_editor.stateID")},get INLINE_INPUT_EDITOR_STATE_ID(){return this.get("inline_input_editor.stateID")},get INLINE_MENU_EDITOR_STATE_ID(){return this.get("inline_menu_editor.stateID")}}}},function(t,e,o){"use strict";t.exports={Array_isArray:window.Array.isArray}},function(t,e,o){"use strict";{const e=o(19);let n;class s extends e{static get DEFAULT(){return n||(n=new s)}constructor(t={}){super(t),this._color=t.color,this._font=t.font,this._padding=t.padding}get color(){return this._color}set color(t){this._color=t,this.doChangeStyle()}get font(){return this._font}set font(t){this._font=t,this.doChangeStyle()}get padding(){return this._padding}set padding(t){this._padding=t,this.doChangeStyle()}clone(){return new s(this)}}t.exports=s}},function(t,e,o){"use strict";{const{isDef:e,browser:R,isDescendantElement:T,array:A,isPromise:M,event:{isTouchEvent:B,getMouseButtons:D,getKeyCode:O,cancel:P}}=o(0),k=o(13),F=o(8),z=o(59),W=o(5),U=o(63),N=o(27),H=o(17),V=o(64),{PROTECTED_SYMBOL:$}=o(1);const K=35,G=36,j=37,Y=38,q=39,X=40,Q=67,Z={CLICK_CELL:"click_cell",DBLCLICK_CELL:"dblclick_cell",DBLTAP_CELL:"dbltap_cell",MOUSEDOWN_CELL:"mousedown_cell",MOUSEUP_CELL:"mouseup_cell",SELECTED_CELL:"selected_cell",KEYDOWN:"keydown",MOUSEMOVE_CELL:"mousemove_cell",MOUSEENTER_CELL:"mouseenter_cell",MOUSELEAVE_CELL:"mouseleave_cell",MOUSEOVER_CELL:"mouseover_cell",MOUSEOUT_CELL:"mouseout_cell",INPUT_CELL:"input_cell",EDITABLEINPUT_CELL:"editableinput_cell",MODIFY_STATUS_EDITABLEINPUT_CELL:"modify_status_editableinput_cell",RESIZE_COLUMN:"resize_column",SCROLL:"scroll"};function n(t){navigator.vibrate&&B(t)&&navigator.vibrate(50)}function s(t,o){const n=t.getTargetRowAtInternal(o);if(e(n))return n;const s=Math.min(Math.ceil(o/t[$].defaultRowHeight),t.rowCount-1),r=x(t,0,s);return o>=r?((e,n)=>{let s=n-C(t,e);const{rowCount:r}=t[$];for(let n=e;n<r;n++){const e=s+C(t,n);if(s<=o&&o<e)return{top:s,row:n};s=e}return null})(s,r):((e,n)=>{let s=n;for(let n=e;n>=0;n--){const e=s-C(t,n);if(e<=o&&o<s)return{top:e,row:n};s=e}return null})(s,r)}function r(t,e){let o=0;const{colCount:n}=t[$];for(let s=0;s<n;s++){const n=o+_(t,s);if(n>e)return{left:o,col:s};o=n}return null}function i(t,e){if(!t[$].frozenRowCount)return null;let{top:o}=t[$].scroll;const n=t[$].frozenRowCount;for(let s=0;s<n;s++){const n=o+C(t,s);if(n>e)return{top:o,row:s};o=n}return null}function l(t,e){if(!t[$].frozenColCount)return null;let{left:o}=t[$].scroll;const n=t[$].frozenColCount;for(let s=0;s<n;s++){const n=o+_(t,s);if(n>e)return{left:o,col:s};o=n}return null}function c(t){if(!t[$].frozenRowCount)return null;const{top:e}=t[$].scroll;let o=0;const n=t[$].frozenRowCount;for(let e=0;e<n;e++)o+=C(t,e);return new F(t[$].scroll.left,e,t[$].canvas.width,o)}function a(t){if(!t[$].frozenColCount)return null;const{left:e}=t[$].scroll;let o=0;const n=t[$].frozenColCount;for(let e=0;e<n;e++)o+=_(t,e);return new F(e,t[$].scroll.top,o,t[$].canvas.height)}function h(t,e,o,n,s,r,i,l,c,a,h,u){const d=new F(n-c.left,i-c.top,s,l),f=F.bounds(Math.max(n,h)-c.left,Math.max(i,a)-c.top,d.right,d.bottom);if(f.height>0&&f.width>0){e.save();try{const n=new it(o,r,e,d,f,function(t,e,o){return!!t[$].drawCells[o]&&!!t[$].drawCells[o][e]}(t,o,r),t[$].selection,u),s=t.onDrawCell(o,r,n);if(M(s)){!function(t,e,o,n){t[$].drawCells[o]||(t[$].drawCells[o]={}),t[$].drawCells[o][e]=n}(t,o,r,n);const e=o;n._delayMode(t,()=>{!function(t,e,o){t[$].drawCells[o]&&(delete t[$].drawCells[o][e],0===Object.keys(t[$].drawCells[o]).length&&delete t[$].drawCells[o])}(t,e,r)}),s.then(()=>{n.terminate()})}}finally{e.restore()}}}function u(t,e,o,n,s,r,i,l,c,a,u){const{colCount:d}=t[$],f=(o,n)=>{if(o>=d-1&&t[$].canvas.width>n-c.left){const o=n-c.left;e.save(),e.beginPath(),e.fillStyle=t.underlayBackgroundColor||"#F6F6F6",e.rect(o,i-c.top,t[$].canvas.width-o,l),e.fill(),e.restore()}};let g=0;if(o){let n=o.left;const d=t[$].frozenColCount;for(let{col:g}=o;g<d;g++){const o=_(t,g);if(h(t,e,g,n,o,r,i,l,c,a,0,u),s<=(n+=o))return void f(g,n)}g=n}let p=n.left;for(let{col:o}=n;o<d;o++){const n=_(t,o);if(h(t,e,o,p,n,r,i,l,c,a,g,u),s<=(p+=n))return void f(o,p)}f(d-1,p)}function d(t,e){const o=L(t),{rowCount:n}=t[$],c=t._getInitContext(),a=s(t,Math.max(o.top,e.top))||{top:x(t,0,n-1),row:n},h=r(t,Math.max(o.left,e.left))||{left:m(t,0,t[$].colCount-1),col:t[$].colCount},d=Math.min(o.bottom,e.bottom),f=Math.min(o.right,e.right),g=i(t,Math.max(o.top,e.top)),p=l(t,Math.max(o.left,e.left)),_=new st,w=(e,s)=>{if(e>=n-1&&t[$].canvas.height>s-o.top){const e=s-o.top;c.save(),c.beginPath(),c.fillStyle=t.underlayBackgroundColor||"#F6F6F6",c.rect(0,e,t[$].canvas.width,t[$].canvas.height-e),c.fill(),c.restore()}};let b=0;if(g){let e=g.top;const n=t[$].frozenRowCount;for(let{row:s}=g;s<n;s++){const n=C(t,s);if(u(t,c,p,h,f,s,e,n,o,0,_),d<=(e+=n))return w(s,e),void _.draw(c)}b=e}let y=a.top;for(let{row:e}=a;e<n;e++){const n=C(t,e);if(u(t,c,p,h,f,e,y,n,o,b,_),d<=(y+=n))return w(e,y),void _.draw(c)}w(n-1,y),_.draw(c)}function f(t,e){return Math.round(H.toPx(e,t[$].calcWidthContext))}function g(t){return f(t,t.defaultColWidth)}function p(t,e,o){const n=t[$].colWidthsLimit[e];if(!n)return o;if(n.min){const e=f(t,n.min);if(e>o)return e}if(n.max){const e=f(t,n.max);if(e<o)return e}return o}function _(t,e){const o=t[$].colWidthsMap.get(e);return o?p(t,e,f(t,o)):g(t)}function w(t,e,o){t[$].colWidthsMap.put(e,o)}function m(t,e,o){const n=o-e+1;let s=g(t)*n;return t[$].colWidthsMap.each(e,o,(e,o)=>{s+=p(t,o,f(t,e))-g(t)}),s}function C(t,o){const n=t.getRowHeightInternal(o);if(e(n))return n;const s=t[$].rowHeightsMap.get(o);return s||t[$].defaultRowHeight}function x(t,o,n){const s=t.getRowsHeightInternal(o,n);if(e(s))return s;const r=n-o+1;let i=t[$].defaultRowHeight*r;return t[$].rowHeightsMap.each(o,n,e=>{i+=e-t[$].defaultRowHeight}),i}function b(t,e,o,n){const s=t.getOffsetInvalidateCells();function r(t){return s>0&&(t.start.col-=s,t.start.row-=s,t.end.col+=s,t.end.row+=s),t}const i=r(t.selection.range),l=t.getCellsRect(i.start.col,i.start.row,i.end.col,i.end.row);t.selection._setFocusCell(e,o,n),t.makeVisibleCell(e,o),t.focusCell(e,o);const c=r(t.selection.range),a=t.getCellsRect(c.start.col,c.start.row,c.end.col,c.end.row);if(a.intersection(l)){d(t,F.max(a,l))}else d(t,l),d(t,a)}function y(t,e){B(e)&&(e=e.changedTouches[0]);const o=e.clientX||e.pageX+window.scrollX,n=e.clientY||e.pageY+window.scrollY,s=t[$].canvas.getBoundingClientRect();return s.right<=o?null:s.bottom<=n?null:{x:o-s.left+t[$].scroll.left,y:n-s.top+t[$].scroll.top}}function v(t){const o=e=>{const o=y(t,e);if(!o)return{};const n=t.getCellAt(o.x,o.y);return n.col<0||n.row<0?{abstractPos:o,cell:n}:{abstractPos:o,cell:n,eventArgs:{col:n.col,row:n.row,event:e}}},n=e=>{const o=t[$].colWidthsLimit[e];return!(o&&o.min&&o.max)||o.max!==o.min};t[$].handler.on(t[$].element,"mousedown",e=>{const s=o(e),{abstractPos:r,eventArgs:i}=s;if(!r)return;if(i){const e=t.fireListeners(Z.MOUSEDOWN_CELL,i);if(A.findIndex(e,t=>!t)>=0)return}if(1!==D(e))return;const l=E(t,r.x,r.y);l>=0&&n(l)?t[$].columnResizer.start(l,e):t[$].cellSelector.start(e)});let s=null,r=null;function i(t){r&&(clearTimeout(r),r=null)}t[$].handler.on(t[$].element,"touchstart",e=>{if(s){const{eventArgs:n}=o(e);if(n&&n.col===s.col&&n.row===s.row&&t.fireListeners(Z.DBLTAP_CELL,n),s=null,e.defaultPrevented)return}else s=o(e).eventArgs,setTimeout(()=>{s=null},350);r=setTimeout(()=>{r=null;const o=y(t,e);if(!o)return;const s=E(t,o.x,o.y,15);s>=0&&n(s)?t[$].columnResizer.start(s,e):t[$].cellSelector.start(e)},500)}),t[$].handler.on(t[$].element,"touchcancel",i),t[$].handler.on(t[$].element,"touchmove",i),t[$].handler.on(t[$].element,"touchend",e=>{r&&(clearTimeout(r),t[$].cellSelector.select(e),r=null)});let l=!1,h=null,u=null;function f(e){t.fireListeners(Z.MOUSEENTER_CELL,e),h=e}function g(){const e=h;h=null,e&&t.fireListeners(Z.MOUSELEAVE_CELL,{col:e.col,row:e.row})}function p(e){t.fireListeners(Z.MOUSEOVER_CELL,e),u=e}function _(){const e=u;u=null,e&&t.fireListeners(Z.MOUSEOUT_CELL,{col:e.col,row:e.row})}const w=t[$].scrollable.getElement();t[$].handler.on(w,"mouseover",t=>{l=!0}),t[$].handler.on(w,"mouseout",t=>{l=!1,_()}),t[$].handler.on(t[$].element,"mouseleave",t=>{g()}),t[$].handler.on(t[$].element,"mousemove",e=>{const s=o(e),{abstractPos:r,eventArgs:i}=s;if(i){const e=h;if(e)if(t.fireListeners(Z.MOUSEMOVE_CELL,i),e.col!==i.col||e.row!==i.row){_(),g();const t={col:i.col,row:i.row};f(t),l&&p(t)}else l&&!u&&p({col:i.col,row:i.row});else{const e={col:i.col,row:i.row};f(e),l&&p(e),t.fireListeners(Z.MOUSEMOVE_CELL,i)}}else _(),g();if(t[$].columnResizer.moving(e)||t[$].cellSelector.moving(e))return;const{style:c}=t[$].element;if(!r)return void("col-resize"===c.cursor&&(c.cursor=""));const a=E(t,r.x,r.y);a>=0&&n(a)?c.cursor="col-resize":"col-resize"===c.cursor&&(c.cursor="")}),t[$].handler.on(t[$].element,"click",e=>{if(t[$].columnResizer.lastMoving(e)||t[$].cellSelector.lastMoving(e))return;if(!t.hasListeners(Z.CLICK_CELL))return;const{eventArgs:n}=o(e);n&&t.fireListeners(Z.CLICK_CELL,n)}),t[$].handler.on(t[$].element,"dblclick",e=>{if(!t.hasListeners(Z.DBLCLICK_CELL))return;const{eventArgs:n}=o(e);n&&t.fireListeners(Z.DBLCLICK_CELL,n)}),t[$].focusControl.listen("keydown",(e,o)=>{t.fireListeners(Z.KEYDOWN,e,o)}),t[$].selection.listen(Z.SELECTED_CELL,e=>{t.fireListeners(Z.SELECTED_CELL,e,e.selected)}),t[$].scrollable.onScroll(e=>{!function(t,e){const o=t[$].scroll.left,n=t[$].scroll.top,s=t[$].scrollable.scrollLeft-o,r=t[$].scrollable.scrollTop-n;t[$].scroll={left:t[$].scrollable.scrollLeft,top:t[$].scrollable.scrollTop};const i=L(t);if(Math.abs(s)>=i.width||Math.abs(r)>=i.height)d(t,i);else{if(t[$].context.drawImage(t[$].canvas,-s,-r),0!==s){const e=i.copy();if(s<0){if(e.width=-s,t[$].frozenColCount>0){const o=a(t);e.width+=o.width}}else s>0&&(e.left=e.right-s);d(t,e),s>0&&t[$].frozenColCount>0&&d(t,a(t))}if(0!==r){const e=i.copy();if(r<0){if(e.height=-r,t[$].frozenRowCount>0){const o=c(t);e.height+=o.height}}else r>0&&(e.top=e.bottom-r);d(t,e),r>0&&t[$].frozenRowCount>0&&d(t,c(t))}}}(t),t.fireListeners(Z.SCROLL,{event:e})}),t[$].focusControl.onKeyDownMove(e=>{!function(t,e){const{shiftKey:o}=e,n=O(e),s=o?t.selection._focus:t.selection._sel;if(n===j){const n=t.getMoveLeftColByKeyDownInternal(s);if(n<0)return;b(t,n,s.row,o),P(e)}else if(n===Y){const n=t.getMoveUpRowByKeyDownInternal(s);if(n<0)return;b(t,s.col,n,o),P(e)}else if(n===q){const n=t.getMoveRightColByKeyDownInternal(s);if(t.colCount<=n)return;b(t,n,s.row,o),P(e)}else if(n===X){const n=t.getMoveDownRowByKeyDownInternal(s);if(t.rowCount<=n)return;b(t,s.col,n,o),P(e)}else if(n===G)b(t,0,e.ctrlKey?0:s.row,e.shiftKey),P(e);else if(n===K){const n=e.ctrlKey?t.rowCount-1:s.row;b(t,t.colCount-1,n,o),P(e)}}(t,e)}),t.listen("copydata",e=>{let o="";for(let{row:n}=e.start;n<=e.end.row;n++){for(let{col:s}=e.start;s<=e.end.col;s++){const r=t.getCopyCellValue(s,n);if(window.Promise&&r instanceof window.Promise);else{const t=""+r;t.match(/^\[object .*\]$/)||(o+=t)}s<e.end.col&&(o+="\t")}o+="\n"}return o}),t[$].focusControl.onCopy(o=>A.find(t.fireListeners("copydata",t[$].selection.range),e)),t[$].focusControl.onInput(e=>{const{col:o,row:n}=t[$].selection.select;t.fireListeners(Z.INPUT_CELL,{col:o,row:n,value:e})}),t.bindEventsInternal()}function E(t,e,o,n=5){if(t[$].frozenRowCount<=0)return-1;if(!c(t).inPoint(e,o))return-1;const s=t.getCellAt(e,o),r=t.getCellRect(s.col,s.row);return e<r.left+n?s.col-1:r.right-n<e?s.col:-1}function L(t){return new F(t[$].scroll.left,t[$].scroll.top,t[$].canvas.width,t[$].canvas.height)}function I(t,e){const o=e.copy(),n=L(t);return o.offsetLeft(-n.left),o.offsetTop(-n.top),o}class J{constructor(t){this._grid=t,this._handler=new W,this._events={},this._started=!1,this._moved=!1}moving(t){return!!this._started}lastMoving(t){if(this.moving(t))return!0;const e=this._mouseEndPoint;if(!e)return!1;const o=y(this._grid,t);return o.x===e.x&&o.y===e.y}_bindMoveAndUp(t){B(t)?(this._events.touchmove=this._handler.on(document.body,"touchmove",t=>this._mouseMove(t),{passive:!1}),this._events.touchend=this._handler.on(document.body,"touchend",t=>this._mouseUp(t)),this._events.touchcancel=this._handler.on(document.body,"touchcancel",t=>this._mouseUp(t))):(this._events.mousemove=this._handler.on(document.body,"mousemove",t=>this._mouseMove(t)),this._events.mouseup=this._handler.on(document.body,"mouseup",t=>this._mouseUp(t))),this._started=!0,this._moved=!1}_mouseMove(t){B(t)||1===D(t)?(this._moved=this._moveInternal(t)||this._moved,P(t)):this._mouseUp(t)}_moveInternal(t){}_mouseUp(t){this._handler.off(this._events.mousemove),this._handler.off(this._events.touchmove),this._handler.off(this._events.mouseup),this._handler.off(this._events.touchend),this._handler.off(this._events.touchcancel),this._started=!1,this._upInternal(t),this._moved&&(this._mouseEndPoint=y(this._grid,t),setTimeout(()=>{this._mouseEndPoint=null},10))}_upInternal(t){}dispose(){this._handler.dispose()}}class tt extends J{start(t){const e=this._getTargetCell(t);e&&(b(this._grid,e.col,e.row,t.shiftKey),this._bindMoveAndUp(t),this._cell=e,P(t),n(t))}select(t){const e=this._getTargetCell(t);e&&(b(this._grid,e.col,e.row,t.shiftKey),this._cell=e)}_moveInternal(t){const e=this._getTargetCell(t);if(!e||this._cell.col===e.col&&this._cell.row===e.row)return!1;b(this._grid,e.col,e.row,!0);const o=(()=>e.col<this._cell.col&&0<e.col?e.col-1:this._cell.col<e.col&&e.col+1<this._grid.colCount?e.col+1:e.col)(),n=(()=>e.row<this._cell.row&&0<e.row?e.row-1:this._cell.row<e.row&&e.row+1<this._grid.rowCount?e.row+1:e.row)();return o===e.col&&n===e.row||this._grid.makeVisibleCell(o,n),this._cell=e,!0}_getTargetCell(t){const e=y(this._grid,t);if(!e)return null;const o=this._grid.getCellAt(e.x,e.y);return o.col<0||o.row<0?null:o}}class et extends J{constructor(t){super(t),this._targetCol=-1}start(t,e){let o;B(e)?({pageX:o}=e.changedTouches[0]):({pageX:o}=e),this._x=o,this._preX=0,this._bindMoveAndUp(e),this._targetCol=t,this._invalidateAbsoluteLeft=m(this._grid,0,t-1),P(e),n(e)}_moveInternal(t){const e=(B(t)?t.changedTouches[0].pageX:t.pageX)-this._x,o=e-this._preX;this._preX=e;const n=this._grid.getColWidth(this._targetCol);let s=p(this._grid,this._targetCol,n+o);s<10&&o<0&&(s=10),w(this._grid,this._targetCol,s);const r=L(this._grid);return r.left=this._invalidateAbsoluteLeft,d(this._grid,r),this._grid.fireListeners(Z.RESIZE_COLUMN,{col:this._targetCol}),!0}_upInternal(t){this._grid.updateScroll()}}function S(t,e){const{type:o}=t;t.type="",t.value=e,o&&(t.type=o)}class ot extends k{constructor(t,o,n){super(),this._grid=t,this._scrollable=n,this._handler=new W,this._input=document.createElement("input"),this._input.classList.add("grid-focus-control"),this._input.readOnly=!0,o.appendChild(this._input),this._handler.on(this._input,"compositionstart",e=>{this._input.classList.add("composition"),this._input.style.font=this._grid.font||"16px sans-serif",this._isComposition=!0,t.focus()}),this._handler.on(this._input,"compositionend",t=>{this._isComposition=!1,this._input.classList.remove("composition"),this._input.style.font="",this._input.readOnly||this.fireListeners("input",this._input.value),S(this._input,"")}),this._handler.on(this._input,"keypress",t=>{this._isComposition||(!this._input.readOnly&&t.key&&1===t.key.length&&("c"===t.key&&(t.ctrlKey||t.metaKey)||(this.fireListeners("input",t.key),P(t))),S(this._input,""))}),this._handler.on(this._input,"keydown",t=>{if(this._isComposition)return;const e=O(t);this.fireListeners("keydown",e,t),!this._input.readOnly&&this._input.value&&this.fireListeners("input",this._input.value),S(this._input,"")});const s=t=>{this._isComposition||S(this._input,"")};this._handler.on(this._input,"input",s),this._handler.on(this._input,"keyup",s),this._handler.on(document,"keydown",t=>{if(!R.IE)return;if(t.target!==this._input)return;O(t)===Q&&t.ctrlKey&&(S(this._input,"dummy"),this._input.select(),setTimeout(()=>{S(this._input,"")},100))}),this._handler.on(document,"copy",t=>{if(this._isComposition)return;if(!T(o,t.target))return;S(this._input,"");const n=A.find(this.fireListeners("copy"),e);e(n)&&(P(t),R.IE?window.clipboardData.setData("Text",n):t.clipboardData.setData("text/plain",n))})}onKeyDownMove(t){this._handler.on(this._input,"keydown",e=>{if(this._isComposition)return;const o=O(e);o!==j&&o!==Y&&o!==q&&o!==X&&o!==G&&o!==K||t(e)})}onInput(t){return this.listen("input",t)}onCopy(t){return this.listen("copy",t)}focus(){this._input.focus()}setFocusRect(t){const e=this._scrollable.calcTop(t.top);this._input.style.top=(e-N.getScrollBarSize()).toFixed()+"px",this._input.style.left=t.left.toFixed()+"px",this._input.style.width=t.width.toFixed()+"px",this._input.style.height=t.height.toFixed()+"px"}set editMode(t){this._input.readOnly=!t}resetInputStatus(){const t=this._input,e=t.classList.contains("composition"),o=t.attributes,n=[];for(let t=0,e=o.length;t<e;t++){const e=o[t];this._inputStatus.hasOwnProperty(e.nodeName)||n.push(e.name)}n.forEach(e=>{t.removeAttribute(e)});for(const e in this._inputStatus)t.setAttribute(e,this._inputStatus[e]);e?(t.classList.add("composition"),t.style.font=this._grid.font||"16px sans-serif"):t.classList.remove("composition")}storeInputStatus(){const t=this._input;this._inputStatus={};const e=t.attributes;for(let t=0,o=e.length;t<o;t++){const o=e[t];this._inputStatus[o.name]=o.value}}setDefaultInputStatus(){}get editMode(){return!this._input.readOnly}get input(){return this._input}dispose(){super.dispose(),this._handler.dispose()}}class nt extends k{constructor(t){super(),this._grid=t,this._sel={col:0,row:0},this._focus={col:0,row:0},this._start={col:0,row:0},this._end={col:0,row:0}}get range(){const t=Math.min(this._start.col,this._end.col),e=Math.min(this._start.row,this._end.row),o=Math.max(this._start.col,this._end.col),n=Math.max(this._start.row,this._end.row);return{start:{col:t,row:e},end:{col:o,row:n},inCell:(s,r)=>t<=s&&s<=o&&e<=r&&r<=n}}get select(){return{col:this._sel.col,row:this._sel.row}}set select(t={}){this._wrapFireSelectedEvent(()=>{const{col:e=0,row:o=0}=t;this._setSelectCell(e,o),this._setFocusCell(e,o,!0)})}_setSelectCell(t,e){this._wrapFireSelectedEvent(()=>{this._sel={col:t,row:e},this._start={col:t,row:e}})}_setFocusCell(t,e,o){this._wrapFireSelectedEvent(()=>{o||this._setSelectCell(t,e),this._focus={col:t,row:e},this._end={col:t,row:e}})}_wrapFireSelectedEvent(t){if(this._isWraped)t();else{this._isWraped=!0;try{const e={col:this._sel.col,row:this._sel.row,selected:!1};t();const o={col:this._sel.col,row:this._sel.row,selected:!0,before:{col:e.col,row:e.row}};e.after={col:o.col,row:o.row},this.fireListeners(Z.SELECTED_CELL,e),this.fireListeners(Z.SELECTED_CELL,o)}finally{this._isWraped=!1}}}}class st{constructor(){this._layers={}}addDraw(t,e){(this._layers[t]||(this._layers[t]=new rt(t))).addDraw(e)}draw(t){const e=[];for(const t in this._layers)e.push(this._layers[t]);e.sort((t,e)=>t.level-e.level),e.forEach(e=>e.draw(t))}}class rt{constructor(t){this._level=t,this._list=[]}get level(){return this._level}addDraw(t){this._list.push(t)}draw(t){this._list.forEach(e=>{t.save();try{e(t)}finally{t.restore()}})}}class it{constructor(t,e,o,n,s,r,i,l){this._col=t,this._row=e,this._mode=0,this._ctx=o,this._rect=n,this._drawRect=s,this._drawing=r,this._selection=i,this._drawLayers=l}get drawing(){return 0!==this._mode||this._drawing}get row(){return this._row}get col(){return this._col}getSelectState(){const t=this._selection.select;return{selected:t.col===this._col&&t.row===this._row,selection:this._selection.range.inCell(this._col,this._row)}}getContext(){return 0===this._mode?this._ctx:this._grid._getInitContext()}getRect(){return 0===this._mode?this._rect:this._rect?this._rect:this._grid.getCellRelativeRect(this._col,this._row)}setRect(t){this._rect=t}getDrawRect(){if(0===this._mode)return this._drawRect;{const t=this._grid.getCellRect(this._col,this._row);return this._toRelativeDrawRect(t)}}toCurrentContext(){if(0===this._mode)return this;{const t=this._grid.getCellRect(this._col,this._row),e=I(this._grid,t),o=this._toRelativeDrawRect(t),n=new it(this._col,this._row,this.getContext(),e,o,this.drawing,this._selection,this._drawLayers);return n.toCurrentContext=this.toCurrentContext.bind(this),n}}addLayerDraw(t,e){this._drawLayers.addDraw(t,e)}_toRelativeDrawRect(t){const e=L(this._grid);let o=t.copy();if(!o.intersection(e))return null;const n=this._grid.isFrozenCell(this._col,this._row);if(this._grid.frozenColCount>=0&&(!n||!n.col)){const t=this._grid.getCellRect(this._grid.frozenColCount-1,this._row);o=F.bounds(Math.max(o.left,t.right),o.top,o.right,o.bottom)}if(this._grid.frozenRowCount>=0&&(!n||!n.row)){const t=this._grid.getCellRect(this._col,this._grid.frozenRowCount-1);o=F.bounds(o.left,Math.max(o.top,t.bottom),o.right,o.bottom)}return o.intersection(e)?(o.offsetLeft(-e.left),o.offsetTop(-e.top),o):null}_delayMode(t,e){this._mode=1,this._ctx=null,this._rect=null,this._drawRect=null,this._grid=t,this._onTerminate=e}terminate(){0!==this._mode&&this._onTerminate()}}class lt extends k{static get EVENT_TYPE(){return Z}constructor({rowCount:t=10,colCount:e=10,frozenColCount:o=0,frozenRowCount:n=0,defaultRowHeight:s=40,defaultColWidth:r=80,font:i,underlayBackgroundColor:l,parentElement:c}={}){super(),this[$]={},N.initDocument(),this[$].element=function(){const t=document.createElement("div");return t.classList.add("cheetah-grid"),t}(),this[$].scrollable=new z,this[$].handler=new W,this[$].selection=new nt(this),this[$].focusControl=new ot(this,this[$].scrollable.getElement(),this[$].scrollable),this[$].canvas=V.transform(document.createElement("canvas")),this[$].context=this[$].canvas.getContext("2d",{alpha:!1}),this[$].rowCount=t,this[$].colCount=e,this[$].frozenColCount=o,this[$].frozenRowCount=n,this[$].defaultRowHeight=s,this[$].defaultColWidth=r,this[$].font=i,this[$].underlayBackgroundColor=l,this[$].rowHeightsMap=new U,this[$].colWidthsMap=new U,this[$].colWidthsLimit={},this[$].calcWidthContext={_:this[$],get full(){return this._.canvas.width},get em(){return this._.context.measureText("ã‚").width}},this[$].columnResizer=new et(this),this[$].cellSelector=new tt(this),this[$].drawCells={},this[$].element.appendChild(this[$].canvas),this[$].element.appendChild(this[$].scrollable.getElement()),this.updateScroll(),c?(c.appendChild(this[$].element),this.updateSize()):this.updateSize(),v(this)}getElement(){return this[$].element}get canvas(){return this[$].canvas}focus(){const{col:t,row:e}=this[$].selection.select;this.focusCell(t,e)}get selection(){return this[$].selection}get rowCount(){return this[$].rowCount}set rowCount(t){this[$].rowCount=t,this.updateScroll()}get colCount(){return this[$].colCount}set colCount(t){this[$].colCount=t,this.updateScroll()}get frozenColCount(){return this[$].frozenColCount}set frozenColCount(t){this[$].frozenColCount=t}get frozenRowCount(){return this[$].frozenRowCount}set frozenRowCount(t){this[$].frozenRowCount=t}get defaultRowHeight(){return this[$].rowCount}set defaultRowHeight(t){this[$].defaultRowHeight=t,this.updateScroll()}get defaultColWidth(){return this[$].defaultColWidth}set defaultColWidth(t){this[$].defaultColWidth=t,this.updateScroll()}get font(){return this[$].font}set font(t){this[$].font=t}get underlayBackgroundColor(){return this[$].underlayBackgroundColor}set underlayBackgroundColor(t){this[$].underlayBackgroundColor=t}configure(t,o){const n=this[$].config||(this[$].config={});return e(o)&&(n[t]=o),n[t]}updateSize(){this[$].canvas.style.width="",this[$].canvas.style.height="";const t=Math.floor(this[$].canvas.offsetWidth||this[$].canvas.parentElement.offsetWidth-N.getScrollBarSize()),e=Math.floor(this[$].canvas.offsetHeight||this[$].canvas.parentElement.offsetHeight-N.getScrollBarSize());this[$].canvas.width=t,this[$].canvas.height=e,this[$].canvas.style.width=`${t}px`,this[$].canvas.style.height=`${e}px`;const o=this[$].selection.select;this[$].focusControl.setFocusRect(this.getCellRect(o.col,o.row))}updateScroll(){this[$].scrollable.setScrollSize(function(t){let e=g(t)*t[$].colCount;return t[$].colWidthsMap.eachAll((o,n)=>{e+=p(t,n,f(t,o))-g(t)}),e}(this),function(t,o){const n=t.getScrollHeightInternal(o);if(e(n))return n;let s=t[$].defaultRowHeight*t[$].rowCount;return t[$].rowHeightsMap.eachAll(e=>{s+=e-t[$].defaultRowHeight}),s}(this)),this[$].scroll={left:this[$].scrollable.scrollLeft,top:this[$].scrollable.scrollTop}}getRowHeight(t){return C(this,t)}setRowHeight(t,e){!function(t,e,o){t[$].rowHeightsMap.put(e,o)}(this,t,e),this.updateScroll()}getColWidth(t){return _(this,t)}setColWidth(t,e){w(this,t,e),this.updateScroll()}getMaxColWidth(t){const e=this[$].colWidthsLimit[t];return e&&e.max||void 0}setMaxColWidth(t,e){(this[$].colWidthsLimit[t]||(this[$].colWidthsLimit[t]={})).max=e}getMinColWidth(t){const e=this[$].colWidthsLimit[t];return e&&e.min||void 0}setMinColWidth(t,e){(this[$].colWidthsLimit[t]||(this[$].colWidthsLimit[t]={})).min=e}getCellRect(t,e){const o=this.isFrozenCell(t,e);let n=m(this,0,t-1);const s=_(this,t);o&&o.col&&(n+=this[$].scroll.left);let r=x(this,0,e-1);const i=C(this,e);return o&&o.row&&(r+=this[$].scroll.top),new F(n,r,s,i)}getCellRelativeRect(t,e){return I(this,this.getCellRect(t,e))}getCellsRect(t,e,o,n){const s=this.isFrozenCell(t,e),r=this.isFrozenCell(o,n);let i=m(this,0,t-1),l=m(this,t,o);if(s&&s.col){const e=this[$].scroll.left;i+=e,r&&r.col||(l-=e,l=Math.max(l,m(this,t,this.frozenColCount-1)))}let c=x(this,0,e-1),a=x(this,e,n);if(s&&s.row){const t=this[$].scroll.top;c+=t,r&&r.row||(a-=t,a=Math.max(a,m(this,e,this.frozenRowCount-1)))}return new F(i,c,l,a)}isFrozenCell(t,e){const o=this[$].frozenRowCount>0&&e<this[$].frozenRowCount,n=this[$].frozenColCount>0&&t<this[$].frozenColCount;return o||n?{row:o,col:n}:null}getRowAt(t){const e=i(this,t);if(e)return e.row;const o=s(this,t);return o?o.row:-1}getColAt(t){const e=l(this,t);if(e)return e.col;const o=r(this,t);return o?o.col:-1}getCellAt(t,e){return{row:this.getRowAt(e),col:this.getColAt(t)}}makeVisibleCell(t,e){const o=this.isFrozenCell(t,e);if(o&&o.col&&o.row)return;const n=this.getCellRect(t,e),s=function(t){let e=0;t[$].frozenColCount>0&&(e=a(t).width);let o=0;t[$].frozenRowCount>0&&(o=c(t).height);return new F(t[$].scroll.left+e,t[$].scroll.top+o,t[$].canvas.width-e,t[$].canvas.height-o)}(this);s.contains(n)||(o&&o.col||(n.left<s.left?this[$].scrollable.scrollLeft-=s.left-n.left:s.right<n.right&&(this[$].scrollable.scrollLeft-=s.right-n.right)),o&&o.row||(n.top<s.top?this[$].scrollable.scrollTop-=s.top-n.top:s.bottom<n.bottom&&(this[$].scrollable.scrollTop-=s.bottom-n.bottom)))}focusCell(t,e){this[$].focusControl.editMode&&this[$].focusControl.resetInputStatus(),this[$].focusControl.setFocusRect(this.getCellRect(t,e));const{col:o,row:n}=this[$].selection.select,s=this.fireListeners(Z.EDITABLEINPUT_CELL,{col:o,row:n}),r=A.findIndex(s,t=>!!t)>=0;this[$].focusControl.editMode=r,r&&(this[$].focusControl.storeInputStatus(),this[$].focusControl.setDefaultInputStatus(),this.fireListeners(Z.MODIFY_STATUS_EDITABLEINPUT_CELL,{col:o,row:n,input:this[$].focusControl.input})),this[$].focusControl.focus()}invalidateCell(t,e){this.invalidateGridRect(t,e)}invalidateGridRect(t,e,o=t,n=e){const s=this.getOffsetInvalidateCells();s>0&&(t-=s,e-=s,o+=s,n+=s);const r=L(this),i=this.getCellsRect(t,e,o,n),l=r.intersection(i);if(l){if(this[$].frozenColCount>0&&o>=this[$].frozenColCount){const t=a(this);t.intersection(l)&&(l.left=Math.min(t.right-1,t.right))}if(this[$].frozenRowCount>0&&n>=this[$].frozenRowCount){const t=c(this);t.intersection(l)&&(l.top=Math.min(t.bottom-1,l.top))}d(this,l)}}invalidate(){d(this,L(this))}getCopyCellValue(t,e){}onDrawCell(t,e,o){}addDisposable(t){if(!t||!t.dispose||"function"!=typeof t.dispose)throw new Error("not disposable!");(this[$].disposables=this[$].disposables||[]).push(t)}dispose(){super.dispose(),this[$].handler.dispose(),this[$].scrollable.dispose(),this[$].focusControl.dispose(),this[$].columnResizer.dispose(),this[$].cellSelector.dispose(),this[$].disposables&&(this[$].disposables.forEach(t=>t.dispose()),this[$].disposables=null);const{parentElement:t}=this[$].element;t&&t.removeChild(this[$].element)}getAttachCellArea(t,e){return{element:this.getElement(),rect:I(this,this.getCellRect(t,e))}}bindEventsInternal(){}getTargetRowAtInternal(t){}getRowsHeightInternal(t,e){}getRowHeightInternal(t){}getScrollHeightInternal(t){}getMoveLeftColByKeyDownInternal({col:t,row:e}){return t-1}getMoveRightColByKeyDownInternal({col:t,row:e}){return t+1}getMoveUpRowByKeyDownInternal({col:t,row:e}){return e-1}getMoveDownRowByKeyDownInternal({col:t,row:e}){return e+1}getOffsetInvalidateCells(){return 0}_getInitContext(){const t=this[$].context;return t.fillStyle="white",t.strokeStyle="black",t.textAlign="left",t.textBaseline="top",t.lineWidth=1,t.font=this.font||"16px sans-serif",t}}t.exports=lt}},function(t,e,o){"use strict";{const{obj:{each:e}}=o(0);let n=1;class s{constructor(){this._listeners={}}on(t,e,o,...s){t.addEventListener&&t.addEventListener(e,o,...s);const r={target:t,type:e,listener:o,options:s},i=n++;return this._listeners[i]=r,i}tryWithOffEvents(t,o,n){const s=[];try{e(this._listeners,e=>{e.target===t&&e.type===o&&(e.target.removeEventListener&&e.target.removeEventListener(e.type,e.listener,...e.options),s.push(e))}),n()}finally{s.forEach(t=>{t.target.addEventListener&&t.target.addEventListener(t.type,t.listener,...t.options)})}}off(t){if(!t)return;const e=this._listeners[t];e&&(delete this._listeners[t],e.target.removeEventListener&&e.target.removeEventListener(e.type,e.listener,...e.options))}fire(t,o,...n){e(this._listeners,e=>{e.target===t&&e.type===o&&e.listener.call(e.target,...n)})}hasListener(t,o){let n=!1;return e(this._listeners,e=>{e.target===t&&e.type===o&&(n=!0)}),n}clear(){e(this._listeners,t=>{t.target.removeEventListener&&t.target.removeEventListener(t.type,t.listener,...t.options)}),this._listeners={}}dispose(){this.clear(),this._listeners=null}}t.exports=s}},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var o=function(t,e){var o=t[1]||"",n=t[3];if(!n)return o;if(e&&"function"==typeof btoa){var s=(i=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),r=n.sources.map(function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"});return[o].concat(r).concat([s]).join("\n")}var i;return[o].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+o+"}":o}).join("")},e.i=function(t,o){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},s=0;s<this.length;s++){var r=this[s][0];"number"==typeof r&&(n[r]=!0)}for(s=0;s<t.length;s++){var i=t[s];"number"==typeof i[0]&&n[i[0]]||(o&&!i[2]?i[2]=o:o&&(i[2]="("+i[2]+") and ("+o+")"),e.push(i))}},e}},function(t,e,o){var n,s,r={},i=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===s&&(s=n.apply(this,arguments)),s}),l=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var o=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(t){o=null}e[t]=o}return e[t]}}(),c=null,a=0,h=[],u=o(62);function d(t,e){for(var o=0;o<t.length;o++){var n=t[o],s=r[n.id];if(s){s.refs++;for(var i=0;i<s.parts.length;i++)s.parts[i](n.parts[i]);for(;i<n.parts.length;i++)s.parts.push(m(n.parts[i],e))}else{var l=[];for(i=0;i<n.parts.length;i++)l.push(m(n.parts[i],e));r[n.id]={id:n.id,refs:1,parts:l}}}}function f(t,e){for(var o=[],n={},s=0;s<t.length;s++){var r=t[s],i=e.base?r[0]+e.base:r[0],l={css:r[1],media:r[2],sourceMap:r[3]};n[i]?n[i].parts.push(l):o.push(n[i]={id:i,parts:[l]})}return o}function g(t,e){var o=l(t.insertInto);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=h[h.length-1];if("top"===t.insertAt)n?n.nextSibling?o.insertBefore(e,n.nextSibling):o.appendChild(e):o.insertBefore(e,o.firstChild),h.push(e);else if("bottom"===t.insertAt)o.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var s=l(t.insertInto+" "+t.insertAt.before);o.insertBefore(e,s)}}function p(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=h.indexOf(t);e>=0&&h.splice(e,1)}function _(t){var e=document.createElement("style");return t.attrs.type="text/css",w(e,t.attrs),g(t,e),e}function w(t,e){Object.keys(e).forEach(function(o){t.setAttribute(o,e[o])})}function m(t,e){var o,n,s,r;if(e.transform&&t.css){if(!(r=e.transform(t.css)))return function(){};t.css=r}if(e.singleton){var i=a++;o=c||(c=_(e)),n=b.bind(null,o,i,!1),s=b.bind(null,o,i,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(o=function(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",w(e,t.attrs),g(t,e),e}(e),n=function(t,e,o){var n=o.css,s=o.sourceMap,r=void 0===e.convertToAbsoluteUrls&&s;(e.convertToAbsoluteUrls||r)&&(n=u(n));s&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */");var i=new Blob([n],{type:"text/css"}),l=t.href;t.href=URL.createObjectURL(i),l&&URL.revokeObjectURL(l)}.bind(null,o,e),s=function(){p(o),o.href&&URL.revokeObjectURL(o.href)}):(o=_(e),n=function(t,e){var o=e.css,n=e.media;n&&t.setAttribute("media",n);if(t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}.bind(null,o),s=function(){p(o)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else s()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=i()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var o=f(t,e);return d(o,e),function(t){for(var n=[],s=0;s<o.length;s++){var i=o[s];(l=r[i.id]).refs--,n.push(l)}t&&d(f(t,e),e);for(s=0;s<n.length;s++){var l;if(0===(l=n[s]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete r[l.id]}}}};var C,x=(C=[],function(t,e){return C[t]=e,C.filter(Boolean).join("\n")});function b(t,e,o,n){var s=o?"":n.css;if(t.styleSheet)t.styleSheet.cssText=x(e,s);else{var r=document.createTextNode(s),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(r,i[e]):t.appendChild(r)}}},function(t,e,o){"use strict";{class e{constructor(t,e,o,n){this._left=t,this._top=e,this._width=o,this._height=n}static bounds(t,o,n,s){return new e(t,o,n-t,s-o)}static max(t,o){return e.bounds(Math.min(t.left,o.left),Math.min(t.top,o.top),Math.max(t.right,o.right),Math.max(t.bottom,o.bottom))}get left(){return this._left}set left(t){const{right:e}=this;this._left=t,this.right=e}get top(){return this._top}set top(t){const{bottom:e}=this;this._top=t,this.bottom=e}get width(){return this._width}set width(t){this._width=t,this._right=void 0}get height(){return this._height}set height(t){this._height=t,this._bottom=void 0}get right(){return void 0!==this._right?this._right:this._right=this.left+this.width}set right(t){this._right=t,this.width=t-this.left}get bottom(){return void 0!==this._bottom?this._bottom:this._bottom=this.top+this.height}set bottom(t){this._bottom=t,this.height=t-this.top}offsetLeft(t){this._left+=t,this._right=void 0}offsetTop(t){this._top+=t,this._bottom=void 0}copy(){return new e(this.left,this.top,this.width,this.height)}intersection(t){const o=Math.max(this.left,t.left),n=Math.min(this.left+this.width,t.left+t.width);if(o<=n){const s=Math.max(this.top,t.top),r=Math.min(this.top+this.height,t.top+t.height);if(s<=r)return e.bounds(o,s,n,r)}return null}contains(t){return this.left<=t.left&&this.left+this.width>=t.left+t.width&&this.top<=t.top&&this.top+this.height>=t.top+t.height}inPoint(t,e){return this.left<=t&&this.left+this.width>=t&&this.top<=e&&this.top+this.height>=e}}t.exports=e}},function(t,e,o){"use strict";{function n(t,e,o,n,{offset:s=0,padding:{left:r=0,right:i=0,top:l=0,bottom:c=0}={}}={}){const a=t.textAlign||"left",h=t.textBaseline||"middle";t.textAlign=a,t.textBaseline=h;let u=e.left+s+r;"right"===a||"end"===a?u=e.right-o-s-i:"center"===a&&(u=e.left+(e.width-o+r-i)/2);let d=e.top+s+l;return"bottom"===h||"alphabetic"===h||"ideographic"===h?d=e.bottom-n-s-c:"middle"===h&&(d=e.top+(e.height-n+l-c)/2),{x:u,y:d}}t.exports={calcBasePosition:function(t,e,{offset:o=0,padding:{left:s=0,right:r=0,top:i=0,bottom:l=0}={}}={}){return n(t,e,0,0,{offset:o,padding:{left:s,right:r,top:i,bottom:l}})},calcStartPosition:n}}},function(t,e,o){"use strict";{const e=o(3),n=o(11),s=o(21);class r extends n{get StyleClass(){return e}clone(){return new r(this)}drawInternal(t,e,o,n,r,{drawCellBase:i,getIcon:l}){const{textAlign:c,textBaseline:a,color:h,font:u,bgColor:d,padding:f}=o;d&&i({bgColor:d}),n.testFontLoad(u,t,e),s.loadIcons(l(),e,n,(e,o)=>{n.text(t,o,{textAlign:c,textBaseline:a,color:h,font:u,icons:e,padding:f})})}}t.exports=r}},function(t,e,o){"use strict";{const e=o(35),{isPromise:r,isDef:i,obj:{setReadonly:l}}=o(0),c=o(32),a=o(3),{COLUMN_FADEIN_STATE_ID:h}=o(1);function n(t){return t[h]||l(t,h,{}),t[h]}function s(t,e,o,s,r,i){return l=>{const c=n(t),a=e+":"+o;1===l?delete c[a]:c[a]={opacity:l},i(),r();const h=c[a];if(h){const t=s.getContext();t.globalAlpha=1-h.opacity;try{i()}finally{t.globalAlpha=1}}}}const u={animate(t,e,o,r,i,l){const a=n(t),h=[s(t,e,o,r,i,l)];a.activeFadeins=h,c(500,t=>{h.forEach(e=>e(t)),1===t&&delete a.activeFadeins})},margeAnimate(t,e,o,r,i,l){const c=n(t);c.activeFadeins?c.activeFadeins.push(s(t,e,o,r,i,l)):i()}};class d{constructor(t={}){this.onDrawCell=this.onDrawCell.bind(this),this._fadeinWhenCallbackInPromise=t.fadeinWhenCallbackInPromise}get StyleClass(){return a}onDrawCell(t,o,n,s){const{style:l,getRecord:c,drawCellBase:a}=o;delete o.getRecord,delete o.style;const d=s.getGridCanvasHelper();if(a(),r(t)){if(n.drawing)return null;const r=Date.now();return t.then(t=>{if(!n.toCurrentContext().getDrawRect())return;const h=Date.now()-r,f=()=>{const r=n.toCurrentContext();if(!r.getDrawRect())return;const i=e.of(l,c(),this.StyleClass);this.drawInternal(this.convertInternal(t),r,i,d,s,o),this.drawMessageInternal(o.getMessage(),n,i,d,s,o)};if(function(t,e){return i(t._fadeinWhenCallbackInPromise)?t._fadeinWhenCallbackInPromise:!!e.configure("fadeinWhenCallbackInPromise")}(this,s)){const{col:t,row:e}=n;h<80?u.margeAnimate(s,t,e,n,f,a):u.animate(s,t,e,n,f,a)}else f()})}{const r=e.of(l,c(),this.StyleClass);this.drawInternal(this.convertInternal(t),n,r,d,s,o),this.drawMessageInternal(o.getMessage(),n,r,d,s,o);const{col:i,row:u}=n,f=i+":"+u,g=s[h]&&s[h][f];if(g){const t=n.getContext();t.globalAlpha=1-g.opacity;try{a()}finally{t.globalAlpha=1}}return null}}clone(){return new d(this)}convertInternal(t){return i(t)?t:""}drawInternal(t,e,o,n,s,r){}drawMessageInternal(t,e,o,n,s,r){r.messageHandler.drawCellMessage(t,e,o,n,r)}bindGridEvent(t,e,o){return[]}}t.exports=d}},function(t,e,o){"use strict";const{isDef:n}=o(0);t.exports=class{constructor(t){this._content=n(t)?t:""}width({ctx:t}){return t.measureText(this._content).width}font(){return null}color(){return null}canDraw(){return!0}onReady(t){}draw({ctx:t,canvashelper:e,rect:o,offset:n,offsetLeft:s,offsetRight:r,offsetTop:i,offsetBottom:l}){e.fillTextRect(t,this._content,o.left,o.top,o.width,o.height,{offset:n+1,padding:{left:s,right:r,top:i,bottom:l}})}}},function(t,e,o){"use strict";{const{isDef:e,obj:{each:n}}=o(0),{_:s}=o(1).get();let r=1;class i{constructor(){this[s]={},this[s].listeners={},this[s].listenerData={}}listen(t,e){const o=this[s].listeners[t]||(this[s].listeners[t]=[]);o.push(e);const n=r++;return this[s].listenerData[n]={type:t,listener:e,remove:()=>{delete this[s].listenerData[n];const r=o.indexOf(e);o.splice(r,1),this[s].listeners[t].length||delete this[s].listeners[t]}},n}unlisten(t){this[s].listenerData[t].remove()}addEventListener(t,e){this.listen(t,e)}removeEventListener(t,e){n(this[s].listenerData,(o,n)=>{o.type===t&&o.listener===e&&this.unlisten(n)})}hasListeners(t){return!!this[s].listeners[t]}fireListeners(t,...o){const n=this[s].listeners[t];return n?n.map(t=>t.call(this,...o)).filter(e):[]}dispose(){delete this[s]}}t.exports=i}},function(t,e,o){"use strict";{const e=o(18);class n extends e{constructor(t={}){super(t),this._readOnly=t.readOnly}get readOnly(){return this._readOnly}set readOnly(t){this._readOnly=!!t,this.onChangeReadOnlyInternal()}clone(){return new n(this)}onChangeReadOnlyInternal(){}}t.exports=n}},function(t,e,o){"use strict";(function(e){const{isDef:n}=o(0);function s(t,{classList:o,text:n,html:s}={}){const r=document.createElement(t);return o&&(e(o)?r.classList.add(...o):r.classList.add(o)),n?r.textContent=n:s&&(r.innerHTML=s),r}function r(t){return!(!t.nodeType||!t.nodeName)}function i(t){if(r(t))return t;const e=s("div",{html:t});return Array.prototype.slice.call(e.childNodes)}function l(t){return window.jQuery&&t instanceof window.jQuery?Array.prototype.map.call(t,t=>t):e(t)?t.map(i):[i(t)]}function c(t){return n(t.tabIndex)&&t.tabIndex>-1}t.exports={createElement:s,empty:function(t){let e;for(;e=t.firstChild;)t.removeChild(e)},isNode:r,toNode:i,toNodeList:l,appendHtml:function(t,e){l(e).forEach(e=>{t.appendChild(e)})},disableFocus:function t(e){e.dataset.disableBeforeTabIndex=e.tabIndex,e.tabIndex=-1,Array.prototype.slice.call(e.children,0).forEach(t)},enableFocus:function t(e){"disableBeforeTabIndex"in e.dataset&&(e.tabIndex=e.dataset.disableBeforeTabIndex),Array.prototype.slice.call(e.children,0).forEach(t)},isFocusable:c,findPrevSiblingFocusable:function(t){let e=t.previousSibling;for(;e&&!c(e);)e=e.previousSibling;return e},findNextSiblingFocusable:function(t){let e=t.nextSibling;for(;e&&!c(e);)e=e.nextSibling;return e}}}).call(this,o(2).Array_isArray)},function(t,e,o){"use strict";{const e=o(54),n=o(115),s={get BaseStyle(){return e},get Style(){return n},of:(t,e)=>t?t instanceof n?t:"function"==typeof t?s.of(t(),e):new e(t):e.DEFAULT};t.exports=s}},function(module,exports,__webpack_require__){"use strict";function parse(calcStr){function replacer(t,e,o){switch(o){case"%":return`(${e} * this.full / 100)`;case"em":return`(${e} * this.em)`;case"px":return`(${e})`;default:throw new Error("calc error")}}const script=calcStr.replace(/^calc\((.*)\)$/,"$1").replace(/(\d+)([A-Za-z%]+)/g,replacer).replace(/(\d*\.\d+)([A-Za-z%]+)/g,replacer);return{eval(context){return(()=>{function calc(t){return t}return eval(script)}).call(context)}}}function toPx(t,e){return/^calc\(.*\)$/.test(t)?parse(t).eval(e):/^[+-]?\d+\.?\d*%$/.test(t)?e.full*t.substr(0,t.length-1)/100:/^[+-]?\d+\.?\d*px$/.test(t)?t.substr(0,t.length-2)-0:/^[+-]?\d+\.?\d*em$/.test(t)?e.em*(t.substr(0,t.length-2)-0):t-0}module.exports={parse:parse,toPx:(t,e)=>"string"==typeof t?toPx(t.trim(),e):t-0}},function(t,e,o){"use strict";{class e{constructor(t={}){this._disabled=t.disabled}get disabled(){return this._disabled}set disabled(t){this._disabled=!!t,this.onChangeDisabledInternal()}clone(){return new e(this)}bindGridEvent(t,e,o){return[]}onChangeDisabledInternal(){}}t.exports=e}},function(t,e,o){"use strict";{const e=o(20);let n;class s extends e{static get DEFAULT(){return n||(n=new s)}constructor(t={}){super(t),this._textAlign=t.textAlign||"left",this._textBaseline=t.textBaseline||"middle"}get textAlign(){return this._textAlign}set textAlign(t){this._textAlign=t,this.doChangeStyle()}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline=t,this.doChangeStyle()}clone(){return new s(this)}}t.exports=s}},function(t,e,o){"use strict";{const e=o(13),n={CHANGE_STYLE:"change_style"};let s;class r extends e{static get EVENT_TYPE(){return n}static get DEFAULT(){return s||(s=new r)}constructor({bgColor:t}={}){super(),this._bgColor=t}get bgColor(){return this._bgColor}set bgColor(t){this._bgColor=t,this.doChangeStyle()}doChangeStyle(){this.fireListeners(n.CHANGE_STYLE)}clone(){return new r(this)}}t.exports=r}},function(t,e,o){"use strict";{const{isPromise:e}=o(0),n=o(22);t.exports={loadIcons(t,o,s,r){if(t)if(e(t))t.then(t=>{this.loadIcon(t,o.toCurrentContext(),r)}),t=null;else{const e=n.toNormarizeArray(t);e.forEach(t=>{s.testFontLoad(t.font,t.content,o)}),t=e}r(t,o)}}}},function(t,e,o){"use strict";(function(e){const{isDef:n}=o(0),s=["content","font","color","className","isLiga","width","src","svg","name","path"];const r={},i={};function l(t,e){const o=i[t]||(i[t]={});if(o[e])return o[e];const n=r[t]||(r[t]=document.createElement(t));n.className=e,document.body.appendChild(n);try{const t=document.defaultView.getComputedStyle(n,"::before");let s=t.getPropertyValue("content");s.length>=3&&('"'===s[0]||"'"===s[0])&&s[0]===s[s.length-1]&&(s=s.substr(1,s.length-2));let r=t.getPropertyValue("font");r||(r=t.getPropertyValue("font-style")+" "+t.getPropertyValue("font-variant")+" "+t.getPropertyValue("font-weight")+" "+t.getPropertyValue("font-size")+"/"+t.getPropertyValue("line-height")+" "+function(t){const e=[],o=t.split(/,\s*/);for(let t=0;t<o.length;t++){const n=o[t].replace(/['"]/g,"");-1!==n.indexOf(" ")||/^\d/.test(n)?e.push("'"+n+"'"):e.push(n)}return e.join(",")}(t.getPropertyValue("font-family")));const i=t.getPropertyValue("color"),l=n.clientWidth,c=(t.getPropertyValue("font-feature-settings")||"").indexOf("liga")>-1;return o[e]={content:s,font:r,color:i,width:l,isLiga:c}}finally{document.body.removeChild(n)}}function c(t){if(!t)return t;if(e(t))return t;const o={};let n=0;s.forEach(o=>{t[o]&&(n=e(t[o])?Math.max(n,t[o].length):Math.max(n,1))}),s.forEach(s=>{o[s]=function(t,o){const n=[];if(e(t)){n.push(...t);for(let e=t.length;e<o;e++)n.push(null)}else for(let e=0;e<o;e++)n.push(t);return n}(t[s],n)});const r=[];for(let t=0;t<n;t++){const e={};s.forEach(n=>{e[n]=o[n][t]}),r.push(e)}return r}t.exports={toNormarizeArray(t){const e=c(t);return e?e.map(t=>(function(t){const e={};for(const o in t)"className"!==o&&(e[o]=t[o]);if(t.className){const o=l(t.tagName||"i",t.className);for(const s in o)n(t[s])||(e[s]=o[s])}return e})(t)):e},get iconPropKeys(){return s},getIconProps:l}}).call(this,o(2).Array_isArray)},function(t,e,o){"use strict";{const{extend:e,getIgnoreCase:n}=o(0),s=o(92),r=o(44),i={BASIC:s.create(o(93)),MATERIAL_DESIGN:s.create(o(43))};let l=s.create({});const c={get default(){return l},set default(t){l=t},theme:s,of(t){if(!t)return null;if("string"==typeof t){const e=n(c.choices,t);return e||null}return t},get choices(){return e(i,r)}};t.exports=c}},function(t,e,o){"use strict";function n(){return window.Path2D||o(103)}t.exports={fill(t,e,o,s,r,i){e.save();try{const{width:l,height:c}=t,{ud:a,x:h=0,y:u=0}=t,d=(r=r||l)/l,f=(i=i||c)/(a?-c:c);o=o||0,s=a?(s||0)+-c*f:s||0,e.translate(o,s),e.scale(d,f),0===h&&0===u||e.translate(h,u);const g=n();t.path2d=t.path2d||new g(t.d),e.fill(t.path2d)}finally{e.restore()}},get Path2D(){return n()}}},function(t,e,o){"use strict";{const e=o(26),n=o(11),s=o(21);class r extends n{constructor(t={}){super(t)}get StyleClass(){return e}clone(){return new r(this)}drawInternal(t,e,o,n,r,{drawCellBase:i,getIcon:l}){const{textAlign:c,textBaseline:a,color:h,font:u,bgColor:d,padding:f,lineHeight:g}=o;d&&i({bgColor:d});const p=t.replace(/\r?\n/g,"\n").replace(/\r/g,"\n").split("\n");n.testFontLoad(u,t,e),s.loadIcons(l(),e,n,(t,e)=>{n.multilineText(p,e,{textAlign:c,textBaseline:a,color:h,font:u,icons:t,padding:f,lineHeight:g})})}}t.exports=r}},function(t,e,o){"use strict";{const e=o(3);let n;class s extends e{static get DEFAULT(){return n||(n=new s)}constructor(t={}){super(function(t){const{textBaseline:e="top"}=t;return t.textBaseline=e,t}(t)),this._lineHeight=t.lineHeight||"1em"}clone(){return new s(this)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight=t,this.doChangeStyle()}}t.exports=s}},function(t,e,o){"use strict";{let e;const n=()=>{o(60),e=function(){const t=document.createElement("div"),{style:e}=t;e.position="absolute",e.height="9999px",e.width="calc(100vw - 100%)",e.opacity=0,t.textContent="x",document.body.appendChild(t);const{width:o}=document.defaultView.getComputedStyle(t,"");return document.body.removeChild(t),parseInt(o,10)}()||10;const t=document.createElement("style");t.setAttribute("type","text/css"),t.setAttribute("data-name","cheetah-grid"),t.innerHTML=`\n.cheetah-grid .grid-scroll-end-point {\n\twidth: ${e}px;\n\theight: ${e}px;\n}\n.cheetah-grid > canvas {\n\twidth: -webkit-calc(100% - ${e}px);\n\twidth: calc(100% - ${e}px);\n\theight: -webkit-calc(100% - ${e}px);\n\theight: calc(100% - ${e}px);\n}\n\t\t`,document.head.appendChild(t)},s={initDocument(){s.initDocument=(()=>{}),n()},getScrollBarSize:()=>e};t.exports=s}},function(t,e,o){"use strict";{const{calcBasePosition:e,calcStartPosition:l}=o(9),{ceil:c,PI:a}=Math;function n(t,e,o,n,s,r){t.beginPath(),t.arc(e+r,o+r,r,-a,-.5*a,!1),t.arc(e+n-r,o+r,r,-.5*a,0,!1),t.arc(e+n-r,o+s-r,r,0,.5*a,!1),t.arc(e+r,o+s-r,r,.5*a,a,!1),t.closePath()}function s(t,e,o,s,r,i){n(t,e,o,s,r,i),t.fill()}function r(t,e,o,s,r,i){n(t,e,o,s,r,i),t.stroke()}function i(t){return{width:t.measureText("ã‚").width}}const h={roundRect:n,fillRoundRect:s,strokeRoundRect:r,drawCheckbox:function(t,e,o,n,{uncheckBgColor:l="#FFF",checkBgColor:a="rgb(76, 73, 72)",borderColor:h="#000",boxSize:u=i(t).width}={}){const d="number"==typeof n?n>1?1:n:1;t.save();try{if(t.fillStyle=n?a:l,s(t,c(e)-1,c(o)-1,c(u+1),c(u+1),u/5),t.lineWidth=1,t.strokeStyle=h,r(t,c(e)-.5,c(o)-.5,c(u),c(u),u/5),n){t.lineWidth=c(u/10),t.strokeStyle=l;let n=u/4,s=u/2*.9;const r=e+.2*u,i=o+u/2;d<.5&&(n*=2*d),t.beginPath(),t.moveTo(r,i),t.lineTo(r+n,i+n),d>.5&&(d<1&&(s*=2*(d-.5)),t.lineTo(r+n+s,i+n-s)),t.stroke()}}finally{t.restore()}},measureCheckbox:i,fillTextRect:function(t,o,n,s,r,i,{offset:l=2,padding:c}={}){const a={left:n,top:s,width:r,height:i,right:n+r,bottom:s+i};t.save();try{t.beginPath(),t.rect(a.left,a.top,a.width,a.height),t.clip();const n=e(t,a,{offset:l,padding:c});t.fillText(o,n.x,n.y)}finally{t.restore()}},drawButton:function(t,e,o,n,r,i={}){const{backgroundColor:l="#FFF",bgColor:a=l,radius:h=4,shadow:u={}}=i;t.save();try{if(t.fillStyle=a,u){const{color:e="rgba(0, 0, 0, 0.24)",blur:o=1,offsetX:n=0,offsetY:s=2,offset:{x:r=n,y:i=s}={}}=u;t.shadowColor=e,t.shadowBlur=o,t.shadowOffsetX=r,t.shadowOffsetY=i}s(t,c(e),c(o),c(n),c(r),h)}finally{t.restore()}},drawInlineImageRect:function(t,e,o,n,s,r,i,c,a,h,u,d,{offset:f=2,padding:g}={}){const p={left:a,top:h,width:u,height:d,right:a+u,bottom:h+d};t.save();try{t.beginPath(),t.rect(p.left,p.top,p.width,p.height),t.clip();const a=l(t,p,i,c,{offset:f,padding:g});t.drawImage(e,o,n,s,r,a.x,a.y,i,c)}finally{t.restore()}},strokeColorsRect:function(t,e,o,n,s,r){e[0]===e[1]&&e[0]===e[2]&&e[0]===e[3]?e[0]&&(t.strokeStyle=e[0],t.strokeRect(o,n,s,r)):function(o){for(let n=0;n<e.length;n++){const s=e[n],r=e[n-1];if(s){if(r!==s){r&&(t.strokeStyle=r,t.stroke());const e=o[n];t.beginPath(),t.moveTo(e.x,e.y)}const e=o[n+1];t.lineTo(e.x,e.y)}else r&&(t.strokeStyle=r,t.stroke())}const n=e[e.length-1];n&&(t.strokeStyle=n,t.stroke())}([{x:o,y:n},{x:o+s,y:n},{x:o+s,y:n+r},{x:o,y:n+r},{x:o,y:n}])}};t.exports=h}},function(t,e,o){"use strict";{const e=o(66),n=o(81),s=o(35);t.exports={action:e,type:n,style:s}}},function(t,e,o){"use strict";{const{bindCellClickAction:e,bindCellKeyAction:n}=o(31),s=o(18);class r extends s{constructor(t={}){super(t),this._action=t.action}get action(){return this._action}set action(t){this._action=t}clone(){return new r(this)}getState(t){return{}}bindGridEvent(t,o,s){const r=this.getState(t),i=e=>{if(this.disabled)return;const o=t.getRowRecord(e.row);this._action(o)};return[...e(t,o,s,{action:i,mouseOver:e=>!this.disabled&&(r.mouseActiveCell={col:e.col,row:e.row},t.invalidateCell(e.col,e.row),!0),mouseOut:e=>{delete r.mouseActiveCell,t.invalidateCell(e.col,e.row)}}),...n(t,o,s,{action:i})]}}t.exports=r}},function(t,e,o){"use strict";{const{isPromise:e,event:{cancel:n}}=o(0),{EVENT_TYPE:{CLICK_CELL:s,MOUSEOVER_CELL:r,MOUSEOUT_CELL:i,KEYDOWN:l}}=o(4),c=13;t.exports={bindCellClickAction:function(t,o,n,{action:l,mouseOver:c,mouseOut:a}){return[t.listen(s,o=>{n.isTarget(o.col,o.row)&&(e(t.getRowRecord(o.row))||l({col:o.col,row:o.row}))}),t.listen(r,o=>{n.isTarget(o.col,o.row)&&(e(t.getRowRecord(o.row))||c&&!c({col:o.col,row:o.row})||(t.getElement().style.cursor="pointer"))}),t.listen(i,e=>{n.isTarget(e.col,e.row)&&(a&&a({col:e.col,row:e.row}),t.getElement().style.cursor="")})]},bindCellKeyAction:function(t,o,s,{action:r,acceptKeys:i=[]}){return i=[...i,c],[t.listen(l,(o,l)=>{if(-1===i.indexOf(o))return;const c=t.selection.select;s.isTarget(c.col,c.row)&&(e(t.getRowRecord(c.row))||(r({col:c.col,row:c.row}),n(l)))})]}}}},function(t,e,o){"use strict";{function n(t,e,o,n){let s;return t*=3,e*=3,o*=3,n*=3,function(r){let i,l,c,a,h,u,d;if(r<0||1<r)throw new Error(r);i=s||r;do{i+=.5*(d=r-(u=t*(c=(l=1-i)*l)*i+o*l*(a=i*i)+(h=a*i)))}while(1e-4<Math.abs(d));return s=i,e*c*i+n*l*a+h}}const e={linear:t=>t,easeIn:n(.42,0,1,1),easeOut:n(0,0,.58,1),easeInOut:n(.42,0,.58,1)},o=window.requestAnimationFrame||setTimeout;function s(){return Date.now()}t.exports=((t,n,r)=>{const i=s();r?"string"==typeof r&&(r=e[r]):r=e.easeInOut;let l=!1;const c=(e,c)=>{const a=()=>{const h=s()-i;l?c&&c():h>=t?(n(1),e&&e()):(n(r(h/t)),o(a,1))};return a},a=()=>{l=!0};if(window.Promise){const t=new window.Promise((t,e)=>{const o=c(t,e);n(0),o()});return t.cancel=a,t}{const t=c(()=>{},()=>{});return n(0),t(),{cancel:a}}})}},function(t,e,o){"use strict";{const e=o(14),{EVENT_TYPE:{INPUT_CELL:n,EDITABLEINPUT_CELL:s,SELECTED_CELL:r,DBLCLICK_CELL:i,DBLTAP_CELL:l,KEYDOWN:c,MODIFY_STATUS_EDITABLEINPUT_CELL:a,SCROLL:h}}=o(4),u=13,d=113;class f extends e{constructor(t={}){super(t)}clone(){return new f(this)}onInputCellInternal(t,e,o){throw new Error}onOpenCellInternal(t,e){throw new Error}onChangeSelectCellInternal(t,e,o){throw new Error}onSetInputAttrsInternal(t,e,o){throw new Error}onGridScrollInternal(t){throw new Error}bindGridEvent(t,e,o){const f=e=>{this.readOnly||this.disabled||this.onOpenCellInternal(t,e)},g=(e,o)=>{this.readOnly||this.disabled||this.onInputCellInternal(t,e,o)};return[t.listen(n,t=>{o.isTarget(t.col,t.row)&&g({col:t.col,row:t.row},t.value)}),t.listen(i,t=>{o.isTarget(t.col,t.row)&&f({col:t.col,row:t.row})}),t.listen(l,t=>{o.isTarget(t.col,t.row)&&(f({col:t.col,row:t.row}),t.event.preventDefault(),t.event.stopPropagation())}),t.listen(c,(e,n)=>{if(e!==d&&e!==u)return;const s=t.selection.select;o.isTarget(s.col,s.row)&&f({col:s.col,row:s.row})}),t.listen(r,e=>{this.onChangeSelectCellInternal(t,{col:e.col,row:e.row},e.selected)}),t.listen(h,()=>{this.onGridScrollInternal(t)}),t.listen(s,t=>!!o.isTarget(t.col,t.row)&&(!this.readOnly&&!this.disabled)),t.listen(a,e=>{o.isTarget(e.col,e.row)&&(this.readOnly||this.disabled||this.onSetInputAttrsInternal(t,{col:e.col,row:e.row},e.input))})]}}t.exports=f}},function(t,e,o){"use strict";(function(e){t.exports={normalize:function t(o){if(!o)return[];if(e(o))return o;if("string"==typeof o)return t(JSON.parse(o));const n=[];for(const t in o)n.push({value:t,caption:o[t]});return n}}}).call(this,o(2).Array_isArray)},function(t,e,o){"use strict";{const e=o(20),n=o(3),s=o(36),r=o(37),i=o(38),l=o(39),c=o(40),a=o(41),h={get EVENT_TYPE(){return e.EVENT_TYPE},get BaseStyle(){return e},get Style(){return n},get NumberStyle(){return s},get CheckStyle(){return r},get ButtonStyle(){return i},get ImageStyle(){return l},get IconStyle(){return c},get PercentCompleteBarStyle(){return a},of:(t,e,o)=>t?t instanceof n?t:"function"==typeof t?h.of(t(e),e,o):e&&t in e?h.of(e[t],e,o):new o(t):o.DEFAULT};t.exports=h}},function(t,e,o){"use strict";{const e=o(3);let n;class s extends e{static get DEFAULT(){return n||(n=new s)}constructor(t={}){super(function(t){const{textAlign:e="right"}=t;return t.textAlign=e,t}(t))}clone(){return new s(this)}}t.exports=s}},function(t,e,o){"use strict";{const e=o(19);let n;class s extends e{static get DEFAULT(){return n||(n=new s)}constructor(t={}){super(function(t){const{textAlign:e="center"}=t;return t.textAlign=e,t}(t));const{uncheckBgColor:e,checkBgColor:o,borderColor:n}=t;this._uncheckBgColor=e,this._checkBgColor=o,this._borderColor=n}get uncheckBgColor(){return this._uncheckBgColor}set uncheckBgColor(t){this._uncheckBgColor=t,this.doChangeStyle()}get checkBgColor(){return this._checkBgColor}set checkBgColor(t){this._checkBgColor=t,this.doChangeStyle()}get borderColor(){return this._borderColor}set borderColor(t){this._borderColor=t,this.doChangeStyle()}clone(){return new s(this)}}t.exports=s}},function(t,e,o){"use strict";{const e=o(3);let n;class s extends e{static get DEFAULT(){return n||(n=new s)}constructor(t={}){super(function(t){const{textAlign:e="center"}=t;return t.textAlign=e,t}(t));const{buttonBgColor:e}=t;this._buttonBgColor=e}get buttonBgColor(){return this._buttonBgColor}set buttonBgColor(t){this._buttonBgColor=t,this.doChangeStyle()}clone(){return new s(this)}}t.exports=s}},function(t,e,o){"use strict";{const e=o(19);let n;class s extends e{static get DEFAULT(){return n||(n=new s)}constructor(t={}){super(function(t){const{textAlign:e="center"}=t;return t.textAlign=e,t}(t)),this._imageSizing=t.imageSizing,this._margin=t.margin||4}get imageSizing(){return this._imageSizing}set imageSizing(t){this._imageSizing=t,this.doChangeStyle()}get margin(){return this._margin}set margin(t){this._margin=t,this.doChangeStyle()}clone(){return new s(this)}}t.exports=s}},function(t,e,o){"use strict";{const e=o(3);let n;class s extends e{static get DEFAULT(){return n||(n=new s)}constructor(t={}){super(function(t){const{textAlign:e="center"}=t;return t.textAlign=e,t}(t))}clone(){return new s(this)}}t.exports=s}},function(t,e,o){"use strict";{const e=o(3);let n;const s=t=>t>80?"#20a8d8":t>50?"#4dbd74":t>20?"#ffc107":"#f86c6b";class r extends e{static get DEFAULT(){return n||(n=new r)}constructor(t={}){super(t),this._barColor=t.barColor||s,this._barBgColor=t.barBgColor||"#f0f3f5",this._barHeight=t.barHeight||3}get barColor(){return this._barColor}set barColor(t){this._barColor=t,this.doChangeStyle()}get barBgColor(){return this._barBgColor}set barBgColor(t){this._barBgColor=t,this.doChangeStyle()}get barHeight(){return this._barHeight}set barHeight(t){this._barHeight=t,this.doChangeStyle()}clone(){return new r(this)}}t.exports=r}},function(t,e,o){"use strict";const{then:n}=o(0),s=o(86),r={};function i(t){if(!window.Promise)return console.error("Promise is not loaded. load Promise before this process."),{then(){return this}};const e=new Image,o=new window.Promise(t=>{e.onload=(()=>{t(e)})});return e.onerror=(e=>{const o=t.length>200?`${t.substr(0,200)}...`:t;throw console.warn(`cannot load: ${o}`),new Error(`IMAGE LOAD ERROR: ${o}`)}),e.src=-1!==t.search(/^(data:)/)?t:`${t}?${Date.now()}`,o}t.exports={loadImage:i,getCacheOrLoad:function(t,e,o){return function(t,e){return n(e,e=>{const o=t.get(e);if(o)return o;const n=i(e).then(o=>(t.put(e,o),o));return t.put(e,n),n})}(r[t]||(r[t]=new s(e)),o)}}},function(t,e,o){"use strict";t.exports={color:"rgba(0, 0, 0, 0.87)",defaultBgColor:"#FFF",frozenRowsBgColor:"#FFF",frozenRowsColor:"rgba(0, 0, 0, 0.54)",hiliteBorderColor:"#5E9ED6",selectionBgColor:"#CCE0FF",borderColor:function(t){const{col:e,grid:{colCount:o}}=t;return o-1===e?["#ccc7c7","#f2f2f2","#ccc7c7",null]:["#ccc7c7",null]},frozenRowsBorderColor:function(t){const{row:e,grid:{frozenRowCount:o}}=t;return o-1===e?["#f2f2f2","#f2f2f2","#ccc7c7","#f2f2f2"]:["#f2f2f2"]},checkbox:{uncheckBgColor:"#FFF",checkBgColor:"rgb(76, 73, 72)",borderColor:"rgba(0, 0, 0, 0.26)"},button:{color:"#FFF",bgColor:"#2196F3"},underlayBackgroundColor:"#FFF"}},function(t,e,o){"use strict";t.exports={}},function(t,e,o){"use strict";{const e=o(46),n=o(94);t.exports={DataSource:e,CachedDataSource:n}}},function(t,e,o){"use strict";{const{array:e,isDef:r,isPromise:i,getOrApply:l,applyChainSafe:c,emptyFn:a}=o(0),h=o(47),u=o(13),d={UPDATE_LENGTH:"update_length",UPDATED_LENGTH:"updated_length",UPDATED_ORDER:"updated_order"};function n(t,e){return t=l(t),i(t)&&(t=t.then(t=>(i(t)||e(t),n(t,e))),e(t)),t}function s(t,e){if(!t._sortedIndexMap)return e;const o=t._sortedIndexMap[e];return r(o)?o:e}class f extends u{static get EVENT_TYPE(){return d}static ofArray(t){return new f({get:e=>t[e],length:t.length})}constructor({get:t,length:e=0}={}){super(),this._get=t,this._length=e,this._sortedIndexMap=!1}get(t){return this.getOriginal(s(this,t))}getField(t,e){return this.getOriginalField(s(this,t),e)}hasField(t,e){return this.hasOriginalField(s(this,t),e)}setField(t,e,o){return this.setOriginalField(s(this,t),e,o)}sort(t,e){const o=new Array(this._length),n="desc"!==e?(t,e)=>t===e?0:t>e?1:-1:(t,e)=>t===e?0:t<e?1:-1;return h.sortPromise(t=>r(o[t])?o[t]:o[t]=t,(t,e)=>{o[t]=e},this._length,n,e=>this.getOriginalField(e,t)).then(()=>{this._sortedIndexMap=o,this.fireListeners(d.UPDATED_ORDER)})}get length(){return this._length}set length(t){const o=this.fireListeners(d.UPDATE_LENGTH,t);e.findIndex(o,t=>!t)>=0||(this._length=t,this.fireListeners(d.UPDATED_LENGTH,this._length))}dispose(){super.dispose()}getOriginal(t){return n(this._get(t),e=>{this.recordPromiseCallBackInternal(t,e)})}getOriginalField(t,e){if(!r(e))return;return function t(e,o,s){if(!r(e))return;if(i(e))return e.then(e=>t(e,o,s));if(o in e)return n(e[o],s);if("function"==typeof o)return n(o(e),s);const l=(o+"").split(".");return l.length<=1?n(e[o],s):n(c(e,(e,o)=>t(e,o,a),...l),s)}(this.getOriginal(t),e,o=>{this.fieldPromiseCallBackInternal(t,e,o)})}hasOriginalField(t,e){if(!r(e))return!1;if("function"==typeof e)return!0;return e in this.getOriginal(t)}setOriginalField(t,e,o){if(!r(e))return;return function(t,e,o){if(e in t)t[e]=o;else{if("function"==typeof e)return e(t,o);if("string"==typeof e){const n=(e+"").split(".");let s=t;const{length:r}=n;for(let t=0;t<r;t++){const e=n[t];t===r-1?s[e]=o:s=s[e]||(s[e]={})}}else t[e]=o}return!0}(this.getOriginal(t),e,o)}fieldPromiseCallBackInternal(t,e,o){}recordPromiseCallBackInternal(t,e){}}f.EMPTY=new f({length:0}),t.exports=f}},function(t,e,o){"use strict";{const{isPromise:e}=o(0);function n(t){return t.then(t=>e(t)?n(t):t)}function s(t,o,s){return new Promise(r=>{const i=[],l=new Array(s);for(let o=0;o<s;o++){const s=t(o),r={v:s,f:s};l[o]=r,e(s)&&i.push(n(s).then(t=>{r.v=t,r.f=t}))}Promise.all(i).then(()=>(function(t,o){if(!o)return Promise.resolve(t);return new Promise(s=>{const r=t.length,i=[];for(let s=0;s<r;s++){const r=t[s];r.f=o(r.v),e(r.f)&&i.push(n(r.f).then(t=>{r.f=t}))}Promise.all(i).then(()=>s(t))})})(l,o)).then(r)})}const r={sort(t,e,o,n,s){const r=function(t,e){const o=new Array(e);for(let n=0;n<e;n++)o[n]=t(n);return o}(t,o);s?r.sort((t,e)=>n(s(t),s(e))):r.sort(n);for(let t=0;t<o;t++)e(t,r[t])},sortArray(t,e){Array.prototype.sort.call(t,e)},sortPromise(t,e,o,n,i){if(window.Promise)return s(t,i,o).then(t=>{t.sort((t,e)=>n(t.f,e.f));for(let n=0;n<o;n++)e(n,t[n].v)});{r.sort(t,e,o,n,i);const s={then:t=>(t(),s),catch:()=>s};return s}}};t.exports=r}},function(t,e,o){"use strict";(function(e){{const{calcStartPosition:c}=o(9),a=o(96),h=o(28),u=o(23),{colorToRGB:d}=o(53),f=o(8),{getChainSafe:g,getOrApply:p,style:{toBoxArray:_}}=o(0),w=o(49),m=o(17);function n(t,e,o,n,s){return p(t,{col:e,row:o,grid:n,context:s})}function s(t,...e){return g(t.theme,...e)||g(u.default,...e)}function r(t,e,o,s,r,i,l,c,a){function u(e,u,d){if(e.canDraw()){t.save();try{t.fillStyle=n(e.color()||t.fillStyle,l,c,a,t),t.font=e.font()||t.font,e.draw({ctx:t,canvashelper:h,rect:o,offset:s,offsetLeft:u,offsetRight:d,offsetTop:r,offsetBottom:i})}finally{t.restore()}}else e.onReady(()=>a.invalidateCell(l,c))}if(1===e.length){u(e[0],0,0)}else{const o=e.map(e=>(e.width({ctx:t})||0)-0);let n=o.reduce((t,e)=>t+e),s=0;e.forEach((t,e)=>{const r=o[e];u(t,s,n-=r),s+=r})}}function i(t,e,o,s,i,l,{offset:c,color:h,textAlign:u,textBaseline:d,font:f,icons:g}={}){e.fillStyle=n(h,i,l,t,e),e.textAlign=u,e.textBaseline=d,e.font=f||e.font,r(e,a.buildInlines(g,o),s,c,0,0,i,l,t)}class C{constructor(t){this._grid=t}getThemeColor(...t){return s(this._grid,...t)}get font(){return s(this._grid,"font")}get underlayBackgroundColor(){return s(this._grid,"underlayBackgroundColor")}get color(){return s(this._grid,"color")}get frozenRowsColor(){return s(this._grid,"frozenRowsColor")}get defaultBgColor(){return s(this._grid,"defaultBgColor")}get frozenRowsBgColor(){return s(this._grid,"frozenRowsBgColor")}get selectionBgColor(){return s(this._grid,"selectionBgColor")}get borderColor(){return s(this._grid,"borderColor")}get frozenRowsBorderColor(){return s(this._grid,"frozenRowsBorderColor")}get hiliteBorderColor(){return s(this._grid,"hiliteBorderColor")}get checkbox(){const t=this._grid;return this._checkbox||(this._checkbox={get uncheckBgColor(){return s(t,"checkbox","uncheckBgColor")},get checkBgColor(){return s(t,"checkbox","checkBgColor")},get borderColor(){return s(t,"checkbox","borderColor")}})}get button(){const t=this._grid;return this._button||(this._button={get color(){return s(t,"button","color")},get bgColor(){return s(t,"button","bgColor")}})}}function l(t,o,n,s,r,i){if(e(o)){const e=_(o);h.strokeColorsRect(t,e,n,s,r,i)}else o&&(t.strokeStyle=o,t.strokeRect(n,s,r,i))}class x{constructor(t){this._grid=t,this._theme=new C(t)}createCalculator(t){return{calcWidth:e=>m.toPx(e,{get full(){return t.getRect().width},get em(){return t.getContext().measureText("ã‚").width}}),calcHeight:e=>m.toPx(e,{get full(){return t.getRect().height},get em(){return t.getContext().measureText("ã‚").width}})}}getColor(t,e,o,s){return n(t,e,o,this._grid,s)}toBoxArray(t){return _(t)}toBoxPixelArray(t,o){if("string"==typeof t||e(t)){const e=this.createCalculator(o),n=_(t);return[e.calcHeight(n[0]),e.calcWidth(n[1]),e.calcHeight(n[2]),e.calcWidth(n[3])]}return _(t)}get theme(){return this._theme}drawWithClip(t,e){const o=t.getDrawRect();if(!o)return;const n=t.getContext();n.save();try{n.beginPath(),n.rect(o.left,o.top,o.width,o.height),n.clip(),e(n)}finally{n.restore()}}drawBorderWithClip(t,e){const o=t.getDrawRect();if(!o)return;const n=t.getRect(),s=t.getContext();s.save();try{s.beginPath();let t=o.left,r=o.width;o.left===n.left&&(t+=-1,r+=1);let i=o.top,l=o.height;o.top===n.top&&(i+=-1,l+=1),s.rect(t,i,r,l),s.clip(),e(s)}finally{s.restore()}}text(t,e,{padding:o,offset:n=2,color:s,textAlign:r="left",textBaseline:l="middle",font:c,icons:a}={}){let h=e.getRect();const{col:u,row:d}=e;if(!s){({color:s}=this.theme);const t=this._grid.isFrozenCell(u,d);t&&t.row&&(s=this.theme.frozenRowsColor)}this.drawWithClip(e,g=>{if(o){g.font=c||g.font,o=this.toBoxPixelArray(o,e);const t=h.left+o[3],n=h.top+o[0],s=h.width-o[1]-o[3],r=h.height-o[0]-o[2];h=new f(t,n,s,r)}i(this._grid,g,t,h,u,d,{offset:n,color:s,textAlign:r,textBaseline:l,font:c,icons:a})})}multilineText(t,e,{padding:o,offset:s=2,color:i,textAlign:l="left",textBaseline:c="middle",font:h,lineHeight:u="1em",icons:d}={}){let g=e.getRect();const{col:p,row:_}=e;if(!i){({color:i}=this.theme);const t=this._grid.isFrozenCell(p,_);t&&t.row&&(i=this.theme.frozenRowsColor)}this.drawWithClip(e,w=>{if(w.font=h||w.font,o){o=this.toBoxPixelArray(o,e);const t=g.left+o[3],n=g.top+o[0],s=g.width-o[1]-o[3],r=g.height-o[0]-o[2];g=new f(t,n,s,r)}const m=this.createCalculator(e);u=m.calcHeight(u),function(t,e,o,s,i,l,{offset:c,color:h,textAlign:u,textBaseline:d,font:f,lineHeight:g,icons:p}={}){e.fillStyle=n(h,i,l,t,e),e.textAlign=u,e.textBaseline=d,e.font=f||e.font;let _=0,w=g*((o=[...o]).length-1);if("top"===e.textBaseline||"hanging"===e.textBaseline){const t=(g-e.measureText("ã‚").width)/2;_+=t,w-=t}else if("bottom"===e.textBaseline||"alphabetic"===e.textBaseline||"ideographic"===e.textBaseline){const t=(g-e.measureText("ã‚").width)/2;_-=t,w+=t}const m=o.shift()||"";for(r(e,a.buildInlines(p,m),s,c,_,w,i,l,t),_+=g,w-=g;o.length;){const n=o.shift();r(e,a.buildInlines(void 0,n),s,c,_,w,i,l,t),_+=g,w-=g}}(this._grid,w,t,g,p,_,{offset:s,color:i,textAlign:l,textBaseline:c,font:h,lineHeight:u,icons:d})})}fillText(t,e,o,s,{color:r,textAlign:i="left",textBaseline:l="top",font:c}={}){const{col:a,row:h}=s;if(!r){({color:r}=this.theme);const t=this._grid.isFrozenCell(a,h);t&&t.row&&(r=this.theme.frozenRowsColor)}const u=s.getContext();u.save();try{u.fillStyle=n(r,a,h,this._grid,u),u.textAlign=i,u.textBaseline=l,u.font=c||u.font,u.fillText(t,e,o)}finally{u.restore()}}fillCell(t,{fillColor:e=this.theme.defaultBgColor}={}){const o=t.getRect();this.drawWithClip(t,s=>{const{col:r,row:i}=t;s.fillStyle=n(e,r,i,this._grid,s),s.beginPath(),s.rect(o.left,o.top,o.width,o.height),s.fill()})}fillCellWithState(t,e={}){e.fillColor=this.getFillColorState(t,e),this.fillCell(t,e)}fillRect(t,e,{fillColor:o=this.theme.defaultBgColor}={}){const s=e.getContext();s.save();try{const{col:r,row:i}=e;s.fillStyle=n(o,r,i,this._grid,s),s.beginPath(),s.rect(t.left,t.top,t.width,t.height),s.fill()}finally{s.restore()}}fillRectWithState(t,e,o={}){o.fillColor=this.getFillColorState(e,o),this.fillRect(t,e,o)}getFillColorState(t,e={}){const o=t.getSelectState(),{col:n,row:s}=t;if(!o.selected&&o.selection)return this.theme.selectionBgColor;{const t=this._grid.isFrozenCell(n,s);if(t&&t.row)return this.theme.frozenRowsBgColor}return e.fillColor||this.theme.defaultBgColor}border(t,{borderColor:e=this.theme.borderColor,lineWidth:o=1}={}){const s=t.getRect();this.drawBorderWithClip(t,r=>{const{col:i,row:c}=t,a=n(e,i,c,this._grid,r);if(1===o)r.lineWidth=1,l(r,a,s.left-.5,s.top-.5,s.width,s.height);else if(2===o)r.lineWidth=2,l(r,a,s.left,s.top,s.width-1,s.height-1);else{r.lineWidth=o;const t=o/2-1;l(r,a,s.left+t,s.top+t,s.width-o+1,s.height-o+1)}})}borderWithState(t,e={}){const o=t.getRect(),s=t.getSelectState(),{col:r,row:i}=t;if(s.selected)e.borderColor=this.theme.hiliteBorderColor,e.lineWidth=2,this.border(t,e);else{const s=this._grid.isFrozenCell(r,i);s&&s.row&&(e.borderColor=this.theme.frozenRowsBorderColor),e.lineWidth=1,this.border(t,e);const l=this._grid.selection.select;l.col+1===r&&l.row===i?this.drawBorderWithClip(t,t=>{const e=_(n(this.theme.hiliteBorderColor,l.col,l.row,this._grid,t));t.lineWidth=1,t.strokeStyle=e[1],t.beginPath(),t.moveTo(o.left-.5,o.top),t.lineTo(o.left-.5,o.bottom),t.stroke()}):l.col===r&&l.row+1===i&&this.drawBorderWithClip(t,t=>{const e=_(n(this.theme.hiliteBorderColor,l.col,l.row,this._grid,t));t.lineWidth=1,t.strokeStyle=e[0],t.beginPath(),t.moveTo(o.left,o.top-.5),t.lineTo(o.right,o.top-.5),t.stroke()})}}checkbox(t,e,o={}){this.drawWithClip(e,n=>{!function(t,e,o,n,{animElapsedTime:s=1,uncheckBgColor:r=n.theme.checkbox.uncheckBgColor,checkBgColor:i=n.theme.checkbox.checkBgColor,borderColor:l=n.theme.checkbox.borderColor,textAlign:a="center",textBaseline:u="middle"}={}){const f=h.measureCheckbox(t).width;t.textAlign=a,t.textBaseline=u;const g=c(t,e,f+1,f+1);if(0<s&&s<1){const t=d(r),e=d(i),n=o=>{const n=t[o],r=e[o];if(s>=1)return r;const i=n-r;return Math.ceil(n-i*s)},l=o=>{const n=t[o],r=e[o];if(s>=1)return n;const i=n-r;return Math.ceil(r+i*s)};r=o?r:`rgb(${l("r")} , ${l("g")}, ${l("b")})`,i=`rgb(${n("r")} , ${n("g")}, ${n("b")})`}h.drawCheckbox(t,g.x,g.y,!!o&&s,{uncheckBgColor:r,checkBgColor:i,borderColor:l})}(n,e.getRect(),t,this,o)})}button(t,e,{bgColor:o=this.theme.button.bgColor,padding:n,offset:s=2,color:r=this.theme.button.color,textAlign:l="center",textBaseline:c="middle",shadow:a,font:u,icons:d}={}){const g=e.getRect();this.drawWithClip(e,p=>{const{col:_,row:w}=e;n=this.toBoxPixelArray(n||g.height/8,e);const m=g.left+n[3],C=g.top+n[0],x=g.width-n[1]-n[3],b=g.height-n[0]-n[2];h.drawButton(p,m,C,x,b,{bgColor:o,radius:g.height/8,offset:s,shadow:a}),i(this._grid,p,t,new f(m,C,x,b),_,w,{offset:s,color:r,textAlign:l,textBaseline:c,font:u,icons:d})})}testFontLoad(t,e,o){return function(t,e,o,n){return!(t&&!w.check(t,e)&&(w.load(t,e,()=>(function(t,e){const{col:o,row:n}=t;e.invalidateCell(o,n)})(o,n)),1))}(t,e,o,this._grid)}}t.exports=x}}).call(this,o(2).Array_isArray)},function(t,e,o){"use strict";{const e={},n=!document.fonts,s=n?function(t,n,s){e[t+" @ "+n]?s():o(98).load(t,n,()=>{e[t+" @ "+n]=!0,s()},()=>{e[t+" @ "+n]=!0,s()})}:function(t,o,n){e.all||e[t]?n():(document.fonts.ready.then(()=>{e.all=!0}),document.fonts.load(t).then(()=>{e[t]=!0,n()}))},r=n?function(t,o){return!!e[t+" @ "+o]||(s(t,o,()=>{}),!1)}:function(t,o){return!(!e.all&&!e[t])||(!!document.fonts.check(t)||(s(t,o,()=>{}),!1))};t.exports={check:r,load:s}}},function(t,e,o){"use strict";const n=o(12),{getCacheOrLoad:s}=o(42),{isPromise:r}=o(0);t.exports=class extends n{constructor({src:t,width:e,height:o,imageLeft:n,imageTop:s,imageWidth:i,imageHeight:l}){super(),this._src=t,this._width=e,this._height=o,this._imageLeft=n,this._imageTop=s,this._imageWidth=i,this._imageHeight=l,this._onloaded=[],this._loaded=!1,r(t)?t.then(t=>{this._src=t,this._loadImage(t)}):this._loadImage(t)}_loadImage(t){const e=this._inlineImg=s("InlineImage",50,t);r(e)?e.then(t=>{this._loaded=!0,this._inlineImg=t,this._onloaded.forEach(t=>t())}):this._loaded=!0}width({ctx:t}){return this._width||(this._loaded?this._inlineImg.width:0)}font(){return null}color(){return null}canDraw(){return this._loaded}onReady(t){(r(this._src)||r(this._inlineImg))&&this._onloaded.push(()=>t())}draw({ctx:t,canvashelper:e,rect:o,offset:n,offsetLeft:s,offsetRight:r,offsetTop:i,offsetBottom:l}){const c=this._inlineImg;e.drawInlineImageRect(t,c,this._imageLeft||0,this._imageTop||0,this._imageWidth||c.width,this._imageHeight||c.height,this._width||c.width,this._height||c.height,o.left,o.top,o.width,o.height,{offset:n+1,padding:{left:s,right:r,top:i,bottom:l}})}}},function(t,e,o){"use strict";const{extend:n}=o(0),s=o(52),r={get arrow_upward(){return o(106)},get arrow_downward(){return o(107)},get edit(){return o(108)},get add(){return o(109)},get star(){return o(110)},get star_border(){return o(111)},get star_half(){return o(112)}};t.exports={get:()=>n(r,s)}},function(t,e,o){"use strict";t.exports={}},function(t,e,o){"use strict";{const e={};function n(t){return parseInt(t,16)}function s(t,e,o,n=1){return{r:t,g:e,b:o,a:n}}function r({r:t,g:e,b:o,a:n}){return 0<=t&&t<=255&&0<=e&&e<=255&&0<=o&&o<=255&&0<=n&&n<=1}function i(t){return Math.ceil(255*t/100)}function l(t){if(t.match(/^#[0-9a-f]{3}$/i))return function({1:t,2:e,3:o}){return s(n(t+t),n(e+e),n(o+o))}(t);if(t.match(/^#[0-9a-f]{6}$/i))return function({1:t,2:e,3:o,4:r,5:i,6:l}){return s(n(t+e),n(o+r),n(i+l))}(t);let e=t.match(/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i);if(e){const t=s(e[1]-0,e[2]-0,e[3]-0);if(r(t))return t}if(e=t.match(/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d(\.\d)?)\s*\)$/i)){const t=s(e[1]-0,e[2]-0,e[3]-0,e[4]-0);if(r(t))return t}if(e=t.match(/^rgb\(\s*(\d{1,3}(\.\d)?)%\s*,\s*(\d{1,3}(\.\d)?)%\s*,\s*(\d{1,3}(\.\d)?)%\s*\)$/i)){const t=s(i(e[1]),i(e[3]),i(e[5]));if(r(t))return t}if(e=t.match(/^rgba\(\s*(\d{1,3}(\.\d)?)%\s*,\s*(\d{1,3}(\.\d)?)%\s*,\s*(\d{1,3}(\.\d)?)%\s*,\s*(\d(\.\d)?)\s*\)$/i)){const t=s(i(e[1]),i(e[3]),i(e[5]),e[7]-0);if(r(t))return t}return null}t.exports={colorToRGB:function(t){return"string"!=typeof t?s(0,0,0,0):(t=t.toLowerCase().trim(),e[t]?e[t]:l(t)||(e[t]=function(t){const e=document.createElement("div"),{style:o}=e;o.color=t,o.position="fixed",o.height="1px",o.width="1px",o.opacity=0,document.body.appendChild(e);const{color:n}=document.defaultView.getComputedStyle(e,"");return document.body.removeChild(e),l(n)}(t)))}}}},function(t,e,o){"use strict";{const e=o(13),n={CHANGE_STYLE:"change_style"};let s;class r extends e{static get EVENT_TYPE(){return n}static get DEFAULT(){return s||(s=new r)}constructor({textAlign:t="left",textBaseline:e="middle",bgColor:o}={}){super(),this._textAlign=t,this._textBaseline=e,this._bgColor=o}get textAlign(){return this._textAlign}set textAlign(t){this._textAlign=t,this.doChangeStyle()}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline=t,this.doChangeStyle()}get bgColor(){return this._bgColor}set bgColor(t){this._bgColor=t,this.doChangeStyle()}doChangeStyle(){this.fireListeners(n.CHANGE_STYLE)}clone(){return new r(this)}}t.exports=r}},function(t,e,o){"use strict";{const e=o(16),{Style:n}=e;class s{constructor(t){this._headerCell=t,this.onDrawCell=this.onDrawCell.bind(this)}get StyleClass(){return n}onDrawCell(t,o,n,s){const{style:r,drawCellBase:i}=o;delete o.getRecord,delete o.style;const l=s.getGridCanvasHelper();i(),this.drawInternal(t,n,e.of(r,this.StyleClass),l,s,o)}drawInternal(t,e,o,n,s,r){}bindGridEvent(t){return[]}}t.exports=s}},function(t,e,o){"use strict";const{extend:n}=o(0),s=n(o(4).EVENT_TYPE,{CHANGED_VALUE:"changed_value"});t.exports=s},function(t,e,o){"use strict";{const e=o(58),n=o(65),s=o(29),r=o(23),i=o(45),l=o(95),c=o(48),a=o(51),h=o(129);t.exports={core:e,tools:n,ListGrid:l,columns:s,themes:r,data:i,GridCanvasHelper:c,get icons(){return a.get()},register:h,get _internal(){return console.warn("use internal!!"),{color:o(53),sort:o(47),calc:o(17),symbolManager:o(1),path2DManager:o(24)}}}}},function(t,e,o){"use strict";{const e=o(4);t.exports={DrawGrid:e}}},function(t,e,o){"use strict";{const e=o(5),s=o(27),{browser:r}=o(0),i=r.heightLimit-1e3;function n(t){let e;if(t._height>i){const o=s.getScrollBarSize(),n=t._scrollable.offsetHeight,r=i-n+o,l=t._height-n+o;t._p=r/l,e=i}else t._p=1,e=t._height;t._endPointElement.style.top=e.toFixed()+"px",t._endPointElement.style.left=t._width.toFixed()+"px"}class l{constructor(){this._handler=new e,this._scrollable=document.createElement("div"),this._scrollable.classList.add("grid-scrollable"),this._height=0,this._width=0,this._endPointElement=document.createElement("div"),this._endPointElement.classList.add("grid-scroll-end-point"),n(this),this._scrollable.appendChild(this._endPointElement)}calcTop(t){const e=t-this.scrollTop;return this._scrollable.scrollTop+e}getElement(){return this._scrollable}setScrollSize(t,e){this._width=t,this._height=e,n(this)}get scrollWidth(){return this._width}set scrollWidth(t){this._width=t,n(this)}get scrollHeight(){return this._height}set scrollHeight(t){this._height=t,n(this)}get scrollLeft(){return Math.ceil(this._scrollable.scrollLeft)}set scrollLeft(t){this._scrollable.scrollLeft=t}get scrollTop(){return Math.ceil(this._scrollable.scrollTop/this._p)}set scrollTop(t){this._scrollable.scrollTop=t*this._p}onScroll(t){this._handler.on(this._scrollable,"scroll",t)}dispose(){this._handler.dispose()}}t.exports=l}},function(t,e,o){var n=o(61);"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o(7)(n,s);n.locals&&(t.exports=n.locals)},function(t,e,o){(t.exports=o(6)(!1)).push([t.i,".cheetah-grid .grid-scrollable{height:100%;width:100%;position:absolute;overflow:scroll}.cheetah-grid .grid-scroll-end-point{opacity:0;position:relative}.cheetah-grid{position:relative;width:100%;height:100%}.cheetah-grid>canvas{position:absolute;width:0;height:0}.cheetah-grid .grid-focus-control{position:relative!important;width:1px;height:1px;opacity:0;padding:0;margin:0;box-sizing:border-box;pointer-events:none;max-width:0;max-height:0;float:none!important}.cheetah-grid input.grid-focus-control::-ms-clear{visibility:hidden}.cheetah-grid input.grid-focus-control.composition{opacity:1;max-width:none;max-height:none}",""])},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var o=e.protocol+"//"+e.host,n=o+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var s,r=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?t:(s=0===r.indexOf("//")?r:0===r.indexOf("/")?o+r:n+r.replace(/^\.\//,""),"url("+JSON.stringify(s)+")")})}},function(t,e,o){"use strict";{const e=(t,e)=>{let o=0,n=t.length-1;for(;o<=n;){const s=Math.floor((o+n)/2);if(t[s]===e)return s;t[s]>e?n=s-1:o=s+1}return n<0?0:n};class o{constructor(){this._keys=[],this._vals={},this._sorted=!1}put(t,e){t in this._vals||(this._keys.push(t),this._sorted=!1),this._vals[t]=e}get(t){return this._vals[t]}eachAll(t){this._keys.forEach(e=>{t(this.get(e),e)})}each(t,o,n){const{_keys:s}=this,{length:r}=s;this._sorted||(s.sort((t,e)=>t<e?-1:t>e?1:0),this._sorted=!0);for(let i=e(s,t);i<r;i++){const e=s[i];if(t<=e&&e<=o)n(this.get(e),e);else if(o<e)return}}}t.exports=o}},function(t,e,o){"use strict";const n=new(o(5));let s;function r(){(s=Math.ceil(window.devicePixelRatio||1))>1&&s%2!=0&&(s+=1)}r(),n.on(window,"resize",r),t.exports={transform(t){const e=t.getContext("2d"),o=t.getAttribute;t.getAttribute=function(t,...e){let n=o.call(this,t,...e);return"width"!==t&&"height"!==t||(n/=s),n};const n=t.setAttribute;t.setAttribute=function(t,o,...r){const i="width"===t||"height"===t;i&&(o*=s);const l=n.call(this,t,o,...r);return i&&e.scale(s,s),l},Object.defineProperty(t,"width",{get:()=>t.getAttribute("width"),set:e=>{t.setAttribute("width",Math.floor(e))},configurable:!0,enumerable:!0}),Object.defineProperty(t,"height",{get:()=>t.getAttribute("height"),set:e=>{t.setAttribute("height",Math.floor(e))},configurable:!0,enumerable:!0});const r=e.drawImage;return e.drawImage=function(e,...o){if(e!==t||1===s)return r.call(this,e,...o);this.save();try{return this.scale(1/s,1/s),o.length>4?(o[4]=o[4]*s,o[5]=o[5]*s):(o[0]=o[0]*s,o[1]=o[1]*s),r.call(this,e,...o)}finally{this.restore()}},t}}},function(t,e,o){"use strict";{const e=o(28);t.exports={canvashelper:e}}},function(t,e,o){"use strict";{const e=o(18),n=o(30),s=o(14),r=o(67),i=o(68),l=o(69),c=o(73),a=o(77);class h extends r{get disabled(){return this._disabled}get readOnly(){return this._readOnly}}class u extends l{get disabled(){return this._disabled}get readOnly(){return this._readOnly}}const d={ACTIONS:{CHECK:new h,INPUT:new u},get BaseAction(){return e},get Editor(){return s},get Action(){return n},get CheckEditor(){return r},get ButtonAction(){return i},get SmallDialogInputEditor(){return l},get InlineInputEditor(){return console.warn("InlineInputEditor is an experiment stage"),c},get InlineMenuEditor(){return a},of:t=>t?"string"==typeof t?d.ACTIONS[t.toUpperCase()]||d.of(null):t:d.ACTIONS.DEFAULT};t.exports=d}},function(t,e,o){"use strict";{const{obj:{setReadonly:e},isPromise:s}=o(0),{bindCellClickAction:r,bindCellKeyAction:i}=o(31),l=o(32),c=o(14),{CHECK_COLUMN_STATE_ID:a}=o(1),h=13,u=32;function n(t){if("number"==typeof t)return 0===t?1:0;if("string"==typeof t){if("false"===t)return"true";if("off"===t)return"on";if(t.match(/^0+$/))return t.replace(/^(0*)0$/,"$11");if("true"===t)return"false";if("on"===t)return"off";if(t.match(/^0*1$/))return t.replace(/^(0*)1$/,"$10")}return!t}class d extends c{clone(){return new d(this)}bindGridEvent(t,o,c){t[a]||e(t,a,{});const d=t[a],f=e=>{const o=e.col+":"+e.row,r=o+"::block";if(this.readOnly||this.disabled||d[r])return;const i=t.doChangeValue(e.col,e.row,n);if(i){const n=()=>{l(200,n=>{1===n?delete d[o]:d[o]={elapsed:n},t.invalidateCell(e.col,e.row)})};s(i)?(d[r]=!0,i.then(()=>{delete d[r],n()})):n()}};return[...r(t,o,c,{action:f,mouseOver:e=>!this.disabled&&(d.mouseActiveCell={col:e.col,row:e.row},t.invalidateCell(e.col,e.row),!0),mouseOut:e=>{delete d.mouseActiveCell,t.invalidateCell(e.col,e.row)}}),...i(t,o,c,{action:e=>{const o=t.selection.range,n=t.selection.select.col;for(let t=o.start.row;t<=o.end.row;t++)c.isTarget(n,t)&&f({col:n,row:t})},acceptKeys:[h,u]})]}}t.exports=d}},function(t,e,o){"use strict";{const{obj:{setReadonly:e}}=o(0),n=o(30),{BUTTON_COLUMN_STATE_ID:s}=o(1);class r extends n{getState(t){return t[s]||e(t,s,{}),t[s]}}t.exports=r}},function(t,e,o){"use strict";(function(e){const{obj:{setReadonly:n}}=o(0),s=o(70),{SMALL_DIALOG_INPUT_EDITOR_STATE_ID:r}=o(1);let i=null,l=0;function c(t,e,o,c){t[r]||n(t,r,{}),i||(i=new s);const a=t[r];a.element||(a.element=i,l++,t.addDisposable({dispose(){--l||(i.dispose(),i=null)}})),i.attach(t,o,e.col,e.row,c)}function a(t){i&&i.detach(t)}const h=o(33);class u extends h{constructor(t={}){super(t),this._helperText=t.helperText,this._inputValidator=t.inputValidator,this._validator=t.validator,this._classList=t.classList,this._type=t.type}dispose(){this._inputDialogManager.dispose(),this._inputDialogManager=null}get classList(){return this._classList&&(e(this._classList)?this._classList:[this._classList])}set classList(t){this._classList=t}get type(){return this._type}set type(t){this._type=t}get helperText(){return this._helperText}get inputValidator(){return this._inputValidator}get validator(){return this._validator}clone(){return new u(this)}onInputCellInternal(t,e,o){c(t,e,this,o)}onOpenCellInternal(t,e){t.doGetCellValue(e.col,e.row,o=>{c(t,e,this,o)})}onChangeSelectCellInternal(t,e,o){a()}onGridScrollInternal(t){a(!0)}onChangeDisabledInternal(){a(!0)}onChangeReadOnlyInternal(){a(!0)}onSetInputAttrsInternal(t,e,o){s.setInputAttrs(this,t,o)}}t.exports=u}).call(this,o(2).Array_isArray)},function(t,e,o){"use strict";const{event:{getKeyCode:n,cancel:s},then:r}=o(0),i=o(5),{createElement:l}=o(15),c="cheetah-grid__small-dialog-input",a=c+"__input",h=c+"--hidden",u=c+"--shown",d=13,f=27;function g(t,e){e.tryWithOffEvents(t,"blur",()=>{(()=>{t.focus();const e=t.value.length;try{if(void 0!==t.selectionStart)return t.selectionStart=e,void(t.selectionEnd=e)}catch(t){}if(document.selection){const o=t.createTextRange();o.collapse(),o.moveEnd("character",e),o.moveStart("character",e),o.select()}})()})}function p(t,e,o){const{type:n}=t;o.type=n||""}t.exports=class{static setInputAttrs(...t){p(...t)}constructor(){this._handler=new i,this._dialog=function(){o(71);const t=l("div",{classList:[c,h]}),e=l("input",{classList:a});return e.readonly=!0,e.tabIndex=-1,t.appendChild(e),t}(),this._input=this._dialog.querySelector("."+a),this._bindDialogEvents()}dispose(){const t=this._dialog;this.detach(),this._handler.dispose(),this._dialog=null,this._input=null,this._beforePropEditor=null,t.parentElement&&t.parentElement.removeChild(t)}attach(t,e,o,n,s){const r=this._handler,i=this._dialog,l=this._input;this._beforePropEditor&&function(t,e,o,n){const{classList:s}=n;s&&e.classList.remove(...s),delete e.dataset.helperText,o.type=""}(0,i,l,this._beforePropEditor),delete i.dataset.errorMessage,i.classList.remove(u),i.classList.add(h),l.readonly=!1,l.tabIndex=0;const{element:c,rect:a}=t.getAttachCellArea(o,n);i.style.top=a.top.toFixed()+"px",i.style.left=a.left.toFixed()+"px",i.style.width=a.width.toFixed()+"px",l.style.height=a.height.toFixed()+"px",c.appendChild(i),l.value=s,l.style.font=t.font||"16px sans-serif";const d={grid:t,col:o,row:n,editor:e};this._onInputValue(l,d),g(l,r),i.classList.add(u),i.classList.remove(h),l.readonly=!0,function(t,e,o,n){const{classList:s,helperText:r}=n;s&&e.classList.add(...s),r&&"function"!=typeof r&&(e.dataset.helperText=r),p(n,0,o)}(0,i,l,e),this._activeData=d,this._beforePropEditor=e}detach(t){if(this._isActive()){const e=this._dialog,o=this._input;e.classList.remove(u),e.classList.add(h),o.readonly=!1,o.tabIndex=-1;const{grid:n,col:s,row:r}=this._activeData;n.invalidateCell(s,r),t&&n.focus()}this._activeData=null,this._beforeValue=null}_doChangeValue(){if(!this._isActive())return!1;const t=this._input,{value:e}=t;return r(this._validate(e),o=>{if(o&&e===t.value){const{grid:t,col:o,row:n}=this._activeData;return t.doChangeValue(o,n,()=>e),!0}return!1})}_isActive(){const t=this._dialog;return!(!t||!t.parentElement||!this._activeData)}_bindDialogEvents(){const t=this._handler,e=this._dialog,o=this._input,i=t=>t.stopPropagation();t.on(e,"click",i),t.on(e,"dblclick",i),t.on(e,"mousedown",i),t.on(e,"touchstart",i),t.on(o,"compositionstart",t=>{o.classList.add("composition")}),t.on(o,"compositionend",t=>{o.classList.remove("composition"),this._onInputValue(o)});const l=t=>{o.classList.contains("composition")||this._onInputValue(o)};t.on(o,"keyup",l),t.on(o,"keypress",l),t.on(o,"keydown",t=>{if(o.classList.contains("composition"))return;const e=n(t);if(e===f)this.detach(!0),s(t);else if(e===d){const e=this._input,{value:o}=e;r(this._doChangeValue(),t=>{t&&o===e.value&&this.detach(!0)}),s(t)}else this._onInputValue(o)})}_onInputValue(t,e){const o=this._beforeValue,{value:n}=t;o!==n&&this._onInputValueChange(n,o,e),this._beforeValue=n}_onInputValueChange(t,e,o){o=o||this._activeData;const n=this._dialog,{grid:s,col:r,row:i,editor:l}=o;if("function"==typeof l.helperText){const e=l.helperText(t,{grid:s,col:r,row:i});e?n.dataset.helperText=e:delete n.dataset.helperText}"errorMessage"in n.dataset&&this._validate(t,!0)}_validate(t,e){const o=this._dialog,n=this._input,{grid:s,col:i,row:l,editor:c}=this._activeData;let a=null;return c.inputValidator&&(a=c.inputValidator(t,{grid:s,col:i,row:l})),r(a,a=>(a||!c.validator||e||(a=c.validator(t,{grid:s,col:i,row:l})),r(a,e=>(e&&t===n.value?o.dataset.errorMessage=e:delete o.dataset.errorMessage,!e))))}}},function(t,e,o){var n=o(72);"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o(7)(n,s);n.locals&&(t.exports=n.locals)},function(t,e,o){(t.exports=o(6)(!1)).push([t.i,'.cheetah-grid__small-dialog-input__input::-ms-clear{visibility:hidden}@keyframes cheetah-grid__small-dialog-input--hidden-animation{0%{opacity:1}99%{opacity:1}to{opacity:0}}.cheetah-grid__small-dialog-input{position:absolute;box-sizing:content-box;margin:-1px auto auto -1px;border-radius:3px;background-color:#fafafa;transition:padding .15s ease-out,box-shadow .15s ease-out}.cheetah-grid__small-dialog-input--hidden{box-shadow:none;padding:0;pointer-events:none;animation:cheetah-grid__small-dialog-input--hidden-animation .15s ease-out;opacity:0}.cheetah-grid__small-dialog-input--shown{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);padding:8px 24px}.cheetah-grid__small-dialog-input__input{width:100%;height:100%;box-sizing:border-box;padding:3px 2px 0 4px;border:none;border-bottom:1px solid rgba(0,0,0,.87);outline:none;background-color:transparent;transition:all .3s ease-out}.cheetah-grid__small-dialog-input__input:focus{border-bottom:1px solid #2196f3;box-shadow:0 1px 0 0 #2196f3}.cheetah-grid__small-dialog-input:after{content:"";font-family:Roboto;font-size:12px;font-size:.75rem;min-height:1em;line-height:1;display:block;width:100%;padding-top:8px}.cheetah-grid__small-dialog-input.helper-text--right-justified:after{text-align:right}.cheetah-grid__small-dialog-input[data-helper-text]:after{content:attr(data-helper-text);color:rgba(0,0,0,.87)}.cheetah-grid__small-dialog-input[data-error-message] input{border-bottom:1px solid #ff1744;box-shadow:0 1px 0 0 #ff1744}.cheetah-grid__small-dialog-input[data-error-message]:after{content:attr(data-error-message);color:#ff1744;text-align:left}',""])},function(t,e,o){"use strict";(function(e){const{obj:{setReadonly:n}}=o(0),s=o(33),r=o(74),{INLINE_INPUT_EDITOR_STATE_ID:i}=o(1);let l=null,c=0;function a(t,e,o,s){t[i]||n(t,i,{}),l||(l=new r);const a=t[i];a.element||(a.element=l,c++,t.addDisposable({dispose(){--c||(l.dispose(),l=null)}})),l.attach(t,o,e.col,e.row,s)}function h(t){l&&l.detach(t)}function u(t){l&&l.doChangeValue()}class d extends s{constructor(t={}){super(t),this._classList=t.classList,this._type=t.type}get classList(){return this._classList&&(e(this._classList)?this._classList:[this._classList])}set classList(t){this._classList=t}get type(){return this._type}set type(t){this._type=t}clone(){return new d(this)}onInputCellInternal(t,e,o){a(t,e,this,o)}onOpenCellInternal(t,e){t.doGetCellValue(e.col,e.row,o=>{a(t,e,this,o)})}onChangeSelectCellInternal(t,e,o){u(),h()}onGridScrollInternal(t){u(),h(!0)}onChangeDisabledInternal(){h(!0)}onChangeReadOnlyInternal(){h(!0)}onSetInputAttrsInternal(t,e,o){r.setInputAttrs(this,t,o)}}t.exports=d}).call(this,o(2).Array_isArray)},function(t,e,o){"use strict";const{event:{getKeyCode:n,cancel:s}}=o(0),r=o(5),{createElement:i}=o(15),l=13,c="cheetah-grid__inline-input";function a(t,e,o){const{classList:n,type:s}=t;n&&o.classList.add(...n),o.type=s||""}t.exports=class{static setInputAttrs(...t){a(...t)}constructor(){this._handler=new r,this._input=(o(75),i("input",{classList:c})),this._bindInputEvents()}dispose(){this.detach(),this._handler.dispose(),this._input=null,this._beforePropEditor=null}attach(t,e,o,n,s){const r=this._input,i=this._handler;if(this._beforePropEditor){const{classList:t}=this._beforePropEditor;t&&r.classList.remove(...t)}r.style.font=t.font||"16px sans-serif";const{element:l,rect:c}=t.getAttachCellArea(o,n);r.style.top=c.top.toFixed()+"px",r.style.left=c.left.toFixed()+"px",r.style.width=c.width.toFixed()+"px",r.style.height=c.height.toFixed()+"px",l.appendChild(r),a(e,0,r),r.value=s,this._activeData={grid:t,col:o,row:n,editor:e},this._beforePropEditor=e,i.tryWithOffEvents(r,"blur",()=>{(()=>{r.focus();const t=r.value.length;try{if(void 0!==r.selectionStart)return r.selectionStart=t,void(r.selectionEnd=t)}catch(t){}if(document.selection){const e=r.createTextRange();e.collapse(),e.moveEnd("character",t),e.moveStart("character",t),e.select()}})()})}detach(t){if(this._isActive()){const{grid:e,col:o,row:n}=this._activeData,s=this._input;this._handler.tryWithOffEvents(s,"blur",()=>{s.parentElement.removeChild(s)}),e.invalidateCell(o,n),t&&e.focus()}this._activeData=null}doChangeValue(){if(!this._isActive())return;const t=this._input,{value:e}=t,{grid:o,col:n,row:s}=this._activeData;o.doChangeValue(n,s,()=>e)}_isActive(){const t=this._input;return!(!t||!t.parentElement||!this._activeData)}_bindInputEvents(){const t=this._handler,e=this._input,o=t=>t.stopPropagation();t.on(e,"click",o),t.on(e,"mousedown",o),t.on(e,"touchstart",o),t.on(e,"dblclick",o),t.on(e,"compositionstart",t=>{e.classList.add("composition")}),t.on(e,"compositionend",t=>{e.classList.remove("composition")}),t.on(e,"keydown",t=>{if(!e.classList.contains("composition")&&n(t)===l){if(!this._isActive())return;const{grid:e}=this._activeData;this.doChangeValue(),e&&e.focus(),this.detach(),s(t)}}),t.on(e,"blur",t=>{this.doChangeValue(),this.detach()})}}},function(t,e,o){var n=o(76);"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o(7)(n,s);n.locals&&(t.exports=n.locals)},function(t,e,o){(t.exports=o(6)(!1)).push([t.i,".cheetah-grid__inline-input::-ms-clear{visibility:hidden}.cheetah-grid__inline-input{position:absolute;box-sizing:border-box}",""])},function(t,e,o){"use strict";(function(e){const{obj:{setReadonly:n}}=o(0),{normalize:s}=o(34),r=o(14),{EVENT_TYPE:{SELECTED_CELL:i,CLICK_CELL:l,KEYDOWN:c,SCROLL:a,MOUSEOVER_CELL:h,MOUSEOUT_CELL:u,MOUSEMOVE_CELL:d}}=o(4),f=o(78),{INLINE_MENU_EDITOR_STATE_ID:g}=o(1);let p=null,_=0;function w(t){p&&p.detach(t)}const m=13,C=113;class x extends r{constructor(t={}){super(t),this._classList=t.classList,this._options=s(t.options)}dispose(){}get classList(){return this._classList&&(e(this._classList)?this._classList:[this._classList])}set classList(t){this._classList=t}get options(){return this._options}set options(t){this._options=s(t)}clone(){return new x(this)}onChangeDisabledInternal(){w(!0)}onChangeReadOnlyInternal(){w(!0)}bindGridEvent(t,e,o){const s=e=>{this.readOnly||this.disabled||t.doGetCellValue(e.col,e.row,o=>{!function(t,e,o,s){t[g]||n(t,g,{}),p||(p=new f);const r=t[g];r.element||(r.element=p,_++,t.addDisposable({dispose(){--_||(p.dispose(),p=null)}})),p.attach(t,o,e.col,e.row,s)}(t,e,this,o)})};return[t.listen(l,t=>{o.isTarget(t.col,t.row)&&s({col:t.col,row:t.row})}),t.listen(c,(e,n)=>{if(e!==C&&e!==m)return;const r=t.selection.select;o.isTarget(r.col,r.row)&&s({col:r.col,row:r.row})}),t.listen(i,t=>{w()}),t.listen(a,()=>{w(!0)}),t.listen(h,e=>{this.readOnly||this.disabled||o.isTarget(e.col,e.row)&&(t.getElement().style.cursor="pointer")}),t.listen(d,e=>{this.readOnly||this.disabled||o.isTarget(e.col,e.row)&&(t.getElement().style.cursor||(t.getElement().style.cursor="pointer"))}),t.listen(u,e=>{o.isTarget(e.col,e.row)&&(t.getElement().style.cursor="")})]}}t.exports=x}).call(this,o(2).Array_isArray)},function(t,e,o){"use strict";(function(e){const{isDef:n,event:{getKeyCode:s,cancel:r}}=o(0),i=o(5),{createElement:l,appendHtml:c,empty:a,disableFocus:h,isFocusable:u,findPrevSiblingFocusable:d,findNextSiblingFocusable:f}=o(15),g=9,p=13,_=38,w=40,m=27,C="cheetah-grid__inline-menu",x=C+"__menu-item",b=C+"--hidden",y=C+"--shown",v=x+"--empty";function E(t){let e=t;for(;!e.classList.contains(x);)if(!(e=e.parentElement)||e.classList.contains(C))return;return e}function L(t,e,o){o.style.top=e.top.toFixed()+"px",o.style.left=e.left.toFixed()+"px",o.style.width=e.width.toFixed()+"px",o.style["line-height"]=e.height.toFixed()+"px",t.appendChild(o)}function I(t,o,s,r,i,h){const{options:u,classList:d}=o;h.classList.remove(y),h.classList.add(b),a(h),h.style.font=t.font||"16px sans-serif";let f=null,g=null;u.forEach((t,o)=>{const s=function({classList:t,caption:o,value:s,html:r},i){const a=l("li",{classList:x});if(a.tabIndex=0,a.dataset.valueindex=i,t&&a.classList.add(...e(t)?t:[t]),o){const t=l("span",{text:o});a.appendChild(t)}else r&&c(a,r);return""!==s&&n(s)||a.classList.add(v),a}(t,o);h.appendChild(s),t.value===i&&(g=s,s.dataset.select=!0),s.classList.contains(v)&&(f=s)});const p=g||f||h.children[0];d&&h.classList.add(...d);const _=Array.prototype.slice.call(h.children,0),w=_.indexOf(p),{element:m,rect:C}=t.getAttachCellArea(s,r);C.width++,L(m,C,h);let E=0,I=0;for(let t=0;t<_.length;t++){const e=_[t].offsetHeight;t<w&&(E+=e),I+=e}C.offsetTop(-E),h.style["transform-origin"]=`center ${E+Math.ceil(_[w].offsetHeight/2)}px 0px`,L(m,C,h);const S=h.getBoundingClientRect(),R=(I-S.height)/2,T=S.top-R;let A=T;const M=A+I,B=window.innerHeight;if(M>B-20){A-=M-B+20}A<20&&(A=20),A!==T&&(C.offsetTop(-(T-A)),L(m,C,h)),p&&p.focus(),h.classList.remove(b),h.classList.add(y)}t.exports=class{constructor(){this._handler=new i,this._menu=(o(79),l("ul",{classList:C})),this._bindMenuEvents()}dispose(){const t=this._menu;this.detach(),this._handler.dispose(),this._menu=null,this._beforePropEditor=null,t.parentElement&&t.parentElement.removeChild(t)}attach(t,e,o,n,s){const r=this._menu;if(this._beforePropEditor){const{classList:t}=this._beforePropEditor;t&&r.classList.remove(...t)}I(t,e,o,n,s,r),this._activeData={grid:t,col:o,row:n,editor:e},this._beforePropEditor=e}detach(t){if(this._isActive()){const{grid:o,col:n,row:s}=this._activeData;(e=this._menu).classList.remove(y),e.classList.add(b),h(e),o.invalidateCell(n,s),t&&o.focus()}var e;this._activeData=null}_doChangeValue(t){if(!this._isActive())return;const{grid:e,col:o,row:n,editor:s}=this._activeData,{value:r}=s.options[t];e.doChangeValue(o,n,()=>r)}_isActive(){const t=this._menu;return!(!t||!t.parentElement||!this._activeData)}_bindMenuEvents(){const t=this._handler,e=this._menu,o=t=>t.stopPropagation();t.on(e,"mousedown",o),t.on(e,"touchstart",o),t.on(e,"dblclick",o),t.on(e,"click",t=>{t.stopPropagation();const e=E(t.target);e&&(e.dataset.valueindex,this._doChangeValue(e.dataset.valueindex),this.detach(!0))}),t.on(e,"keydown",t=>{const o=E(t.target);if(!o)return;const n=s(t);if(n===p){const e=o.dataset.valueindex;this._doChangeValue(e),this.detach(!0),r(t)}else if(n===m)this.detach(!0),r(t);else if(n===_){const e=d(o);e&&(e.focus(),r(t))}else if(n===w){const e=f(o);e&&(e.focus(),r(t))}else if(n===g)if(t.shiftKey){if(!d(o)){const o=e.querySelectorAll("."+x);let n=o[o.length-1];u(n)||(n=d(n)),n&&(n.focus(),r(t))}}else if(!f(o)){let o=e.querySelector("."+x);u(o)||(o=f(o)),o&&(o.focus(),r(t))}})}}}).call(this,o(2).Array_isArray)},function(t,e,o){var n=o(80);"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o(7)(n,s);n.locals&&(t.exports=n.locals)},function(t,e,o){(t.exports=o(6)(!1)).push([t.i,'.cheetah-grid__inline-menu{position:absolute;color:rgba(0,0,0,.87);box-sizing:content-box;margin:-1px auto auto -1px;padding:8px 0;background-color:#fafafa;list-style-type:none;border-radius:2px;max-height:calc(100vh - 40px);overflow-y:auto}.cheetah-grid__inline-menu--hidden{transform:scale(.9);box-shadow:none;opacity:0;pointer-events:none;transition:all 50ms ease-out}.cheetah-grid__inline-menu--hidden *{pointer-events:none}.cheetah-grid__inline-menu--shown{transform:translateY(-7px);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);opacity:1;transition:all .15s ease-out}.cheetah-grid__inline-menu__menu-item{height:100%;box-sizing:border-box;display:flex;align-items:center;justify-content:flex-start;outline:none;cursor:pointer;position:relative;overflow:hidden;padding:0 16px}.cheetah-grid__inline-menu__menu-item--empty{color:rgba(0,0,0,.38)}.cheetah-grid__inline-menu__menu-item:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background-color:#000;opacity:0;pointer-events:none;transition:opacity 15ms linear}.cheetah-grid__inline-menu__menu-item:hover:before,.cheetah-grid__inline-menu__menu-item[data-select]:before{opacity:.04}.cheetah-grid__inline-menu__menu-item:focus:before{opacity:.12}',""])},function(t,e,o){"use strict";{const e=o(10),n=o(82),s=o(83),r=o(84),i=o(85),l=o(87),c=o(88),a=o(89),h=o(91),u=o(25),d={TYPES:{DEFAULT:new e,NUMBER:new n,CHECK:new s,BUTTON:new r,IMAGE:new i,MULTILINETEXT:new u},get Column(){return e},get NumberColumn(){return n},get CheckColumn(){return s},get ButtonColumn(){return r},get ImageColumn(){return i},get PercentCompleteBarColumn(){return l},get IconColumn(){return c},get BranchGraphColumn(){return a},get MenuColumn(){return h},get MultilineTextColumn(){return u},of:t=>t?"string"==typeof t?d.TYPES[t.toUpperCase()]||d.of(null):t:d.TYPES.DEFAULT};t.exports=d}},function(t,e,o){"use strict";{const e=o(10),n=o(36);let s;class r extends e{static get defaultFotmat(){return s||(s=new Intl.NumberFormat)}static set defaultFotmat(t){s=t}constructor(t={}){super(t),this._format=t.format}get StyleClass(){return n}clone(){return new r(this)}get format(){return this._format}withFormat(t){const e=this.clone();return e._format=t,e}convertInternal(t){if(isNaN(t-0))return t;return(this._format||r.defaultFotmat).format(t-0)}}t.exports=r}},function(t,e,o){"use strict";{const e=o(11),n=o(37),{CHECK_COLUMN_STATE_ID:s}=o(1);class r extends e{get StyleClass(){return n}clone(){return new r(this)}convertInternal(t){return function(t){if("string"==typeof t){if("false"===t)return!1;if("off"===t)return!1;if(t.match(/^0+$/))return!1}return t}(t)}drawInternal(t,e,o,n,r,{drawCellBase:i}){const{textAlign:l,textBaseline:c,borderColor:a,checkBgColor:h,uncheckBgColor:u,bgColor:d}=o;d&&i({bgColor:d});const{col:f,row:g}=e,p=f+":"+g,_=r[s]&&r[s][p],w={textAlign:l,textBaseline:c,borderColor:a,checkBgColor:h,uncheckBgColor:u};_&&(w.animElapsedTime=_.elapsed),n.checkbox(t,e,w)}bindGridEvent(t,e,o){return[]}}t.exports=r}},function(t,e,o){"use strict";{const e=o(10),n=o(38),{BUTTON_COLUMN_STATE_ID:s}=o(1),r=o(21);class i extends e{constructor(t={}){super(t),this._caption=t.caption}get StyleClass(){return n}get caption(){return this._caption}withCaption(t){const e=this.clone();return e._caption=t,e}clone(){return new i(this)}convertInternal(t){return this._caption||t}drawInternal(t,e,o,n,i,{drawCellBase:l,getIcon:c}){const{textAlign:a,textBaseline:h,bgColor:u,color:d,buttonBgColor:f,font:g,padding:p}=o;u&&l({bgColor:u}),n.testFontLoad(g,t,e);const{col:_,row:w}=e;let m=!1;const C=i[s];C&&(C.mouseActiveCell&&C.mouseActiveCell.col===_&&C.mouseActiveCell.row===w?m=!0:e.getSelectState().selected&&(m=!0)),r.loadIcons(c(),e,n,(e,o)=>{n.button(t,o,{textAlign:a,textBaseline:h,bgColor:f,color:d,font:g,padding:p,shadow:!m||{color:"rgba(0, 0, 0, 0.48)",blur:6,offsetY:3},icons:e})})}}t.exports=i}},function(t,e,o){"use strict";{const e=o(39),{getCacheOrLoad:n}=o(42),{calcStartPosition:s}=o(9),r=o(11),i=50;class l extends r{get StyleClass(){return e}onDrawCell(t,e,o,s){return super.onDrawCell(n("ImageColumn",i,t),e,o,s)}clone(){return new l(this)}drawInternal(t,e,o,n,r,{drawCellBase:i}){if(t){const{textAlign:r,textBaseline:l,margin:c,bgColor:a}=o;a&&i({bgColor:a}),n.drawWithClip(e,n=>{n.textAlign=r,n.textBaseline=l;const i=e.getRect();if("keep-aspect-ratio"===o.imageSizing){const{width:e,height:o}=function(t,e,o,n){let s=t,r=e;return s>o&&(r=(s=o)*e/t),r>n&&(s=(r=n)*t/e),{width:s,height:r}}(t.width,t.height,i.width-2*c,i.height-2*c),r=s(n,i,e,o,{offset:c});n.drawImage(t,0,0,t.width,t.height,r.x,r.y,e,o)}else n.drawImage(t,0,0,t.width,t.height,i.left+c,i.top+c,i.width-2*c,i.height-2*c)})}}}t.exports=l}},function(t,e,o){"use strict";t.exports=class{constructor(t){this._list=[],this._map={},this._cacheSize=t||50}get(t){const e=this._map[t];if(e){const e=this._list.indexOf(t);this._list.splice(e,1),this._list.push(t)}return e}put(t,e){if(this._map[t]){const e=this._list.indexOf(t);this._list.splice(e,1)}if(this._map[t]=e,this._list.push(t),this._list.length>this._cacheSize){const t=this._list.shift();delete this._map[t]}}}},function(t,e,o){"use strict";{const e=o(41),{getOrApply:n,str:s}=o(0),r=o(10),i=2;class l extends r{constructor(t={}){super(t),this._min=t.min||0,this._max=t.max||this._min+100,this._formatter=t.formatter||(t=>t)}get StyleClass(){return e}clone(){return new l(this)}drawInternal(t,e,o,r,l,c){super.drawInternal(this._formatter(t),e,o,r,l,c);const{barColor:a,barBgColor:h,barHeight:u}=o;let d=t+"";s.endsWith(d,"%")&&(d=d.substr(0,d.length-1));const f=d-0,g=f<this._min?0:f>this._max?1:(f-this._min)/(this._max-this._min);r.drawWithClip(e,t=>{const o=e.getRect(),s=o.width-2*i-1,r=o.bottom-i-u-1,l=o.left+i;t.fillStyle=n(h,100*g)||"#f0f3f5",t.beginPath(),t.rect(l,r,s,u),t.fill();const c=Math.min(s*g,s);t.fillStyle=n(a,100*g)||"#20a8d8",t.beginPath(),t.rect(l,r,c,u),t.fill()})}}t.exports=l}},function(t,e,o){"use strict";{const e=o(40),n=o(10),s=o(22);class r extends n{constructor(t={}){super(t),this._tagName=t.tagName||"i",this._className=t.className,this._content=t.content,this._name=t.name,this._iconWidth=t.iconWidth}get StyleClass(){return e}clone(){return new r(this)}drawInternal(t,e,o,n,r,i){const l=t-0;if(isNaN(l))i.getIcon=(()=>null);else{const t={};s.iconPropKeys.forEach(e=>{t[e]=o[e]}),t.className=this._className,t.tagName=this._tagName,t.content=this._content,t.name=this._name,this._iconWidth&&(t.width=this._iconWidth),i.getIcon=(()=>(function(t,e){e===1/0&&(e=0);const o=[];for(let n=0;n<e;n++)o.push(t);return o})(t,l))}super.drawInternal("",e,o,n,r,i)}}t.exports=r}},function(t,e,o){"use strict";(function(e){const{isDef:n,getOrApply:s,isPromise:r,obj:{isObject:i}}=o(0),l=o(90),c=o(11),{BRANCH_GRAPH_COLUMN_STATE_ID:a}=o(1);class h{constructor({fromIndex:t,toIndex:e,colorIndex:o,point:n}){this.fromIndex=t,this.toIndex=e,this.colorIndex=o,this.point=n}}class u{constructor({index:t,commit:e=!1,lines:o=[],tag:n}){this.index=t,this.commit=e,this.lines=o,this.tag=n}static mergeLines(t){const e=t.filter(t=>n(t.fromIndex)&&n(t.toIndex)),o=t.filter(t=>n(t.fromIndex)&&!n(t.toIndex)),s=t.filter(t=>!n(t.fromIndex)&&n(t.toIndex));return o.forEach(t=>{for(let e=0;e<s.length;e++){const o=s[e];if(!o.point&&t.colorIndex===o.colorIndex){t.toIndex=o.toIndex,s.splice(e,1);break}}e.push(t)}),e.concat(s)}static merge(t,e){return t?new u({index:t.index,commit:t.commit||e.commit,lines:u.mergeLines(t.lines.concat(e.lines)),tag:t.tag||e.tag}):e}}function d(t,e){const o=[...t].reverse();for(let t=0;t<o.length;t++){const n=o[t][e];if(n){n.lines=u.mergeLines(n.lines.concat([new h({toIndex:e,colorIndex:e})]));for(let n=0;n<t;n++){o[n][e]=new u({index:e,lines:[new h({fromIndex:e,toIndex:e,colorIndex:e})]})}return!0}}return!1}function f(t,o){const{timeline:n}=t,s=[];(e(o)?o:[o]).forEach(e=>{if(!e)return;let o;if("branch"===e.command){const n=i(e.branch)?e.branch.from:null,s=i(e.branch)?e.branch.to:e.branch;o=function({timeline:t,branches:e},o,n){const s=e.indexOf(o);let r=e.indexOf(n);if(r<0&&(r=e.length,e.push(n)),s<0)return new u({index:r});{const e=function(){for(let e=t.length-1;e>=0;e--){const o=t[e][s];if(o&&o.commit)return e}return-1}();if(-1===e)return null;const o=e+1,n=new u({index:r,lines:[new h({fromIndex:s,colorIndex:r})]});let i,l;if(o<t.length){const e=t[o];i=e[r]=u.merge(e[r],n)}else i=n,l=n;const c=t[e][s];return c.lines=u.mergeLines(c.lines.concat([new h({toIndex:r,colorIndex:r,point:i})])),l}}(t,n,s)}else if("commit"===e.command){const{branch:n}=e;o=function({timeline:t,branches:e},o){const n=e.indexOf(o);if(n<0)return null;const s=new u({index:n,commit:!0});return d(t,n)&&(s.lines=u.mergeLines(s.lines.concat([new h({fromIndex:n,colorIndex:n})]))),s}(t,n)}else if("merge"===e.command){const{from:n,to:s}=e.branch;o=function({timeline:t,branches:e},o,n){const s=e.indexOf(o),r=e.indexOf(n);if(r<0||s<0)return new u({index:r,commit:!0});const i=new u({index:r,commit:!0,lines:[new h({fromIndex:s,colorIndex:s}),new h({fromIndex:r,colorIndex:r})]}),l=[...t],c=l.pop();return c&&(c[s]=u.merge(c[s],new u({index:r,lines:[new h({toIndex:r,colorIndex:s})]}))),d(l,s),d(t,r),i}(t,n,s)}else if("tag"===e.command){const{branch:n,tag:s}=e;o=function({timeline:t,branches:e},o,n){let s=e.indexOf(o);return s<0&&(s=e.length,e.push(o)),new u({index:s,tag:n})}(t,n,s)}o&&o.index>-1&&(s[o.index]=u.merge(s[o.index],o))}),n.push(s)}function g(t,e,o){const n={branches:[],timeline:[]};return function(t,e,o){const n=t.dataSource;let s=t.getField(e);i(s)&&s.get&&s.set&&(s=s.get);const l=[];let c;for(let t=0;t<n.length;t++){const e=n.getField(t,s);if(r(e)){const t=l.length;l.push(e),c=c?c.then(()=>e).then(e=>{l[t]=e}):e.then(e=>{l[t]=e})}else l.push(e)}c?c.then(()=>o(l)):o(l)}(e,o,e=>{"top"!==t&&(e=[...e].reverse()),e.forEach(t=>{f(n,t)})}),n}class p extends c{constructor(t={}){super(t),this._start=t.start||"bottom",this._cache=!!n(t.cache)&&t.cache}get StyleClass(){return l}clearCache(t){delete t[a]}onDrawCell(t,e,o,n){if(this._cache){const t=n[a]||(n[a]={}),{col:e}=o;t[e]||(t[e]=g(this._start,n,e))}return super.onDrawCell(t,e,o,n)}clone(){return new p(this)}drawInternal(t,e,o,r,i,{drawCellBase:l}){const{col:c,row:h}=e,{timeline:u,branches:d}=this._cache&&i[a]?i[a][c]:g(this._start,i,c),{upLineIndexKey:f,downLineIndexKey:p}="top"!==this._start?{upLineIndexKey:"toIndex",downLineIndexKey:"fromIndex"}:{upLineIndexKey:"fromIndex",downLineIndexKey:"toIndex"},_="top"!==this._start?u[u.length-(h-i.frozenRowCount)-1]:u[h-i.frozenRowCount],{branchColors:w,branchLineWidth:m,circleSize:C,mergeStyle:x,margin:b,bgColor:y}=o;y&&l({bgColor:y});const v=e.getRect(),E=C/2,L=v.width-2*b;r.drawWithClip(e,t=>{t.textAlign="left",t.textBaseline="middle";const e=function(t,e,o,n,s,r){let i=Math.max(o/s.length+1,5);r.forEach(e=>{e.forEach((e,s)=>{if(!(s<=0)&&e.tag){const r=t.measureText(e.tag).width;i*s+2*n+4+r>o&&(i=Math.max((o-2*n-4-r)/s,5))}})});const l=[];let c=e;return s.forEach(()=>{l.push(Math.ceil(c+n)),c+=i}),l}(t,v.left+b,L,E,d,u),o=v.top+v.height/2;_.map((t,e)=>t?t.lines.map(t=>({colorIndex:t.colorIndex,upLineIndex:t[f],downLineIndex:t[p],pointIndex:e})):[]).reduce((t,e)=>t.concat(e),[]).sort((t,e)=>e.colorIndex-t.colorIndex).forEach(r=>{const l=e[r.pointIndex];!function(t,e,o,r,i,l,c,{branchXPoints:a,margin:h,branchColors:u,branchLineWidth:d,mergeStyle:f},{width:g,col:p,row:_,branches:w}){if(n(i)||n(l)){if(e.strokeStyle=s(u,w[c],c),e.lineWidth=d,e.lineCap="round",e.beginPath(),n(i)){const n=a[i],s=t.getCellRelativeRect(p,_-1),l=s.top+s.height/2;e.moveTo(n,l),"bezier"===f?e.bezierCurveTo(n,(r+l)/2,o,(r+l)/2,o,r):e.lineTo(o,r)}else e.moveTo(o,r);if(n(l)){const n=a[l],s=t.getCellRelativeRect(p,_+1),i=s.top+s.height/2;"bezier"===f?e.bezierCurveTo(o,(r+i)/2,n,(r+i)/2,n,i):e.lineTo(n,i)}e.stroke()}}(i,t,l,o,r.upLineIndex,r.downLineIndex,r.colorIndex,{margin:b,branchXPoints:e,branchLineWidth:m,branchColors:w,mergeStyle:x},{width:L,col:c,row:h,branches:d})}),_.forEach((n,r)=>{if(n&&n.commit){const n=e[r];t.fillStyle=s(w,d[r],r),t.beginPath(),t.arc(n,o,E,0,2*Math.PI,!0),t.fill(),t.closePath()}}),_.forEach((n,r)=>{n&&n.tag&&(t.fillStyle=s(w,d[r],r),t.fillText(n.tag,e[r]+E+4,o))})})}}t.exports=p}).call(this,o(2).Array_isArray)},function(t,e,o){"use strict";const n=o(20);let s;const r=(t,e)=>{switch(e%3){case 0:return"#979797";case 1:return"#008fb5";case 2:return"#f1c109"}return"#979797"};class i extends n{static get DEFAULT(){return s||(s=new i)}constructor(t={}){super(function(t){const{textAlign:e="center"}=t;return t.textAlign=e,t}(t)),this._branchColors=t.branchColors||r,this._margin=t.margin||4,this._circleSize=t.circleSize||16,this._branchLineWidth=t.branchLineWidth||4,this._mergeStyle="straight"===t.mergeStyle?"straight":"bezier"}get branchColors(){return this._branchColors}set branchColors(t){this._branchColors=t,this.doChangeStyle()}get margin(){return this._margin}set margin(t){this._margin=t,this.doChangeStyle()}get circleSize(){return this._circleSize}set circleSize(t){this._circleSize=t,this.doChangeStyle()}get branchLineWidth(){return this._branchLineWidth}set branchLineWidth(t){this._branchLineWidth=t,this.doChangeStyle()}get mergeStyle(){return this._mergeStyle}set mergeStyle(t){this._mergeStyle=t,this.doChangeStyle()}clone(){return new i(this)}}t.exports=i},function(t,e,o){"use strict";{const{normalize:e}=o(34),{isDef:n}=o(0),s=o(11),r=o(3),i=o(21);class l extends s{constructor(t={}){super(t),this._options=e(t.options)}get StyleClass(){return r}clone(){return new l(this)}get options(){return this._options}withOptions(t){const o=this.clone();return o._options=e(t),o}drawInternal(t,e,o,s,r,{drawCellBase:l,getIcon:c}){const{textAlign:a,textBaseline:h,font:u,bgColor:d,padding:f}=o;let{color:g}=o;d&&l({bgColor:d});const p=this._convertInternal(t);s.testFontLoad(u,p,e),i.loadIcons(c(),e,s,(e,o)=>{const r=s.toBoxPixelArray(f||0,o),i=r.slice(0);i[1]+=26;const l=r.slice(0);l[1]+=8,n(g)||n(t)&&""!==t||(g="rgba(0, 0, 0, .38)"),s.text(p,o,{textAlign:a,textBaseline:h,color:g,font:u,icons:e,padding:i}),s.text("",o,{textAlign:"right",textBaseline:h,color:g,font:u,icons:[{path:"M0 2 5 7 10 2z",width:10,color:"rgba(0, 0, 0, .54)"}],padding:l})})}convertInternal(t){return t}_convertInternal(t){const e=this._options;for(let o=0;o<e.length;o++){const n=e[o];if(n.value===t){t=n.caption;break}}return super.convertInternal(t)}}t.exports=l}},function(t,e,o){"use strict";{const{getChainSafe:e}=o(0),s=o(43);function n(t,o,n,s){return e(t,...n)||s&&e(t,...s)||e(o,...n)}t.exports={create:t=>(function t(e={},o=s){return{get font(){return n(e,o,["font"])},get underlayBackgroundColor(){return n(e,o,["underlayBackgroundColor"])},get color(){return n(e,o,["color"])},get frozenRowsColor(){return n(e,o,["frozenRowsColor"],["color"])},get defaultBgColor(){return n(e,o,["defaultBgColor"])},get frozenRowsBgColor(){return n(e,o,["frozenRowsBgColor"],["defaultBgColor"])},get selectionBgColor(){return n(e,o,["selectionBgColor"],["defaultBgColor"])},get borderColor(){return n(e,o,["borderColor"])},get frozenRowsBorderColor(){return n(e,o,["frozenRowsBorderColor"],["borderColor"])},get hiliteBorderColor(){return n(e,o,["hiliteBorderColor"],["borderColor"])},get checkbox(){return this._checkbox||(this._checkbox={get uncheckBgColor(){return n(e,o,["checkbox","uncheckBgColor"],["defaultBgColor"])},get checkBgColor(){return n(e,o,["checkbox","checkBgColor"],["defaultBgColor"])},get borderColor(){return n(e,o,["checkbox","borderColor"],["borderColor"])}})},get button(){return this._button||(this._button={get color(){return n(e,o,["button","color"],["color"])},get bgColor(){return n(e,o,["button","bgColor"],["defaultBgColor"])}})},extends(e){return t(e,this)}}})(t)}}},function(t,e,o){"use strict";const n={};t.exports={color:"#000",defaultBgColor:function(t){const{row:e,grid:{frozenRowCount:o}}=t;return e-o&1?"#F6F6F6":"#FFF"},frozenRowsBgColor:function(t){const{col:e,grid:o,grid:{frozenRowCount:s},context:r}=t,{left:i,top:l}=o.getCellRelativeRect(e,0),{bottom:c}=o.getCellRelativeRect(e,s-1);return function(t,e,o,s,r,i){let l;const c=[];for(l in i)c.push(`${l}@${i[l]}`);const a=`${e}/${o}/${s}/${r}/${c.join(",")}`,h=n[a];if(h)return h;const u=t.createLinearGradient(e,o,e,r);for(l in i)u.addColorStop(l,i[l]);return n[a]=u}(r,i,l,i,c,{0:"#FFF",1:"#D3D3D3"})},hiliteBorderColor:"#5E9ED6",selectionBgColor:"#CCE0FF",borderColor:"#000",checkbox:{uncheckBgColor:"#FFF",checkBgColor:"rgb(76, 73, 72)"},button:{color:"#FFF",bgColor:"#2196F3"},underlayBackgroundColor:"#F6F6F6"}},function(t,e,o){"use strict";{const{getChainSafe:e}=o(0),n=o(46);class s extends n{static get EVENT_TYPE(){return n.EVENT_TYPE}static ofArray(t){return new s({get:e=>t[e],length:t.length})}constructor(t={}){super(t),this._rCache={},this._fCache={}}getOriginal(t){return this._rCache&&this._rCache[t]?this._rCache[t]:super.getOriginal(t)}getOriginalField(t,o){const n=e(this._fCache,t,o);return n||super.getOriginalField(t,o)}setOriginalField(t,e,o){const n=this._fCache;return n&&n[t]&&delete n[t],super.setOriginalField(t,e,o)}clearCache(){this._rCache&&(this._rCache={}),this._fCache&&(this._fCache={})}fieldPromiseCallBackInternal(t,e,o){!function({_fCache:t},e,o,n){(t[e]||(t[e]={}))[o]=n}(this,t,e,o)}recordPromiseCallBackInternal(t,e){this._rCache[t]=e}dispose(){super.dispose()}}t.exports=s}},function(t,e,o){"use strict";(function(e){{const{isDef:p,isPromise:_,then:w,obj:{isObject:m}}=o(0),C=o(48),x=o(29),{BaseStyle:b}=x.style,y=o(113),{BaseStyle:v}=o(16),E=o(4),{DataSource:L,CachedDataSource:I}=o(45),S=o(23),R=o(22),T=o(117),A=o(56),{PROTECTED_SYMBOL:M}=o(1);let B=0;function n(t,e,o){return t[M].headerMap.getHeaderCellRange(e,o)}function s(t,e,o){if(o<t[M].headerMap.rowCount)return t[M].headerMap.getCell(e,o).caption;{let{field:n}=t[M].headerMap.columns[e];return m(n)&&n.get&&n.set&&(n=n.get),l(t,n,o)}}function r(t,e,o){if(o<t[M].headerMap.rowCount)return null;{const{message:n}=t[M].headerMap.columns[e];return n?l(t,n,o):null}}function i(t,o,n){if(!p(o))return null;if(e(o))return o.map(e=>i(t,e,n));if(!m(o))return l(t,o,n);const s={};return R.iconPropKeys.forEach(e=>{if(o[e]){const r=l(t,o[e],n);p(r)?s[e]=r:function(t,e,o){if(!p(e))return!1;if(o<t[M].headerMap.rowCount)return!1;{const n=g(t,o);return t[M].dataSource.hasField(n,e)}}(t,o[e],n)||(s[e]=o[e])}}),s}function l(t,e,o){if(!p(e))return null;if(o<t[M].headerMap.rowCount)return null;{const n=g(t,o);return t[M].dataSource.getField(n,e)}}function c(t,e,o,{col:n,row:s},l,c){const a=t[M].gridCanvasHelper,h=({bgColor:t}={})=>{const e={fillColor:t};a.fillCellWithState(o,e)},u=()=>{if(o.col===t.frozenColCount-1){const e=o.getRect();a.drawWithClip(o,n=>{const s=o.row>=t.frozenRowCount?a.theme.borderColor:a.theme.frozenRowsBorderColor,r=a.toBoxArray(a.getColor(s,o.col,o.row,n));r[1]&&(n.lineWidth=1,n.strokeStyle=r[1],n.beginPath(),n.moveTo(e.right-2.5,e.top),n.lineTo(e.right-2.5,e.bottom),n.stroke())})}o.row<t[M].headerMap.rowCount?function(t,e,o){const{col:n,row:s}=o,r=t.selection.select;if(r.row>=t[M].headerMap.rowCount)return void e.borderWithState(o);const{id:i}=t[M].headerMap.getCell(n,s),l=o.getRect(),c={},{id:a}=t[M].headerMap.getCell(r.col,r.row);if(a===i)c.borderColor=e.theme.hiliteBorderColor,c.lineWidth=2,e.border(o,c);else{c.lineWidth=1;const i=t.isFrozenCell(n,s);i&&i.row&&(c.borderColor=e.theme.frozenRowsBorderColor),e.border(o,c),n>0&&t[M].headerMap.getCell(n-1,s).id===a?e.drawBorderWithClip(o,t=>{const o=e.toBoxArray(e.getColor(e.theme.hiliteBorderColor,r.col,r.row,t));o[1]&&(t.lineWidth=1,t.strokeStyle=o[1],t.beginPath(),t.moveTo(l.left-.5,l.top),t.lineTo(l.left-.5,l.bottom),t.stroke())}):s>0&&t[M].headerMap.getCell(n,s-1).id===a&&e.drawBorderWithClip(o,t=>{const o=e.toBoxArray(e.getColor(e.theme.hiliteBorderColor,r.col,r.row,t));o[0]&&(t.lineWidth=1,t.strokeStyle=o[0],t.beginPath(),t.moveTo(l.left,l.top-.5),t.lineTo(l.right,l.top-.5),t.stroke())})}}(t,a,o):a.borderWithState(o)};return c(e,{getRecord:()=>t.getRowRecord(s),getIcon:()=>(function(t,e,o){const{icon:n}=t[M].headerMap.columns[e];return i(t,n,o)})(t,n,s),getMessage:()=>r(t,n,s),messageHandler:t[M].messageHandler,style:l,drawCellBase:({bgColor:t}={})=>{h({bgColor:t}),u()},drawCellBg:h,drawCellBorder:u},o,t)}function a(t){t[M].headerEvents&&t[M].headerEvents.forEach(e=>t.unlisten(e)),t[M].headerMap=new D(t[M].header),t[M].headerEvents=[],t[M].headerMap.headerObjects.forEach(e=>{const o=e.headerType.bindGridEvent(t);if(t[M].headerEvents.push(...o),e.style&&e.style instanceof v){const o=e.style.listen(v.EVENT_TYPE.CHANGE_STYLE,()=>{t.invalidate()});t[M].headerEvents.push(o)}}),t[M].headerMap.columns.forEach((e,o)=>{if(e.action){const n=e.action.bindGridEvent(t,o,{isTarget:(e,n)=>o===e&&t.frozenRowCount<=n});t[M].headerEvents.push(...n)}if(e.columnType){const n=e.columnType.bindGridEvent(t,o,{isTarget:(e,n)=>o===e&&t.frozenRowCount<=n});t[M].headerEvents.push(...n)}if(e.style&&e.style instanceof b){const o=e.style.listen(x.style.EVENT_TYPE.CHANGE_STYLE,()=>{t.invalidate()});t[M].headerEvents.push(o)}}),t.colCount=t[M].headerMap.columns.length,h(t),t.frozenRowCount=t[M].headerMap.rowCount;for(let e=0;e<t[M].headerMap.columns.length;e++){const o=t[M].headerMap.columns[e],{width:n,minWidth:s,maxWidth:r}=o;n&&(n>0||"string"==typeof n)&&t.setColWidth(e,n),s&&(s>0||"string"==typeof s)&&t.setMinColWidth(e,s),r&&(r>0||"string"==typeof r)&&t.setMaxColWidth(e,r)}const o=e(t[M].headerRowHeight);for(let e=0;e<t[M].headerMap.rowCount;e++){const n=o?t[M].headerRowHeight[e]:t[M].headerRowHeight;n&&n>0&&t.setRowHeight(e,n)}}function h(t){t.rowCount=t[M].dataSource.length+t[M].headerMap.rowCount}function u(t,e){t[M].dataSourceEventIds&&t[M].dataSourceEventIds.forEach(e=>t[M].handler.off(e)),e(t),t[M].dataSourceEventIds=[t[M].handler.on(t[M].dataSource,L.EVENT_TYPE.UPDATED_LENGTH,()=>{h(t),t.invalidate()}),t[M].handler.on(t[M].dataSource,L.EVENT_TYPE.UPDATED_ORDER,()=>{t.invalidate()})]}function d(t,e=[]){u(t,()=>{t[M].records=e,t[M].dataSource=I.ofArray(t[M].records)})}function f(t,e){u(t,()=>{t[M].dataSource=e?e instanceof L?e:new I(e):L.EMPTY,t[M].records=null})}function g(t,e){return e<t[M].headerMap.rowCount?void 0:e-t[M].headerMap.rowCount}class D{constructor(t){this._columns=[],this._headerCells=[],this._headerObjects=[],this._addHeaders(0,t,[]),this._setupHeaderType()}get columns(){return this._columns}get rowCount(){return this._headerCells.length}get headerObjects(){return this._headerObjects}getCell(t,e){return this._headerCells[e][t]}getHeaderCellRangeById(t){for(let e=0;e<this.rowCount;e++)for(let o=0;o<this.columns.length;o++)if(t===this.getCell(o,e).id)return this.getHeaderCellRange(o,e)}getHeaderCellRange(t,e){const o={startCol:t,startRow:e,endCol:t,endRow:e,isCellInRange(t,e){return this.startCol<=t&&t<=this.endCol&&this.startRow<=e&&e<=this.endRow}},{id:n}=this.getCell(t,e);for(let s=t-1;s>=0&&n===this.getCell(s,e).id;s--)o.startCol=s;for(let s=t+1;s<this.columns.length&&n===this.getCell(s,e).id;s++)o.endCol=s;for(let s=e-1;s>=0&&n===this.getCell(t,s).id;s--)o.startRow=s;for(let s=e+1;s<this.rowCount&&n===this.getCell(t,s).id;s++)o.endRow=s;return o}_addHeaders(t,e,o){const n=this._headerCells[t]||this._newRow(t);e.forEach(e=>{const s=this._columns.length,r={id:B++,caption:e.caption,style:e.headerStyle,sort:e.sort};this._headerObjects.push(r),n[s]=r;for(let e=t-1;e>=0;e--)this._headerCells[e][s]=o[e];if(e.columns)this._addHeaders(t+1,e.columns,[...o,r]);else{this._columns.push({width:e.width,minWidth:e.minWidth,maxWidth:e.maxWidth,field:e.field,icon:e.icon,message:e.message,columnType:x.type.of(e.columnType),action:x.action.of(e.action),style:e.style,define:e});for(let e=t+1;e<this._headerCells.length;e++)this._headerCells[e][s]=r}})}_setupHeaderType(){this._headerObjects.forEach(t=>{t.range=this.getHeaderCellRangeById(t.id),t.headerType=y.create(t)})}_newRow(t){const e=this._headerCells[t]=[];if(!this._columns.length)return e;const o=this._headerCells[t-1];for(let t=0;t<o.length;t++)e[t]=o[t];return e}}class O extends E{static get EVENT_TYPE(){return A}constructor(t={}){super(function(t){return t&&(delete t.frozenRowCount,delete t.colCount,delete t.rowCount),t}(t)),this[M].header=t.header||[],this[M].headerRowHeight=t.headerRowHeight||[],t.dataSource?f(this,t.dataSource):d(this,t.records),a(this),this[M].sortState={col:-1,order:void 0},this[M].gridCanvasHelper=new C(this),this[M].theme=S.of(t.theme),this[M].messageHandler=new T(this,(t,e)=>r(this,t,e)),this.invalidate(),this[M].handler.on(window,"resize",()=>{this.updateSize(),this.updateScroll(),this.invalidate()})}dispose(){this[M].messageHandler.dispose(),super.dispose()}get header(){return this[M].header}set header(t){this[M].header=t,a(this)}get records(){return this[M].records}set records(t){d(this,t),h(this),this.invalidate()}get dataSource(){return this[M].dataSource}set dataSource(t){f(this,t),h(this),this.invalidate()}get theme(){return this[M].theme}set theme(t){this[M].theme=S.of(t),this.invalidate()}get font(){return super.font||this[M].gridCanvasHelper.theme.font}set font(t){super.font=t}get underlayBackgroundColor(){return super.underlayBackgroundColor||this[M].gridCanvasHelper.theme.underlayBackgroundColor}set underlayBackgroundColor(t){super.underlayBackgroundColor=t}get sortState(){return this[M].sortState}set sortState(t){this[M].sortState=t}getField(t){return this[M].headerMap.columns[t].field}getRowRecord(t){return t<this[M].headerMap.rowCount?void 0:this[M].dataSource.get(g(this,t))}getGridCanvasHelper(){return this[M].gridCanvasHelper}getCopyCellValue(t,e){if(e<this[M].headerMap.rowCount){const{startCol:o,startRow:s}=n(this,t,e);if(o!==t||s!==e)return""}return s(this,t,e)}onDrawCell(t,e,o){const r=this[M].headerMap.columns[t];let i,l;if(e<this[M].headerMap.rowCount){const s=this[M].headerMap.getCell(t,e);i=s.headerType.onDrawCell,({style:l}=s),function(t,e,o,s){const r=s.getRect(),{startCol:i,endCol:l,startRow:c,endRow:a}=n(t,e,o);for(let o=e-1;o>=i;o--)r.left-=t.getColWidth(o);for(let o=e+1;o<=l;o++)r.right+=t.getColWidth(o);for(let e=o-1;e>=c;e--)r.top-=t.getRowHeight(e);for(let e=o+1;e<=a;e++)r.bottom+=t.getRowHeight(e);s.setRect(r)}(this,t,e,o)}else i=r.columnType.onDrawCell,({style:l}=r);return c(this,s(this,t,e),o,{col:t,row:e},l,i)}doGetCellValue(t,e,o){if(e<this[M].headerMap.rowCount)return!1;{const n=s(this,t,e);if(_(n))return!1;o(n)}return!0}doChangeValue(t,e,o){if(e<this[M].headerMap.rowCount)return!1;{const n=s(this,t,e);if(_(n))return!1;const r=o(n);return void 0!==r&&w(function(t,e,o,n){if(o<t[M].headerMap.rowCount)return!1;{let{field:s}=t[M].headerMap.columns[e];m(s)&&s.get&&s.set&&(s=s.set);const r=g(t,o),i=t[M].dataSource.setField(r,s,n);return!_(i)||i}}(this,t,e,r),o=>{if(o){const{field:o}=this[M].headerMap.columns[t],n=this;this.fireListeners(A.CHANGED_VALUE,{col:t,row:e,get record(){return n.getRowRecord(e)},field:o,value:r})}return o})}}bindEventsInternal(){this.listen(A.SELECTED_CELL,t=>{if(t.row<this[M].headerMap.rowCount){const{startCol:e,endCol:o,startRow:s,endRow:r}=n(this,t.col,t.row);e===o&&s===r||this.invalidateGridRect(e,s,o,r)}})}getMoveLeftColByKeyDownInternal({col:t,row:e}){if(e<this[M].headerMap.rowCount){const{startCol:o}=n(this,t,e);t=o}return super.getMoveLeftColByKeyDownInternal({col:t,row:e})}getMoveRightColByKeyDownInternal({col:t,row:e}){if(e<this[M].headerMap.rowCount){const{endCol:o}=n(this,t,e);t=o}return super.getMoveRightColByKeyDownInternal({col:t,row:e})}getMoveUpRowByKeyDownInternal({col:t,row:e}){if(e<this[M].headerMap.rowCount){const{startRow:o}=n(this,t,e);e=o}return super.getMoveUpRowByKeyDownInternal({col:t,row:e})}getMoveDownRowByKeyDownInternal({col:t,row:e}){if(e<this[M].headerMap.rowCount){const{endRow:o}=n(this,t,e);e=o}return super.getMoveDownRowByKeyDownInternal({col:t,row:e})}getOffsetInvalidateCells(){return 1}getColumnIndexByField(t){for(const e in this[M].headerMap.columns)if(this[M].headerMap.columns[e].field===t)return e-0;return null}focusGridCell(t,e){const{start:{col:o,row:n},end:{col:s,row:r}}=this.selection.range,i=this.getColumnIndexByField(t),l=e+this[M].headerMap.rowCount;this.focusCell(i,l),this.selection.select={col:i,row:l},this.invalidateGridRect(o,n,s,r),this.invalidateCell(i,l)}makeVisibleGridCell(t,e){this.makeVisibleCell(this.getColumnIndexByField(t),e+this[M].headerMap.rowCount)}}t.exports=O}}).call(this,o(2).Array_isArray)},function(t,e,o){"use strict";(function(e){const n=o(12),s=o(97),r=o(50),i=o(100),l=o(101),c=o(102),{isDef:a}=o(0),{calcStartPosition:h}=o(9),u=o(51),d=o(24);t.exports={iconOf(t){if(t instanceof n)return t;if(!t)return null;if(t.font&&t.content)return new s(t);if(t.src)return new r({src:t.src,width:t.width,height:t.width});if(t.svg)return new i({svg:t.svg,width:t.width,height:t.width});if(t.path)return new c({path:t.path,width:t.width,height:t.width,color:t.color});const e=u.get();if(t.name&&e[t.name]){const o=e[t.name],n=t.width||Math.max(o.width,o.height);return new l({draw({ctx:t,canvashelper:e,rect:s,offset:r,offsetLeft:i,offsetRight:l,offsetTop:c,offsetBottom:a}){!function(t,e,o,n,s,r,i,l,{offset:c=2,padding:a}={}){const u={left:s,top:r,width:i,height:l,right:s+i,bottom:r+l};t.save();try{t.beginPath(),t.rect(u.left,u.top,u.width,u.height),t.clip();const s=h(t,u,o,n,{offset:c,padding:a});d.fill(e,t,s.x,s.y,o,n)}finally{t.restore()}}(t,o,n,n,s.left,s.top,s.width,s.height,{offset:r+1,padding:{left:i,right:l,top:c,bottom:a}})},width:n,height:n,color:t.color})}return new s(t)},of:t=>a(t)?t instanceof n?t:new n(t):null,buildInlines(t,o){const s=[];if(t&&s.push(...t.map(t=>this.iconOf(t)).filter(t=>!!t)),e(o)&&o.filter(t=>t instanceof n).length)s.push(...o.map(t=>this.of(t)).filter(t=>!!t));else{const t=this.of(o);t&&s.push(t)}return s}}}).call(this,o(2).Array_isArray)},function(t,e,o){"use strict";const n=o(12),s=o(49);t.exports=class extends n{constructor(t){super(),this._icon=t||{}}width({ctx:t}){const e=this._icon;if(e.width)return e.width;if(e.font&&s.check(e.font,e.content)){t.save();try{return t.font=e.font||t.font,t.measureText(e.content).width}finally{t.restore()}}return null}font(){return this._icon.font}color(){return this._icon.color}canDraw(){const t=this._icon;return!t.font||s.check(t.font,t.content)}onReady(t){const e=this._icon;e.font&&!s.check(e.font,e.content)&&s.load(e.font,e.content,t)}draw({ctx:t,canvashelper:e,rect:o,offset:n,offsetLeft:s,offsetRight:r,offsetTop:i,offsetBottom:l}){const c=this._icon;c.content&&e.fillTextRect(t,c.content,o.left,o.top,o.width,o.height,{offset:n+1,padding:{left:s,right:r,top:i,bottom:l}})}}},function(t,e,o){"use strict";const n=o(99),s={SERIF:"serif",SANS_SERIF:"sans-serif"},r={};class i{static load(t,e,o,n){const s=r[t]||(r[t]={});let l;(l=s[e+=""]?s[e]:s[e]=new i(t,e)).then(o,n)}constructor(t,e){this.activeCallbacks=[],this.inactiveCallbacks=[],this.status=null,this.lastResortWidths_={},this.fontRulerA_=new n(t+","+s.SERIF,e),this.fontRulerB_=new n(t+","+s.SANS_SERIF,e);const o=new n("4px "+s.SERIF,e),r=new n("4px "+s.SANS_SERIF,e);this.lastResortWidths_[s.SERIF]=o.getWidth(),this.lastResortWidths_[s.SANS_SERIF]=r.getWidth(),o.remove(),r.remove(),this.started_=Date.now(),this.check_()}then(t,e){this.status?"ng"!==this.status?t():e():(this.activeCallbacks.push(t),this.inactiveCallbacks.push(e))}check_(){const t=this.fontRulerA_.getWidth(),e=this.fontRulerB_.getWidth();this.isFallbackFont_(t,e)||this.isLastResortFont_(t,e)?Date.now()-this.started_>=3e3?this.isLastResortFont_(t,e)?(this.finish_(this.activeCallbacks),this.status="ok"):(this.finish_(this.inactiveCallbacks),this.status="ng"):setTimeout(()=>{this.check_()},50):(this.finish_(this.activeCallbacks),this.status="ok")}isFallbackFont_(t,e){return this.widthMatches_(t,s.SERIF)&&this.widthMatches_(e,s.SANS_SERIF)}widthsMatchLastResortWidths_(t,e){for(const o in s)if(s.hasOwnProperty(o)&&this.widthMatches_(t,s[o])&&this.widthMatches_(e,s[o]))return!0;return!1}widthMatches_(t,e){return t===this.lastResortWidths_[e]}isLastResortFont_(t,e){return function(){if(null===l){const t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);l=!!t&&(parseInt(t[1],10)<536||536===parseInt(t[1],10)&&parseInt(t[2],10)<=11)}return l}()&&this.widthsMatchLastResortWidths_(t,e)}finish_(t){setTimeout(()=>{this.fontRulerA_.remove(),this.fontRulerB_.remove(),t.forEach(t=>t())},0)}}let l=null;t.exports=i},function(t,e,o){"use strict";t.exports=class{constructor(t,e){const o=document.createElement("span");o.setAttribute("aria-hidden","true"),o.textContent=e||"BESbswy",function(t){return[{display:"block",position:"absolute",top:"-9999px",left:"-9999px",width:"auto",height:"auto",margin:"0",padding:"0","white-space":"nowrap",font:t},{"font-variant":"normal","font-size":"300px","font-style":"normal","font-weight":"400","line-height":"normal"}]}(t).forEach(t=>{for(const e in t)o.style[e]=t[e]}),document.body.appendChild(o),this.el_=o}getWidth(){return this.el_.offsetWidth}remove(){document.body.removeChild(this.el_)}}},function(t,e,o){"use strict";const n=o(50),{then:s}=o(0);function r(t){const e="string"==typeof t?t:(new XMLSerializer).serializeToString(t);return"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(e)}function i(t){if("string"==typeof t){return(new DOMParser).parseFromString(t,"image/svg+xml")}return t}t.exports=class extends n{constructor({svg:t,width:e,height:o,imageLeft:n,imageTop:l,imageWidth:c,imageHeight:a}){const h=s(t,i),u=h.getAttribute?h.getAttribute("width"):null,d=h.getAttribute?h.getAttribute("height"):null;super({src:s(t,r),width:e||u,height:o||d,imageWidth:u,imageHeight:d})}}},function(t,e,o){"use strict";const n=o(12);t.exports=class extends n{constructor({draw:t,width:e,height:o,color:n}){super(),this._draw=t,this._width=e,this._height=o,this._color=n}width({ctx:t}){return this._width}font(){return null}color(){return this._color}canDraw(){return!0}onReady(t){}draw({ctx:t,canvashelper:e,rect:o,offset:n,offsetLeft:s,offsetRight:r,offsetTop:i,offsetBottom:l}){this._draw({ctx:t,canvashelper:e,rect:o,offset:n,offsetLeft:s,offsetRight:r,offsetTop:i,offsetBottom:l})}}},function(t,e,o){"use strict";const n=o(12),{calcStartPosition:s}=o(9),r=o(24);t.exports=class extends n{constructor({path:t,width:e,height:o,color:n}){super(),this._path=new r.Path2D(t),this._width=e,this._height=o,this._color=n}width({ctx:t}){return this._width}font(){return null}color(){return this._color}canDraw(){return!0}onReady(t){}draw({ctx:t,canvashelper:e,rect:o,offset:n,offsetLeft:r,offsetRight:i,offsetTop:l,offsetBottom:c}){n++;const a={left:r,right:i,top:l,bottom:c};t.save();try{t.beginPath(),t.rect(o.left,o.top,o.width,o.height),t.clip();const e=s(t,o,this._width,this._height,{offset:n,padding:a});t.translate(e.x,e.y),t.fill(this._path)}finally{t.restore()}}}},function(t,e,o){"use strict";const n=new(o(104));class s{constructor(t){if(this._ops=[],["closePath","moveTo","lineTo","bezierCurveTo","quadraticCurveTo","arc","rect"].forEach(t=>{this[t]=((...e)=>{this._ops.push({op:t,args:e})})}),void 0!==t)if("string"==typeof t)try{this._ops=n.parse(t)}catch(t){throw t}else{if(!t.hasOwnProperty("_ops"))throw new Error(`Error: ${typeof t} is not a valid argument to Path`);this._ops=[...this._ops]}}}const r=window.CanvasRenderingContext2D,i=r.prototype.fill;r.prototype.fill=function(...t){if(t[0]instanceof s){const e=t[0];this.beginPath(),e._ops.forEach(t=>{this[t.op](...t.args)}),i.apply(this,Array.prototype.slice.call(t,1))}else i.apply(this,t)},t.exports=s},function(t,e,o){"use strict";const n=o(105);function s(t,e,o){return"M"===e.toUpperCase()||"L"===e.toUpperCase()||"T"===e.toUpperCase()?(t.command(e,o.next(),o.next()),"M"===e?"L":"m"===e?"l":e):"H"===e.toUpperCase()||"V"===e.toUpperCase()?(t.command(e,o.next()),e):"Z"===e.toUpperCase()?(t.command(e),e):"C"===e.toUpperCase()?(t.command(e,o.next(),o.next(),o.next(),o.next(),o.next(),o.next()),e):"S"===e.toUpperCase()||"Q"===e.toUpperCase()?(t.command(e,o.next(),o.next(),o.next(),o.next()),e):"A"===e.toUpperCase()?(t.command(e,o.next(),o.next(),o.next(),o.next(),o.next(),o.next(),o.next()),e):(console.warn("unsupported:"+e),null)}const r=window.CanvasRenderingContext2D?Object.keys(window.CanvasRenderingContext2D.prototype):["save","restore","beginPath","closePath","moveTo","lineTo","bezierCurveTo","quadraticCurveTo","arc","arcTo","ellipse","rect","translate","rotate","scale"];t.exports=class{constructor(){this._commands=new n(this),r.forEach(t=>{this[t]=((...e)=>{this._ops.push({op:t,args:e})})})}command(t,...e){e=e||[];for(let t=0;t<e.length;t++)e[t]=e[t]-0;this._commands[t](...e)}parse(t){const e=this._ops=[],o=function(t){let e=0;return{next(){let o="";for(;t.length>e;){const n=t[e];if(e++," ,\n\r\t".indexOf(n)>-1){if(o)return o}else{if("str"==(".+-1234567890".indexOf(n)>-1?"num":"str"))return o?(e--,o):n;if("-+".indexOf(n)>-1&&o)return e--,o;if("."===n&&o.indexOf(".")>-1)return e--,o;o+=n}}return o||null}}}(t);try{let e,n;for(;e=o.next();)if(isNaN(e-0))n=s(this,e,o);else{let t=!0;n=s(this,n,{next:()=>t?(t=!1,e):o.next()})}}catch(e){throw console.log("Error: "+t),e}return e}}},function(t,e,o){"use strict";function n(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))}function s(t,e){let o=1;return t[0]*e[1]-t[1]*e[0]<0&&(o=-1),o*Math.acos((s=function(t,e){return function(t,e){return t[0]*e[0]+t[1]*e[1]}(t,e)/(n(t)*n(e))}(t,e),Math.min(Math.max(s,r),i)),-1,1);var s,r,i}function r(t,e,o,n,r,i,l,c,a,h){if(0===n||0===r)return void t.lineTo(a,e);i*=Math.PI/180,n=Math.abs(n),r=Math.abs(r);const u=function(t,e){const o=Math.cos(e),n=Math.sin(e);return[o*t[0]+n*t[1],-1*n*t[0]+o*t[1]]}((f=a,[((d=e)[0]-f[0])/2,(d[1]-f[1])/2]),i);var d,f;const g=function(t,e){return[t[0]*e[0],t[1]*e[1]]}(u,u);let p=Math.pow(n,2),_=Math.pow(r,2);const w=Math.sqrt(g[0]/p+g[1]/_);w>1&&(n*=w,r*=w,p=Math.pow(n,2),_=Math.pow(r,2));let m=Math.sqrt(Math.abs(p*_-p*g[1]-_*g[0])/(p*g[1]+_*g[0]));l===c&&(m*=-1);const C=function(t,e){return[t*e[0],t*e[1]]}(m,[n*u[1]/r,-r*u[0]/n]),x=function(t,e){return[t[0]+e[0],t[1]+e[1]]}(function(t,e){const o=Math.cos(e),n=Math.sin(e);return[o*t[0]-n*t[1],n*t[0]+o*t[1]]}(C,i),function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}(e,a)),b=[(u[0]-C[0])/n,(u[1]-C[1])/r],y=[(-1*u[0]-C[0])/n,(-1*u[1]-C[1])/r],v=s([1,0],b),E=v,L=v+s(b,y);t.save(),t.translate(x[0],x[1]),t.rotate(i),t.scale(n,r),t.arc(0,0,1,E,L,1-c),t.restore()}t.exports=class{constructor(t){let e,o,n,s=0,i=0,l="";function c(){return"CcSsQqTt".indexOf(l)<0?{x:s,y:i}:n}this.M=((n,r)=>(t.moveTo(n,r),e=n,o=r,s=n,i=r,l="M",this)),this.m=((t,e)=>this.M(t+s,e+i)),this.L=((e,o)=>(t.lineTo(e,o),s=e,i=o,l="L",this)),this.l=((t,e)=>this.L(t+s,e+i)),this.H=(t=>this.L(t,i)),this.h=(t=>this.H(t+s)),this.V=(t=>this.L(s,t)),this.v=(t=>this.V(t+i)),this.Z=(()=>(t.closePath(),s=e,i=o,l="Z",this)),this.z=(()=>this.Z()),this.C=((e,o,r,c,a,h)=>(t.bezierCurveTo(e,o,r,c,a,h),s=a,i=h,n={x:2*a-r,y:2*h-c},l="C",this)),this.c=((t,e,o,n,r,l)=>this.C(t+s,e+i,o+s,n+i,r+s,l+i)),this.S=((t,e,o,n)=>{const{x:s,y:r}=c();return this.C(s,r,t,e,o,n)}),this.s=((t,e,o,n)=>this.S(t+s,e+i,o+s,n+i)),this.Q=((e,o,r,c)=>(t.quadraticCurveTo(e,o,r,c),s=r,i=c,n={x:2*r-e,y:2*c-o},l="Q",this)),this.q=((t,e,o,n)=>this.Q(t+s,e+i,o+s,n+i)),this.T=((t,e)=>{const{x:o,y:n}=c();return this.Q(o,n,t,e)}),this.t=((t,e)=>this.T(t+s,e+i)),this.A=((e,o,n,c,a,h,u)=>(r(t,s,0,e,o,n,c,a,h),s=h,i=u,l="A",this)),this.a=((t,e,o,n,r,l,c)=>this.A(t,e,o,n,r,l+s,c+i))}}},function(t,e){t.exports={d:"M8 24l2.83 2.83L22 15.66V40h4V15.66l11.17 11.17L40 24 24 8 8 24z",width:48,height:48}},function(t,e){t.exports={d:"M40 24l-2.82-2.82L26 32.34V8h-4v24.34L10.84 21.16 8 24l16 16 16-16z",width:48,height:48}},function(t,e){t.exports={d:"M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z",width:48,height:48}},function(t,e){t.exports={d:"M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z",width:48,height:48}},function(t,e){t.exports={d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z",width:24,height:24}},function(t,e){t.exports={d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z",width:24,height:24}},function(t,e){t.exports={d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z",width:24,height:24}},function(t,e,o){"use strict";{const e=o(114),n=o(116),s={create:t=>t.sort?new n(t):new e(t)};t.exports=s}},function(t,e,o){"use strict";{const e=o(16),{Style:n}=e,s=o(55);class r extends s{get StyleClass(){return n}drawInternal(t,e,o,n,s,{drawCellBase:r}){const{textAlign:i,textBaseline:l,color:c,font:a,bgColor:h}=o;h&&r({bgColor:h}),n.text(t,e,{textAlign:i,textBaseline:l,color:c,font:a})}bindGridEvent(t){return[]}}t.exports=r}},function(t,e,o){"use strict";{const e=o(54);let n;class s extends e{static get DEFAULT(){return n||(n=new s)}constructor(t={}){super(t),this._color=t.color}get color(){return this._color}set color(t){this._color=t,this.doChangeStyle()}clone(){return new s(this)}}t.exports=s}},function(t,e,o){"use strict";{const e=o(16),{Style:n}=e,s=o(55),{isDef:r}=o(0),{EVENT_TYPE:{CLICK_CELL:i,MOUSEOVER_CELL:l,MOUSEOUT_CELL:c,MOUSEMOVE_CELL:a}}=o(4);class h extends s{constructor(t){super(t),this._sort=t.sort,this._range=t.range}get StyleClass(){return n}drawInternal(t,e,o,n,s,{drawCellBase:i}){const{textAlign:l,textBaseline:c="middle",color:a,bgColor:h,font:u}=o;h&&i({bgColor:h});const d=s.sortState;let f=void 0;this._range.isCellInRange(d.col,this._range.startRow)&&(f=d.order);const g=1.2*e.getContext().measureText("ã‚").width;n.text(t,e,{textAlign:l,textBaseline:c,color:a,font:u,icons:[{name:r(f)?"asc"===f?"arrow_downward":"arrow_upward":null,width:g,color:"rgba(0, 0, 0, 0.38)"}]})}_executeSort(t,e){"function"==typeof this._sort?this._sort(t.order,t.col,e):e.dataSource.sort(e.getField(t.col),t.order)}bindGridEvent(t){return[t.listen(i,e=>{if(!this._range.isCellInRange(e.col,e.row))return;const o=t.sortState;let n;n=this._range.isCellInRange(o.col,e.row)?{col:this._range.startCol,order:"asc"===o.order?"desc":"asc"}:{col:this._range.startCol,order:"asc"},t.sortState=n,this._executeSort(n,t),t.invalidateGridRect(0,0,t.colCount-1,t.rowCount-1)}),t.listen(l,e=>{this._range.isCellInRange(e.col,e.row)&&(t.getElement().style.cursor="pointer")}),t.listen(a,e=>{this._range.isCellInRange(e.col,e.row)&&(t.getElement().style.cursor||(t.getElement().style.cursor="pointer"))}),t.listen(c,e=>{this._range.isCellInRange(e.col,e.row)&&(t.getElement().style.cursor="")})]}}t.exports=h}},function(t,e,o){"use strict";const{isPromise:n}=o(0),{SELECTED_CELL:s,SCROLL:r,CHANGED_VALUE:i}=o(56),l=o(118),c=o(124),a=o(128);t.exports=class{constructor(t,e){this._grid=t,this._messageInstances={},this._bindGridEvent(t,e)}dispose(){const t=this._messageInstances;for(const e in t)t[e].dispose();this._messageInstances=null}drawCellMessage(t,e,o,s,r){t&&!n(t)&&this._getMessageInstanceOfMessage(t).drawCellMessage(t,e,o,s,r)}_attach(t,e,o){const n=this._attachInfo,s=this._getMessageInstanceOfMessage(o);n&&n.instance!==s&&n.instance.detachMessageElement(),s.attachMessageElement(t,e,this._toMessageText(o)),this._attachInfo={col:t,row:e,instance:s}}_move(t,e){const o=this._attachInfo;if(!o||o.col!==t||o.row!==e)return;const{instance:n}=o;n.moveMessageElement(t,e)}_detach(){const t=this._attachInfo;if(!t)return;const{instance:e}=t;e.detachMessageElement(),this._attachInfo=null}_bindGridEvent(t,e){const o=t=>{const o=e(t.col,t.row);!o||n(o)?this._detach():this._attach(t.col,t.row,o)};t.listen(s,t=>{t.selected&&(t.before.col===t.col&&t.before.row===t.row||o(t))}),t.listen(r,()=>{const e=t.selection.select;this._move(e.col,e.row)}),t.listen(i,e=>{const n=t.selection.select;n.col===e.col&&n.row===e.row&&o(e)})}_getMessageInstanceOfMessage(t){if("string"==typeof(t=t||""))return this._createMessageInstance("error",l);const e=(""+t.type).toLowerCase();return"info"===e?this._createMessageInstance("info",a):"warning"===e?this._createMessageInstance("warning",c):this._createMessageInstance("error",l)}_toMessageText(t){return"string"==typeof(t=t||"")?t:t.message?t.message:""+t}_createMessageInstance(t,e){const o=this._messageInstances;return o[t]||(o[t]=new e(this._grid))}}},function(t,e,o){"use strict";const n=o(8),s=o(130),r=o(119),i="#ff8a80";t.exports=class extends s{createMessageElementInternal(){return new r}drawCellMessageInternal(t,e,o,s,r){const{bgColor:l}=o,{selected:c}=e.getSelectState(),a=e.getRect();s.drawBorderWithClip(e,t=>{if(!c){t.fillStyle=i;const o=a.copy();o.left=o.right-24,t.fillRect(o.left,o.top,o.width,o.height-1);const r=l,c=20,h=c/5,u=o.left+(o.width-h)/2,d=o.top+(o.height-c)/2;s.fillRectWithState(new n(u,d,h,c/5*3),e,{fillColor:r}),s.fillRectWithState(new n(u,d+c/5*4,h,c/5),e,{fillColor:r})}})}}},function(t,e,o){"use strict";const n=o(131),s="cheetah-grid__error-message-element",r=s+"__message";t.exports=class extends n{constructor(){super(),o(122),this._rootElement.classList.add(s),this._messageElement.classList.add(r)}}},function(t,e,o){var n=o(121);"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o(7)(n,s);n.locals&&(t.exports=n.locals)},function(t,e,o){(t.exports=o(6)(!1)).push([t.i,".cheetah-grid__message-element{position:absolute;margin-top:-2px;box-sizing:border-box;border-radius:0 0 3px 3px;background-color:hsla(0,0%,98%,.85);padding:8px 2px;pointer-events:none;user-select:none}.cheetah-grid__message-element--hidden{opacity:0;display:none}.cheetah-grid__message-element__message{font-family:Roboto;font-size:12px;font-size:.75rem;min-height:1em;line-height:1;display:block;width:100%}.cheetah-grid__message-element{border-top:1px solid rgba(0,0,0,.87);color:rgba(0,0,0,.87)}.cheetah-grid__message-element.helper-text--right-justified{text-align:right}",""])},function(t,e,o){var n=o(123);"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o(7)(n,s);n.locals&&(t.exports=n.locals)},function(t,e,o){(t.exports=o(6)(!1)).push([t.i,".cheetah-grid__error-message-element{border-top:1px solid #ff1744;color:#ff1744}",""])},function(t,e,o){"use strict";const n=o(8),s=o(130),r=o(125),i="#ff9e80";t.exports=class extends s{createMessageElementInternal(){return new r}drawCellMessageInternal(t,e,o,s,r){const{bgColor:l}=o,{selected:c}=e.getSelectState(),a=e.getRect();s.drawBorderWithClip(e,t=>{if(!c){t.fillStyle=i;const o=a.copy();o.left=o.right-24,t.fillRect(o.left,o.top,o.width,o.height-1);const r=l,c=20,h=c/5,u=o.left+(o.width-h)/2,d=o.top+(o.height-c)/2;s.fillRectWithState(new n(u,d,h,c/5*3),e,{fillColor:r}),s.fillRectWithState(new n(u,d+c/5*4,h,c/5),e,{fillColor:r})}})}}},function(t,e,o){"use strict";const n=o(131),s="cheetah-grid__warning-message-element",r=s+"__message";t.exports=class extends n{constructor(){super(),o(126),this._rootElement.classList.add(s),this._messageElement.classList.add(r)}}},function(t,e,o){var n=o(127);"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o(7)(n,s);n.locals&&(t.exports=n.locals)},function(t,e,o){(t.exports=o(6)(!1)).push([t.i,".cheetah-grid__warning-message-element{border-top:1px solid #dd2c00;color:#dd2c00}",""])},function(t,e,o){"use strict";const n=o(130),s=o(131),r=o(8),i="#e0e0e0";t.exports=class extends n{createMessageElementInternal(){return new s}drawCellMessageInternal(t,e,o,n,s){const{bgColor:l}=o,{selected:c}=e.getSelectState(),a=e.getRect();n.drawBorderWithClip(e,t=>{if(!c){t.fillStyle=i;const o=a.copy();o.left=o.right-24,t.fillRect(o.left,o.top,o.width,o.height-1);const s=l,c=20,h=c/5,u=o.left+(o.width-h)/2,d=o.top+(o.height-c)/2;n.fillRectWithState(new r(u,d,h,c/5),e,{fillColor:s}),n.fillRectWithState(new r(u,d+c/5*2,h,c/5*3),e,{fillColor:s})}})}}},function(t,e,o){"use strict";const n=o(44),s=o(52);function r(t,e,o){if(o){const n=t[e];return t[e]=o,n}return t[e]}t.exports={theme:(t,e)=>r(n,t,e),icon:(t,e)=>r(s,t,e),icons(t){!function(t,e){for(const o in e)t[o]=e[o]}(s,t)}}},function(t,e,o){"use strict";t.exports=class{constructor(t){this._grid=t}dispose(){this.detachMessageElement(),this._messageElement&&this._messageElement.dispose(),this._messageElement=null}_getMessageElement(){return this._messageElement||(this._messageElement=this.createMessageElementInternal())}createMessageElementInternal(){}drawCellMessageInternal(t,e,o,n,s){}attachMessageElement(t,e,o){this._getMessageElement().attach(this._grid,t,e,o)}moveMessageElement(t,e){this._getMessageElement().move(this._grid,t,e)}detachMessageElement(){this._getMessageElement()._detach()}drawCellMessage(t,e,o,n,s){this.drawCellMessageInternal(t,e,o,n,s)}}},function(t,e,o){"use strict";const n=o(5),{createElement:s}=o(15),r="cheetah-grid__message-element",i=r+"__message",l=r+"--hidden",c=r+"--shown";t.exports=class{constructor(){this._handler=new n;const t=this._rootElement=function(){o(120);const t=s("div",{classList:[r,l]}),e=s("span",{classList:[i]});return t.appendChild(e),t}();this._messageElement=t.querySelector(`.${i}`)}dispose(){this.detach(),this._handler.dispose(),this._rootElement=null,this._messageElement=null}attach(t,e,o,n){const s=this._rootElement,r=this._messageElement;s.classList.remove(c),s.classList.add(l),this._attachCell(t,e,o)?(s.classList.add(c),s.classList.remove(l),r.textContent=n):this._detach()}move(t,e,o){const n=this._rootElement;this._attachCell(t,e,o)?(n.classList.add(c),n.classList.remove(l)):this._detach()}detach(){this._detach()}_detach(){const t=this._rootElement;t.parentElement&&(t.parentElement.removeChild(t),t.classList.remove(c),t.classList.add(l))}_attachCell(t,e,o){const n=this._rootElement,{element:s,rect:r}=t.getAttachCellArea(e,o),{bottom:i,left:l,width:c}=r,{frozenRowCount:a,frozenColCount:h}=t;if(o>=a&&a>0){const{rect:o}=t.getAttachCellArea(e,a-1);if(i<o.bottom)return!1}else if(i<0)return!1;if(e>=h&&h>0){const{rect:e}=t.getAttachCellArea(h-1,o);if(l<e.right)return!1}else if(l<0)return!1;const{offsetHeight:u,offsetWidth:d}=s;return!(u<i||d<l||(n.style.top=i.toFixed()+"px",n.style.left=l.toFixed()+"px",n.style.width=c.toFixed()+"px",n.parentElement!==s&&s.appendChild(n),0))}}}])});
//# sourceMappingURL=cheetahGrid.min.js.map